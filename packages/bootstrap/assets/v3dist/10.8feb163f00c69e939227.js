(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1461:function(e,t,r){"use strict";var n=r(20);r(12),r(5),r(11),r(6),r(18),r(16),r(9),r(13),r(10),r(4),r(23),r(17),r(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(12),r(45),r(5),r(11),r(6),r(18),r(28),r(42),r(16),r(34),r(15),r(9),r(13),r(10),r(4),r(22),r(23),r(57),r(17),r(7);var a=n(r(43)),o=n(r(30));r(41);var u,c=n(r(44)),i=n(r(36)),l=n(r(37)),s=n(r(55)),f=n(r(56)),d=n(r(51)),p=n(r(49)),m=r(14),h=n(r(26)),g=n(r(105)),y=n(r(120));function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var O=(u=function(e){(0,s.default)(o,e);var t,r,n=b(o);function o(){var e;(0,i.default)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).roleTemplatesDetail=new y.default,e}return(0,l.default)(o,[{key:"fetchDetail",value:(r=(0,c.default)(a.default.mark((function e(t){var r,n,o,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,n=t.group,o=t.name,this.isLoading=!0,e.next=4,request.get("".concat(this.getDetailUrl({cluster:r,name:n}),"/roles/").concat(o));case 4:return u=e.sent,c=E({cluster:r,group:n,name:o},this.mapper(u)),this.detail=c,this.isLoading=!1,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchRoleTemplatesToDetail",value:(t=(0,c.default)(a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,n=t.group,this.roleTemplatesDetail.isLoading=!0,e.next=4,request.get("".concat(this.getDetailUrl({cluster:r,name:n}),"/roles?labelSelector=iam.kubesphere.io/role-template=true"));case 4:o=e.sent,this.roleTemplatesDetail.update({data:(0,h.default)(o,"items",[]).map(this.mapper),total:o.totalItems||o.total_count||0,isLoading:!1});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"edgeNodeMapper",get:function(){return g.default.nodegrouproles}},{key:"apiVersion",get:function(){return"/kapis/iam.kubesphere.io/v1alpha2"}},{key:"mapper",get:function(){return g.default.roles}}]),o}(n(r(852)).default),(0,p.default)(u.prototype,"fetchDetail",[m.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchDetail"),u.prototype),(0,p.default)(u.prototype,"fetchRoleTemplatesToDetail",[m.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchRoleTemplatesToDetail"),u.prototype),u);t.default=O},5263:function(e,t,r){"use strict";r(15);var n=r(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(317),o=n(r(2002)),u=n(r(2e3)),c=n(r(5264)),i=n(r(5266)),l=n(r(5268)),s=n(r(5269)),f=n(r(5278)),d=n(r(5280)),p=n(r(5281)),m=n(r(5283)),h=n(r(5284)),g="/node-groups/clusters/:cluster/:group",y=[{path:"/list",component:i.default,exact:!0},{path:"".concat(g,"/edgeippool/:name"),component:u.default,exact:!0},{path:g,component:l.default,routes:[{path:"".concat(g,"/roles/:name"),component:p.default},{component:s.default,routes:[{path:"".concat(g,"/nodes"),component:f.default,exact:!0},{path:"".concat(g,"/projects"),component:c.default,exact:!0},{path:"".concat(g,"/roles"),component:d.default,exact:!0},{path:"".concat(g,"/members"),component:m.default,exact:!0},{path:"".concat(g,"/base-info"),component:h.default},{path:"".concat(g,"/edgeippool"),component:o.default,exact:!0},(0,a.getIndexRoute)({path:g,to:"".concat(g,"/nodes"),exact:!0})]}]}];t.default=y},5264:function(e,r,n){"use strict";var a=n(20),o=n(157);n(12),n(109),n(5),n(11),n(31),n(6),n(84),n(18),n(16),n(9),n(13),n(10),n(4),n(316),n(23),n(24),n(17),n(85),n(62),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(109),n(45),n(5),n(11),n(31),n(6),n(84),n(18),n(28),n(42),n(16),n(34),n(15),n(9),n(13),n(10),n(4),n(316),n(22),n(23),n(57),n(24),n(17),n(85),n(62),n(7);var u=a(n(315)),c=a(n(43)),i=a(n(30)),l=a(n(58));n(41);var s,f=a(n(44)),d=a(n(36)),p=a(n(37)),m=a(n(55)),h=a(n(56)),g=a(n(51)),y=a(n(0)),v=a(n(26)),E=a(n(1023)),b=n(186),O=a(n(788)),_=a(n(795)),D=a(n(792)),S=a(n(796)),k=o(n(793)),P=n(52),R=n(794),w=a(n(852)),C=a(n(1197)),N=n(1195),T=a(n(5265));function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,h.default)(this,r)}}var I={active:"RUNNING"},x=(0,k.default)({store:new w.default,name:"PROJECT",module:"projects",authKey:"nodegroups",skipAuth:!0})(s=function(e){(0,m.default)(n,e);var r=M(n);function n(){var e;(0,d.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).monitoringStore=new C.default,e.getData=(0,f.default)(c.default.mark((function t(){var r,n,a,o,u,i=arguments;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>0&&void 0!==i[0]?i[0]:{},n=r.silent,a=(0,l.default)(r,["silent"]),o=e.props.match.params.group,u=e.props.store,n&&(u.list.silent=!0),t.next=6,u.fetchChildResource(A(A({},a),{},{kind:"namespaces",cluster:e.cluster,group:o}));case 6:return t.next=8,e.monitoringStore.fetchMetrics({cluster:e.cluster,resources:u.list.data.map((function(e){return e.name})),metrics:Object.values((0,P.hideGPUByLicense)(N.MetricTypes,e.cluster)),last:!0});case 8:u.list.silent=!1;case 9:case"end":return t.stop()}}),t)}))),e.getLastValue=function(t,r){var n=e.monitoringStore.data,a=((0,v.default)(n,"".concat(r,".data.result"))||[]).find((function(e){return(0,v.default)(e,"metric.namespace")===t.name}));return(0,v.default)(a,"value[1]",0)},e.getColumns=function(){var r=e.props.getSortOrder,n=[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:r("name"),render:function(e,t){return y.default.createElement(O.default,{icon:"project",iconSize:40,isMultiCluster:t.isFedHostNamespace,desc:t.description||"-",title:(0,P.getDisplayName)(t),noLink:!0})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,width:"12.7%",render:function(e){return(0,v.default)(I,e)?y.default.createElement(_.default,{type:e,name:t(e.toUpperCase()),flicker:!0}):"-"}},{title:t("WORKSPACE"),dataIndex:"workspace",isHideable:!0,width:"20.9%",render:function(e,t){return(0,v.default)(t,'labels["kubesphere.io/workspace"]',"-")}},{title:t("CPU_USAGE"),key:"namespace_cpu_usage",isHideable:!0,width:"12.7%",render:function(t){return(0,R.getSuitableValue)(e.getLastValue(t,N.MetricTypes.cpu),"cpu","-")}},{title:t("MEMORY_USAGE"),key:"namespace_memory_usage_wo_cache",isHideable:!0,width:"12.7%",render:function(t){return(0,R.getSuitableValue)(e.getLastValue(t,N.MetricTypes.memory),"memory","-")}},{title:t("GPU_USAGE"),key:"namespace_gpu_usage",isHideable:!0,width:"12.7%",render:function(t){return(0,R.getSuitableValue)(e.getLastValue(t,N.MetricTypes.gpu),"gpu","-")}},{title:t("GPU_MEMORY_USAGE"),key:"namespace_gpu_memory_usage",isHideable:!0,width:"12.7%",render:function(t){return(0,R.getSuitableValue)(e.getLastValue(t,N.MetricTypes.gpu_memory),"memory","-")}},{title:t("POD_PL"),key:"namespace_pod_count",isHideable:!0,width:"12.7%",render:function(t){return e.getLastValue(t,N.MetricTypes.pod)}},{title:"",key:"opt",width:"7%",render:function(t,r){return y.default.createElement(b.Button,{type:"flat",className:T.default.button,onClick:function(){return e.unBoundNamespace(r)}},y.default.createElement("img",{src:"/assets/subtract_circle.svg",style:{width:"16px"}}))}}];return(0,E.default)(e.enabledActions)>0&&e.enabledActions.includes("delete")?n:n.filter((function(e){return"opt"!==e.key}))},e.showAction=function(e){return!e.isFedManaged},e.showCreate=function(){return e.props.trigger("node.group.bound.project",A(A({},e.props.match.params),{},{cluster:e.cluster,success:function(){return e.getData()}}))},e.unBoundNamespace=function(t){e.props.trigger("node.group.unbound.namespace",{group:e.group,cluster:e.cluster,namespace:t.name,resource:[t.name],success:e.getData})},e}return(0,p.default)(n,[{key:"render",value:function(){var e=this.props,r=e.bannerProps,n=e.tableProps;return y.default.createElement(k.ListPage,(0,u.default)({},this.props,{getData:this.getData,noWatch:!0}),y.default.createElement(D.default,r),y.default.createElement(S.default,(0,u.default)({},n,{columns:this.getColumns(),itemActions:this.itemActions,tableActions:this.tableActions,onCreate:this.showCreate,createText:t("BOUND"),emptyProps:{icon:"edge-node",title:t("NODE_GROUP_PROJECT_EMPTY"),action:y.default.createElement(b.Button,{type:"control",onClick:this.showCreate},t("BOUND"))},searchType:"name"})))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"group",get:function(){return this.props.match.params.group}},{key:"enabledActions",get:function(){return globals.app.getActions(A(A({},this.props.match.params),{},{nodegroup:this.group,module:"nodegroups"}))}},{key:"itemActions",get:function(){return[]}},{key:"tableActions",get:function(){var e=this,r=this.props,n=r.tableProps,a=r.trigger;return A(A({},n.tableActions),{},{onFetch:this.getData,selectActions:[{key:"delete",type:"danger",text:t("DELETE"),action:"delete",onClick:function(){return a("node.group.unbound.namespace",{group:e.group,cluster:e.cluster,success:e.getData})}}]})}}]),n}(y.default.Component))||s;r.default=x},5265:function(e,t,r){e.exports={button:"_2eJpr5daHMfi_8vGini6fn"}},5266:function(e,r,n){"use strict";var a=n(20);n(12),n(5),n(11),n(31),n(6),n(84),n(73),n(18),n(16),n(9),n(13),n(10),n(4),n(23),n(24),n(17),n(85),n(62),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(45),n(5),n(11),n(31),n(6),n(84),n(160),n(73),n(18),n(28),n(191),n(42),n(16),n(159),n(34),n(15),n(9),n(13),n(10),n(4),n(22),n(23),n(57),n(24),n(17),n(85),n(62),n(7);var o=a(n(43));n(41);var u,c=a(n(44)),i=a(n(30)),l=a(n(61)),s=a(n(36)),f=a(n(37)),d=a(n(55)),p=a(n(56)),m=a(n(51)),h=a(n(0)),g=n(14),y=n(239),v=a(n(26)),E=a(n(63)),b=a(n(189)),O=a(n(446)),_=a(n(854)),D=n(186),S=n(52),k=n(791),P=a(n(105)),R=a(n(852)),w=a(n(1400)),C=a(n(792)),N=a(n(833)),T=a(n(874)),j=a(n(886)),A=a(n(915)),M=a(n(5267));function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var U="edge_cluster_overview_hide_columns",G=(0,y.inject)("rootStore")(u=(0,y.observer)(u=(0,k.trigger)(u=function(e){(0,d.default)(n,e);var r=L(n);function n(e){var t;(0,s.default)(this,n),(t=r.call(this,e)).initData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.fetchData(e)},t.getClusterParamsLabel=function(e,t){var r=t?"cluster-role.kubesphere.io/host=":"!cluster-role.kubesphere.io/host",n=e.group,a=e.tags,o=void 0===a?[]:a;return n&&(n="cluster.kubesphere.io/group=".concat(n)),o=Array.isArray(o)?o.map((function(e){return"label.cluster.kubesphere.io/".concat(e)})):"cluster.kubesphere.io/group=".concat(o),[n].concat((0,l.default)(o),[r]).filter(Boolean).join(",")},t.getParamsLabel=function(e){var t=e.group;return t&&(t="cluster.edgewize.io/group=".concat(t)),[t,"!cluster-role.edgewize.io/host"].filter(Boolean).join(",")},t.fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.store.fetchList(x(x({},(0,b.default)(e,"group","tags","__index")),{},{cluster:t.props.match.params.cluster,limit:e.limit||10,labelSelector:"apps.edgewize.io/namespace-default"}))},t.handlePagination=function(e){t.fetchData(e)},t.handleRefresh=function(){t.fetchData({page:1})},t.handleSearch=function(e){t.fetchData(e),t.fetchHostData(e)},t.enterNodeGroupCluster=function(){var e=(0,c.default)(o.default.mark((function e(r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.routing.push("/v2/edgewize/clusters/".concat(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.showAddNodeGroup=function(){t.trigger("node.group.create",{})},t.getItemActions=function(){return[].filter((function(e){return e.show}))},t.handleReset=function(){t.initData(t.state.filters)},t.clearFilter=function(){t.setState({filters:{}}),t.initData()},t.handleColumnsHide=function(e){t.setState({hideColumns:e},(function(){var e=(0,S.safeParseJSON)(localStorage.getItem("hide-columns"),{});e[U]=t.state.hideColumns,localStorage.setItem("hide-columns",JSON.stringify(e))}))},t.handleFilterChange=function(e){t.setState({filters:e}),t.handleSearch(e)};var a=(0,v.default)((0,S.safeParseJSON)(localStorage.getItem("hide-columns"),{}),U,[]);return t.store=new R.default,t.state={filters:{},hideColumns:a},t}return(0,f.default)(n,[{key:"componentDidMount",value:function(){this.initData()}},{key:"componentWillUnmount",value:function(){this.disposer&&this.disposer()}},{key:"initWebsocket",value:function(){var e=this,t=(0,S.getHostClusterName)();this.websocket.watch("/kapis/infra.edgewize.io/v1alpha1/edgeclusters/host/apis/infra.edgewize.io/v1alpha1/watch/clusters"),this.fetchData=(0,_.default)(this.fetchData,500),this.disposer=(0,g.reaction)((function(){return e.websocket.message}),(function(r){if("Cluster"===r.object.kind){var n=P.default.clusters(r.object);"MODIFIED"===r.type&&e.store.list.updateItem(n),"ADDED"!==r.type||n.name===t||(0,g.toJS)(e.store.list.data).find((function(e){return e.name===n.name}))||e.store.list.addItem(n),"DELETED"===r.type&&e.store.list.deleteItem(n)}}))}},{key:"renderListDataNotFound",value:function(){return h.default.createElement(T.default,{icon:"exclamation",title:t("NO_MATCHING_RESULT_FOUND"),desc:null,action:h.default.createElement("p",null,t("YOU_CAN_TRY_TO"),h.default.createElement("span",{className:M.default.emptyAction,onClick:this.handleReset,"data-test":"table-empty-refresh"},t("REFRESH_DATA")),t("OR"),h.default.createElement("span",{className:M.default.emptyAction,onClick:this.clearFilter,"data-test":"table-empty-clear-filter"},t("CLEAR_SEARCH_CONDITIONS")))})}},{key:"renderEmptyList",value:function(){return h.default.createElement(N.default,{icon:"cluster",title:t("NO_CLUSTER_TIP"),desc:t("NO_CLUSTER_TIP_DESC"),actions:null})}},{key:"renderList",value:function(){var e=this,t=this.store.list,r=t.data,n=t.page,a=t.total,o=t.limit,u=this.state.hideColumns,c=(0,O.default)(r,(function(e){return e.expiredDay}));return(0,E.default)(r)?(0,E.default)(this.state.filters)?this.renderEmptyList():this.renderListDataNotFound():h.default.createElement("ul",{className:M.default.cards},!(0,E.default)(c)&&h.default.createElement("div",null,c.map((function(t){return h.default.createElement(w.default,{isEdgeWize:!0,key:t.name,data:t,onEnter:e.enterEdgewizeCluster,isOperation:e.isOperation,itemActions:e.getItemActions(t),hideColumns:u})})),h.default.createElement("div",{className:"text-right margin-t12"},h.default.createElement(j.default,{page:n,total:a,limit:o,onChange:this.handlePagination}))))}},{key:"renderSearch",value:function(){return h.default.createElement("div",{className:M.default.searchPanel},h.default.createElement(A.default,{placeholder:t("SEARCH_BY_NAME"),columns:this.filterColumns,onChange:this.handleFilterChange,filters:this.state.filters}),h.default.createElement(D.Button,{type:"flat",icon:"refresh",onClick:this.handleRefresh,"data-test":"cluster-refresh"}))}},{key:"render",value:function(){var e=this.store.list.isLoading;return h.default.createElement("div",{className:M.default.wrapper},h.default.createElement(C.default,{className:M.default.banner,icon:"edge-cluster",title:t("NODE_GROUP_PL"),description:t("NODE_GROUP_DESC"),tabs:this.tabs,tabsActions:this.renderSearch()}),e?h.default.createElement(D.Loading,{className:M.default.loading}):this.renderList())}},{key:"authKey",get:function(){return"clusters"}},{key:"tabs",get:function(){return{value:"clusters",options:[]}}},{key:"filterColumns",get:function(){return[{dataIndex:"name",title:t("NAME"),search:!0}]}},{key:"clusterColumns",get:function(){return[{title:t("CLUSTER_NAME"),dataIndex:"name"},{title:t("NODE_COUNT"),dataIndex:"nodeCount",isHideable:!0},{title:t("KUBERNETES_VERSION"),dataIndex:"version",isHideable:!0},{title:t("HOSTED_IN"),dataIndex:"hostCluster",isHideable:!0},{title:t("CREATION_TIME"),dataIndex:"createTime",isHideable:!0}]}},{key:"enabledActions",get:function(){return globals.app.getActions({module:this.authKey})}},{key:"isOperation",get:function(){return this.enabledActions.includes("create")}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"hostedInOptions",get:function(){if(globals.app.isMultiCluster){var e=[];return(0,E.default)((0,g.toJS)(this.hostStore.list.data))||e.push({label:t("HOST_CLUSTER"),options:(0,g.toJS)(this.hostStore.list.data).map((function(e){var t=e.name;return{label:t,value:t}}))}),(0,E.default)((0,g.toJS)(this.memberStore.list.data))||e.push({label:t("MEMBER_CLUSTER"),options:(0,g.toJS)(this.memberStore.list.data).map((function(e){var t=e.name;return{label:t,value:t}}))}),e}}}]),n}(h.default.Component))||u)||u)||u;r.default=G},5267:function(e,t,r){e.exports={searchPanel:"_32ndYLctXsv9O1V3qyIN70",search:"_1i2aNcyucSmn4xZHmwgydE",banner:"y8jwuARSF40DyEF4LzSHU",wrapper:"_3CluQiu-2naT1hKAMPFTXr",cards:"_2bR-p8WrajezVdx4qt0g8P",total:"_HM936HEzXNJZCpTNILRW",noData:"BUs1t0DJWiVO7Zj94Yqn4",title:"FXx4THe71SmpSJKcWPlAq",batchManage:"_2FPw5nmFrF6Mm0Raax4ISC",loading:"_3eMphXc0OJDjjrOh5hyTK1",action:"_3iiwGGwWUkZZZddHpRAbsd",clusterGroupTag:"xdnpbpvsSESdta77fmJTB",production:"aEw6mnIPb4jYtF45GvNcQ",development:"_10DoOajckM0FeloX64oWth",testing:"_1e8DAKPXSosUFzmouVMINd",demo:"_1LUiiF3rdMqLOMty6CMwWq",emptyAction:"kRbGP7t3miufn14pAC0Er"}},5268:function(e,t,r){"use strict";var n=r(20),a=r(157);r(12),r(11),r(6),r(9),r(13),r(10),r(4),r(23),r(24),r(17),r(62),r(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(12),r(45),r(11),r(6),r(28),r(42),r(34),r(15),r(9),r(13),r(10),r(4),r(22),r(23),r(57),r(24),r(17),r(62),r(7);var o=n(r(43)),u=n(r(30));r(41);var c,i=n(r(44)),l=n(r(36)),s=n(r(37)),f=n(r(55)),d=n(r(56)),p=n(r(51)),m=a(r(0)),h=r(239),g=r(186),y=r(317),v=n(r(852));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var _=(0,h.inject)("rootStore")(c=(0,h.observer)(c=function(e){(0,f.default)(n,e);var t,r=O(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this,e)).store=new v.default,t.state={isLoading:!0},t}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.init(this.props.match.params)}},{key:"componentDidUpdate",value:function(e){e.match.params.cluster!==this.cluster&&this.init(this.props.match.params)}},{key:"init",value:(t=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b(b({},t),{},{nodegroup:t.group}),e.next=3,this.props.rootStore.getRules(r);case 3:if(!t.group){e.next=6;break}return e.next=6,this.store.fetchDetail({name:t.group,cluster:t.cluster});case 6:this.setState({isLoading:!1});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){return this.state.isLoading?m.default.createElement(g.Loading,{className:"ks-page-loading"}):m.default.createElement(h.Provider,{nodeGroupStore:this.store},(0,y.renderRoutes)(this.props.route.routes))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"group",get:function(){return this.props.match.params.group}}]),n}(m.Component))||c)||c;t.default=_},5269:function(e,r,n){"use strict";n(15);var a=n(20),o=n(157);n(5),n(48),n(4),n(23),n(24),n(17),n(62),n(188),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(45),n(5),n(28),n(48),n(42),n(4),n(22),n(23),n(57),n(24),n(17),n(62),n(188);var u=a(n(43));n(41);var c,i=a(n(44)),l=a(n(36)),s=a(n(37)),f=a(n(55)),d=a(n(56)),p=a(n(51)),m=o(n(0)),h=n(433),g=n(239),y=n(244),v=a(n(800)),E=a(n(26)),b=a(n(242)),O=n(186),_=n(317),D=n(1076),S=a(n(5270));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var P=(0,g.inject)("rootStore","nodeGroupStore")(c=(0,g.observer)(c=function(e){(0,f.default)(n,e);var r=k(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).enterGroup=function(){var t=(0,i.default)(u.default.mark((function t(r){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.routing.push("/node-groups/clusters/".concat(e.cluster,"/").concat(r,"/")));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetchConfigz=(0,v.default)((0,i.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.nodeGroupStore.fetchClusterConfigz({cluster:e.cluster});case 2:t.sent&&((0,b.default)(globals,"need_rebuild_".concat(e.cluster,"_nav")),e.forceUpdate());case 4:case"end":return t.stop()}}),t)}))),3e3),e}return(0,s.default)(n,[{key:"getUserRules",value:function(e){this.props.rootStore.getRules(e)}},{key:"componentDidMount",value:function(){this.getUserRules({cluster:this.cluster,nodegroup:this.group})}},{key:"componentDidUpdate",value:function(e){(0,E.default)(globals,"need_rebuild_nodegroup_".concat(this.group,"_nav"),!1),e.match.params.group!==this.group&&this.getUserRules({cluster:this.cluster,nodegroup:this.group})}},{key:"render",value:function(){var e=this.props,r=e.match,n=e.route,a=e.location,o=this.props.nodeGroupStore.detail,u=o.aliasName,c="".concat(this.group).concat(u&&" (".concat(u,")")),i=((0,y.parse)(a.search.slice(1))||{}).path||sessionStorage.getItem("NODE_GROUP_NEED_BACK");return i&&sessionStorage.setItem("NODE_GROUP_NEED_BACK",i),m.default.createElement("div",{className:"ks-page"},m.default.createElement("div",{className:"ks-page-side"},i&&m.default.createElement(h.Link,{to:i,onClick:function(){sessionStorage.removeItem("NODE_GROUP_NEED_BACK")}},m.default.createElement(O.Icon,{name:"chevron-left",size:20}),t("BACK_EDGEWIZE_NODEGROUP")),m.default.createElement(S.default,{icon:o.icon||"edge-cluster",value:c,cluster:this.cluster,onChange:this.enterGroup}),m.default.createElement(D.Nav,{className:"ks-page-nav",navs:this.nodeGroupNavs,location:a,match:r})),m.default.createElement("div",{className:"ks-page-main",style:{height:"calc(100vh - 68px )"}},(0,_.renderRoutes)(n.routes)))}},{key:"group",get:function(){return this.props.match.params.group}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"nodeGroupNavs",get:function(){return globals.app.getNodeGroupNavs(this.group)}},{key:"cluster",get:function(){return this.props.match.params.cluster}}]),n}(m.Component))||c)||c;r.default=P},5270:function(e,r,n){"use strict";n(15);var a=n(20);n(4),n(23),n(17),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(45),n(42),n(4),n(23),n(57),n(17);var o=a(n(36)),u=a(n(37)),c=a(n(55)),i=a(n(56)),l=a(n(51)),s=a(n(0)),f=a(n(1)),d=a(n(5271)),p=a(n(5277));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var h=function(e){(0,c.default)(n,e);var r=m(n);function n(e){var t;return(0,o.default)(this,n),(t=r.call(this,e)).showSelect=function(){t.setState({showSelect:!0})},t.hideSelect=function(){t.setState({showSelect:!1})},t.handleSelect=function(e){var r=t.props.onChange;t.hideSelect(),r(e)},t.state={showSelect:!1},t}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props.value,r=this.state.showSelect;return s.default.createElement("div",null,s.default.createElement("div",{className:p.default.titleWrapper,onClick:this.showSelect},s.default.createElement("div",{className:p.default.icon},s.default.createElement("img",{src:"/assets/node_group_light.svg"})),s.default.createElement("div",{className:p.default.text},s.default.createElement("div",{className:"h6"},e),s.default.createElement("p",null,t("NODE_GROUP")))),s.default.createElement(d.default,{visible:r,cluster:this.props.cluster,onChange:this.handleSelect,onCancel:this.hideSelect}))}}]),n}(s.default.Component);r.default=h,h.propTypes={value:f.default.string,onChange:f.default.func},h.defaultProps={value:"",onChange:function(){}}},5271:function(e,r,n){"use strict";var a=n(20);n(12),n(11),n(6),n(18),n(9),n(13),n(10),n(4),n(23),n(17),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(45),n(11),n(6),n(18),n(28),n(42),n(34),n(15),n(9),n(13),n(10),n(4),n(23),n(57),n(17),n(7);var o,u=a(n(30)),c=a(n(36)),i=a(n(37)),l=a(n(55)),s=a(n(56)),f=a(n(51)),d=a(n(0)),p=a(n(26)),m=n(14),h=n(239),g=n(186),y=a(n(852)),v=a(n(787)),E=a(n(863)),b=a(n(5272)),O=a(n(5276));function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var k=(0,h.observer)(o=function(e){(0,l.default)(n,e);var r=S(n);function n(e){var t;return(0,c.default)(this,n),(t=r.call(this,e)).fetchData=function(e){t.store.fetchList(D(D({},e),{},{cluster:t.props.cluster}))},t.handleSearch=function(e){t.fetchData({name:e})},t.handleRefresh=function(){t.fetchData()},t.handleOnEnter=function(e){var r=t.props.onChange;localStorage.setItem("".concat(globals.user.username,"-cluster"),e),r&&r(e)},t.store=new y.default,t}return(0,i.default)(n,[{key:"render",value:function(){var e=this,r=this.props,n=r.visible,a=r.onCancel,o=this.store.list,u=o.data,c=o.total,i=o.page,l=o.isLoading,s=(0,p.default)(this.store.list,"filters.name");return d.default.createElement(v.default,{bodyClassName:O.default.body,visible:n,onCancel:a,width:960,icon:"cluster",title:t("NODE_GROUP_PL"),description:t("NODE_GROUP_DESC"),hideFooter:!0},d.default.createElement("div",{className:O.default.bar},d.default.createElement(g.Columns,null,d.default.createElement(g.Column,null,d.default.createElement(g.InputSearch,{value:s,placeholder:t("SEARCH_BY_NAME"),onSearch:this.handleSearch})),d.default.createElement(g.Column,{className:"is-narrow"},d.default.createElement(g.Button,{icon:"refresh",type:"flat",onClick:this.handleRefresh})))),d.default.createElement("div",{className:O.default.list},d.default.createElement(E.default,{wrapperClassName:O.default.listWrapper,data:(0,m.toJS)(u),total:c,page:i,loading:l,onFetch:this.fetchData},u.map((function(t){return d.default.createElement(b.default,{key:t.uid,data:t,onEnter:e.handleOnEnter})})))))}}]),n}(d.default.Component))||o;r.default=k},5272:function(e,r,n){"use strict";n(15);var a=n(20);n(5),n(16),n(4),n(23),n(17),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(45),n(5),n(42),n(16),n(4),n(23),n(57),n(17);var o=a(n(36)),u=a(n(37)),c=a(n(55)),i=a(n(56)),l=a(n(51)),s=a(n(0)),f=a(n(3)),d=n(52),p=a(n(812)),m=a(n(5273)),h=a(n(5275));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var y=function(e){(0,c.default)(n,e);var r=g(n);function n(){var e;(0,o.default)(this,n);for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return(e=r.call.apply(r,[this].concat(a))).handleClick=function(){var t=e.props,r=t.data,n=t.onEnter;n&&n(r.name)},e}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props.data,r=[{title:e.nodesCount,description:t("NODE_COUNT")},{title:e.namespacesCount,description:t("PROJECTS")},{title:e.createTime?(0,d.getLocalTime)(e.createTime).format("YYYY-MM-DD HH:mm:ss"):"-",description:t("CREATION_TIME")}],n=s.default.createElement(m.default,{group:e});return s.default.createElement(p.default.Item,{className:(0,f.default)(h.default.wrapper),titleClass:h.default.title,title:n,details:r,onClick:this.handleClick})}}]),n}(s.default.Component);r.default=y},5273:function(e,t,r){"use strict";r(15);var n=r(157),a=r(20);r(12),r(109),r(5),r(16),r(4),r(23),r(17),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r(12),r(109),r(45),r(5),r(42),r(16),r(4),r(23),r(57),r(17);var o=a(r(36)),u=a(r(37)),c=a(r(55)),i=a(r(56)),l=a(r(51)),s=a(r(26)),f=n(r(0)),d=r(1),p=a(r(3)),m=r(186),h=a(r(839)),g=a(r(5274));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var v=function(e){(0,c.default)(r,e);var t=y(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).iconSizeMap={large:48,normal:40,small:20},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,t=e.theme,r=e.size,n=e.className,a=e.group,o=e.noStatus,u=e.onClick,c=e.isExpired,i=void 0!==c&&c;if(!a)return null;var l="True"===(0,s.default)(a,"status"),d=this.iconSizeMap[r],y=(0,s.default)(a,"aliasName",""),v="".concat(a.name).concat(y&&" (".concat(y,")"));return f.default.createElement("div",{className:(0,p.default)(g.default.wrapper,g.default[t],g.default[r],n)},f.default.createElement("div",{className:g.default.icon,style:{height:d}},f.default.createElement(m.Icon,{name:"edge-cluster",size:d,type:t}),i?f.default.createElement(h.default,{className:g.default.indicator,type:"error"}):!o&&l&&f.default.createElement(h.default,{className:g.default.indicator,status:"ready"})),f.default.createElement("div",{className:g.default.title},f.default.createElement("div",{className:g.default.name},u&&l?f.default.createElement("a",{title:v,onClick:u},v):f.default.createElement("span",{title:v},v)),f.default.createElement("div",{className:g.default.description},f.default.createElement("p",{className:(0,p.default)("ellipsis",g.default.ellipsis)},a.description||"-"))))}}]),r}(f.Component);t.default=v,v.propTypes={theme:d.PropTypes.oneOf(["dark","light"]),size:d.PropTypes.oneOf(["normal","small","large"])},v.defaultProps={theme:"dark",size:"normal"}},5274:function(e,t,r){e.exports={wrapper:"_3Za-81tRm4IbibgeQK5R9f",icon:"_1vdmRTGclWeWDLErPuTiEE",indicator:"_28tvpPdA1BLjjKqE0xCqbz",title:"_2T9dS5ge-DwHp1ZF9UR9no",name:"_2UQ_33cP1yEEoEy_nTkRUf",description:"iBw99ynBazdIANBi_adh9",ellipsis:"_24SWKrBNm-eUUJs8fPMqrM",isExpired:"_2OWYxI9XgiyY0vTkTY2ocb",light:"_396MYgOzMz3uesKLAaYZ-v",large:"_1kVmziuvKFGLe3cW4cMRfg",small:"_2SnCve5iYYibZyGVs0t3uI"}},5275:function(e,t,r){e.exports={wrapper:"_11M0JnmNBuXl5y65k278VA",notReady:"zxxCf8-C9doPAoqiKzRNg",title:"_3G7kLwabEDcsTSDSkCN2RV",name:"_1rS41ZSjLiLBOjmhHX_3EK",provider:"_2pUSkmK6I6sPf79XmDaHxY"}},5276:function(e,t,r){e.exports={body:"_1B_MrIfKtptTtYPAOyJgHo",bar:"_16bvf3O-38qAspYANuN5ZL",list:"_27EKHi2ls6Gsog_Lu-jG53",listWrapper:"_1HiQsyJTNUW0BUKFl06Nvz"}},5277:function(e,t,r){e.exports={titleWrapper:"_2jf8h74jEuXTGzPeHRmJCe",icon:"lXFIBM5zuVD89BcLhEc83",text:"_1NVrKgkC5winmDaQS9WKNi",arrow:"H0q22PCr_gs3OGLaek_GQ",dropdown:"_1bvYQA6fsISy7gMUzwWJDU",bottom:"GrBqG5KMiXYkquJWbFIrj"}},5278:function(e,r,n){"use strict";var a=n(20),o=n(157);n(12),n(5),n(11),n(31),n(6),n(73),n(18),n(97),n(16),n(9),n(13),n(10),n(4),n(316),n(23),n(24),n(17),n(62),n(64),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(45),n(5),n(11),n(31),n(6),n(73),n(18),n(28),n(97),n(42),n(16),n(34),n(15),n(9),n(13),n(10),n(4),n(316),n(436),n(22),n(23),n(57),n(24),n(17),n(62),n(64),n(7);var u=a(n(315)),c=a(n(43)),i=a(n(30));n(41);var l,s=a(n(44)),f=a(n(36)),d=a(n(37)),p=a(n(55)),m=a(n(56)),h=a(n(51)),g=a(n(0)),y=a(n(26)),v=a(n(63)),E=n(186),b=a(n(796)),O=a(n(792)),_=a(n(1068)),D=a(n(788)),S=a(n(787)),k=a(n(795)),P=a(n(790)),R=o(n(793)),w=n(444),C=n(72),N=n(52),T=n(794),j=a(n(852)),A=a(n(954)),M=a(n(1008)),I=a(n(5279));function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.default)(e);if(t){var a=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var G={cpu_used:"node_cpu_usage",cpu_total:"node_cpu_total",cpu_utilisation:"node_cpu_utilisation",memory_used:"node_memory_usage_wo_cache",memory_total:"node_memory_total",memory_utilisation:"node_memory_utilisation",pod_used:"node_pod_running_count",pod_total:"node_pod_quota"},H=(0,R.default)({store:new j.default,name:"EDGE_NODE",module:"edgenodes",authKey:"nodegroups",skipAuth:!0})(l=function(e){(0,p.default)(n,e);var r=U(n);function n(){var e;(0,f.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=e.props.store,e.edgeStore=new M.default,e.monitoringStore=new A.default({cluster:e.cluster}),e.getData=function(){var t=(0,s.default)(c.default.mark((function t(r){var n;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.match.params.group,t.next=3,e.store.fetchChildResource(L(L({},r),{},{cluster:e.cluster,group:n,kind:"nodes"}));case 3:return t.next=5,e.monitoringStore.fetchMetrics({cluster:e.cluster,name:n,resources:e.store.list.data.map((function(e){return e.name})),metrics:Object.values(G),last:!0});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getReady=function(e){return e.conditions.some((function(e){return"Ready"===e.type&&"True"===e.status}))},e.handleOpenTerminal=function(t){var r=S.default.open({onOk:function(){S.default.close(r)},isEdgeWize:!0,modal:_.default,isEdgeNode:!0,cluster:e.cluster,title:t.name,nodename:t.name})},e.getLastValue=function(t,r,n){var a=e.monitoringStore.data,o=((0,y.default)(a[r],"data.result")||[]).find((function(e){return(0,y.default)(e,"metric.node")===t.name}));return(0,T.getValueByUnit)((0,y.default)(o,"value[1]",0),n)},e.getRecordMetrics=function(t,r){var n={};return r.forEach((function(r){n[r.type]=parseFloat(e.getLastValue(t,G[r.type],r.unit))})),n},e.renderTaintsTip=function(e){return g.default.createElement("div",null,g.default.createElement("div",null,t("TAINTS"),":"),g.default.createElement("div",null,e.map((function(e){var t="".concat(e.key,"=").concat(e.value||"",":").concat(e.effect);return g.default.createElement("div",{key:t},t)}))))},e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.getFilteredValue;return[{title:t("NAME"),dataIndex:"name",sorter:!0,sortOrder:n("name"),search:!0,render:function(e,t){var r=t.ip,n=t.labels,a=t.importStatus,o=t.cluster,u=(null==n?void 0:n["kubeedge.io/internal-ip"])||r;return g.default.createElement(D.default,{icon:"edge-node",iconSize:40,to:"success"!==a?null:"/v2/edgewize/clusters/".concat(o,"/nodes/").concat(e),title:e,desc:null!=u?u:"-"})}},{title:t("STATUS"),dataIndex:"status",filters:e.getStatus(),filteredValue:a("status"),isHideable:!0,search:!0,render:function(r,n){var a=(0,w.getNodeStatus)(n),o=n.taints;return g.default.createElement("div",{className:I.default.status},g.default.createElement(k.default,{type:a,name:t("NODE_STATUS_".concat(a.toUpperCase()))}),!(0,v.default)(o)&&"success"===n.importStatus&&g.default.createElement(E.Tooltip,{content:e.renderTaintsTip(o)},g.default.createElement("span",{className:I.default.taints},o.length)))}},{title:t("ROLE"),dataIndex:"role",isHideable:!0,search:!0,filters:e.getRole(),filteredValue:a("role"),render:function(e){return e.map((function(e){return t(e.replace("-","_").toUpperCase())})).join("/")}},{title:t("CPU"),key:"cpu",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"cpu_used",unit:"Core"},{type:"cpu_total",unit:"Core"},{type:"cpu_utilisation"}]);return g.default.createElement(P.default,{title:g.default.createElement("div",{className:I.default.resource},g.default.createElement("span",null,"".concat(Math.round(100*r.cpu_utilisation),"%")),r.cpu_utilisation>=.9&&g.default.createElement(E.Icon,{name:"exclamation"})),description:"".concat(r.cpu_used,"/").concat(r.cpu_total," Core")})}},{title:t("MEMORY"),key:"memory",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"memory_used",unit:"Gi"},{type:"memory_total",unit:"Gi"},{type:"memory_utilisation"}]);return g.default.createElement(P.default,{title:g.default.createElement("div",{className:I.default.resource},g.default.createElement("span",null,"".concat(Math.round(100*r.memory_utilisation),"%")),r.memory_utilisation>=.9&&g.default.createElement(E.Icon,{name:"exclamation"})),description:"".concat(r.memory_used,"/").concat(r.memory_total," GiB")})}},{title:t("POD_PL"),key:"pods",isHideable:!0,render:function(t){var r=e.getRecordMetrics(t,[{type:"pod_used"},{type:"pod_total"}]),n=r.pod_total?parseFloat(r.pod_used/r.pod_total):0;return g.default.createElement(P.default,{title:"".concat(Math.round(100*n),"%"),description:"".concat(r.pod_used,"/").concat(r.pod_total)})}},{title:t("ALLOCATED_CPU"),key:"allocated_resources_cpu",isHideable:!0,render:e.renderCPUTooltip},{title:t("ALLOCATED_MEMORY"),key:"allocated_resources_memory",isHideable:!0,render:e.renderMemoryTooltip}]},e.renderCPUTooltip=function(e){var r=g.default.createElement("p",null,1===(0,N.cpuFormat)((0,y.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_LIMIT_SI",{core:(0,N.cpuFormat)((0,y.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,y.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}):t("CPU_LIMIT_PL",{core:(0,N.cpuFormat)((0,y.default)(e,'annotations["node.kubesphere.io/cpu-limits"]')),percent:(0,y.default)(e,'annotations["node.kubesphere.io/cpu-limits-fraction"]')}));return g.default.createElement(E.Tooltip,{content:r,placement:"top"},g.default.createElement(P.default,{title:1===(0,N.cpuFormat)((0,y.default)(e,'annotations["node.kubesphere.io/cpu-limits"]'))?t("CPU_REQUEST_SI",{core:(0,N.cpuFormat)((0,y.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,y.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}):t("CPU_REQUEST_PL",{core:(0,N.cpuFormat)((0,y.default)(e,'annotations["node.kubesphere.io/cpu-requests"]')),percent:(0,y.default)(e,'annotations["node.kubesphere.io/cpu-requests-fraction"]')}),description:t("RESOURCE_REQUEST")}))},e.renderMemoryTooltip=function(e){var r=g.default.createElement("p",null,t("MEMORY_LIMIT_VALUE",{gib:(0,N.memoryFormat)((0,y.default)(e,'annotations["node.kubesphere.io/memory-limits"]'),"Gi"),percent:(0,y.default)(e,'annotations["node.kubesphere.io/memory-limits-fraction"]')}));return g.default.createElement(E.Tooltip,{content:r,placement:"top"},g.default.createElement(P.default,{title:t("MEMORY_REQUEST_VALUE",{gib:(0,N.memoryFormat)((0,y.default)(e,'annotations["node.kubesphere.io/memory-requests"]'),"Gi"),percent:(0,y.default)(e,'annotations["node.kubesphere.io/memory-requests-fraction"]')}),description:t("RESOURCE_REQUEST")}))},e.handleCreate=function(){var t=e.props.match.params.group;e.props.trigger("node.edge.add",{cluster:e.cluster,store:e.edgeStore,isEdgeWize:!0,nodegroup:t})},e}return(0,d.default)(n,[{key:"getStatus",value:function(){return C.NODE_STATUS.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"getRole",value:function(){return C.NODE_ROLE.map((function(e){return{text:t(e.text),value:e.value}}))}},{key:"render",value:function(){var e=this.props,r=e.bannerProps,n=e.tableProps,a=this.monitoringStore.isLoading;return g.default.createElement(R.ListPage,(0,u.default)({},this.props,{getData:this.getData,noWatch:!0}),g.default.createElement(O.default,(0,u.default)({},r,{title:t("NODE_ADMINISTRATION_PL"),description:t("CLUSTER_NODE_DESC"),icon:"edge-node",tips:this.tips})),g.default.createElement(b.default,(0,u.default)({},n,{itemActions:[],tableActions:this.tableActions,onCreate:this.handleCreate,columns:this.getColumns(),isLoading:n.isLoading||a})))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"isExpired",get:function(){var e;return(null===(e=globals.licenseInfo)||void 0===e?void 0:e.isExpired)||!1}},{key:"isOverLimit",get:function(){var e;return(null===(e=globals.licenseInfo)||void 0===e?void 0:e.isOverLimit)||!1}},{key:"tableActions",get:function(){return L(L({},this.props.tableProps.tableActions),{},{selectActions:[]})}},{key:"tips",get:function(){return[{title:t("WHAT_IS_NODE_TAINTS_Q"),description:t("WHAT_IS_NODE_TAINTS_A")}]}}]),n}(g.default.Component))||l;r.default=H},5279:function(e,t,r){e.exports={taints:"_3EcR8ixivwXTE9Vqy-r4NY",overview:"_3Ofm094I7MGNwD4t6uQRTm",resource:"_30pyr2Bs5mi56VF-ahfNHx"}},5280:function(e,r,n){"use strict";var a=n(20),o=n(157);n(12),n(5),n(11),n(6),n(9),n(13),n(10),n(4),n(23),n(24),n(17),n(62),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(45),n(5),n(11),n(6),n(28),n(42),n(34),n(15),n(9),n(13),n(10),n(4),n(22),n(23),n(57),n(24),n(17),n(62),n(7);var u=a(n(315)),c=a(n(43)),i=a(n(30));n(41);var l,s=a(n(44)),f=a(n(36)),d=a(n(37)),p=a(n(55)),m=a(n(56)),h=a(n(51)),g=a(n(0)),y=a(n(788)),v=a(n(792)),E=a(n(796)),b=o(n(793)),O=n(52),_=n(72),D=a(n(1461));function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.default)(e);if(t){var a=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var R=(0,b.default)({store:new D.default,name:"NODE_GROUP_ROLE"})(l=function(e){(0,p.default)(n,e);var r=P(n);function n(){var e;(0,f.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).getData=function(){var t=(0,s.default)(c.default.mark((function t(r){var n;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.store,t.next=3,n.fetchChildResource(k(k({},r),{},{kind:"roles",cluster:e.cluster,group:e.group}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getColumns=function(){var r=e.props,n=r.getSortOrder,a=r.match.params,o=a.cluster,u=a.group;return[{title:t("NAME"),dataIndex:"name",width:"25%",render:function(t){return g.default.createElement(y.default,{icon:_.ICON_TYPES[e.module],to:"/node-groups/clusters/".concat(o,"/").concat(u,"/roles/").concat(t),title:t})}},{title:t("DESCRIPTION"),key:"description",dataIndex:"description",isHideable:!0,width:"55%"},{title:t("CREATION_TIME_TCAP"),dataIndex:"createTime",sorter:!0,sortOrder:n("createTime"),isHideable:!0,width:"19%",render:function(e){return(0,O.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},e}return(0,d.default)(n,[{key:"render",value:function(){var e=this.props,t=e.bannerProps,r=e.tableProps;return g.default.createElement(b.ListPage,(0,u.default)({},this.props,{getData:this.getData,noWatch:!0}),g.default.createElement(v.default,(0,u.default)({},t,{icon:"role"})),g.default.createElement(E.default,(0,u.default)({},r,{emptyProps:this.emptyProps,tableActions:this.tableActions,itemActions:this.itemActions,columns:this.getColumns(),searchType:"name"})))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"group",get:function(){return this.props.match.params.group}},{key:"itemActions",get:function(){return[]}},{key:"tableActions",get:function(){return k(k({},this.props.tableProps.tableActions),{},{onCreate:void 0,selectActions:[]})}},{key:"emptyProps",get:function(){return{desc:t("CLUSTER_ROLE_DESC")}}}]),n}(g.default.Component))||l;r.default=R},5281:function(e,r,n){"use strict";n(15);var a=n(20);n(12),n(109),n(5),n(16),n(4),n(23),n(24),n(17),n(62),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(109),n(45),n(5),n(42),n(16),n(4),n(23),n(57),n(24),n(17),n(62);var o,u=a(n(315)),c=a(n(36)),i=a(n(37)),l=a(n(55)),s=a(n(56)),f=a(n(51)),d=a(n(0)),p=n(14),m=n(239),h=a(n(26)),g=a(n(63)),y=n(186),v=n(52),E=n(791),b=a(n(1461)),O=a(n(823)),_=a(n(5282));function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=(0,m.inject)("rootStore")(o=(0,m.observer)(o=(0,E.trigger)(o=function(e){(0,l.default)(n,e);var r=D(n);function n(){var e;(0,c.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).store=new b.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getAttrs=function(){var r=(0,p.toJS)(e.store.detail);if(!(0,g.default)(r))return[{name:t("CREATION_TIME_TCAP"),value:(0,v.getLocalTime)(r.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:r.creator}]},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return d.default.createElement(y.Loading,{className:"ks-page-loading"});var r={icon:"role",module:this.module,authKey:this.authKey,name:(0,h.default)(this.store.detail,"name"),desc:this.store.detail.description,operations:[],attrs:this.getAttrs(),breadcrumbs:[{label:t("NODE_GROUP_ROLE_PL"),url:this.listUrl}]};return d.default.createElement(O.default,(0,u.default)({stores:e,routes:_.default},r))}},{key:"module",get:function(){return this.store.module}},{key:"authKey",get:function(){return"nodegroup-roles"}},{key:"name",get:function(){return"NODE_GROUP_ROLE"}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.cluster,r=e.group;return"/node-groups/clusters/".concat(t,"/").concat(r,"/roles")}},{key:"routing",get:function(){return this.props.rootStore.routing}}]),n}(d.default.Component))||o)||o)||o;r.default=S},5282:function(e,t,r){"use strict";r(15);var n=r(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(317),o=n(r(1022)),u="/node-groups/clusters/:cluster/:group/roles/:name",c=[{path:"".concat(u,"/authorizations"),title:"PERMISSION_PL",component:o.default,exact:!0},(0,a.getIndexRoute)({path:u,to:"".concat(u,"/authorizations"),exact:!0})];t.default=c},5283:function(e,r,n){"use strict";var a=n(20),o=n(157);n(12),n(5),n(11),n(6),n(16),n(9),n(13),n(10),n(4),n(23),n(24),n(17),n(62),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(45),n(5),n(11),n(6),n(28),n(42),n(16),n(34),n(15),n(9),n(13),n(10),n(4),n(22),n(23),n(57),n(24),n(17),n(62),n(7);var u=a(n(315)),c=a(n(43)),i=a(n(30));n(41);var l,s=a(n(44)),f=a(n(36)),d=a(n(37)),p=a(n(55)),m=a(n(56)),h=a(n(51)),g=a(n(0)),y=n(14),v=n(186),E=a(n(788)),b=a(n(795)),O=a(n(792)),_=o(n(793)),D=a(n(796)),S=n(52),k=a(n(1706)),P=a(n(1461)),R=a(n(852));function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,h.default)(e);if(t){var a=(0,h.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var T=(0,_.default)({store:new k.default,authKey:"nodegroups",name:"CLUSTER_MEMBER"})(l=function(e){(0,p.default)(n,e);var r=N(n);function n(){var e;(0,f.default)(this,n);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return(e=r.call.apply(r,[this].concat(o))).roleStore=new P.default,e.nodeGroupStore=new R.default,e.getColumns=function(){return[{title:t("USERNAME"),dataIndex:"name",sorter:!0,render:function(e,t){return g.default.createElement(E.default,{avatar:t.avatar_url||"/assets/default-user.svg",title:e,desc:t.email||"-",noLink:!0})}},{title:t("STATUS"),dataIndex:"status",isHideable:!0,width:"19%",render:function(e){return g.default.createElement(b.default,{type:e,name:t("USER_".concat(e.toUpperCase()))})}},{title:t("ROLE"),dataIndex:"nodegrouprole",isHideable:!0,width:"19%"},{title:t("LAST_LOGIN"),dataIndex:"lastLoginTime",isHideable:!0,width:150,render:function(e){return g.default.createElement("p",null,e?(0,S.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss"):t("NOT_LOGIN_YET"))}}]},e.getData=function(){var t=(0,s.default)(c.default.mark((function t(r){var n;return c.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.store,t.next=3,n.fetchChildResource(C(C({},r),{},{kind:"members",cluster:e.cluster,group:e.group}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showCreate=function(){(0,e.props.trigger)("node.group.member.invite",{cluster:e.cluster,group:e.group,roles:(0,y.toJS)(e.roleStore.list.data),success:e.getData})},e}return(0,d.default)(n,[{key:"showAction",value:function(e){return globals.user.username!==e.name}},{key:"componentDidMount",value:function(){this.roleStore.fetchChildResource({kind:"roles",cluster:this.cluster,group:this.group,limit:"-1"})}},{key:"render",value:function(){var e=this.props,r=e.bannerProps,n=e.tableProps;return g.default.createElement(_.ListPage,(0,u.default)({},this.props,{getData:this.getData,noWatch:!0}),g.default.createElement(O.default,(0,u.default)({},r,{icon:"human",title:t("NODE_GROUP_MEMBER_PL"),description:t("INVITE_NODE_GROUP_MEMBER_DESC")})),g.default.createElement(D.default,(0,u.default)({},n,{emptyProps:this.emptyProps,tableActions:this.tableActions,itemActions:this.itemActions,columns:this.getColumns(),searchType:"name"})))}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"group",get:function(){return this.props.match.params.group}},{key:"canViewRoles",get:function(){var e=this.props.match.params.cluster;return globals.app.hasPermission({cluster:e,module:"roles",action:"view"})}},{key:"tips",get:function(){return[{title:t("HOW_TO_INVITE_MEMBER_Q"),description:t("HOW_TO_INVITE_MEMBER_A")}]}},{key:"itemActions",get:function(){var e=this,r=this.props.trigger;return[{key:"modify",icon:"pen",text:t("CHANGE_ROLE"),action:"edit",show:this.showAction,onClick:function(t){return r("node.group.member.edit",C(C({},e.props.match.params),{},{detail:t,store:e.props.store,roles:(0,y.toJS)(e.roleStore.list.data),role:t.nodegrouprole,success:e.getData}))}},{key:"delete",icon:"trash",text:t("REMOVE"),action:"delete",show:this.showAction,onClick:function(t){return r("node.group.member.remove",{resources:[t.name],cluster:e.cluster,group:e.group,success:e.getData})}}]}},{key:"tableActions",get:function(){var e=this,r=this.props,n=r.trigger;return C(C({},r.tableProps.tableActions),{},{actions:[{key:"invite",type:"control",text:t("INVITE"),action:"create",onClick:function(){return n("node.group.member.invite",{cluster:e.cluster,group:e.group,roles:(0,y.toJS)(e.roleStore.list.data),success:e.getData})}}],selectActions:[{key:"delete",type:"danger",text:t("REMOVE"),action:"delete",onClick:function(){return n("node.group.member.remove",{cluster:e.cluster,group:e.group,success:e.getData})}}],getCheckboxProps:function(t){return{disabled:!e.showAction(t),name:t.name}}})}},{key:"emptyProps",get:function(){return{icon:"human",name:t("NODE_GROUP_MEMBER_PL"),desc:t("INVITE_NODE_GROUP_MEMBER_DESC"),action:g.default.createElement(v.Button,{type:"control",onClick:this.showCreate},t("INVITE"))}}}]),n}(g.default.Component))||l;r.default=T},5284:function(e,r,n){"use strict";var a=n(20);n(12),n(5),n(11),n(6),n(84),n(18),n(16),n(9),n(13),n(10),n(4),n(23),n(24),n(17),n(85),n(62),n(7),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,n(12),n(45),n(5),n(11),n(6),n(84),n(18),n(28),n(42),n(16),n(34),n(15),n(9),n(13),n(10),n(4),n(23),n(57),n(24),n(17),n(85),n(62),n(7);var o,u=a(n(30)),c=a(n(36)),i=a(n(37)),l=a(n(55)),s=a(n(56)),f=a(n(51)),d=a(n(26)),p=a(n(0)),m=n(14),h=n(239),g=n(186),y=a(n(789)),v=a(n(790)),E=a(n(792)),b=n(52),O=n(791),_=a(n(852)),D=a(n(5285)),S=a(n(5287));function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var w=(0,h.inject)("rootStore")(o=(0,h.observer)(o=(0,O.trigger)(o=function(e){(0,l.default)(n,e);var r=R(n);function n(){var e;(0,c.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=r.call.apply(r,[this].concat(a))).state={confirm:!1},e.nodeGroupStore=new _.default,e.fetchData=function(){var t=e.props.match.params,r=t.cluster,n=t.group;e.nodeGroupStore.fetchDetail({cluster:r,name:n})},e.showEdit=function(){var t=e.props.match;e.trigger("node.group.baseinfo.edit",P(P({store:e.nodeGroupStore},t.params),{},{detail:e.nodeGroupStore.detail,success:e.fetchData}))},e.deleteGroup=function(){var t=e.props.match,r=(0,m.toJS)(e.nodeGroupStore.detail);e.trigger("resource.delete",P(P({},t.params),{},{store:e.nodeGroupStore,type:r.name,detail:r,success:function(){return e.props.rootStore.routing.push("/v2/edgewize/clusters/".concat(t.params.cluster,"/node-groups"))}}))},e.manageButtonClick=function(t,r){var n=e.enableManageAction.filter((function(e){return e.actionName===r}))[0];n&&n.onClick()},e.renderManageButton=function(){var t=e.enableManageAction,r=p.default.createElement(g.Menu,{onClick:e.manageButtonClick},t.map((function(e){return p.default.createElement(g.Menu.MenuItem,{key:e.actionName},p.default.createElement(g.Icon,{name:e.icon,type:"light"}),e.text)})));return t.length>1?p.default.createElement(D.default,{className:S.default.manage,content:r}):t.length>0&&p.default.createElement(g.Button,{className:S.default.singleButton,onClick:function(){return t[0].onClick()}},t[0].text)},e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=(0,m.toJS)(this.nodeGroupStore.detail),r=e.creator,n=e.createTime;return p.default.createElement(p.default.Fragment,null,p.default.createElement(E.default,{icon:"cdn",title:t("BASIC_INFORMATION"),description:t("NODE_GROUP_BASE_INFO_DESC")}),p.default.createElement(y.default,{title:t("CLUSTER_INFORMATION")},p.default.createElement("div",{className:S.default.header},p.default.createElement(v.default,{icon:"enterprise",title:(0,b.getDisplayName)(this.nodeGroupStore.detail),description:t("NODE_GROUP")}),p.default.createElement(v.default,{title:r,description:t("CREATOR")}),p.default.createElement(v.default,{title:(0,b.getLocalTime)(n).format("YYYY-MM-DD HH:mm:ss"),description:t("CREATION_TIME")}),this.editPromission&&this.renderManageButton()),p.default.createElement("div",{className:S.default.content},this.options.map((function(e){return p.default.createElement(v.default,{key:e.name,icon:e.icon,title:e.value,description:t(e.name)})})))))}},{key:"enabledActions",get:function(){return globals.app.getActions({module:"nodegroups",cluster:this.props.match.params.cluster})}},{key:"editPromission",get:function(){return this.enabledActions.includes("manage")}},{key:"enableManageAction",get:function(){return[{actionName:"node.group.baseinfo.edit",onClick:this.showEdit,icon:"pen",text:t("EDIT_INFORMATION")},{actionName:"delete",onClick:this.deleteGroup,icon:"trash",text:t("DELETE_NODE_GROUP")}]}},{key:"options",get:function(){var e=(0,m.toJS)(this.nodeGroupStore.detail)._originData;return[{name:t("EDGE_NODE"),icon:"edge-node",value:(0,d.default)(e,'metadata.labels["apps.edgewize.io/nodes-count"]')},{name:t("PROJECT"),icon:"project",value:(0,d.default)(e,'metadata.labels["apps.edgewize.io/namespaces-count"]')}]}}]),n}(p.default.Component))||o)||o)||o;r.default=w},5285:function(e,r,n){"use strict";n(15);var a=n(157),o=n(20);Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){var r=e.className,n=void 0===r?"":r,a=e.content,o=(0,c.useState)(!0),f=(0,u.default)(o,2),d=f[0],p=f[1];return c.default.createElement("div",{className:(0,l.default)(s.default.manage,n)},c.default.createElement(i.Dropdown,{theme:"dark",content:a,trigger:"click",placement:"bottomRight",onClick:function(){return p(!d)}},c.default.createElement("div",{className:s.default.button},c.default.createElement("span",null,t("MANAGE")),c.default.createElement(i.Icon,{name:d?"caret-down":"caret-up",type:"dark"}))))};var u=o(n(96)),c=a(n(0)),i=n(186),l=o(n(3)),s=o(n(5286))},5286:function(e,t,r){e.exports={manage:"mDg-1jnYN-ypam2NbD32d",button:"T0Pvanb0dyrrvRFEIcxoq"}},5287:function(e,t,r){e.exports={header:"_2yEPn_Ugj9Dn1kNubH3GW7",content:"_3IzBQlEusWmcCa87BGVAQ7",tip:"_1Z1FItj1shI88ltEW811Qf",unbind:"_35s4mkDes2Q55fNz3HYur0",manage:"_3aMZECdHRnJ_2qhjrwZKfx",singleButton:"c2t-Ge-9delHT2sq9_Of-",tags:"_1dVbIdLY6IVlyZPogOf_p2"}},786:function(e,t,r){"use strict";r(15);var n=r(20);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(239),o=r(317),u=n(r(5263)),c=(0,a.inject)("rootStore")((function(){return(0,o.renderRoutes)(u.default)}));t.default=c}}]);