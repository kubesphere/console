(window.webpackJsonp=window.webpackJsonp||[]).push([[1],Array(798).concat([function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1249)),l=r(a(1707));n.default.Form=l.default;var u=n.default;t.default=u},,function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=a(189),d=r(a(198)),p=r(a(163)),m=r(a(5)),h=r(a(1706));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e,t=this.props,a=t.icon,r=t.title,l=t.description,u=t.className,o=t.ellipsis,i=t.extra,c=t.onClick,v=t.iconAsset,g=(0,d.default)(r)?r():(0,p.default)(r)||""===r?"-":r;return s.default.createElement("div",{className:(0,m.default)(h.default.wrapper,(e={},(0,n.default)(e,h.default.clickable,!!c),(0,n.default)(e,h.default.ellipsis,o),e),u),onClick:c},a&&((0,d.default)(a)?a():a?s.default.createElement(f.Icon,{className:h.default.icon,name:a,size:40}):v),s.default.createElement("div",{className:h.default.text},s.default.createElement("div",null,g),s.default.createElement("div",null,l)),i)}}]),a}(s.default.PureComponent);t.default=g},function(e,a,r){"use strict";r(16);var n=r(19);r(66),r(4),r(18),r(30),r(11),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(66),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(5)),d=r(189),p=n(r(2176));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.title,n=e.loading,l=void 0!==n&&n,u=e.children,o=e.extras,i=s.default.createElement("div",{className:p.default.empty},t("NO_AVAILABLE_RESOURCE_VALUE",{resource:r}));return s.default.createElement("div",{className:p.default.wrapper,"data-test":"panel-".concat(r?r.toLowerCase().split(" ").join("-"):"default")},r&&s.default.createElement("div",{className:p.default.title},r),s.default.createElement("div",{className:(0,f.default)(p.default.panel,a)},l?s.default.createElement(d.Loading,{className:p.default.loading}):u||i),o)}}]),r}(s.default.Component);a.default=h},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(4),r(18),r(11),r(916),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(29),r(4),r(18),r(43),r(11),r(916);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=r(189),d=n(r(5)),p=n(r(1)),m=n(r(198)),h=n(r(0)),v=r(437),g=n(r(2106));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,i.default)(r,e);var a=y(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"renderClusterTip",value:function(){return h.default.createElement("div",null,h.default.createElement("div",{className:"tooltip-title"},t("MULTI_CLUSTER_PROJECT")),h.default.createElement("p",null,t("MULTI_CLUSTER_PROJECT_TIP")))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.avatar,r=e.icon,n=e.iconSize,u=e.iconType,o=void 0===u?"dark":u,i=e.title,c=e.desc,s=e.to,p=e.noLink,y=e.onClick,E=e.isMultiCluster,b="string"==typeof i?h.default.createElement("span",{title:i},i):i,O=s?h.default.createElement(v.Link,{to:s},b):b;return h.default.createElement("div",{className:(0,d.default)(g.default.wrapper,t,(0,l.default)({},g.default.link,p||s)),onClick:y},a?h.default.createElement("img",{className:g.default.image,src:a||"/extensions-static/ks-console-embed/dist/v3dist/assets/default-user.svg",alt:""}):(0,m.default)(r)?r():r&&h.default.createElement(f.Icon,{className:g.default.icon,name:r,size:n,type:o}),(a||r)&&E&&h.default.createElement(f.Tooltip,{content:this.renderClusterTip()},h.default.createElement("img",{className:g.default.indicator,src:"/extensions-static/ks-console-embed/dist/v3dist/assets/cluster.svg"})),h.default.createElement("div",{className:g.default.text},h.default.createElement("div",{className:g.default.title},O),h.default.createElement("div",{className:(0,d.default)(g.default.description,"ks-avatar-desc"),title:"string"==typeof c?c:void 0},c)))}}]),r}(h.default.Component);a.default=E,E.propTypes={avatar:p.default.string,icon:p.default.string,iconSize:p.default.number,to:p.default.string},E.defaultProps={iconSize:20,iconType:"dark"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(70),r(36),r(20),r(87),r(98),r(320),r(24),r(193),r(99),r(8),r(13),r(9),r(4),r(190),r(30),r(69),r(71),r(7),r(40),r(110),Object.defineProperty(a,"__esModule",{value:!0}),a.CreateUidFactory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={IDList:e,maxID:e.length?Math.max.apply(null,e):0};return{generateUID:function(){var e=++t.maxID;return t.IDList.push(e),e},clear:function(){t.IDList=[],t.maxID=0}}},a.avgs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length,a=e.reduce((function(e,t){return e+t}),0);return a/t},a.unitTransformGroupFactory=M,a.unitTransformFactory=A,a.unitTransformMap=a.fillEmptyMetrics=a.timestampify=a.timeAliasReg=a.isSameDay=a.stopAutoRefresh=a.startAutoRefresh=a.getColorByName=a.getZeroValues=a.getTimesData=a.getLastMonitoringData=a.getXAxisTickFormatter=a.getAreaChartOps=a.getChartData=a.getFormatTime=a.getValueByUnit=a.getSuitableValue=a.getSuitableUnit=void 0;var l=n(r(58)),u=n(r(50)),o=n(r(31)),i=n(r(97));r(12),r(3),r(10),r(6),r(70),r(36),r(20),r(27),r(87),r(98),r(320),r(442),r(29),r(24),r(193),r(33),r(16),r(99),r(8),r(13),r(9),r(4),r(190),r(440),r(321),r(30),r(69),r(71),r(7),r(40),r(110);var c=n(r(67)),s=n(r(64)),f=n(r(880)),d=n(r(163)),p=n(r(462)),m=n(r(142)),h=n(r(26)),v=n(r(68)),g=n(r(449)),y=n(r(455)),E=n(r(906)),b=n(r(1028)),O=r(56),S=r(61),C=n(r(245));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R={second:{conditions:[.01,0],units:["s","ms"]},cpu:{conditions:[.1,0],units:["core","m"]},gpu:{conditions:[.1,0],units:["GPU","GPU"]},gpu_memory:{conditions:[Math.pow(1024,4),Math.pow(1024,3),Math.pow(1024,2),1024,0],units:["Ti","Gi","Mi","Ki","Bytes"]},memory:{conditions:[Math.pow(1024,4),Math.pow(1024,3),Math.pow(1024,2),1024,0],units:["Ti","Gi","Mi","Ki","Bytes"]},disk:{conditions:[Math.pow(1e3,4),Math.pow(1e3,3),Math.pow(1e3,2),1e3,0],units:["TB","GB","MB","KB","Bytes"]},throughput:{conditions:[Math.pow(1e3,4),Math.pow(1e3,3),Math.pow(1e3,2),1e3,0],units:["TB/s","GB/s","MB/s","KB/s","B/s"]},traffic:{conditions:[Math.pow(1e3,4),Math.pow(1e3,3),Math.pow(1e3,2),1e3,0],units:["TB/s","GB/s","MB/s","KB/s","B/s"]},bandwidth:{conditions:[Math.pow(1024,2)/8,128,0],units:["Mbps","Kbps","bps"]},number:{conditions:[Math.pow(1e3,4),Math.pow(1e3,3),Math.pow(1e3,2),1e3,0],units:["T","G","M","K",""]}},N=function(e,t){var a=R[t];if((0,c.default)(a))return"";var r=(0,s.default)(e)?e:[[0,Number(e)]],n=(0,g.default)(a.units);return a.conditions.some((function(e,t){var l=r.some((function(t){return(((0,s.default)(t)?(0,h.default)(t,"[1]"):Number(t))||0)>=e}));return l&&(n=a.units[t]),l})),n};a.getSuitableUnit=N;a.getSuitableValue=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(0,p.default)(e)&&!(0,m.default)(e)||(0,f.default)(Number(e)))return r;var n=N(e,a),l=D(e,n||a),u=(0,O.coreUnitTS)(l,n);return"".concat(l," ").concat(t(u))};var D=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3?arguments[3]:void 0,n="NAN"===e?0:parseFloat(e);if(r!==t)switch(t){default:break;case"":case"default":return n;case"iops":return Math.round(n);case"%":n*=100;break;case"m":if((n*=1e3)<1)return 0;break;case"Ki":n/=1024;break;case"Mi":n/=Math.pow(1024,2);break;case"Gi":n/=Math.pow(1024,3);break;case"Ti":n/=Math.pow(1024,4);break;case"Bytes":case"B":case"B/s":break;case"K":case"KB":case"KB/s":n/=1e3;break;case"M":case"MB":case"MB/s":n/=Math.pow(1e3,2);break;case"G":case"GB":case"GB/s":n/=Math.pow(1e3,3);break;case"T":case"TB":case"TB/s":n/=Math.pow(1e3,4);break;case"bps":n*=8;break;case"Kbps":n=8*n/1024;break;case"Mbps":n=8*n/1024/1024;break;case"ms":n*=1e3}return 0===Number(n)?0:Number(n.toFixed(a))};a.getValueByUnit=D;var T=function(e,t){return(0,O.getLocalTime)(Number(e)).format(t?"MM-DD HH:mm":"HH:mm:ss").replace(/(\d+:\d+)(:00)$/g,"$1")};a.getFormatTime=T;var P=function(e){var t=e.type,a=e.unit,r=e.xKey,n=void 0===r?"time":r,l=e.legend,u=void 0===l?[]:l,c=e.valuesData,s=void 0===c?[]:c,f=e.dot,p=void 0===f?2:f,m=e.originalUnit,v=e.workload_kind,g=0,y=0,E={};s.forEach((function(e,r){e.forEach((function(e){var n=parseInt((0,h.default)(e,[0],0),10),l=(0,h.default)(e,[1]),o=(0,h.default)(u,[r]);if(n&&!E[n]&&(E[n]=u.reduce((function(e,t){return e[t]||(e[t]=null),e}),{})),null!=o&&E[n]){var i="-1"===l?null:D(l,(0,d.default)(a)?t:a,p,m);"statefulset"===v&&E[n][o]&&!i||(E[n][o]=i)}(!g||g>n)&&(g=n),(!y||y<n)&&(y=n)}))}));var b=y-g>86400;return Object.entries(E).map((function(e){var t=(0,i.default)(e,2),a=t[0],r=t[1];return k((0,o.default)({},n,function(e){return"time"===n?T(1e3*e,b):e}(a)),r)}))};a.getChartData=P;a.getAreaChartOps=function(e){var t=e.type,a=e.title,r=e.unitType,n=e.xKey,l=void 0===n?"time":n,o=e.legend,i=void 0===o?[]:o,f=e.data,d=void 0===f?[]:f,p=e.alert,m=e.workload_kind,v=(0,u.default)(e,["type","title","unitType","xKey","legend","data","alert","workload_kind"]),g=((0,s.default)(d)?d:[]).map((function(e){return(0,h.default)(e,"values")||[]})),E=r?N((0,y.default)(g),r):v.unit;!(0,c.default)(p)&&"value"in p&&(p=k(k({},p),{},{value:D(p.value,E),unit:E}));var b=P({type:t,unit:E,xKey:l,legend:i,valuesData:g,dot:v.dot,originalUnit:v.originalUnit,workload_kind:m});return k(k({},v),{},{title:a,unit:E,alert:p,data:b})};a.getXAxisTickFormatter=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){var t=e.time;return+new Date(t)})),a=(0,E.default)(t),r=(0,b.default)(t);return r-a>864e4?function(e){return(0,C.default)(e).format("MM-DD HH:mm")}:function(e){return(0,C.default)(e).format("HH:mm:ss")}};a.getLastMonitoringData=function(e){var t={};return Object.entries(e).forEach((function(e){var a=(0,i.default)(e,2),r=a[0],n=a[1],l=(0,h.default)(n,"data.result[0].values",[])||[],u=(0,c.default)(l)?(0,h.default)(n,"data.result[0].value",[])||[]:(0,g.default)(l);(0,v.default)(t,"[".concat(r,"].value"),u)})),t};a.getTimesData=function(e){var t=[];return e.forEach((function(e){((0,h.default)(e,"values")||[]).forEach((function(e){var a=(0,h.default)(e,"[0]",0);t.includes(a)||t.push(a)}))})),t.sort()};a.getZeroValues=function(){for(var e=[],t=parseInt(Date.now()/1e3,10)-6e3,a=0;a<10;a++)e[a]=[t,0],t+=600;return e};a.getColorByName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#fff";return S.COLORS_MAP[e]||e};a.startAutoRefresh=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=k({method:"fetchData",interval:5e3,leading:!0},t);if(e&&e[a.method]){var r=e[a.method];a.leading&&r({silentLoading:!0}),e.timer=setInterval((function(){r({silentLoading:!0})}),a.interval)}};a.stopAutoRefresh=function(e){e&&e.timer&&(clearInterval(e.timer),e.timer=null)};a.isSameDay=function(e,t){return Math.floor(e/864e5)===Math.floor(t/864e5)};var w=/(\d+)(\w+)/;a.timeAliasReg=w;a.timestampify=function(e){var t=e.match(w)||[],a=(0,i.default)(t,3),r=a[1],n=void 0===r?0:r,l=a[2];return Number(n)*(S.MILLISECOND_IN_TIME_UNIT[l]||0)};a.fillEmptyMetrics=function(e,t){if(!e.times||!e.start||!e.end)return t;var a=function(e){return String(e).replace(/\..*$/,"")},r=Math.floor((e.end-e.start)/e.times),n=e.times+1;return Object.values(t).forEach((function(t){var l=(0,h.default)(t,"data.result");(0,c.default)(l)||l.forEach((function(t){var l=t.values||[],u=l.reduce((function(e,t){return k(k({},e),{},(0,o.default)({},a(t[0]),t[1]))}),{});if(l.length<n){for(var i=[],c=0;c<n;c++){var s=a(e.start+c*r);i.push([s,u[s]||"0"])}t.values=i}}))})),t};var I=k(k(k(k(k({none:A([["",0]])},M([["bit",0],["Byte",8],["KB",8192],["MB",8*Math.pow(1024,2)],["GB",8*Math.pow(1024,3)],["TB",8*Math.pow(1024,4)]])),M([["bit/s",0],["Byte/s",8],["KB/s",8192],["MB/s",8*Math.pow(1024,2)],["GB/s",8*Math.pow(1024,3)],["TB/s",8*Math.pow(1024,4)]])),M([["bps",0],["Bps",8],["KBps",8192],["Mbps",Math.pow(1024,2)],["Gbps",Math.pow(1024,3)],["Tbps",Math.pow(1024,4)]])),M([["ms",0],["seconds",1e3],["minutes",6e4],["hours",36e5],["days",864e5],["weeks",6048e6],["months",2592e7]])),{},{"percent (0-100)":A([["%",0]]),"percent (0.0-1.0)":function(e,t){return A([["%",0]])(100*e,t)}});function M(e){var t=A(e),a=(0,l.default)(e),r=a.shift(),n=(0,i.default)(r,1)[0];return a.reduce((function(e,a){var r=(0,i.default)(a,2),n=r[0],l=r[1];return k(k({},e),{},(0,o.default)({},n,(function(e,a){return t(e*l,a)})))}),(0,o.default)({},n,t))}function A(e){return function(t){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t<0,n=Math.abs(t),l=0,u=0;u<e.length;u++){var o=(0,i.default)(e[u],2),c=o[1];if(!(n>=c))break;l=u}var s=(0,i.default)(e[l],2),f=s[0],d=s[1],p=0===d?n:n/d,m=p.toFixed(a);return 0===Number(m)?"0":"".concat(r?"-":"").concat(m," ").concat(f)}}a.unitTransformMap=I},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.trigger=void 0,a(12),a(10),a(6),a(27),a(33),a(16),a(8),a(13),a(9),a(4),a(7);var n=r(a(31)),l=r(a(26));function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.trigger=function(e){return e.prototype.trigger=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,l.default)(this,"props.rootStore")||this.rootStore;a&&a.triggerAction(e,o({store:this.store},t))},e}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(24),r(8),r(13),r(9),r(4),r(18),r(11),r(111),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(27),r(29),r(24),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(195),r(11),r(111),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(50)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(163)),m=n(r(67)),h=n(r(465)),v=n(r(0)),g=n(r(1)),y=n(r(5)),E=r(189),b=n(r(1753));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var _=function(e){(0,s.default)(r,e);var a=C(r);function r(e){var t;(0,i.default)(this,r),(t=a.call(this,e)).handleChange=function(e){var a=t.props,r=a.min,n=a.max,l=a.integer,u=e.target.value,o=function(e){t.setState({inputValue:e})};if(""!==u&&"-"!==u){if(/^-?\d*\.?\d*$/.test(u)){var i=Number(u);isNaN(i)||(!(0,p.default)(r)&&i<r&&(i=r),!(0,p.default)(n)&&i>n&&(i=n),l||!u.endsWith(".")&&!u.endsWith("0")||i!==Number(u)||"".concat(i)===u||(i=u),o&&o(i))}}else o(u)},t.handleAdd=function(){var e=t.props,a=e.value,r=e.max,n=e.onChange;((0,p.default)(r)||a<r)&&n(Number(a)+1)},t.handleSubtract=function(){var e=t.props,a=e.value,r=e.min,n=e.onChange;((0,p.default)(r)||a>r)&&n(Number(a)-1)},t.handleBlur=function(){var e=t.props,a=e.onChange,r=e.unit,n=t.state.inputValue;""===n||"-"===n||(0,m.default)(n)||(n=Number(n)),!(0,p.default)(n)&&r&&(n="".concat(n).concat(r)),a&&a(n)};var n=e.value,l=e.defaultValue,u=e.unit,o=null!=n?n:l;return u&&(o=(0,h.default)(o,u)),t.state={inputValue:o},t}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){if(e.value!==this.props.value){var t=this.props.value,a=this.props.unit;a&&(t=(0,h.default)(t,a)),this.state.inputValue!==t&&this.setState({inputValue:t})}}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.unit,n=e.showUnit,u=(e.value,e.defaultValue,e.onChange,e.integer),i=e.controls,c=(0,o.default)(e,["className","unit","showUnit","value","defaultValue","onChange","integer","controls"]),s=u?/[-0-9]/:/[-.0-9]/,f=this.state.inputValue,d=S(S({type:"text"},c),{},{onKeyPress:function(e){s.test(e.key)||e.preventDefault()},value:f,onChange:this.handleChange,onBlur:this.handleBlur});return r&&n?v.default.createElement("div",{className:(0,y.default)(a,b.default.withUnit)},v.default.createElement(E.Input,d),v.default.createElement("span",{className:b.default.unit},"core"===r?t("CORE_PL"):r)):i?v.default.createElement("div",{className:(0,y.default)(a,b.default.withUnit)},v.default.createElement(E.Input,d),v.default.createElement("div",{className:b.default.buttonWrapper},v.default.createElement(E.Icon,{className:b.default.iconUp,name:"chevron-up",clickable:!0,onClick:this.handleAdd}),v.default.createElement(E.Icon,{className:b.default.iconDown,name:"chevron-down",clickable:!0,onClick:this.handleSubtract}))):v.default.createElement(E.Input,(0,l.default)({className:a},d))}}]),r}(v.default.Component);_.propTypes={unit:g.default.string,showUnit:g.default.bool,value:g.default.oneOfType([g.default.string,g.default.number]),defaultValue:g.default.oneOfType([g.default.string,g.default.number]),min:g.default.number,max:g.default.number,integer:g.default.bool,controls:g.default.bool,onChange:g.default.func},_.defaultProps={unit:"",showUnit:!1,integer:!1,controls:!1,onChange:function(){}};var k=_;a.default=k},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(88),r(51),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(71),r(197),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=T,a.withProjectList=function(e){return T(N({injectStores:["rootStore","projectStore"]},e))},a.withClusterList=function(e){return T(N({injectStores:["rootStore","clusterStore"]},e))},a.withDevOpsList=function(e){return T(N({injectStores:["rootStore","devopsStore"]},e))},a.ListPage=void 0,r(12),r(32),r(10),r(6),r(88),r(27),r(247),r(51),r(29),r(446),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(69),r(71),r(197),r(7);var l=n(r(58)),u=n(r(317)),o=n(r(38)),i=n(r(31)),c=n(r(50));r(35);var s=n(r(39)),f=n(r(25)),d=n(r(28)),p=n(r(41)),m=n(r(42)),h=n(r(37)),v=n(r(0)),g=r(17),y=r(243),E=n(r(808)),b=n(r(67)),O=r(248),S=n(r(830)),C=r(61),_=r(804),k=n(r(92));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}function T(e){return function(a){var r=(0,y.observer)(a),n=function(a){(0,p.default)(l,a);var n=D(l);function l(t){var a;return(0,f.default)(this,l),(a=n.call(this,t)).getData=(0,s.default)(o.default.mark((function e(){var t,r,n,l,u,i=arguments;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.silent,n=(0,c.default)(t,["silent"]),a.query=n,l={},a.props.clusterStore&&(l.namespace=a.props.clusterStore.project),r&&(a.list.silent=!0),u=N(N(N({},l),a.props.match.params),n),a.searchByApp&&(u.searchByApp=a.searchByApp),e.next=9,a.store.fetchList(u);case 9:a.list.silent=!1;case 10:case"end":return e.stop()}}),e)}))),a.getSortOrder=function(e){return a.list.order===e&&(a.list.reverse?"descend":"ascend")},a.getFilteredValue=function(e){return a.list.filters[e]},a.store=e.store||t.store||{},a.list=a.store.list||{},a.module=e.module||"",a.authKey=e.authKey||e.module,a.name=e.name||"",a.title="".concat(e.name,"_PL"),a.rowKey=e.rowKey||"name",a.query={},a.skipAuth=e.skipAuth,a}return(0,d.default)(l,[{key:"getTableProps",value:function(){var e=this.list,t=e.data,a=e.filters,r=void 0===a?{}:a,n=e.keyword,l=e.selectedRowKeys,u=e.isLoading,o=e.total,i=e.page,c=e.limit,s=e.silent,f={total:o,page:i,limit:c},d=!1===u&&0===o&&Object.keys(r).length<=0&&(0,b.default)(n);return{data:t,filters:r,keyword:n,pagination:f,isLoading:u,selectedRowKeys:(0,g.toJS)(l),silentLoading:s,isEmptyList:d,rowKey:this.rowKey,module:this.module,name:this.name,enabledActions:this.enabledActions,itemActions:this.defaultItemActions,tableActions:this.defaultTableActions,tableId:this.props.match.path}}},{key:"getBannerProps",value:function(){return{className:"margin-b12",title:t(this.title),description:t("".concat(this.name.replace(/\s+/g,"_").toUpperCase(),"_DESC")),module:this.module}}},{key:"render",value:function(){return v.default.createElement(r,(0,u.default)({name:this.name,module:this.module,store:this.store,prefix:this.prefix,routing:this.routing,query:this.query,bannerProps:this.getBannerProps(),tableProps:this.getTableProps(),getSortOrder:this.getSortOrder,getFilteredValue:this.getFilteredValue,enabledActions:this.enabledActions,trigger:this.trigger.bind(this),getData:this.getData},this.props))}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"prefix",get:function(){return this.props.match.url}},{key:"defaultItemActions",get:function(){var e=this;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(t){return e.trigger("resource.baseinfo.edit",{detail:t,success:e.routing.query})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(t){return e.trigger("resource.delete",{type:e.name,resource:t.name,detail:t,success:e.routing.query})}}]}},{key:"enabledActions",get:function(){var e=this.props.match.url;return globals.app.getActions(N(N({module:this.authKey,skipAuth:this.skipAuth},this.props.match.params),{},{project:this.props.match.params.namespace,fedproject:e.indexOf("federatedprojects")>-1,devops:this.props.match.params.devops,nodegroup:this.props.match.params.group}))}},{key:"defaultTableActions",get:function(){var e=this;return{onFetch:this.routing.query,onSelectRowKeys:this.list.setSelectRowKeys,selectActions:[{key:"delete",type:"danger",text:t("DELETE"),action:"delete",onClick:function(){return e.trigger("resource.batch.delete",{type:e.name,rowKey:e.rowKey,success:e.routing.query,k8sVersion:e.props.k8sVersion})}}]}}},{key:"searchByApp",get:function(){var t;return null!==(t=e.searchByApp)&&void 0!==t&&t}}]),l}(v.default.Component),i=e.injectStores||["rootStore"];return y.inject.apply(void 0,(0,l.default)(i))((0,y.observer)((0,_.trigger)(n)))}}var P=function(e){(0,p.default)(a,e);var t=D(a);function a(){return(0,f.default)(this,a),t.apply(this,arguments)}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.noWatch||this.initWebsocket(),this.unsubscribe=this.routing.history.subscribe((function(t){if(t.pathname===e.props.match.url){var a=(0,O.parse)(t.search.slice(1));e.query=a||{},e.props.getData(a)}}))}},{key:"componentDidUpdate",value:function(e){(0,S.default)(e.match.params,this.props.match.params)||(this.props.getData(),this.props.noWatch||this.initWebsocket())}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe(),this.disposer&&this.disposer()}},{key:"initWebsocket",value:function(){var e=this,t=this.props.isFederated;if("getWatchListUrl"in this.store){var a=this.store.getWatchListUrl(this.props.match.params);this.websocket.watch(a);var r=(0,E.default)((function(t){if(!e.store.list.isLoading){var a=(0,O.parse)(location.search.slice(1));return e.props.getData(N(N(N({},a),t),{},{silent:!0}))}}),1e3),n=C.MODULE_KIND_MAP[this.props.module];t&&(n="Federated".concat(n));var l=t?k.default.federated(this.store.mapper):this.store.mapper;this.disposer=(0,g.reaction)((function(){return e.websocket.message}),this.props.onMessage||function(t){if(t.object.kind===n)if("MODIFIED"===t.type){var a=N(N({},e.props.match.params),l((0,g.toJS)(t.object)));e.store.list.updateItem(a)}else"DELETED"!==t.type&&"ADDED"!==t.type||r()})}}},{key:"render",value:function(){return this.props.children}},{key:"store",get:function(){return this.props.store}},{key:"websocket",get:function(){return this.props.rootStore.websocket}},{key:"routing",get:function(){return this.props.rootStore.routing}}]),a}(v.default.Component);a.ListPage=P},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(25)),u=n(a(28)),o=n(a(41)),i=n(a(42)),c=n(a(37)),s=n(a(163)),f=r(a(0)),d=n(a(1)),p=n(a(5)),m=n(a(863)),h=n(a(2117));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,r=e.name,n=e.type,l=e.total,u=e.ready,o=e.flicker;return f.default.createElement("span",{className:(0,p.default)(h.default.status,a),style:t},f.default.createElement(m.default,{className:h.default.indicator,type:n,flicker:o}),f.default.createElement("span",{className:"font-bold"},r),!(0,s.default)(l)&&!(0,s.default)(u)&&f.default.createElement("span",null," (",u,"/",l,")"))}}]),a}(f.PureComponent);t.default=g,g.propTypes={style:d.default.string,className:d.default.string,name:d.default.string,total:d.default.number,ready:d.default.number,type:d.default.string,flicker:d.default.bool},g.defaultProps={type:"Running",flicker:!1}},,,function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(913)),l=(0,r(a(1143)).default)(n.default);t.default=l},,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(12),a(109),a(3),a(10),a(70),a(66),a(20),a(4),a(18),a(30),a(11),a(73),a(139),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(3),a(10),a(70),a(66),a(20),a(29),a(4),a(18),a(43),a(11),a(73);var l=n(a(317)),u=n(a(58)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=n(a(0)),p=r(a(1)),m=n(a(67)),h=n(a(198)),v=a(189),g=n(a(5)),y=a(61),E=n(a(3371)),b=n(a(3372)),O=n(a(3373)),S=n(a(1073));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var _=function(e){(0,c.default)(a,e);var t=C(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={openTip:""},e.handleToggle=function(t){e.setState((function(e){return{openTip:e.openTip===t?"":t}}))},e.handleClose=function(t){e.hiddenTips.includes(t)||(localStorage.setItem("".concat(globals.user.username,"-banner-tips"),[].concat((0,u.default)(e.hiddenTips),[t]).join(",")),e.forceUpdate())},e}return(0,i.default)(a,[{key:"renderTips",value:function(e){var t=this;return d.default.createElement("div",{className:S.default.tips},e.filter((function(e){return!t.hiddenTips.includes(e.title)})).map((function(e,a){return d.default.createElement(E.default,(0,l.default)({key:a},e,{onClose:t.handleClose,onToggle:t.handleToggle,open:e.title===t.state.openTip}))})))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.title,r=e.description,n=e.icon,l=e.module,u=e.tips,o=e.tabs,i=e.extra,c=e.routes,s=e.tabsActions;return d.default.createElement("div",{className:(0,g.default)(S.default.wrapper,t)},d.default.createElement("div",{className:S.default.titleWrapper},d.default.createElement("div",{className:S.default.icon},(0,h.default)(n)?n():d.default.createElement(v.Icon,{name:n||y.ICON_TYPES[l]||"catalog",size:48})),d.default.createElement("div",{className:S.default.title},d.default.createElement("div",{className:"h3"},a),d.default.createElement("p",{className:"text-second"},r))),!(0,m.default)(c)&&d.default.createElement(b.default,{routes:c}),!(0,m.default)(o)&&d.default.createElement(O.default,{tabs:o,tabsActions:s}),i,!(0,m.default)(u)&&this.renderTips(u))}},{key:"hiddenTips",get:function(){return(localStorage.getItem("".concat(globals.user.username,"-banner-tips"))||"").split(",")}}]),a}(d.default.Component);t.default=_,_.propTypes={className:p.default.string,title:p.default.string,description:p.default.string,icon:(0,p.oneOfType)([p.default.string,p.default.func]),module:p.default.string,tips:p.default.array,routes:p.default.array,tabs:p.default.object,extra:p.default.node,tabsActions:p.default.node},_.defaultProps={tips:[],tabs:{},routes:[]}},,function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(44),r(6),r(20),r(51),r(14),r(24),r(1318),r(886),r(99),r(8),r(13),r(9),r(190),r(30),r(71),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.getAppIdByKind=function(e){return P[e]},a.convertAppIdToName=function(e){return(0,m.default)(Object.entries(D).find((function(t){return(0,o.default)(t,2)[1]===e})),"[0]")},a.validateStorage=Y,a.isValid=W,a.mergeCKInstallationData=function(e){var t=e.name,a=e.valuesJson,r=e.namespace,n=(0,f.default)({},H[D.ClickHouse],(0,p.default)(a,W)),l=N({},E.ckYaml.resources);(0,h.default)(l,"metadata.name",t),(0,h.default)(l,"metadata.namespace",r),(0,h.default)(l,"spec.templates.podTemplates[0].spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]);var u=JSON.stringify(l),o=n.specifications,i=n.volume,c=n.volumeType,s=n.nodes,d=n.replicasets,m=n.username,v=n.password,g=Q(o),y=g.cpu,b=g.memory;u=u.replace(/{"memory":"1Gi","cpu":"500m"}/g,'{"memory":"'.concat(b,'","cpu":"').concat(y,'"}')),u=c?u.replace("csi-qingcloud",c):u.replace(',"storageClassName":"csi-qingcloud"',"");u=(u=u.replace('{"storage":"10Gi"}','{"storage":"'.concat(i,'"}'))).replace('{"shardsCount":1,"replicasCount":2}','{"shardsCount":'.concat(Number(s),',"replicasCount":').concat(Number(d),"}")),k.userNameRegx.test(m)&&k.passwordRegx.test(v)&&(u=u.replace('"clickhouse/password":"c1ickh0use0perator","clickhouse/networks/ip":["127.0.0.1","::/0"],"clickhouse/profile":"default","clickhouse/quotas":"default"',K(m,v)));return u},a.generateClickHouseUserString=K,a.getCpuAndMemoryFromSpecifications=Q,a.mergeMySQLInstallationData=function(e){var t=e.name,a=e.valuesJson,r=e.namespace,n=e.restoreParams,l=(0,f.default)({},H[D.MySQL],(0,p.default)(a,W)),u=l.version,o=l.specifications,i=l.volume,c=l.volumeType,s=l.nodes,d=Q(o),m=JSON.parse(JSON.stringify(O.mysqlYaml.resources));(0,h.default)(m,"metadata.name",t),(0,h.default)(m,"metadata.namespace",r),(0,h.default)(m,"spec.mysqlOpts.resources.requests",d),(0,h.default)(m,"spec.mysqlOpts.resources.limits",d),(0,h.default)(m,"spec.replicas",s+1),(0,h.default)(m,"spec.persistence.storageClass",c),(0,h.default)(m,"spec.persistence.size",i),(0,h.default)(m,"spec.mysqlVersion",u),(0,h.default)(m,"spec.podPolicy.sidecarImage",w[u]),(0,h.default)(m,"spec.mysqlOpts.image",I[u]),(0,h.default)(m,"spec.podPolicy.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[0].labelSelector.matchExpressions[0].values",[t]),n&&(0,h.default)(m,"spec.restoreFrom",n.restoreFrom);return JSON.stringify(m)},a.mergeRedisClusterInstallationData=function(e){var t=e.name,a=e.namespace,r=e.valuesJson,n=(0,f.default)({},H[D.MySQL],(0,p.default)(r,W)),l=n.version,u=n.volume,o=n.volumeType,i=n.nodes,c=n.password,s=n.specifications,d=n.predixyNodes,m=n.predixySpecification,v=n.endpointType,y=Q(s),E=JSON.parse(JSON.stringify(g.redisCluster.resource));J(E,{name:t,namespace:a,volume:u,volumeType:o,nodes:i,password:c,cm:y,version:l}),(0,h.default)(E,"spec.clusterSize",i),(0,h.default)(E,"spec.redisLeader.replicas",i),(0,h.default)(E,"spec.redisFollower.replicas",i),(0,h.default)(E,"spec.kubernetesConfig.image",M[l]),"7.0.4"===l&&0===d&&"true"===v&&(0,h.default)(E,"spec.kubernetesConfig.endpointType","hostname");(0,h.default)(E,"spec.redisLeader.redisConfig.additionalRedisConfig","".concat(t,"-external-config")),(0,h.default)(E,"spec.redisFollower.redisConfig.additionalRedisConfig","".concat(t,"-external-config")),(0,h.default)(E,"spec.redisLeader.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]),(0,h.default)(E,"spec.redisFollower.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]),(0,h.default)(E,"spec.redisProxy.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]),(0,h.default)(E,"spec.redisProxy.enabled",d>0),(0,h.default)(E,"spec.redisProxy.replicas",d),(0,h.default)(E,"spec.redisProxy.predixyConfigParams.clusterName",t);var b=Q(m);return(0,h.default)(E,"spec.redisProxy.resources.requests",b),(0,h.default)(E,"spec.redisProxy.resources.limits",b),JSON.stringify(E)},a.getRedisClusterRelatedResources=function(e){return Z(g.redisCluster,e)},a.mergeRedisSentinelInstallationData=function(e){var t=e.name,a=e.namespace,r=e.valuesJson,n=(0,f.default)({},H[D.MySQL],(0,p.default)(r,W)),l=n.version,u=n.volume,o=n.volumeType,i=n.nodes,c=n.password,s=Q(n.specifications),d=N({},g.redisSentinal.resource);return J(d,{name:t,namespace:a,volume:u,volumeType:o,password:c,cm:s,version:l}),(0,h.default)(d,"spec.clusterSize",i),(0,h.default)(d,"spec.redisReplica.replicas",i),(0,h.default)(d,"spec.kubernetesConfig.image","radondb/redis:v".concat(l)),(0,h.default)(d,"spec.redisReplica.redisConfig.additionalRedisConfig","".concat(t,"-external-config")),(0,h.default)(d,"spec.redisSentinel.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]),(0,h.default)(d,"spec.redisReplica.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]),JSON.stringify(d)},a.getRedisSentinelRelatedResources=function(e){return Z(g.redisSentinal,e)},a.mergeMongoDBInstallationData=function(e){var t=e.name,a=e.namespace,r=e.valuesJson,n=(0,f.default)({},H[D.MySQL],(0,p.default)(r,W)),l=n.specifications,u=n.nodes,o=n.volume,i=n.volumeType,c=n.version,s=Q(l),d=N({},y.mongoYaml.resources);return(0,h.default)(d,"metadata.name",t),(0,h.default)(d,"metadata.namespace",a),(0,h.default)(d,"spec.members",u),(0,h.default)(d,"spec.version",c),(0,h.default)(d,"spec.statefulSet.spec.template.spec.containers[0].resources.requests",s),(0,h.default)(d,"spec.statefulSet.spec.template.spec.containers[0].resources.limits",s),(0,h.default)(d,"spec.prometheus.passwordSecretRef.name","".concat(t,"-metrics-password")),(0,h.default)(d,"spec.statefulSet.spec.volumeClaimTemplates[0].spec.storageClassName",i),(0,h.default)(d,"spec.statefulSet.spec.volumeClaimTemplates[0].spec.resources.requests.storage",o),(0,h.default)(d,"spec.users[0].passwordSecretRef.name","".concat(t,"-operator-password")),(0,h.default)(d,"spec.users[0].scramCredentialsSecretName","".concat(t,"-operator-password")),(0,h.default)(d,"spec.users[1].passwordSecretRef.name","".concat(t,"-root-password")),(0,h.default)(d,"spec.users[1].scramCredentialsSecretName","".concat(t,"-root-password")),(0,h.default)(d,"spec.statefulSet.spec.template.spec.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[0].podAffinityTerm.labelSelector.matchExpressions[0].values",[t]),JSON.stringify(d)},a.getMongoDBRelatedResources=function(e){var t=e.name,a=e.namespace,r=[],n=y.mongoYaml.masterSecret;(0,h.default)(n,"metadata.name","".concat(t,"-operator-password")),(0,h.default)(n,"metadata.namespace",a),r.push({name:"masterSecret",data:JSON.stringify(n)});var l=y.mongoYaml.rootSecret;return(0,h.default)(l,"metadata.name","".concat(t,"-root-password")),(0,h.default)(l,"metadata.namespace",a),r.push({name:"rootSecret",data:JSON.stringify(l)}),r},a.getSecretCrd=function(e){var t=e.name,a=e.namespace,r={apiVersion:"v1",kind:"Secret",type:"Opaque",metadata:{name:"".concat(t,"-userpassword-secret"),namespace:a}};return JSON.stringify(r)},a.mergePGInstallationData=function(e){var t=e.name,a=e.valuesJson,r=e.namespace,n=e.restoreParams,l=(0,f.default)({},H[D.PostgreSQL],(0,p.default)(a,W)),u=l.specifications,o=l.nodes,i=l.volume,c=l.volumeType,s=l.version,d=Q(u),m=JSON.parse(JSON.stringify(b.pgYaml.resources));if((0,h.default)(m,"metadata.name",t),(0,h.default)(m,"metadata.namespace",r),(0,h.default)(m,"spec.postgresql.readwriteinstance.podspec.containers[0].resources",{requests:d,limits:d}),(0,h.default)(m,"spec.autofailover.volumeClaimTemplates[0].spec.storageClassName",c),(0,h.default)(m,"spec.postgresql.readwriteinstance.volumeClaimTemplates[0].spec.storageClassName",c),(0,h.default)(m,"spec.postgresql.readwriteinstance.volumeClaimTemplates[0].spec.resources.requests.storage",i),(0,h.default)(m,"spec.postgresql.readwriteinstance.replicas",o),(0,h.default)(m,"spec.autofailover.podspec.containers[0].image","".concat(A[s],"-v1.2.0")),(0,h.default)(m,"spec.postgresql.readwriteinstance.podspec.containers[0].image","".concat(A[s],"-v1.2.0")),(0,h.default)(m,"spec.postgresql.readonlyinstance.podspec.containers[0].image","".concat(A[s],"-v1.2.0")),(0,h.default)(m,"spec.deletes3",!0),n){var v=n.backupId,g=n.S3,y=n.backupToS3Name;(0,h.default)(m,"spec.restore.froms3.recovery",v),(0,h.default)(m,"spec.restore.froms3.name",y),(0,h.default)(m,"spec.S3",g)}return JSON.stringify(m)},a.mergeECKInstallationData=function(e){var t=e.name,a=e.valuesJson,r=e.namespace,n=(0,f.default)({},H[D.Elasticsearch],(0,p.default)(a,W)),l=JSON.parse(JSON.stringify(S.eckYaml.resources));(0,h.default)(l,"metadata.name",t),(0,h.default)(l,"metadata.namespace",r);var u=(0,m.default)(l,"spec.nodeSets"),i=Object.entries(n).map((function(e){var t=(0,o.default)(e,2),a=t[0],r=t[1],n=r.nodes,l=r.specifications,i=r.volume,c=r.volumeType,s=u.find((function(e){return e.name===a}));if(s){var f=Q(l),d=(0,m.default)(s,"name");(0,h.default)(s,"name","".concat(d,"-").concat(i.toLowerCase())),(0,h.default)(s,"count",n),(0,h.default)(s,"podTemplate.spec.containers[0].resources",{limits:f,requests:f}),(0,h.default)(s,"podTemplate.spec.containers[0].env[0].value","-Xms".concat(parseInt(f.memory,10)/2,"g -Xmx").concat(parseInt(f.memory,10)/2,"g")),(0,h.default)(s,"volumeClaimTemplates[0].spec.resources.requests.storage",i),(0,h.default)(s,"volumeClaimTemplates[0].spec.storageClassName",c)}return s})).filter((function(e){return e&&e.count>0}));return(0,h.default)(l,"spec.nodeSets",i),JSON.stringify(l)},a.getECKRelatedResources=function(e){var t=e.name,a=e.kibanaValues,r=e.namespace,n=a.nodes,l=a.specifications,u=JSON.parse(JSON.stringify(S.eckYaml.kibana)),o=Q(l);return(0,h.default)(u,"metadata.name",t),(0,h.default)(u,"metadata.namespace",r),(0,h.default)(u,"spec.count",n),(0,h.default)(u,"spec.elasticsearchRef.name",t),(0,h.default)(u,"spec.elasticsearchRef.namespace",r),(0,h.default)(u,"spec.podTemplate.spec.containers[0].resources.requests",o),(0,h.default)(u,"spec.podTemplate.spec.containers[0].resources.limits",o),[{name:"kibana",data:JSON.stringify(u)}]},a.mergeKafkaInstallationData=function(e){var t=e.name,a=e.valuesJson,r=e.namespace,n=(0,f.default)({},H[D.Kafka],(0,p.default)(a,W)),l=JSON.parse(JSON.stringify(C.kafkaYaml.resources));(0,h.default)(l,"metadata.name",t),(0,h.default)(l,"metadata.namespace",r);var u=n.kafka,o=n.zookeeper,i=Q(u.specifications);(0,h.default)(l,"spec.kafka.version",u.version),(0,h.default)(l,"spec.kafka.replicas",u.nodes),(0,h.default)(l,"spec.kafka.resources.requests",i),(0,h.default)(l,"spec.kafka.resources.limits",i),(0,h.default)(l,"spec.kafka.storage.volumes[0]",{id:0,type:"persistent-claim",class:u.volumeType,size:u.volume,deleteClaim:!0}),(0,h.default)(l,"spec.kafka.metricsConfig.valueFrom.configMapKeyRef.name","".concat(t,"-kafka-metrics"));var c=Q(o.specifications);return(0,h.default)(l,"spec.zookeeper.replicas",o.nodes),(0,h.default)(l,"spec.zookeeper.resources.requests",c),(0,h.default)(l,"spec.zookeeper.resources.limits",c),(0,h.default)(l,"spec.zookeeper.storage",{type:"persistent-claim",class:o.volumeType,size:o.volume,deleteClaim:!0}),(0,h.default)(l,"spec.zookeeper.metricsConfig.valueFrom.configMapKeyRef.name","".concat(t,"-kafka-metrics")),JSON.stringify(l)},a.getKafkaRelatedResources=function(e){var t=e.namespace,a=e.name,r=JSON.parse(JSON.stringify(C.kafkaYaml.configMap));(0,h.default)(r,"metadata.name","".concat(a,"-kafka-metrics")),(0,h.default)(r,"metadata.namespace",t);var n=JSON.parse(JSON.stringify(C.kafkaYaml.podMonitor));return(0,h.default)(n,"metadata.name","".concat(a,"-kafka-resources-metrics")),(0,h.default)(n,"metadata.namespace",t),(0,h.default)(n,"spec.namespaceSelector.matchNames",[t]),[{name:"configMap",data:JSON.stringify(r)},{name:"podMonitor",data:JSON.stringify(n)}]},a.mergeOpenSearchInstallationData=function(e){var t=e.name,a=e.valuesJson,r=e.namespace,n=(0,f.default)({},H[D.OpenSearch],(0,p.default)(a,W)),u=n.version,i=(n.password,n.username,n.logstash,n.dashboard),c=(0,l.default)(n,["version","password","username","logstash","dashboard"]),s=JSON.parse(JSON.stringify(_.opensearchYaml.resources));(0,h.default)(s,"metadata.name",t),(0,h.default)(s,"metadata.namespace",r),(0,h.default)(s,"spec.general.serviceName",t),(0,h.default)(s,"spec.general.version",u),(0,h.default)(s,"spec.dashboards.version",u),"2.8.0"===u&&(0,h.default)(s,'spec.general.additionalConfig["prometheus.indices"]',"false");(0,h.default)(s,"spec.dashboards.enable",i.nodes>0),(0,h.default)(s,"spec.dashboards.replicas",i.nodes),(0,h.default)(s,"spec.security.config.securityConfigSecret.name","".concat(t,"-securityconfig-secret")),(0,h.default)(s,"spec.security.config.adminCredentialsSecret.name","".concat(t,"-admin-secret"));var d=Q(i.specifications);(0,h.default)(s,"spec.dashboards.resources",{limits:d,requests:d});var v=(0,m.default)(s,"spec.nodePools"),g=Object.entries(c).map((function(e){var t=(0,o.default)(e,2),a=t[0],r=t[1],n=r.nodes,l=r.specifications,u=r.volume,i=r.volumeType,c=v.find((function(e){return(0,m.default)(e,'additionalConfig["node.attr.datatier"]')===a}));c||(c=JSON.parse(JSON.stringify(_.opensearchYaml.node)),(0,h.default)(c,'additionalConfig["node.attr.datatier"]',a),(0,h.default)(c,"component","data-node-".concat(a)));var s=Q(l);return(0,h.default)(c,"replicas",n),(0,h.default)(c,"resources",{limits:s,requests:s}),(0,h.default)(c,"diskSize",u),(0,h.default)(c,"persistence.pvc.storageClass",i),c})).filter((function(e){return e&&e.replicas>0}));return(0,h.default)(s,"spec.nodePools",g),JSON.stringify(s)},a.getOpenSearchRelatedResources=function(e){var t=e.name,a=e.logstashValues,r=e.namespace,n=e.username,l=e.password,u=a.nodes,o=a.specifications,i=JSON.parse(JSON.stringify(_.opensearchYaml.logstash)),c=Q(o);(0,h.default)(i,"metadata.name",t),(0,h.default)(i,"metadata.namespace",r),(0,h.default)(i,"spec.replicas",u);var s=parseInt(c.memory,10)/2;(0,h.default)(i,"spec.config.jvm","-Xms".concat(s,"g -Xmx").concat(s,"g")),(0,h.default)(i,"spec.config.openSearchInfo.openSearchCluster.name",t),(0,h.default)(i,"spec.config.openSearchInfo.openSearchCluster.namespace",r),(0,h.default)(i,"spec.config.openSearchInfo.openSearchService.name",t),(0,h.default)(i,"spec.podTemplate.spec.containers[0].resources.requests",c),(0,h.default)(i,"spec.podTemplate.spec.containers[0].resources.limits",c);var f=JSON.parse(JSON.stringify(_.opensearchYaml.logstashSecret));(0,h.default)(f,"metadata.name","".concat(t,"-logstash-password")),(0,h.default)(f,"metadata.namespace",r);var d=JSON.parse(JSON.stringify(_.opensearchYaml.adminSecret));(0,h.default)(d,"metadata.name","".concat(t,"-admin-secret")),(0,h.default)(d,"metadata.namespace",r),(0,h.default)(d,"data.username",(0,v.safeBtoa)(n||"admin")),(0,h.default)(d,"data.password",(0,v.safeBtoa)(l||"RadonDB@123"));var p=JSON.parse(JSON.stringify(_.opensearchYaml.securityConfigSecret));return(0,h.default)(p,"metadata.name","".concat(t,"-securityconfig-secret")),(0,h.default)(p,"metadata.namespace",r),[{name:"logstash",data:JSON.stringify(i)},{name:"logstashSecret",data:JSON.stringify(f)},{name:"adminSecret",data:JSON.stringify(d)},{name:"securityConfigSecret",data:JSON.stringify(p)}]},a.ValuesJSON=a.ValuesSchema=a.SpecificationOptionsObject=a.getNodeRoleOptions=a.SpecificationsOptions=a.PGImage=a.RedisImage=a.MySQLOptsImage=a.MySQLSidecarImage=a.RadonDBAppIds=a.RadonDBAppId=void 0;var l=n(r(50)),u=n(r(31)),o=n(r(97));r(12),r(109),r(3),r(10),r(44),r(6),r(20),r(27),r(51),r(141),r(14),r(120),r(24),r(1318),r(886),r(33),r(16),r(99),r(8),r(13),r(9),r(4),r(190),r(440),r(321),r(30),r(195),r(71),r(7);var i,c,s,f=n(r(872)),d=n(r(67)),p=n(r(338)),m=n(r(26)),h=n(r(68)),v=r(324),g=r(1942),y=r(1943),E=r(1944),b=r(1945),O=r(1946),S=r(1320),C=r(992),_=r(1321),k=r(1126);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var D={ClickHouse:"app-clickhouse",PostgreSQL:"app-postgresql",MySQL:"app-mysql",RedisSentinel:"app-redis-sentinel",RedisCluster:"app-redis-cluster",MongoDB:"app-mongodb",Elasticsearch:"app-eck",Kafka:"app-kafka",OpenSearch:"app-opensearch"};a.RadonDBAppId=D;var T=Object.values(D);a.RadonDBAppIds=T;var P={ClickHouseInstallation:D.ClickHouse,PostgreSQL:D.PostgreSQL,MysqlCluster:D.MySQL,RedisSentinel:D.RedisSentinel,RedisCluster:D.RedisCluster,MongoDBCommunity:D.MongoDB,Elasticsearch:D.Elasticsearch,Kafka:D.Kafka,OpenSearchCluster:D.OpenSearch};var w={5.7:"radondb/mysql57-sidecar:v2.3.0","8.0":"radondb/mysql80-sidecar:v2.3.0"};a.MySQLSidecarImage=w;var I={5.7:"percona/percona-server:5.7.39","8.0":"percona/percona-server:8.0.25"};a.MySQLOptsImage=I;var M={"6.2.5":"radondb/redis:v6.2.5","7.0.4":"nosqlpass/redis:v7.0.4"};a.RedisImage=M;var A={12:"radondb/radondb-postgresql:12.12",13:"radondb/radondb-postgresql:13.8",14:"radondb/radondb-postgresql:14.5",15:"radondb/radondb-postgresql:15.0"};a.PGImage=A;var j=[{label:t("CORE_GIB",{core:"1",gib:"1"}),value:"1000m, 1Gi"},{label:t("CORE_GIB",{core:"1",gib:"2"}),value:"1000m, 2Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"2",gib:"8"}),value:"2000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"16"}),value:"4000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"32"}),value:"8000m, 32Gi"},{label:t("CORE_GIB",{core:"8",gib:"64"}),value:"8000m, 64Gi"},{label:t("CORE_GIB",{core:"16",gib:"32"}),value:"16000m, 32Gi"},{label:t("CORE_GIB",{core:"16",gib:"64"}),value:"16000m, 64Gi"},{label:t("CORE_GIB",{core:"16",gib:"128"}),value:"16000m, 128Gi"},{label:t("CORE_GIB",{core:"32",gib:"128"}),value:"32000m, 128Gi"}];a.SpecificationsOptions=j;var x=[{label:t("CORE_GIB",{core:"1",gib:"1"}),value:"1000m, 1Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"2",gib:"8"}),value:"2000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"32"}),value:"8000m, 32Gi"}],L=[{label:t("CORE_GIB",{core:"1",gib:"1"}),value:"1000m, 1Gi"},{label:t("CORE_GIB",{core:"2",gib:"2"}),value:"2000m, 2Gi"},{label:t("CORE_GIB",{core:"4",gib:"4"}),value:"4000m, 4Gi"}],U=[{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"2",gib:"8"}),value:"2000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"32"}),value:"8000m, 32Gi"}],z=[{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"2",gib:"8"}),value:"2000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"16"}),value:"4000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"32"}),value:"8000m, 32Gi"},{label:t("CORE_GIB",{core:"16",gib:"64"}),value:"16000m, 64Gi"}],F={master:[{label:t("CORE_GIB",{core:"1",gib:"2"}),value:"1000m, 2Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"2",gib:"8"}),value:"2000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"}],hot:z,warm:z,cold:z,kibana:[{label:t("CORE_GIB",{core:"1",gib:"2"}),value:"1000m, 2Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"}]},G={master:F.master,hot:z,warm:z,cold:z,dashboard:F.master,logstash:[{label:t("CORE_GIB",{core:"1",gib:"2"}),value:"1000m, 2Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"2",gib:"8"}),value:"2000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"4",gib:"16"}),value:"4000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"32"}),value:"8000m, 32Gi"},{label:t("CORE_GIB",{core:"16",gib:"32"}),value:"16000m, 32Gi"},{label:t("CORE_GIB",{core:"16",gib:"64"}),value:"16000m, 64Gi"}]},V={kafka:[{label:t("CORE_GIB",{core:"1",gib:"1"}),value:"1000m, 1Gi"},{label:t("CORE_GIB",{core:"1",gib:"2"}),value:"1000m, 2Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"},{label:t("CORE_GIB",{core:"8",gib:"16"}),value:"8000m, 16Gi"},{label:t("CORE_GIB",{core:"8",gib:"32"}),value:"8000m, 32Gi"}],zookeeper:[{label:t("CORE_GIB",{core:"1",gib:"1"}),value:"1000m, 1Gi"},{label:t("CORE_GIB",{core:"1",gib:"2"}),value:"1000m, 2Gi"},{label:t("CORE_GIB",{core:"2",gib:"4"}),value:"2000m, 4Gi"},{label:t("CORE_GIB",{core:"4",gib:"8"}),value:"4000m, 8Gi"}]};a.getNodeRoleOptions=function(e,a){switch(e){case D.Elasticsearch:return function(e){switch(e){case"specifications":return[{label:t("PRIMARY_NODE"),value:"master"},{label:t("HOT_NODE"),value:"hot"},{label:t("WARM_NODE"),value:"warm"},{label:t("COLD_NODE"),value:"cold"},{label:t("KIBANA_NODE"),value:"kibana"}];case"storage":return[{label:t("HOT_NODE"),value:"hot"},{label:t("WARM_NODE"),value:"warm"},{label:t("COLD_NODE"),value:"cold"}];case"node":return[{label:t("HOT_NODE"),value:"hot"},{label:t("WARM_NODE"),value:"warm"},{label:t("COLD_NODE"),value:"cold"},{label:t("KIBANA_NODE"),value:"kibana"}];default:return[]}}(a);case D.RedisCluster:return function(e){switch(e){case"specifications":case"node":return[{label:t("REDIS_NODE"),value:"master"},{label:t("PROXY_NODE"),value:"proxy"}];default:return[]}}(a);case D.Kafka:return function(e){switch(e){case"specifications":case"node":case"storage":return[{label:t("KAFKA_NODE"),value:"kafka"},{label:t("ZOOKEEPER_NODE"),value:"zookeeper"}];default:return[]}}(a);case D.OpenSearch:return function(e){switch(e){case"specifications":return[{label:t("PRIMARY_NODE"),value:"master"},{label:t("HOT_NODE"),value:"hot"},{label:t("WARM_NODE"),value:"warm"},{label:t("COLD_NODE"),value:"cold"},{label:t("DASHBOARD_NODE"),value:"dashboard"},{label:t("LOGSTASH_NODE"),value:"logstash"}];case"storage":return[{label:t("HOT_NODE"),value:"hot"},{label:t("WARM_NODE"),value:"warm"},{label:t("COLD_NODE"),value:"cold"}];case"node":return[{label:t("HOT_NODE"),value:"hot"},{label:t("WARM_NODE"),value:"warm"},{label:t("COLD_NODE"),value:"cold"},{label:t("DASHBOARD_NODE"),value:"dashboard"},{label:t("LOGSTASH_NODE"),value:"logstash"}];default:return[]}}(a);default:return[]}};var B=(i={},(0,u.default)(i,D.ClickHouse,j.slice(1,-1)),(0,u.default)(i,D.MySQL,j),(0,u.default)(i,D.PostgreSQL,j),(0,u.default)(i,D.RedisCluster,{master:x,proxy:L}),(0,u.default)(i,D.RedisSentinel,x),(0,u.default)(i,D.MongoDB,U),(0,u.default)(i,D.Elasticsearch,F),(0,u.default)(i,D.Kafka,V),(0,u.default)(i,D.OpenSearch,G),i);function Y(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.app_id,n=a.max,l=a.nodeRole,u=a.oldStorage,o=parseFloat(e);if(!Number.isInteger(o))return{error:!0,message:t("VALUE_MUST_BE_INTEGER")};if(n&&o>n)return{error:!0,message:t("VALUE_CANNOT_BE_GREATER_THAN_VALUE",{max:n})};switch(r){case D.Elasticsearch:if(Number.isNaN(o)||o<20)return{error:!0,message:t("VALUE_CANNOT_BE_LESS_THAN_20")};break;case D.Kafka:if(u&&o<u)return{error:!0,message:t("VOLUME_CAPACITY_CANNOT_REDUCE.")};if("kafka"===l){if(Number.isNaN(o)||o<20)return{error:!0,message:t("VALUE_CANNOT_BE_LESS_THAN_20")};break}default:if(Number.isNaN(o)||o<10)return{error:!0,message:t("VALUE_CANNOT_BE_LESS_THAN_10")}}return{error:!1}}a.SpecificationOptionsObject=B;var q=(c={},(0,u.default)(c,D.ClickHouse,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{specifications:{type:"string",title:"RESOURCES",render:"select",options:j.slice(1,-1)},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[]},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:2048,sliderUnit:"Gi",rowExclusive:!0,validator:Y},nodes:{type:"integer",title:"SHARD_COUNT",min:1,max:100,showFunc:!0,tooltipContent:"DATABASE_NODE_TIP"},replicasets:{type:"integer",title:"REPLICA_COUNT",min:1,max:3,showFunc:!0},username:{type:"string",title:"USERNAME",description:"DATABASE_USERNAME_DESC",rules:[{pattern:k.userNameRegx,message:"INVALID_DATABASE_USERNAME_DESC"}]},password:N(N({},k.Password),{},{type:"string",render:"password",title:"PASSWORD"})}}),(0,u.default)(c,D.PostgreSQL,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"PostgreSQL 12",value:"12"},{label:"PostgreSQL 13",value:"13"},{label:"PostgreSQL 14",value:"14"},{label:"PostgreSQL 15",value:"15"}],rowExclusive:!0,halfRow:!0},specifications:{type:"string",title:"RESOURCES",render:"select",options:j},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[]},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:1024,sliderUnit:"Gi",rowExclusive:!0,validator:Y},nodes:{type:"integer",title:"DATA_NODE_COUNT",min:2,max:8,showFunc:!0,halfRow:!0}}}),(0,u.default)(c,D.MySQL,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"MySQL 5.7",value:"5.7"},{label:"MySQL 8.0",value:"8.0"}],halfRow:!0},specifications:{type:"string",title:"RESOURCES",render:"select",options:j},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[]},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:2048,sliderUnit:"Gi",rowExclusive:!0,validator:Y},nodes:{type:"string",title:"STANDBY_DATABASE_COUNT",description:"STANDBY_DATABASE_COUNT_DESC",render:"select",options:[1,2,4].map((function(e){return{label:e,value:e}})),halfRow:!0}}}),(0,u.default)(c,D.RedisCluster,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"Redis 7.0.4",value:"7.0.4"}],halfRow:!0},specifications:{type:"string",title:"RESOURCES",render:"select",options:x},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[]},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:1024,sliderUnit:"Gi",rowExclusive:!0,validator:Y},nodes:{type:"integer",title:"SHARD_COUNT",min:3,max:50,showFunc:!0},password:{type:"string",title:"PASSWORD",description:"REDIS_PASSWORD_DESC",render:"password",placeholder:"OPTIONAL",rules:[{pattern:/[a-zA-Z0-9!@#$%^&*()./;]{6,31}$/,message:"INVALID_REDIS_PASSWORD_DESC"}]},predixyNodes:{type:"integer",title:"PROXY_NODE_COUNT",min:0,max:50,showFunc:!0,advanced:!0},predixySpecification:{type:"string",title:"PROXY_NODE_RESOURCES",render:"select",options:L,advanced:!0},endpointType:{type:"string",title:"ENDPOINT_TYPE",description:"ENDPOINT_TYPE_DESC",render:"select",options:[{label:t("ENABLED"),value:"true"},{label:t("DISABLED"),value:"false"}],forVersion:["7.0.4"],advanced:!0,halfRow:!0}}}),(0,u.default)(c,D.RedisSentinel,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"Redis 7.0.4",value:"7.0.4"}],halfRow:!0},specifications:{type:"string",title:"RESOURCES",render:"select",options:x},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[]},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:1024,sliderUnit:"Gi",rowExclusive:!0,validator:Y},nodes:{type:"string",title:"REDIS_NODE_COUNT",description:"REDIS_NODE_COUNT_DESC",render:"select",options:[3,5,7].map((function(e){return{label:e,value:e}}))},password:{type:"string",title:"PASSWORD",description:"REDIS_PASSWORD_DESC",render:"password",placeholder:"OPTIONAL",rules:[{pattern:/[a-zA-Z0-9!@#$%^&*()./;]{6,31}$/,message:"INVALID_REDIS_PASSWORD_DESC"}]}}}),(0,u.default)(c,D.MongoDB,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"MongoDB 4.2.19",value:"4.2.19"}],halfRow:!0},specifications:{type:"string",title:"RESOURCES",render:"select",options:U},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[]},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:2048,sliderUnit:"Gi",rowExclusive:!0,validator:Y},nodes:{type:"string",title:"NODE_COUNT",description:"MONGODB_NODE_COUNT_DESC",render:"select",options:[1,3,5,7].map((function(e){return{label:e,value:e}})),halfRow:!0}}}),(0,u.default)(c,D.Elasticsearch,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"ES 7.17.5",value:"7.17.5"}],halfRow:!0},master:{type:"object",title:"PRIMARY_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"PRIMARY_NODE_RESOURCES_DESC",render:"select",options:F.master},nodes:{type:"string",title:"PRIMARY_NODE_COUNT",disabled:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"alert",title:"VOLUME",content:"VOLUMN_PERSIST",rowExclusive:!0}}},hot:{type:"object",title:"HOT_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"HOT_NODE_RESOURCES_DESC",render:"select",options:F.hot},nodes:{type:"integer",title:"HOT_NODE_COUNT",min:1,max:200,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:1920,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},warm:{type:"object",title:"WARM_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"WARM_NODE_RESOURCES_DESC",render:"select",options:F.warm},nodes:{type:"integer",title:"WARM_NODE_COUNT",min:0,max:200,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:1920,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},cold:{type:"object",title:"COLD_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"COLD_NODE_RESOURCES_DESC",render:"select",options:F.cold},nodes:{type:"integer",title:"COLD_NODE_COUNT",min:0,max:200,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:3200,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},kibana:{type:"object",title:"KIBANA_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"KIBANA_NODE_RESOURCES_DESC",render:"select",options:F.kibana},nodes:{type:"integer",title:"KIBANA_NODE_COUNT",min:0,max:8,showFunc:!0}}}}}),(0,u.default)(c,D.Kafka,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",properties:{empty:{type:""},kafka:{type:"object",title:"KAFKA_SETTINGS",icon:"pod",properties:{version:{type:"string",title:"KAFKA_VERSION",description:"  ",render:"select",options:[{label:"Kafka 3.2.0",value:"3.2.0"}],halfRow:!0},specifications:{type:"string",title:"RESOURCES",description:"KAFKA_NODE_RESOURCES_DESC",render:"select",options:V.kafka},nodes:{type:"integer",title:"KAFKA_NODE_COUNT",min:3,max:100,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRowL:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:2048,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},zookeeper:{type:"object",title:"ZOOKEEPER_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"ZOOKEEPER_NODE_RESOURCES_DESC",render:"select",options:V.zookeeper},nodes:{type:"string",title:"ZOOKEEPER_NODE_COUNT",render:"select",options:[1,3,5,7,9].map((function(e){return{label:e,value:e}}))},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:100,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}}}}),(0,u.default)(c,D.OpenSearch,{$schema:"https://json-schema.org/draft-07/schema#",type:"object",unfoldAdvanced:!0,properties:{version:{type:"string",title:"KERNEL_VERSION",description:"DATABASE_KERNEL_VERSION_DESC",render:"select",options:[{label:"OpenSearch 2.8.0",value:"2.8.0"}],halfRow:!0},username:{type:"string",title:"USERNAME",rules:[{required:!0,message:"USERNAME_EMPTY_DESC"}],advanced:!0},password:{type:"string",title:"PASSWORD",description:k.Password.description,rules:k.Password.rules,advanced:!0},master:{type:"object",title:"PRIMARY_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"PRIMARY_NODE_RESOURCES_DESC",render:"select",options:G.master},nodes:{type:"string",title:"PRIMARY_NODE_COUNT",description:"PRIMARY_NODE_COUNT_DESC",disabled:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"alert",title:"VOLUME",content:"VOLUMN_PERSIST",rowExclusive:!0}}},hot:{type:"object",title:"HOT_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"HOT_NODE_RESOURCES_DESC",render:"select",options:G.hot},nodes:{type:"integer",title:"HOT_NODE_COUNT",min:1,max:200,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:15360,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},warm:{type:"object",title:"WARM_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"WARM_NODE_RESOURCES_DESC",render:"select",options:G.warm},nodes:{type:"integer",title:"WARM_NODE_COUNT",min:0,max:200,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:15360,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},cold:{type:"object",title:"COLD_NODE_SETTINGS",icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"COLD_NODE_RESOURCES_DESC",render:"select",options:G.cold},nodes:{type:"integer",title:"COLD_NODE_COUNT",min:0,max:200,showFunc:!0},volumeType:{type:"string",title:"STORAGE_CLASS",description:"DATABASE_STORAGE_CLASS_DESC",render:"select",options:[],halfRow:!0},volume:{type:"string",title:"VOLUME",render:"slider",sliderMin:0,sliderMax:15360,sliderUnit:"Gi",rowExclusive:!0,validator:Y}}},dashboard:{type:"object",title:t("DASHBOARD_NODE_SETTINGS"),icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"DASHBOARD_NODE_RESOURCES_DESC",render:"select",options:G.dashboard},nodes:{type:"integer",title:"DASHOBOARD_NODE_COUNT",min:0,max:8,showFunc:!0}}},logstash:{type:"object",title:t("LOGSTASH_NODE_SETTINGS"),icon:"pod",properties:{specifications:{type:"string",title:"RESOURCES",description:"LOGSTASH_NODE_RESOURCES_DESC",render:"select",options:G.logstash},nodes:{type:"integer",title:"LOGSTASH_NODE_COUNT",min:0,max:10,showFunc:!0}}}}}),c);a.ValuesSchema=q;var H=(s={},(0,u.default)(s,D.ClickHouse,{specifications:"2000m, 4Gi",volumeType:"",volume:"10Gi",nodes:1,replicasets:2,username:"clickhouse",password:"C1ickh0use-0perator",port:8123}),(0,u.default)(s,D.PostgreSQL,{version:"12",specifications:"1000m, 1Gi",volumeType:"qingcloud",volume:"10Gi",nodes:2}),(0,u.default)(s,D.MySQL,{version:"5.7",specifications:"1000m, 1Gi",volumeType:"qingcloud",volume:"10Gi",nodes:2}),(0,u.default)(s,D.RedisCluster,{version:"7.0.4",specifications:"2000m, 4Gi",volumeType:"qingcloud",volume:"10Gi",nodes:3,password:"",predixyNodes:0,predixySpecification:"1000m, 1Gi",endpointType:"false"}),(0,u.default)(s,D.RedisSentinel,{version:"7.0.4",specifications:"2000m, 4Gi",volumeType:"qingcloud",volume:"10Gi",nodes:3,password:""}),(0,u.default)(s,D.MongoDB,{version:"4.2.19",specifications:"2000m, 8Gi",volumeType:"qingcloud",volume:"10Gi",nodes:3}),(0,u.default)(s,D.Elasticsearch,{version:"7.17.5",master:{specifications:"1000m, 2Gi",nodes:3,volume:"20Gi"},hot:{specifications:"2000m, 4Gi",nodes:2,volume:"20Gi"},warm:{specifications:"2000m, 4Gi",nodes:0,volume:"20Gi"},cold:{specifications:"2000m, 4Gi",nodes:0,volume:"20Gi"},kibana:{specifications:"1000m, 2Gi",nodes:0}}),(0,u.default)(s,D.Kafka,{kafka:{version:"3.2.0",specifications:"1000m, 2Gi",nodes:3,volume:"20Gi"},zookeeper:{specifications:"1000m, 1Gi",nodes:3,volume:"10Gi"}}),(0,u.default)(s,D.OpenSearch,{version:"2.8.0",username:"admin",password:"RadonDB@123",master:{specifications:"1000m, 2Gi",nodes:3,volume:"20Gi"},hot:{specifications:"2000m, 4Gi",nodes:2,volume:"20Gi"},warm:{specifications:"2000m, 4Gi",nodes:0,volume:"20Gi"},cold:{specifications:"2000m, 4Gi",nodes:0,volume:"20Gi"},dashboard:{specifications:"1000m, 2Gi",nodes:1},logstash:{specifications:"1000m, 2Gi",nodes:0}}),s);function W(e){return Number.isInteger(e)||!(0,d.default)(e)}function K(e,t){return'"'.concat(e,'/password":"').concat(t,'","').concat(e,'/networks/ip":["127.0.0.1","::/0"],"').concat(e,'/profile":"default","').concat(e,'/quotas":"default"')}function Q(e){var t=e.split(", "),a=(0,o.default)(t,2);return{cpu:a[0],memory:a[1]}}function J(e,t){var a=t.name,r=t.namespace,n=t.volume,l=t.volumeType,u=t.password,o=t.cm,i=t.version;(0,h.default)(e,"metadata.name",a),(0,h.default)(e,"metadata.namespace",r),u&&(0,h.default)(e,"spec.kubernetesConfig.redisSecret",{name:"".concat(a,"-password-secret"),key:"password"}),(0,h.default)(e,"spec.aclConfig.aclFile","".concat(a,"-acl-config")),(0,h.default)(e,"spec.storage.volumeClaimTemplate.spec.storageClassName",l),(0,h.default)(e,"spec.storage.volumeClaimTemplate.spec.resources.requests.storage",n),(0,h.default)(e,"spec.kubernetesConfig.resources.requests",o),(0,h.default)(e,"spec.kubernetesConfig.resources.limits",o),(0,h.default)(e,"spec.kubernetesConfig.redisVersion",i),(0,h.default)(e,"spec.kubernetesConfig.image",M[i])}function Z(e,t){var a=t.name,r=t.namespace,n=t.password,l=t.specifications,u=[],o=e.secret;o&&n&&((0,h.default)(o,"metadata.name","".concat(a,"-password-secret")),(0,h.default)(o,"metadata.namespace",r),(0,h.default)(o,"data.password",(0,v.safeBtoa)(n)),u.push({name:"secret",data:JSON.stringify(o)}));var i=JSON.parse(JSON.stringify(e.externalConfig));if(i){(0,h.default)(i,"metadata.name","".concat(a,"-external-config")),(0,h.default)(i,"metadata.namespace",r);var c=Q(l).memory,s=(0,m.default)(i,'data["redis-external.conf"]',"");(0,h.default)(i,'data["redis-external.conf"]',s.replace("maxmemory 0","maxmemory ".concat(1024*parseFloat(c)-50,"MB"))),u.push({name:"externalConfig",data:JSON.stringify(i)})}var f=e.aclConfig;f&&((0,h.default)(f,"metadata.name","".concat(a,"-acl-config")),(0,h.default)(f,"metadata.namespace",r),u.push({name:"aclConfig",data:JSON.stringify(f)}));var d=e.service;return d&&((0,h.default)(d,"metadata.name","".concat(a,"-metrics-service")),(0,h.default)(d,"metadata.namespace",r),u.push({name:"metricsService",data:JSON.stringify(d)})),u}a.ValuesJSON=H},,,,function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(87),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(27),r(87),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(71),r(7);var l=n(r(50)),u=n(r(317)),o=n(r(31)),i=n(r(25)),c=n(r(28)),s=n(r(74)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(26)),h=n(r(198)),v=n(r(119)),g=n(r(64)),y=n(r(140)),E=n(r(0)),b=n(r(1)),O=n(r(191)),S=n(r(798)),C=n(r(858)),_=n(r(1710)),k=n(r(1714)),R=n(r(1721));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var P=function(e){(0,f.default)(r,e);var a=T(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).getFormDataFromCode=function(e){var t=n.props.code2formParse;return(void 0===t?function(e){return e}:t)((0,g.default)(e)?e.reduce((function(e,t){return D(D({},e),{},(0,o.default)({},t.kind.replace("Federated",""),t))}),{}):e)},n.handleModeChange=function(){var e=n.props.form2codeParse,a=void 0===e?function(e){return e}:e;n.setState((function(e){var r=e.isCodeMode,l=e.formTemplate,u=Object.keys(l)[0],o=["".concat(u,".spec.template.totalReplicas"),"totalReplicas","".concat(u,".totalReplicas")],i={formTemplate:l=a((0,y.default)(l,o)),isCodeMode:!r};return!r&&(0,h.default)((0,m.default)((0,s.default)(n),"formRef.current.hasSubRoute"))&&n.formRef.current.hasSubRoute()?O.default.warning(t("SAVE_FORM_TIP")):(!r&&(0,h.default)((0,m.default)((0,s.default)(n),"formRef.current.getCurrentStep"))&&(i.currentStep=n.formRef.current.getCurrentStep()),r&&(0,h.default)((0,m.default)((0,s.default)(n),"codeRef.current.getData"))&&(i.formTemplate=n.getFormDataFromCode(n.codeRef.current.getData())),i)}))},n.handleCode=function(e){(0,n.props.onOk)(n.getFormDataFromCode(e))},n.state={formTemplate:(0,v.default)(e.formTemplate),isCodeMode:e.onlyCode||!1,currentStep:0},n.codeRef=E.default.createRef(),n.formRef=E.default.createRef(),n}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){this.props.visible!==e.visible&&this.props.visible&&this.setState({currentStep:0,isCodeMode:this.props.onlyCode||!1,formTemplate:(0,v.default)(this.props.formTemplate)})}},{key:"renderForms",value:function(){var e=this.state,t=e.formTemplate,a=e.currentStep;return E.default.createElement(_.default,(0,u.default)({},this.props,{ref:this.formRef,formTemplate:t,currentStep:a}))}},{key:"renderCodeEditor",value:function(){var e=this.props,t=e.onCancel,a=e.isSubmitting,r=this.state.formTemplate;return E.default.createElement(k.default,{ref:this.codeRef,formTemplate:r,onOk:this.handleCode,onCancel:t,isSubmitting:a})}},{key:"renderOperations",value:function(){var e=this.props,a=e.noCodeEdit,r=e.onlyCode,n=this.state.isCodeMode;return a||r?null:E.default.createElement(C.default,{className:R.default.switch,text:t("EDIT_YAML"),onChange:this.handleModeChange,checked:n})}},{key:"render",value:function(){var e=this.props,a=e.name,r=e.width,n=e.visible,o=e.onCancel,i=e.noCodeEdit,c=(0,l.default)(e,["name","width","visible","onCancel","noCodeEdit"]),s=this.state.isCodeMode,f=this.props.title||t("CREATE_NAME",{name:t(a.toUpperCase())});return E.default.createElement(S.default,(0,u.default)({width:r||960,title:f,bodyClassName:R.default.body,onCancel:o,visible:n},c,{operations:this.renderOperations(),hideFooter:!0}),!i&&s?this.renderCodeEditor():this.renderForms())}}]),r}(E.default.Component);a.default=P,P.propTypes={title:b.default.string,name:b.default.string,module:b.default.string,steps:b.default.array,store:b.default.object,formTemplate:b.default.object,visible:b.default.bool,okBtnText:b.default.string,onOk:b.default.func,onCancel:b.default.func,noCodeEdit:b.default.bool,isSubmitting:b.default.bool,form2codeParse:b.default.func,code2formParse:b.default.func,cluster:b.default.string},P.defaultProps={visible:!1,noCodeEdit:!1,isSubmitting:!1,code2formParse:function(e){return e},form2codeParse:function(e){return e},onOk:function(){},onCancel:function(){}}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"TinyArea",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"MediumArea",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"SimpleArea",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"MultiArea",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"PercentArea",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"SimpleBar",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"StackedBar",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"SimpleCircle",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"PieChart",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"MultiPie",{enumerable:!0,get:function(){return p.default}});var n=r(a(1790)),l=r(a(1834)),u=r(a(1836)),o=r(a(1840)),i=r(a(1842)),c=r(a(1844)),s=r(a(1846)),f=r(a(1898)),d=r(a(1311)),p=r(a(1900))},,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(30),r(11),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(189),p=n(r(798)),m=n(r(1708));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).state={confirm:""},e.width=504,e.handleInputChange=function(t){e.setState({confirm:t.target.value})},e.handleOk=function(){e.props.onOk()},e}return(0,u.default)(r,[{key:"componentDidUpdate",value:function(e){this.props.visible&&this.props.visible!==e.visible&&this.setState({confirm:""})}},{key:"renderAlert",value:function(){return null}},{key:"render",value:function(){var e=this.props,a=e.app,r=e.type,n=e.resource,l=e.visible,u=e.onCancel,o=e.title,i=e.desc,c=e.renderExtra,f=e.isSubmitting,h=e.deleteCluster,v=r||void 0,g=r?"".concat(r,"_LOW"):void 0,y=r?"".concat(r,"_PL"):void 0,E=i||(n&&r?1===n.split(", ").length?t.html("DELETE_RESOURCE_TYPE_DESC_SI",{type:t(g),resource:n}):t.html("DELETE_RESOURCE_TYPE_DESC_PL",{type:t(g),resource:n}):t.html("DELETE_DESC",{resource:n,type:""}));return a&&(E=t.html("DELETE_APP_RESOURCE_TIP",{type:r,resource:n,app:a})),h&&(E=t.html("REMOVE_CLUSTER_DESC",{name:n})),s.default.createElement(p.default,{width:this.width,bodyClassName:m.default.modalBody,visible:l,isSubmitting:f,onCancel:u,hideHeader:!0,hideFooter:!0},s.default.createElement("div",{className:m.default.body},s.default.createElement("div",{className:"h5"},s.default.createElement(d.Icon,{name:"close",type:"light",className:m.default.closeIcon}),o||(n&&r?1===n.split(", ").length?t("DELETE_TITLE_SI",{type:t(v)}):t("DELETE_TITLE_PL",{type:t(y)}):t("DELETE"))),this.renderAlert(),s.default.createElement("div",{className:m.default.content},s.default.createElement("p",null,E),n&&s.default.createElement(d.Input,{name:"confirm",value:this.state.confirm,onChange:this.handleInputChange,placeholder:n,autoFocus:!0}),null==c?void 0:c())),s.default.createElement("div",{className:m.default.footer},s.default.createElement(d.Button,{onClick:u,"data-test":"modal-cancel"},t("CANCEL")),s.default.createElement(d.Button,{type:"danger",loading:f,disabled:f||!!n&&this.state.confirm!==n,onClick:this.handleOk,"data-test":"modal-ok"},t("OK"))))}}]),r}(s.default.Component);a.default=v,v.propTypes={type:f.default.string,resource:f.default.string,visible:f.default.bool,title:f.default.oneOfType([f.default.string,f.default.node]),desc:f.default.oneOfType([f.default.string,f.default.node]),onOk:f.default.func,onCancel:f.default.func,isSubmitting:f.default.bool},v.defaultProps={visible:!1,isSubmitting:!1,onOk:function(){},onCancel:function(){}}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var l=n(a(317)),u=n(a(50)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=r(a(0)),p=n(a(1)),m=n(a(5)),h=n(a(142)),v=a(189),g=n(a(2114));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){(0,c.default)(a,e);var t=y(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"renderTitle",value:function(){var e=this.props,t=e.header,a=e.title,r=e.operations;return t||(a||r?d.default.createElement("div",{className:g.default.title},r&&d.default.createElement("div",{className:g.default.operations},r),a):null)}},{key:"renderContent",value:function(){var e=this.props,t=e.empty,a=e.children;return e.isEmpty||!a?(0,h.default)(t)?d.default.createElement("div",{className:g.default.empty},t):t:a}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.type,r=e.loading,n=(e.refreshing,e.title,e.operations,e.empty,e.children,e.isEmpty,(0,u.default)(e,["className","type","loading","refreshing","title","operations","empty","children","isEmpty"]));return d.default.createElement("div",(0,l.default)({className:(0,m.default)(g.default.card,t,g.default[a])},n),this.renderTitle(),r?d.default.createElement(v.Loading,{className:g.default.loading}):this.renderContent())}}]),a}(d.PureComponent);t.default=E,E.propTypes={className:p.default.string,type:p.default.string,loading:p.default.bool,refreshing:p.default.bool,title:p.default.oneOfType([p.default.string,p.default.element,p.default.node]),operations:p.default.oneOfType([p.default.string,p.default.element,p.default.node]),header:p.default.node,empty:p.default.oneOfType([p.default.string,p.default.element,p.default.node]),isEmpty:p.default.bool},E.defaultProps={title:"",type:"default",isEmpty:!1}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(192),r(10),r(70),r(20),r(4),r(190),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(192),r(10),r(70),r(20),r(29),r(446),r(4),r(190),r(18),r(43),r(11),r(73);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(26)),d=n(r(67)),p=n(r(163)),m=n(r(0)),h=n(r(1)),v=n(r(5)),g=r(189),y=n(r(1746)),E=n(r(1262));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var O=function(e){(0,i.default)(r,e);var a=b(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).handleAdd=function(){var t=e.props,a=t.value;(0,t.onChange)([].concat((0,l.default)(a),[e.getDefaultValue()]))},e.handleChange=function(t,a){var r=e.props,n=r.value,u=r.onChange,o=(0,f.default)(a,"currentTarget.value",a),i=[];(0,p.default)(n[t])?(n[t]=o,i=(0,l.default)(n)):i=n.map((function(e,a){return a===t?o:e})),u(i)},e.handleDelete=function(t){var a=e.props,r=a.value;(0,a.onChange)(r.filter((function(e,a){return a!==t})))},e.rolesValidator=function(e,a,r){return a?a.role?void r():r({message:t("SELECT_ROLE_TIP")}):r()},e}return(0,o.default)(r,[{key:"getDefaultValue",value:function(){return"object"===this.props.itemType?{}:""}},{key:"isAddEnable",value:function(){var e=this.props,t=e.value,a=e.checkItemValid;return a?t.every(a):t.every((function(e){return!(0,d.default)(e)&&Object.values(e).every((function(e){return e}))}))}},{key:"renderItems",value:function(){var e=this,t=this.props,a=t.value,r=t.children,n=t.id;return n&&n.includes("metadata.annotations['kubesphere.io/")?a.map((function(t,l){return m.default.createElement(g.Form.Item,{key:l,rules:[{validator:e.rolesValidator,checkOnSubmit:!0}]},m.default.createElement(y.default,{name:"".concat(n,"[").concat(l,"]"),index:l,value:t||e.getDefaultValue(),arrayValue:a,component:r,onChange:e.handleChange.bind(e,l),onDelete:e.handleDelete.bind(e,l)}))})):a.map((function(t,n){return m.default.createElement(y.default,{key:n,index:n,value:t||e.getDefaultValue(),arrayValue:a,component:r,onChange:e.handleChange.bind(e,n),onDelete:e.handleDelete.bind(e,n)})}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.addText,r=e.extraAdd,n=e.desc;return m.default.createElement("div",{className:(0,v.default)(E.default.wrapper,t)},this.renderItems(),m.default.createElement("div",{className:E.default.footer},m.default.createElement("div",{className:E.default.desc},n),m.default.createElement("div",{className:"text-right"},m.default.createElement(g.Button,{className:E.default.add,onClick:this.handleAdd,disabled:!this.isAddEnable()},a),r)))}}]),r}(m.default.Component);a.default=O,O.propTypes={name:h.default.string,value:h.default.array,onChange:h.default.func,addText:h.default.string,itemType:h.default.oneOf(["string","object"]),children:h.default.node.isRequired,checkItemValid:h.default.func},O.defaultProps={name:"",value:[""],onChange:function(){},addText:t("ADD"),itemType:"string"}},,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(70),a(4),a(18),a(11),a(73),a(79),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(70),a(29),a(4),a(18),a(43),a(11),a(73),a(79),a(977);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(1)),p=r(a(5)),m=r(a(1705));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,i.default)(a,e);var t=h(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={failed:!1},e}return(0,o.default)(a,[{key:"componentDidMount",value:function(){var e=this;this.img&&(this.img.onerror=function(){e.setState({failed:!0})})}},{key:"shouldComponentUpdate",value:function(e,t){return e.src!==this.props.src||Boolean(t.failed)||Boolean(e.iconLetter)}},{key:"componentDidUpdate",value:function(e){var t=this;e.src!==this.props.src&&this.setState({failed:!1},(function(){t.img&&(t.img.onerror=function(){t.setState({failed:!0})})}))}},{key:"componentWillUnmount",value:function(){this.img&&this.img.onerror&&(this.img.onerror=null)}},{key:"render",value:function(){var e=this,t=this.props,a=t.src,r=t.iconLetter,u=t.className,o=t.iconSize,i=t.isBase64Str,c=t.workspace,s=(0,l.default)(t,["src","iconLetter","className","iconSize","isBase64Str","workspace"]),d=this.state.failed,h=a;if(String(a).startsWith("att-")){var v=c?"workspaces/".concat(c):"";h="/kapis/application.kubesphere.io/v2/".concat(v,"attachments/").concat(a,"?filename=raw")}if(!i||h.includes("/attachments/")||h.includes("http")||(h="data:image/png;data:image/svg;data:image/jpg;base64,".concat(a)),d||!a){var g={width:"".concat(o,"px"),height:"".concat(o,"px")},y=r.substr(0,1).toLocaleUpperCase();if(y){var E=o/2;return g.fontSize="".concat(E,"px"),g.padding="".concat(o/4,"px"),g.lineHeight="".concat(E>12?E:12,"px"),f.default.createElement("span",(0,n.default)({className:(0,p.default)(m.default.letter,u),style:g},s),y)}return null}return f.default.createElement("img",(0,n.default)({src:h,"data-origin-url":h,className:(0,p.default)(m.default.img,u),ref:function(t){e.img=t}},s))}}]),a}(f.default.Component);t.default=v,v.propTypes={className:d.default.string,iconLetter:d.default.string,iconSize:d.default.number,isBase64Str:d.default.bool,src:d.default.string,workspace:d.default.string},v.defaultProps={iconSize:32,src:"",iconLetter:"",isBase64Str:!1}},function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(10),a(44),a(20),a(4),a(18),a(143),a(30),a(11),a(197),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(10),a(44),a(20),a(29),a(4),a(18),a(43),a(143),a(251),a(30),a(252),a(195),a(11),a(197);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(1)),d=r(a(808)),p=r(a(67)),m=r(a(163)),h=r(a(142)),v=r(a(830)),g=r(a(5)),y=a(189),E=r(a(2021));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(a,e);var t=b(a);function a(e){var r;return(0,l.default)(this,a),(r=t.call(this,e)).handleDOMClick=function(e){r.optionsRef&&r.optionsRef.current&&!r.optionsRef.current.contains(e.target)&&r.controlRef&&r.controlRef.current&&!r.controlRef.current.contains(e.target)&&r.setState({showOptions:!1})},r.triggerChange=(0,d.default)((function(){(0,r.props.onChange)(r.state.value)})),r.handleClick=function(e){r.setState({value:e,showOptions:!1},(function(){r.triggerChange()}))},r.toggleOptions=function(){r.setState((function(e){return{showOptions:!e.showOptions}}),(function(){document.removeEventListener("click",r.handleDOMClick),r.state.showOptions&&document.addEventListener("click",r.handleDOMClick)}))},r.handleSearchInput=function(e){var t=e.target.value;r.setState({search:t})},r.state={value:(0,m.default)(e.value)?e.defaultValue:e.value,showOptions:!1,search:""},r.optionsRef=s.default.createRef(),r.controlRef=s.default.createRef(),r}return(0,u.default)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.value!==t.value&&this.setState({value:this.props.value})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDOMClick)}},{key:"renderDetail",value:function(e){return e.map((function(e,t){return s.default.createElement("div",{key:t,className:E.default.text},s.default.createElement("div",null,e.label),e.description&&s.default.createElement("p",null,e.description))}))}},{key:"renderOption",value:function(e,t){var a,r,l=this,u=function(){return l.handleClick(e.value)},o=this.props.renderOption;return o?s.default.createElement("div",{key:e.uid||e.value,onClick:e.disabled?null:u,className:(0,g.default)(E.default.option,(r={},(0,n.default)(r,E.default.selected,t),(0,n.default)(r,E.default.disabled,e.disabled),r),(0,n.default)({},E.default.withIcon,e.icon))},this.renderIcon(e),o(e)):s.default.createElement("div",{key:e.uid||e.value,onClick:e.disabled?null:u,className:(0,g.default)(E.default.option,(a={},(0,n.default)(a,E.default.selected,t),(0,n.default)(a,E.default.disabled,e.disabled),a),(0,n.default)({},E.default.withIcon,e.icon))},this.renderIcon(e),s.default.createElement("div",{className:E.default.text},s.default.createElement("div",null,e.label),e.description&&s.default.createElement("p",null,e.description)),e.details&&this.renderDetail(e.details))}},{key:"renderIcon",value:function(e){return e.icon?(0,h.default)(e.icon)?s.default.createElement(y.Icon,{className:E.default.leftIcon,name:e.icon,size:40,type:"dark"}):e.icon:null}},{key:"renderSearchInput",value:function(){var e=this.state.search;return s.default.createElement(y.Input,{className:E.default.search,value:e,onChange:this.handleSearchInput})}},{key:"renderOptions",value:function(){var e=this,t=this.props,a=t.options,r=t.disabled,n=t.searchable,l=this.state,u=l.value,o=l.showOptions,i=l.search,c=new RegExp("^".concat(i));if(r||!o||(0,p.default)(a))return null;var f=a.find((function(e){return(0,v.default)(e.value,u)}));return s.default.createElement("div",{className:E.default.options,ref:this.optionsRef},n&&this.renderSearchInput(),f&&this.renderOption(f,!0),a.filter((function(e){if(i){var t=e.label||"";return c.test(t)||c.test(e.value)}return!0})).filter((function(e){return!(0,v.default)(e.value,u)})).map((function(t){return e.renderOption(t)})))}},{key:"renderControl",value:function(){var e=this.props,t=e.placeholder,a=e.options,r=e.disabled,l=e.placeholderOption,u=e.renderOption,o=this.state,i=o.value,c=o.showOptions,f=a.find((function(e){return(0,v.default)(e.value,i)}))||t||l||{};return s.default.createElement("div",{className:(0,g.default)(E.default.control,(0,n.default)({},E.default.withIcon,f.icon)),ref:this.controlRef,onClick:this.toggleOptions},this.renderIcon(f),u?u(f):s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:E.default.text},s.default.createElement("div",null,f.label),f.description&&s.default.createElement("p",null,f.description)),f.details&&this.renderDetail(f.details)),!r&&s.default.createElement(y.Icon,{className:E.default.rightIcon,name:c?"chevron-up":"chevron-down",size:"small",clickable:!0}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.disabled;return s.default.createElement("div",{className:(0,g.default)(E.default.wrapper,(0,n.default)({},E.default.disabled,a),t)},this.renderControl(),this.renderOptions())}}]),a}(s.default.Component);t.default=O,O.propTypes={className:f.default.string,value:f.default.any,defaultValue:f.default.any,searchable:f.default.bool,options:f.default.array.isRequired,onChange:f.default.func,renderOption:f.default.func},O.defaultProps={className:"",options:[],searchable:!1,onChange:function(){}}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(2077)),l=r(a(2078)),u=r(a(2079));n.default.Item=l.default,n.default.Add=u.default;var o=n.default;t.default=o},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(192),r(10),r(6),r(20),r(87),r(98),r(8),r(13),r(9),r(4),r(18),r(143),r(30),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(192),r(10),r(6),r(20),r(27),r(87),r(98),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(143),r(251),r(30),r(252),r(195),r(11),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(58)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=r(189),m=n(r(5)),h=n(r(201)),v=n(r(67)),g=n(r(1)),y=n(r(0)),E=n(r(1255)),b=n(r(1726));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var _=function(e){(0,s.default)(r,e);var a=C(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).handleAdd=function(){n.setState((function(e){var t=e.arrayValues;return{arrayValues:[].concat((0,o.default)(t),[{key:""}])}}))},n.triggerChange=function(e){var a,r=n.props,l=r.onChange,i=r.validator,c=n.state,s=c.hiddenValues,f=c.readOnlyValues,d=!1,p=!1;n.props.onError();var m=[].concat((0,o.default)(s),(0,o.default)(f),(0,o.default)(e)).reduce((function(e,t){return t.key=t.key||"",(0,v.default)(t.key)&&(0,v.default)(t.value)&&(p=!0),(0,h.default)(e,t.key)?(d=!0,e):S(S({},e),{},(0,u.default)({},t.key,t.value||""))}),{});n.setState({arrayValues:e},(function(){p||d||l(m)}));var g=Object.keys(m).some((function(e){return(0,v.default)(e)})),y=null!==(a=null==i?void 0:i(m))&&void 0!==a&&a;g?n.props.onError({message:t("EMPTY_KEY")}):d?n.props.onError({message:t("DUPLICATE_KEYS")}):y?n.props.onError({message:y}):n.props.onError()},n.handleItemChange=function(e,t){var a=n.state.arrayValues;a[e]=t,n.triggerChange(a)},n.handleItemDelete=function(e){var t=n.state.arrayValues;n.triggerChange(t.filter((function(t,a){return a!==e})))},n.state=S({existedKey:!1,propsValue:e.value},r.getValues(e)),n}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){this.props.controlled&&this.props.value!==e.value&&this.setState(S({propsValue:this.props.value},r.getValues(this.props)))}},{key:"isAddEnable",value:function(){return this.state.arrayValues.every((function(e){return!((0,v.default)(e)||!e.key&&!e.value)}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.addText,n=t.itemProps,u=t.maxLen,o=this.state,i=o.readOnlyValues,c=o.arrayValues;return y.default.createElement("div",{className:(0,m.default)(E.default.wrapper,a)},i.map((function(e){return y.default.createElement(b.default,(0,l.default)({key:"readonly-".concat(e.key),value:e,readOnly:!0},n))})),c.map((function(t,a){return y.default.createElement(b.default,(0,l.default)({key:"array-".concat(a),index:a,value:t||{},onChange:e.handleItemChange,onDelete:e.handleItemDelete},n))})),u&&c.length>=u?null:y.default.createElement("div",{className:"text-right"},y.default.createElement(p.Button,{className:E.default.add,onClick:this.handleAdd,disabled:!this.isAddEnable()},r)))}}],[{key:"getValues",value:function(e){var t=e.value||{},a=[],r=[],n=[];return Object.keys(t).forEach((function(l){e.hiddenKeys.some((function(e){return new RegExp(e).test(l)}))?a.push({key:l,value:t[l]}):e.readOnlyKeys.some((function(e){return new RegExp(e).test(l)}))?r.push({key:l,value:t[l]}):n.push({key:l,value:t[l]})})),(0,v.default)(n)&&(0,v.default)(r)&&n.push({key:""}),{hiddenValues:a,readOnlyValues:r,arrayValues:n}}}]),r}(y.default.Component);a.default=_,_.propTypes={name:g.default.string,value:g.default.object,hiddenKeys:g.default.arrayOf(g.default.string),readOnlyKeys:g.default.arrayOf(g.default.string),controlled:g.default.bool,onChange:g.default.func,onError:g.default.func,maxLen:g.default.number},_.defaultProps={name:"",value:{},hiddenKeys:[],readOnlyKeys:[],controlled:!1,onChange:function(){}}},,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.data,r=e.status,n=e.reason,c=e.type,s=void 0===c?"workload":c,f=e.onShowEvents,d=o.default.createElement("div",null,o.default.createElement("div",{className:"tooltip-title"},t("STATUS_INFORMATION")),o.default.createElement("div",null,(0,u.default)(a,"status.conditions",[]).map((function(e){return o.default.createElement("div",{key:e.type,className:i.default.condition},o.default.createElement("div",{className:i.default.title},function(e,t){var a=t.type,r=t.status;if("volume"===e)return"True"===r;return"ReplicaFailure"===a?"False"===r:"True"===r}(s,e)?o.default.createElement(l.Icon,{name:"success",type:"coloured"}):o.default.createElement(l.Icon,{name:"error",color:{primary:"#ffffff",secondary:"#ea4641"}}),o.default.createElement("span",null,t("".concat(s.toUpperCase(),"_CONDITION_").concat(e.type.toUpperCase()),{defaultValue:e.type}))),e.status&&o.default.createElement("p",null,t("STATUS_VALUE",{value:"True"===e.status?"True":"False"})),e.reason&&o.default.createElement("p",null,t("REASON_VALUE",{value:t("".concat(s.toUpperCase(),"_REASON_").concat(e.reason.toUpperCase()),{defaultValue:e.reason})})),e.message&&o.default.createElement("p",null,t("MESSAGE_VALUE",{value:e.message})))}))),f&&o.default.createElement(l.Button,{type:"primary",onClick:f,className:"margin-t8 width-full"},t("VIEW_EVENTS")));return o.default.createElement("span",{className:i.default.reason},o.default.createElement(l.Tooltip,{placement:"right",content:d,positionFixed:!0},o.default.createElement("span",{className:i.default.reasonDesc},o.default.createElement(l.Icon,{name:"information",color:{primary:"#ffffff",secondary:"error"===r?"#ab2f29":"#f5a623"}}),n&&o.default.createElement("span",{className:"error"===r?i.default.error:i.default.warning},t(n)))))},r(3),r(20);var l=r(189),u=n(r(26)),o=n(r(0)),i=n(r(2073))},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(88),a(138),a(8),a(13),a(9),a(4),a(18),a(30),a(11),a(69),a(79),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(88),a(27),a(29),a(138),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(30),a(11),a(69),a(79),a(7);var n,l,u=r(a(31)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(26)),p=a(903),m=a(17),h=a(243),v=a(437),g=a(61);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var O=(n=(0,h.inject)("rootStore"),(0,v.withRouter)(l=n(l=(0,h.observer)(l=function(e){(0,c.default)(a,e);var t=b(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"componentDidMount",value:function(){this.props.watch&&this.initWebsocket()}},{key:"componentWillUnmount",value:function(){this.disposer&&this.disposer()}},{key:"initWebsocket",value:function(){var e=this,t=this.props.stores.detailStore;if(t&&"getWatchUrl"in t){var a=t.getWatchUrl(this.props.match.params);this.websocket.watch(a);var r=g.MODULE_KIND_MAP[this.props.module],n=t.mapper;this.disposer=(0,m.reaction)((function(){return e.websocket.message}),(function(a){a.object.kind===r&&"MODIFIED"===a.type&&Object.assign(t.detail,E(E({},e.props.match.params),n((0,m.toJS)(a.object))))}))}}},{key:"inCluster",get:function(){return this.props.match.path.startsWith("/clusters")}},{key:"websocket",get:function(){return this.props.rootStore.websocket}},{key:"enabledActions",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster,r=e.namespace;return globals.app.getActions(E({skipAuth:this.props.skipAuth,module:this.authKey,fedproject:(0,d.default)(this.props,"match.url","").indexOf("federatedprojects")>-1},this.inCluster?{cluster:a}:{cluster:a,workspace:t,project:r}))}}]),a}(p.Component))||l)||l)||l);t.default=O},,,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(4),a(21),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(317)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37));a(32),a(36),a(29),a(4),a(21),a(18),a(43),a(11),a(46),a(40);var f=r(a(0)),d=n(a(1)),p=n(a(5)),m=a(189),h=n(a(1718));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=(0,f.lazy)((function(){return Promise.all([a.e(0),a.e(8)]).then(a.t.bind(null,4093,7))})),y=function(e){(0,i.default)(a,e);var t=v(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.mode,r=e.options,n=e.value,u=e.onChange;return f.default.createElement(f.Suspense,{fallback:f.default.createElement(m.Loading,{className:"ks-page-loading"})},f.default.createElement(g,(0,l.default)({},r,{className:(0,p.default)(h.default.editor,t),value:n,mode:a,onChange:u})))}}]),a}(f.PureComponent);y.propTypes={value:d.default.oneOfType([d.default.string,d.default.object,d.default.arrayOf(d.default.string),d.default.arrayOf(d.default.object)]),mode:d.default.string,options:d.default.object,onChange:d.default.func},y.defaultProps={value:"",mode:"yaml",options:{},onChange:function(){}};var E=y;t.default=E},,function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(5)),f=a(189),d=r(a(1712));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var m=function(e){(0,u.default)(a,e);var t=p(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.onOk,r=e.okText,n=e.onCancel,l=e.cancelText;return c.default.createElement("div",{className:(0,s.default)(d.default.wrapper,t)},c.default.createElement("div",{className:d.default.button,onClick:n,"data-test":"confirm-cancel"},l||c.default.createElement(f.Icon,{name:"close",type:"light"})),c.default.createElement("div",{className:d.default.button,onClick:a,"data-test":"confirm-ok"},r||c.default.createElement(f.Icon,{name:"check",type:"light"})))}}]),a}(c.default.PureComponent);t.default=m},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(446),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(26)),f=r(a(68)),d=r(a(163)),p=r(a(76)),m=r(a(0)),h=r(a(1)),v=r(a(5)),g=r(a(1727));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(a,e);var t=b(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).handleChildChange=function(t,a,r){var n=e.props.onChange,l=e.props.value,u=void 0===l?{}:l;u=(0,p.default)(u)?u:{},r=(0,s.default)(r,"currentTarget.value",r),(0,f.default)(u,t,r),n(E({},u)),a&&a(r)},e.getValue=function(t,a){var r=(0,s.default)(e.props.value,t),n=(0,s.default)(e.props.defaultValue,t);return(0,d.default)(r)?(0,d.default)(n)?((0,f.default)(e.props.value,t,a),a):((0,f.default)(e.props.value,t,n),n):r},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.value,n=t.children,l=m.default.Children.map(n,(function(t){return m.default.cloneElement(t,E(E({},t.props),{},{className:(0,v.default)(t.props.className,g.default.item),value:(0,d.default)(r)?t.props.value:e.getValue(t.props.name,t.props.defaultValue),onChange:e.handleChildChange.bind(e,t.props.name,t.props.onChange)}))}));return m.default.createElement("div",{className:(0,v.default)(g.default.wrapper,a)},l)}}]),a}(m.default.Component);t.default=O,O.propTypes={name:h.default.string,value:h.default.object,defaultValue:h.default.object,onChange:h.default.func,children:h.default.node.isRequired},O.defaultProps={name:"",value:{},onChange:function(){}}},,function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(87),r(51),r(98),r(24),r(193),r(8),r(13),r(9),r(4),r(190),r(18),r(30),r(11),r(111),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(87),r(51),r(98),r(29),r(24),r(193),r(33),r(16),r(8),r(13),r(9),r(4),r(190),r(18),r(43),r(30),r(11),r(111),r(71),r(7);var l=n(r(58)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=n(r(26)),v=n(r(68)),g=n(r(811)),y=n(r(958)),E=n(r(67)),b=n(r(880)),O=n(r(163)),S=r(189),C=r(56),_=n(r(1133)),k=n(r(1994));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var T=function(e){(0,c.default)(r,e);var a=D(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).cpuFormatter=function(e){return e>0&&e<1?e.toFixed(2):e>1&&e!==1/0?e.toFixed(1):e},n.memoryFormatter=function(e){return(e=Math.round(e))>0&&e<1e3?e-e%10:e>1e3&&e<2e3?e-e%50:e>2e3&&e!==1/0?e-e%100:e},n.checkError=function(e){var t="",a="",r=e.requests,n=e.limits;return n.cpu&&!String(n.cpu).endsWith(".")&&Number(r.cpu)>Number(n.cpu)&&(t="RequestExceed"),n.memory&&!String(n.memory).endsWith(".")&&Number(r.memory)>Number(n.memory)&&(a="RequestExceed"),{cpuError:t,memoryError:a}},n.checkAndTrigger=function(){var e=n.state,t=e.requests,a=e.limits,r=e.gpu,l=e.npu,u=e.workspaceLimits,o=e.workspaceRequests;n.setState({workspaceLimitCheck:{requestCpuError:n.checkNumOutLimit(t.cpu,o.cpu),requestMemoryError:n.checkNumOutLimit(t.memory,o.memory),limitCpuError:n.checkNumOutLimit(a.cpu,u.cpu),limitMemoryError:n.checkNumOutLimit(a.memory,u.memory),gpuLimitError:n.checkGpuOutOfLimit(r),npuLimitError:n.checkNpuOutOfLimit(l)}},n.triggerChange)},n.checkGpuOutOfLimit=function(e){var t=e.type,a=(0,h.default)(n.props,"workspaceLimitProps.gpuLimit",[]).filter((function(e){return Object.keys(e)[0].endsWith(t)})),r=a.length>0?Object.values(a[0])[0]:"Not Limited";return n.checkNumOutLimit(e.value,r)},n.checkNpuOutOfLimit=function(e){var t=e.type,a=(0,h.default)(n.props,"workspaceLimitProps.npuLimit",[]).filter((function(e){return Object.keys(e)[0].endsWith(t)})),r=a.length>0?Object.values(a[0])[0]:"Not Limited";return n.checkNumOutLimit(e.value,r)},n.checkNumOutLimit=function(e,t){var a=n.props.omitQuotaCheck;return void 0!==a&&a?"":"Not Limited"!==t&&(0,y.default)(Number(e))&&Number(e)>t?"workspaceRequestExceed":""},n.triggerChange=function(){var e=n.props,t=e.onChange,a=e.onError,r=n.state,l=r.requests,o=r.limits,i=r.cpuError,c=r.memoryError,s=r.workspaceLimitCheck,f=r.gpu,d=r.npu,p=n.memoryUnit,m="Core"===n.cpuUnit?"":n.cpuUnit,h=n.getWorkspaceCheckError();h.length>0?a(i||c||s[h[0]]):a(i||c);var g={};""!==l.cpu&&l.cpu>=0&&l.cpu<1/0&&(0,v.default)(g,"requests.cpu","".concat(l.cpu).concat(m)),""!==l.memory&&l.memory>=0&&l.memory<1/0&&(0,v.default)(g,"requests.memory","".concat(l.memory).concat(p)),""!==o.cpu&&o.cpu>=0&&o.cpu<1/0&&(0,v.default)(g,"limits.cpu","".concat(o.cpu).concat(m)),""!==o.memory&&o.memory>=0&&o.memory<1/0&&(0,v.default)(g,"limits.memory","".concat(o.memory).concat(p)),f.type&&f.value&&((0,v.default)(g,"limits",N(N({},g.limits),{},(0,u.default)({},"".concat(f.type),f.value))),(0,v.default)(g,"requests",N(N({},g.requests),{},(0,u.default)({},"".concat(f.type),f.value)))),d.type&&d.value&&((0,v.default)(g,"limits",N(N({},g.limits),{},(0,u.default)({},"".concat(d.type),d.value))),(0,v.default)(g,"requests",N(N({},g.requests),{},(0,u.default)({},"".concat(d.type),d.value)))),t(g)},n.getWorkspaceCheckError=function(){return Object.keys(n.state.workspaceLimitCheck).filter((function(e){return""!==n.state.workspaceLimitCheck[e]}))},n.handleCPUChange=function(e){n.setState((function(t){var a=t.requests,r=t.limits;return{requests:N(N({},a),{},{cpu:0===e[0]?"":e[0]}),limits:N(N({},r),{},{cpu:0===e[1]?"":e[1]})}}),n.checkAndTrigger)},n.handleMemoryChange=function(e){n.setState((function(t){var a=t.requests,r=t.limits;return{requests:N(N({},a),{},{memory:0===e[0]?"":e[0]}),limits:N(N({},r),{},{memory:0===e[1]?"":e[1]})}}),n.checkAndTrigger)},n.handleInputChange=function(e){return function(t){var a;a=""===t||void 0===t?"":t,n.setState((function(t){return(0,v.default)(t,e,(0,b.default)(a)?"":a),N(N({},t),n.checkError(t))}),n.checkAndTrigger)}},n.handleGpuInputChange=function(e){var t;if(""===e)t="";else{var a=/^(0|[1-9][0-9]*)$/.exec(e);t=null==a?(0,h.default)(n.state,"gpu.value",""):a[0]}n.setState({gpu:{type:n.state.gpu.type,value:t}},n.checkAndTrigger)},n.gpuSelectChange=function(e){n.setState({gpu:{type:e,value:n.state.gpu.value}},n.checkAndTrigger)},n.handleNpuInputChange=function(e){var t;if(""===e)t="";else{var a=/^(0|[1-9][0-9]*)$/.exec(e);t=null==a?(0,h.default)(n.state,"npu.value",""):a[0]}n.setState({npu:{type:n.state.npu.type,value:t}},n.checkAndTrigger)},n.npuSelectChange=function(e){n.setState({npu:{type:e,value:n.state.npu.value}},n.checkAndTrigger)},n.renderLimitTip=function(e,a){return"Not Limited"!==e?"".concat(e," ").concat(a):t("NO_LIMIT")},n.renderGpuTip=function(){var e=n.props.workspaceLimitProps,a=n.state.gpu,r=null==e?void 0:e.gpuLimit.filter((function(e){return(0,E.default)(e)?e:Object.keys(e)[0].endsWith(a.type)}))[0];return d.default.createElement("div",{className:k.default.message},!(0,O.default)(r)&&d.default.createElement(d.default.Fragment,null,d.default.createElement("span",null,t("GPU_TYPE"),":"),d.default.createElement("span",null,a.type),d.default.createElement("br",null)),d.default.createElement("span",null,t("GPU_LIMIT"),":"),d.default.createElement("span",null,(0,O.default)(r)?t("NO_LIMIT"):Object.values(r)[0]))},n.renderNpuTip=function(){var e=n.props.workspaceLimitProps,a=n.state.npu,r=null==e?void 0:e.npuLimit.filter((function(e){return(0,E.default)(e)?e:Object.keys(e)[0].endsWith(a.type)}))[0];return d.default.createElement("div",{className:k.default.message},!(0,O.default)(r)&&d.default.createElement(d.default.Fragment,null,d.default.createElement("span",null,t("GPU_TYPE"),":"),d.default.createElement("span",null,a.type),d.default.createElement("br",null)),d.default.createElement("span",null,t("NPU_LIMIT"),":"),d.default.createElement("span",null,(0,O.default)(r)?t("NO_LIMIT"):Object.values(r)[0]))},n.renderGpuSelect=function(){return d.default.createElement(S.Column,null,d.default.createElement("div",{className:k.default.inputGroup},d.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/GPU.svg",size:48}),d.default.createElement("div",{className:(0,m.default)(k.default.input)},d.default.createElement("div",{className:k.default.label},d.default.createElement("span",null,t("GPU_TYPE"))),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(S.Select,{options:n.gpuOption,value:n.state.gpu.type,onChange:n.gpuSelectChange,placeholder:" "}))),d.default.createElement("div",{className:(0,m.default)(k.default.input)},d.default.createElement("div",{className:k.default.label},d.default.createElement("span",null,t("GPU_LIMIT"))),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(_.default,{name:"gpu.value",value:n.state.gpu.value,onChange:n.handleGpuInputChange,placeholder:t("NO_LIMIT")})))))},n.renderNpuSelect=function(){return d.default.createElement(S.Column,null,d.default.createElement("div",{className:k.default.inputGroup},d.default.createElement(S.Icon,{size:48,name:"computing"}),d.default.createElement("div",{className:(0,m.default)(k.default.input)},d.default.createElement("div",{className:k.default.label},d.default.createElement("span",null,t("NPU_TYPE"))),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(S.Select,{options:n.npuOption,value:n.state.npu.type,onChange:n.npuSelectChange,placeholder:" "}))),d.default.createElement("div",{className:(0,m.default)(k.default.input)},d.default.createElement("div",{className:k.default.label},d.default.createElement("span",null,t("NPU_LIMIT"))),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(_.default,{name:"npu.value",value:n.state.npu.value,onChange:n.handleNpuInputChange,placeholder:t("NO_LIMIT")})))))},n.state=N(N({},r.getValue(e)),{},{defaultValue:e.defaultValue,cpuError:"",memoryError:"",workspaceLimitCheck:{}}),n}return(0,i.default)(r,[{key:"componentDidUpdate",value:function(e,t){e.isEdit&&!this.props.isEdit&&(0,g.default)(e.defaultValue,t.defaultValue)&&this.setState(N(N({},r.getValue(this.props)),{},{defaultValue:this.props.defaultProps}))}},{key:"getLimit",value:function(e){return(0,y.default)(Number(e))?e:""}},{key:"getRequest",value:function(e){return null==e?"":e}},{key:"renderQuotasTip",value:function(){var e=this,a=this.props,r=a.workspaceLimitProps,n=a.supportGpuSelect,l=this.state,u=l.workspaceLimits,o=l.workspaceRequests,i=globals.config.supportNpu||!1,c=this.memoryUnit,s=this.cpuUnit,f=t("AVAILABLE_QUOTAS");return d.default.createElement(S.Alert,{title:f,type:"info",className:"margin-t12",message:d.default.createElement(d.default.Fragment,null,d.default.createElement("div",null,d.default.createElement("div",{className:k.default.message},d.default.createElement("span",null,t("RESOURCE_REQUESTS"),":"),d.default.createElement("span",null,"CPU ",e.renderLimitTip(o.cpu,s),", ",t("MEMORY")," ",e.renderLimitTip(o.memory,c))),d.default.createElement("div",{className:k.default.message},d.default.createElement("span",null,t("RESOURCE_LIMITS"),":"),d.default.createElement("span",null,"CPU ",e.renderLimitTip(u.cpu,s),", ",t("MEMORY")," ",e.renderLimitTip(u.memory,c))),n&&r.gpuLimit&&e.renderGpuTip(),i&&r.npuLimit&&e.renderNpuTip()))})}},{key:"render",value:function(){var e=this.state,a=e.cpuError,r=e.memoryError,n=e.workspaceLimitCheck,l=this.props.supportGpuSelect,o=this.getWorkspaceCheckError(),i=globals.config.supportNpu||!1;return d.default.createElement("div",{className:k.default.wrapper},d.default.createElement("div",{className:(0,m.default)(k.default.inputWrapper,(0,u.default)({},k.default.supportNpuSelect,i))},d.default.createElement(S.Columns,{className:"is-gapless"},d.default.createElement(S.Column,null,d.default.createElement("div",{className:k.default.inputGroup},d.default.createElement(S.Icon,{name:"cpu",size:48}),d.default.createElement("div",{className:(0,m.default)(k.default.input,(0,u.default)({},k.default.error,a||n.requestCpuError))},d.default.createElement("span",{className:k.default.label},t("CPU_REQUEST")),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(_.default,{name:"requests.cpu",value:this.getRequest(this.state.requests.cpu),onChange:this.handleInputChange("requests.cpu"),placeholder:t("NO_REQUEST")}),d.default.createElement("span",{className:k.default.unit},this.cpuUnit))),d.default.createElement("div",{className:(0,m.default)(k.default.input,(0,u.default)({},k.default.error,a||n.limitCpuError))},d.default.createElement("span",{className:k.default.label},t("CPU_LIMIT")),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(_.default,{name:"limits.cpu",value:this.getLimit(this.state.limits.cpu),onChange:this.handleInputChange("limits.cpu"),placeholder:t("NO_LIMIT")}),d.default.createElement("span",{className:k.default.unit},this.cpuUnit))))),d.default.createElement(S.Column,null,d.default.createElement("div",{className:k.default.inputGroup},d.default.createElement(S.Icon,{name:"memory",size:48}),d.default.createElement("div",{className:(0,m.default)(k.default.input,(0,u.default)({},k.default.error,r||n.requestMemoryError))},d.default.createElement("span",{className:k.default.label},t("MEMORY_REQUEST")),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(_.default,{name:"requests.memory",value:this.getRequest(this.state.requests.memory),onChange:this.handleInputChange("requests.memory"),placeholder:t("NO_REQUEST")}),d.default.createElement("span",{className:k.default.unit},this.memoryUnit))),d.default.createElement("div",{className:(0,m.default)(k.default.input,(0,u.default)({},k.default.error,r||n.limitMemoryError))},d.default.createElement("span",{className:k.default.label},t("MEMORY_LIMIT")),d.default.createElement("div",{className:k.default.inputBox},d.default.createElement(_.default,{name:"limits.memory",value:this.getLimit(this.state.limits.memory),onChange:this.handleInputChange("limits.memory"),placeholder:t("NO_LIMIT")}),d.default.createElement("span",{className:k.default.unit},this.memoryUnit))))),l&&this.renderGpuSelect(),i&&this.renderNpuSelect())),this.ifRenderTip&&this.renderQuotasTip(),(a||r)&&d.default.createElement(S.Alert,{type:"error",className:"margin-t12",message:t("REQUEST_EXCEED_LIMIT")}),o.length>0&&d.default.createElement(S.Alert,{type:"error",className:"margin-t12",message:t("REQUEST_EXCEED_AVAILABLE_QUOTA")}))}},{key:"lang",get:function(){return"zh"===(0,h.default)(globals,"user.lang","en")?"zh":"en"}},{key:"cpuUnit",get:function(){return this.props.cpuProps.unit||"Core"}},{key:"memoryUnit",get:function(){return this.props.memoryProps.unit||"Mi"}},{key:"gpuOption",get:function(){return globals.config.supportGpuType.reduce((function(e,a){return[].concat((0,l.default)(e),[{value:a,label:t(a.replace(/[-/.]/g,"_").toUpperCase())}])}),[])}},{key:"npuOption",get:function(){var e,t=this;return(null===(e=globals.config.supportNpuType)||void 0===e?void 0:e.reduce((function(e,a){return[].concat((0,l.default)(e),[{value:a.value,label:"zh"===t.lang?a.text.zh:a.text.en}])}),[]))||[]}},{key:"gpuType",get:function(){return this.state.gpu.type}},{key:"npuType",get:function(){return this.state.npu.type}},{key:"ifRenderTip",get:function(){var e=this.props.workspaceLimitProps;return!(0,E.default)(e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return(0,g.default)(e.defaultValue,t.defaultValue)&&(0,g.default)(e.workspaceLimitProps,t.workspaceLimitProps)?null:N(N({},r.getValue(e)),{},{defaultValue:e.defaultValue,workspaceLimitProps:e.workspaceLimitProps})}},{key:"allowInputDot",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e===1/0)return e;var n=e&&r?e.slice(0,-2):e;if(n&&String(n).endsWith(".")){var l=a(e,t);return"".concat(l,".")}if(n&&String(n).endsWith(".0")){var u=a(e,t);return"".concat(u,".0")}return a(e,t)}},{key:"getValue",value:function(e){var t=(0,h.default)(e,"cpuProps.unit","Core"),a=(0,h.default)(e,"memoryProps.unit","Mi"),n=r.getDefaultRequestValue(e,"cpu"),l=r.getDefaultRequestValue(e,"memory"),u=r.getDefaultLimitValue(e,"cpu"),o=r.getDefaultLimitValue(e,"memory"),i=r.allowInputDot(n,t,C.cpuFormat),c=r.allowInputDot(l,a,C.memoryFormat,!0),s=r.allowInputDot(u,t,C.cpuFormat),f=r.allowInputDot(o,a,C.memoryFormat,!0),d=(0,C.memoryFormat)("".concat(r.getWorkspaceRequestLimit(e,"memory"),"Mi"),a),p=(0,C.memoryFormat)("".concat(r.getWorkspaceLimitValue(e,"memory"),"Mi"),a),m=(0,C.cpuFormat)(r.getWorkspaceRequestLimit(e,"cpu"),t),v=(0,C.cpuFormat)(r.getWorkspaceLimitValue(e,"cpu"),t);return{requests:{cpu:i,memory:c},limits:{cpu:s,memory:f},workspaceRequests:{cpu:(0,b.default)(m)?"Not Limited":m,memory:(0,b.default)(d)?"Not Limited":d},workspaceLimits:{cpu:(0,b.default)(v)?"Not Limited":v,memory:(0,b.default)(p)?"Not Limited":p},gpu:r.gpuSetting(e),npu:r.npuSetting(e)}}},{key:"getGpuFromProps",value:function(e){var t=globals.config.supportGpuType;if(!e)return{type:t[0],value:""};var a=Object.keys((0,h.default)(e,"requests",{})).filter((function(e){return t.some((function(t){return e.endsWith(t)}))})),r=(0,E.default)(a)?t[0]:a[0];return{type:r,value:(0,E.default)(a)?"":e.requests["".concat(r)]}}},{key:"getNpuFromProps",value:function(e){var t,a=(null===(t=globals.config.supportNpuType)||void 0===t?void 0:t.map((function(e){return e.value})))||[];if(!e)return{type:a[0],value:""};var r=Object.keys((0,h.default)(e,"requests",{})).filter((function(e){return a.some((function(t){return e.endsWith(t)}))})),n=(0,E.default)(r)?a[0]:r[0];return{type:n,value:(0,E.default)(r)?"":e.requests["".concat(n)]}}},{key:"gpuSetting",value:function(e){var t=(0,h.default)(e,"value",{}),a=(0,h.default)(e,"defaultValue",{});return(0,E.default)(t)?(0,E.default)(a)?r.getGpuFromProps():r.getGpuFromProps(a):r.getGpuFromProps(t)}},{key:"npuSetting",value:function(e){var t=(0,h.default)(e,"value",{}),a=(0,h.default)(e,"defaultValue",{});return(0,E.default)(t)?(0,E.default)(a)?r.getNpuFromProps():r.getNpuFromProps(a):r.getNpuFromProps(t)}},{key:"getDefaultRequestValue",value:function(e,t){var a;return(0,h.default)(e,"value.requests.".concat(t),null!==(a=(0,h.default)(e,"defaultValue.requests.".concat(t)))&&void 0!==a?a:"")}},{key:"getDefaultLimitValue",value:function(e,t){var a;return(0,h.default)(e,"value.limits.".concat(t),null!==(a=(0,h.default)(e,"defaultValue.limits.".concat(t)))&&void 0!==a?a:1/0)}},{key:"getWorkspaceRequestLimit",value:function(e,t){return(0,h.default)(e,"workspaceLimitProps.requests.".concat(t),"Not Limited")}},{key:"getWorkspaceLimitValue",value:function(e,t){return(0,h.default)(e,"workspaceLimitProps.limits.".concat(t),"Not Limited")}}]),r}(d.default.Component);a.default=T,T.propTypes={value:p.default.object,defaultValue:p.default.object,onChange:p.default.func,onError:p.default.func,supportGpuSelect:p.default.bool,supportNpuSelect:p.default.bool},T.defaultProps={value:{},onChange:function(){},onError:function(){},cpuProps:{},memoryProps:{},supportGpuSelect:!1,supportNpuSelect:!1}},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=a(189),p=r(a(2331));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,u.default)(a,e);var t=m(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.image,a=e.icon,r=e.title,n=e.desc,l=e.actions,u=e.className;return c.default.createElement("div",{className:(0,f.default)(p.default.wrapper,u)},c.default.createElement("div",{className:p.default.image},t?c.default.createElement("img",{src:t,alt:""}):c.default.createElement(d.Icon,{name:a,size:48})),c.default.createElement("div",{className:p.default.title},r),c.default.createElement("p",{className:p.default.desc},n),l&&c.default.createElement("div",{className:p.default.actions},l))}}]),a}(c.default.PureComponent);t.default=h,h.propTypes={icon:s.default.string,title:s.default.string,desc:s.default.oneOfType([s.default.string,s.default.element]),actions:s.default.oneOfType([s.default.node,s.default.element])},h.defaultProps={icon:"appcenter"}},,function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(109),r(3),r(10),r(6),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(6),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var u=l(r(31)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=r(189),p=l(r(5)),m=l(r(981)),h=l(r(863)),v=l(r(26)),g=l(r(140)),y=r(1),E=n(r(0)),b=r(56),O=r(61),S=l(r(1778));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var R=function(e){(0,c.default)(r,e);var a=k(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).iconSizeMap={large:48,normal:40,small:20},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.theme,r=e.size,n=e.className,l=e.cluster,u=e.tagClass,o=e.noStatus,i=e.onClick,c=e.isExpired,s=void 0!==c&&c;if(!l)return null;var f="True"===(0,v.default)(l.conditions,"Ready.status"),y=l.isSchedulable,C=this.iconSizeMap[r];return E.default.createElement("div",{className:(0,p.default)(S.default.wrapper,S.default[a],S.default[r],n)},E.default.createElement("div",{className:S.default.icon,style:{height:C}},E.default.createElement(d.Icon,{name:O.CLUSTER_PROVIDER_ICON[l.provider]||"kubernetes",size:C,type:a}),s?E.default.createElement(h.default,{className:S.default.indicator,type:"error"}):o?null:f?E.default.createElement(h.default,{className:S.default.indicator,type:"ready"}):null),E.default.createElement("div",{className:S.default.title},E.default.createElement("div",{className:S.default.name},i&&f?E.default.createElement("a",{title:(0,b.showNameAndAlias)(l),onClick:i},(0,b.showNameAndAlias)(l)):E.default.createElement("span",{title:(0,b.showNameAndAlias)(l)},(0,b.showNameAndAlias)(l)),l.group&&E.default.createElement(d.Tag,{className:(0,p.default)("margin-l12",u),type:O.CLUSTER_GROUP_TAG_TYPE[l.group]},t("ENV_".concat(l.group.toUpperCase()),{defaultValue:l.group})),l.isHost&&E.default.createElement(d.Tag,{className:(0,p.default)("margin-l12",u),type:"warning"},t("HOST_CLUSTER"))," ","small"===r&&!o&&(!f||!y)&&E.default.createElement(m.default,{data:l})),E.default.createElement("div",{className:S.default.description},function(){if(s)return E.default.createElement("p",{className:S.default.isExpired},E.default.createElement(d.Icon,{name:"information",size:"15",color:{primary:"#ffffff",secondary:"#ab2f29"}}),t("KUBE_CONFIG_IS_EXPIRED"));var e=E.default.createElement("p",{className:(0,p.default)("ellipsis",S.default.ellipsis),title:l.description},l.description||"-");return o||f&&y?e:E.default.createElement(m.default,{data:_(_({},l),{},{conditions:(0,g.default)(l.conditions,"KubeConfigCertExpiresInSevenDays")})})}())))}}]),r}(E.Component);a.default=R,R.propTypes={theme:y.PropTypes.oneOf(["dark","light"]),size:y.PropTypes.oneOf(["normal","small","large"])},R.defaultProps={theme:"dark",size:"normal"}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(44),a(6),a(36),a(66),a(51),a(138),a(8),a(13),a(9),a(4),a(190),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getTimeRange=t.getMinuteValue=void 0;var n=r(a(38));a(35);var l=r(a(39)),u=r(a(58)),o=r(a(31)),i=r(a(50)),c=r(a(62)),s=r(a(25)),f=r(a(28)),d=r(a(45));r(a(63));a(12),a(3),a(10),a(44),a(6),a(36),a(66),a(27),a(51),a(442),a(138),a(33),a(16),a(8),a(13),a(9),a(4),a(190),a(440),a(21),a(7),a(40);var p,m,h,v,g,y=a(17),E=r(a(67)),b=r(a(64)),O=r(a(26)),S=r(a(68)),C=a(56),_=a(803);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"60s",t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=e.slice(-1),r=parseFloat(e);switch(a){default:case"s":break;case"m":r*=60;break;case"h":r*=3600;break;case"d":r=24*r*60*60}return t?"".concat(r,"s"):r};t.getMinuteValue=N;var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,a=void 0===t?"600s":t,r=e.times,n=void 0===r?20:r,l=parseFloat(a)*n,u=Math.floor(Date.now()/1e3),o=Math.floor(u-l);return{start:o,end:u}};t.getTimeRange=D;var T=(p=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e),(0,c.default)(this,"isLoading",m,this),(0,c.default)(this,"isRefreshing",h,this),(0,c.default)(this,"etcdChecking",v,this),(0,c.default)(this,"supportETCD",g,this),this.isConfirmSupportETCD=!1,this.data={},this.resourceName="resource_name",this.getApi=function(e){var a=e.namespace,r=e.workspace,n=e.component,l=e.module,u=e.container,o=e.nodeName,i=e.persistentvolumeclaim,c=e.pvc,s=e.pod,f=e.workload;return n||l?"".concat(t.apiVersion,"/component_metrics"):s?"".concat(t.apiVersion,"/pod_metrics"):u?"".concat(t.apiVersion,"/container_metrics"):o?"".concat(t.apiVersion,"/node_metrics"):i||c?"".concat(t.apiVersion,"/persistentvolumeclaim_metrics"):f?"".concat(t.apiVersion,"/workload_metrics"):a?"".concat(t.apiVersion,"/namespace_metrics"):r?"".concat(t.apiVersion,"/workspace_metrics"):globals.app.isMultiCluster&&t.cluster?"".concat(t.apiVersion,"/cluster_metrics"):t.apiVersion},this.getParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.start,r=e.end,n=e.step,l=void 0===n?"600s":n,u=e.times,o=void 0===u?20:u,c=e.resources,s=void 0===c?[]:c,f=e.metrics,d=void 0===f?[]:f,p=e.cluster_resources_filter,m=void 0===p?t.cluster_resources_filter:p,h=e.last,v=void 0!==h&&h,g=e.pvcName,y=e.nodeName,b=e.module,O=(0,i.default)(e,["start","end","step","times","resources","metrics","cluster_resources_filter","last","pvcName","nodeName","module"]),S=R({},O);if((b||t.module)&&(S.component=b||t.module,delete S.module),g&&(S.pvc=g),y&&(S.node=y),t.cluster&&(S.cluster=t.cluster),!v&&(Object.assign(S,{start:a,end:r,step:N(l),times:o}),!a||!r)){var C=D(S);S.start=C.start,S.end=C.end}return S.start&&(S.start=Math.floor(S.start)),S.end&&(S.end=Math.floor(S.end)),(0,E.default)(s)||(S.resources_filter="".concat(s.join("|"))),(0,E.default)(m)||(S.cluster_resources_filter="".concat(m.join("|"))),(0,E.default)(d)||(S.metrics_filter="".concat(d.join("|"))),t.handleParams(S)},this.handleParams=function(e){return e},this.getResult=function(e){var t={},a=(0,b.default)(e)?e:(0,O.default)(e,"results",[])||[];if((0,E.default)(a)){var r=(0,O.default)(e,"metric_name");r&&(t[r]=e)}else a.forEach((function(e,a){t[e.metric_name||a+1]=e,e.metric_name=e.metric_name||a+1}));return t},this.getNewValues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=(0,E.default)(e)?[]:(0,u.default)(e),r=t||[];return(0,E.default)(r)||(a.length>10&&a.shift(),a.push(r)),a},this.getNewRefreshedResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,u.default)(a);return e.forEach((function(e,a){var n=(0,O.default)(e,"metric.".concat(t.resourceName)),l=null;if(n){var u=r.find((function(e){return(0,O.default)(e,"metric.".concat(t.resourceName))===n}));(0,E.default)(u)?r.push(e):l=u}else l=r[a];if(!(0,E.default)(l)){var o=t.getNewValues(l.values,e.value);(0,S.default)(l,"values",o)}})),r},this.getRefreshResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,y.toJS)(a);return(0,E.default)(r)?e:(Object.values(e).forEach((function(e){var a=(0,O.default)(e,"metric_name"),n=r[a];if(n){var l=(0,O.default)(e,"data.result")||[],u=(0,O.default)(n,"data.result",(0,O.default)(n,"data.results"))||[];(0,S.default)(n,"data.result",t.getNewRefreshedResult(l,u))}})),r)},this.getMoreResult=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,y.toJS)(t);return(0,E.default)(a)?e:(Object.values(e).forEach((function(e){var t=(0,O.default)(e,"metric_name"),r=a[t];if(r){var n=(0,O.default)(r,"data.result",(0,O.default)(r,"data.results"))||[],l=(0,O.default)(e,"data.result")||[],o=[].concat((0,u.default)(n),(0,u.default)(l));(0,S.default)(r,"data.result",o)}})),a)},this.checkEtcd=function(){t.etcdChecking=!0,t.supportETCD=globals.app.hasMonitoringExtensionExtraModule("enable-etcd-monitoring"),t.etcdChecking=!1},this.getStatisticUrl=function(e){var t=e.cluster,a=e.namespace,r=e.workspace,n=t?"/klusters/".concat(t):"",l=a?"/namespaces/".concat(a):"",u=r?"/workspaces/".concat(r):"",o="/resources.kubesphere.io/v1alpha3";return t||(o="/tenant.kubesphere.io/v1beta1"),"/kapis".concat(o).concat(n).concat(l).concat(u,"/metrics")},Object.keys(a).forEach((function(e){return(0,S.default)(t,e,a[e])}))}var t,a;return(0,f.default)(e,[{key:"fetchMetrics",value:(a=(0,l.default)(n.default.mark((function e(t){var a,r,l,u,o,c,s,f,d,p,m;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.autoRefresh,r=void 0!==a&&a,l=t.more,u=void 0!==l&&l,o=t.fillZero,c=void 0===o||o,s=(0,i.default)(t,["autoRefresh","more","fillZero"]),r?(s.last=!0,this.isRefreshing=!0):this.isLoading=!0,s.cluster&&(this.cluster=s.cluster),this.cluster&&(s.cluster=this.cluster),f=this.getParams(s),d=this.getApi(s),e.next=8,(0,C.to)(request.get(d,f));case 8:return p=e.sent,m=this.getResult(p),r&&(m=this.getRefreshResult(m,this.data)),u&&(m=this.getMoreResult(m,this.data)),this.data=c?(0,_.fillEmptyMetrics)(f,m):m,this.isLoading=!1,this.isRefreshing=!1,e.abrupt("return",m);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchStatisticsQuery",value:(t=(0,l.default)(n.default.mark((function e(t){var a,r,l,u,o,i;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,l=t.workspace,u=this.getStatisticUrl({cluster:a,namespace:r,workspace:l}),e.next=4,(0,C.to)(request.get(u));case 4:return o=e.sent,i=this.getResult(o),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"kapis/monitoring.kubesphere.io/v1beta1"}}]),e}(),m=(0,d.default)(p.prototype,"isLoading",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=(0,d.default)(p.prototype,"isRefreshing",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=(0,d.default)(p.prototype,"etcdChecking",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=(0,d.default)(p.prototype,"supportETCD",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,d.default)(p.prototype,"fetchMetrics",[y.action],Object.getOwnPropertyDescriptor(p.prototype,"fetchMetrics"),p.prototype),(0,d.default)(p.prototype,"fetchStatisticsQuery",[y.action],Object.getOwnPropertyDescriptor(p.prototype,"fetchStatisticsQuery"),p.prototype),p);t.default=T},function(e,t,a){"use strict";a.r(t),a.d(t,"ReactComponent",(function(){return c}));var r=a(317),n=a.n(r),l=a(0),u=a.n(l),o=u.a.createElement("path",{d:"M17.613 10.43c1.07.653 2.38 2.418 2.926 4.543.546 2.124.455 4.027.455 4.027s-.706-1.172-.992-1.582c-.287-.411-1.494-1.941-3.367-2.828-1.874-.887-5.005-.73-5.005-.73l.37 3.705-9-6.288 9-6.266-.37 3.716s2.073.16 3.157.39c1.825.389 2.826 1.312 2.826 1.312z"}),i=u.a.createElement("path",{fill:"currentColor",d:"M12 17.564l-9-6.287 9-6.267z"}),c=function(e){return u.a.createElement("svg",n()({viewBox:"0 0 24 24",width:"1em",height:"1em"},e),o,i)};t.default="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnPgogICAgICAgIDxwYXRoIGQ9Ik0xNy42MTMgMTAuNDNjMS4wNy42NTMgMi4zOCAyLjQxOCAyLjkyNiA0LjU0My41NDYgMi4xMjQuNDU1IDQuMDI3LjQ1NSA0LjAyN3MtLjcwNi0xLjE3Mi0uOTkyLTEuNTgyYy0uMjg3LS40MTEtMS40OTQtMS45NDEtMy4zNjctMi44MjgtMS44NzQtLjg4Ny01LjAwNS0uNzMtNS4wMDUtLjczbC4zNyAzLjcwNS05LTYuMjg4IDktNi4yNjYtLjM3IDMuNzE2czIuMDczLjE2IDMuMTU3LjM5YzEuODI1LjM4OSAyLjgyNiAxLjMxMiAyLjgyNiAxLjMxMnoiLz4KICAgICAgICA8cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMiAxNy41NjRsLTktNi4yODcgOS02LjI2N3oiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(5)),p=n(r(2003));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.img,n=e.desc;return s.default.createElement("div",{className:(0,d.default)(p.default.wrapper,a)},s.default.createElement("img",{src:r,alt:"No data"}),s.default.createElement("div",{className:p.default.content},t(n)))}}]),r}(s.default.PureComponent);a.default=h,h.propTypes={className:f.default.string,img:f.default.string,desc:f.default.string},h.defaultProps={img:"/extensions-static/ks-console-embed/dist/v3dist/assets/empty-card.svg",desc:"NO_DATA"}},,,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(18),a(43),a(11);var l=n(a(31)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37)),f=n(a(67)),d=r(a(0)),p=n(a(1)),m=n(a(5)),h=a(189),v=n(a(1709));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(a,e);var t=g(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).toggleSwitch=function(){var t=e.props,a=t.checked;(0,t.onChange)(!a)},e}return(0,o.default)(a,[{key:"render",value:function(){var e,t=this.props,a=t.className,r=t.disabled,n=t.type,u=t.text,o=t.checked,i=!(0,f.default)(u);return d.default.createElement(h.Button,{className:(0,m.default)(v.default.wrapper,(0,l.default)({},v.default[n],o),a),type:"default",onClick:this.toggleSwitch},d.default.createElement("label",{className:(0,m.default)(v.default.switch,(e={},(0,l.default)(e,v.default.disabled,r),(0,l.default)(e,v.default.on,o),e))},i&&d.default.createElement("span",{className:v.default.inner},u)))}}]),a}(d.PureComponent);t.default=y,y.propTypes={className:p.default.string,type:p.default.string,text:p.default.string,disabled:p.default.bool,checked:p.default.bool,onChange:p.default.func},y.defaultProps={type:"primary",checked:!1,onChange:function(){}}},,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(10),a(70),a(66),a(20),a(4),a(190),a(18),a(30),a(11),a(139),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37));a(32),a(3),a(10),a(70),a(66),a(20),a(29),a(4),a(190),a(18),a(43),a(30),a(11),a(73),a(139);var c=r(a(0)),s=r(a(1)),f=r(a(5)),d=a(893),p=r(a(26)),m=r(a(67)),h=r(a(142)),v=r(a(1716)),g=a(189),y=r(a(838)),E=a(463),b=r(a(1719));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var S=function(e,t){var a=(0,E.getAllYAMLValue)(e);return t&&1===a.length?a[0]:a},C=function(e){(0,u.default)(a,e);var t=O(a);function a(e){var r,l;return(0,n.default)(this,a),(r=t.call(this,e)).handleUpload=function(e){var t=new FileReader;t.onload=function(e){(0,m.default)(e.target.result)||(r.value=e.target.result,r.forceUpdate(),r.props.onChange&&r.props.onChange(r.value))},t.readAsText(e[0])},r.handleDownload=function(){var e,t=r.props,a=t.value,n=t.mode;if(a.metadata)e=a;else{var l=Object.values(a);l&&l[0]&&l[0].metadata&&(e=l[0])}var u=[(0,p.default)(e,"metadata.name","default"),(0,p.default)(e,"metadata.namespace",""),(0,p.default)(e,"kind","").toLowerCase()].filter((function(e){return e})).join(".");r.saveAsFile(r.value,"".concat(u,".").concat(n))},r.saveAsFile=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default.txt",a=new Blob([e],{type:"text/plain;charset=utf-8"});(0,d.saveAs)(a,t)},r.handleChange=function(e){r.value=e,"obj"===r.props.returnType?r.props.onChange&&r.props.onChange(S(r.value,!0)):r.props.onChange&&r.props.onChange(e)},r.getData=function(){return S(r.value,!!r.props.value.metadata)},r.value=(l=e.value,[void 0,null].includes(l)?"":(null==l?void 0:l.metadata)?(0,E.getValue)(l):(0,h.default)(l)?l:Object.values(l).map((function(e){return(0,E.getValue)(e||{})})).join("---\n")),r}return(0,l.default)(a,[{key:"options",get:function(){return{readOnly:this.props.readOnly,width:"100%",height:"100%"}}}]),(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.mode,a=e.className,r=e.editorClassName,n=e.readOnly;return c.default.createElement("div",{className:(0,f.default)(b.default.mode,a)},c.default.createElement("div",{className:(0,f.default)(b.default.edit,r)},c.default.createElement(y.default,{className:b.default.editor,mode:t,value:this.value,options:this.options,onChange:this.handleChange}),c.default.createElement("div",{className:b.default.ops,onClick:this.handleModeChange},!n&&c.default.createElement(c.default.Fragment,null,c.default.createElement(v.default,{fileTypes:[".yaml"],handleFiles:this.handleUpload},c.default.createElement(g.Icon,{name:"upload",size:20,color:{primary:"#fff",secondary:"#fff"},clickable:!0,changeable:!0})),c.default.createElement("span",{className:b.default.split},"|")),c.default.createElement(g.Icon,{name:"download",size:20,color:{primary:"#fff",secondary:"#fff"},onClick:this.handleDownload,clickable:!0,changeable:!0}))))}}]),a}(c.default.Component);t.default=C,C.propTypes={className:s.default.string,mode:s.default.string,value:s.default.oneOfType([s.default.object,s.default.arrayOf(s.default.object),s.default.string]),readOnly:s.default.bool},C.defaultProps={mode:"yaml",readOnly:!1}},,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var l=n(a(31)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37)),f=r(a(0)),d=n(a(1)),p=n(a(5)),m=n(a(1777));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,i.default)(a,e);var t=h(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.type,r=e.flicker;return f.default.createElement("i",{className:(0,p.default)(m.default.icon,m.default[a.toLowerCase()],(0,l.default)({},m.default.flicker,r),t)})}}]),a}(f.PureComponent);t.default=v,v.propTypes={className:d.default.string,type:d.default.string,flicker:d.default.bool},v.defaultProps={type:"Running",flicker:!1}},,function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Avatar",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Banner",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"Nav",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"Bar",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"Breadcrumb",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Card",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"CodeEditor",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"Empty",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"Indicator",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"Label",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"Drawer",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"TypeSelect",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"Status",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"Steps",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"Markdown",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"Upload",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"CheckableText",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"Dragger",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"ScrollLoad",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"RadioGroup",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"NotifyConfirm",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"Panel",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"ToggleField",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"DataEmptyTip",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"Progress",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"RecordSelect",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"SeverityTag",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"Notify",{enumerable:!0,get:function(){return x.default}});var n=r(a(802)),l=r(a(2107)),u=r(a(2109)),o=r(a(999)),i=r(a(2112)),c=r(a(823)),s=r(a(838)),f=r(a(854)),d=r(a(863)),p=r(a(1e3)),m=r(a(828)),h=r(a(798)),v=r(a(1050)),g=r(a(827)),y=r(a(807)),E=r(a(1098)),b=r(a(858)),O=r(a(932)),S=r(a(897)),C=r(a(997)),_=r(a(1150)),k=r(a(889)),R=r(a(1367)),N=r(a(1051)),D=r(a(801)),T=r(a(800)),P=r(a(826)),w=r(a(1368)),I=r(a(1151)),M=r(a(1369)),A=r(a(1353)),j=r(a(979)),x=r(a(191))},,function(e,t,a){"use strict";a(16);var r=a(19);a(14),a(4),a(18),a(30),a(11),a(69),Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.default=void 0,a(32),a(29),a(14),a(4),a(18),a(43),a(30),a(11),a(69);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=a(17),f=a(243),d=a(61),p=a(56),m=r(a(1163)),h=r(a(1539));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var g=function(e){(0,u.default)(a,e);var t=v(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).eventStore=new m.default,r}return(0,l.default)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this.store.detail,t=e.uid,a=e.name,r=e.namespace,n=e._originData,l={"involvedObject.name":a,"involvedObject.namespace":r,"involvedObject.kind":(void 0===n?{}:n).kind||this.kind,"involvedObject.uid":t};this.eventStore.fetchList({namespace:r,cluster:this.cluster,fieldSelector:(0,p.joinSelector)(l)})}},{key:"render",value:function(){var e=(0,s.toJS)(this.eventStore.list),t=e.data,a=e.isLoading;return c.default.createElement(h.default,{data:t,loading:a})}},{key:"store",get:function(){return this.props.detailStore}},{key:"cluster",get:function(){return this.props.match.params.cluster}},{key:"module",get:function(){return this.store.module}},{key:"kind",get:function(){return d.MODULE_KIND_MAP[this.module]}}]),a}(c.default.Component),y=(0,f.inject)("detailStore")((0,f.observer)(g));t.default=y;var E=g;t.Component=E},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n,l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=a(17),d=a(243),p=r(a(3422)),m=r(a(1542));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=(0,d.inject)("detailStore")(n=(0,d.observer)(n=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=(0,f.toJS)(this.store.detail),t=e.labels,a=e.annotations;return s.default.createElement(s.default.Fragment,null,s.default.createElement(p.default,{labels:t}),s.default.createElement(m.default,{annotations:a}))}},{key:"store",get:function(){return this.props.detailStore}}]),a}(s.default.Component))||n)||n;t.default=v},,,function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(88),r(20),r(14),r(24),r(8),r(13),r(9),r(30),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(31));r(12),r(3),r(10),r(44),r(6),r(88),r(20),r(27),r(14),r(24),r(33),r(16),r(8),r(13),r(9),r(4),r(30),r(71),r(7);var u=n(r(0)),o=n(r(26)),i=n(r(67)),c=n(r(880)),s=r(56),f=r(61),d=r(1294),p=n(r(1832));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.active)return null;var a=e.renderLabel,r=e.payload,n=e.usageData,l=e.totalData,m=e.tailText,v=e.alert,g=e.isTranslate,y=void 0===g||g,E=r||[],b=e.label,O=(0,o.default)(E,"[0].unit")||"",S="default"===O?"":"%"===O?"%":"".concat(t(O)),C=a?a(e):b,_=function(e){var a=e.indexOf("gpu")>-1?"gpu":e,r="gpu"===a?"".concat(a,".limit"):a;return f.ICON_TYPES[a]?t(r.replace(/[. ]/g,"_").toUpperCase()):r};return u.default.createElement("div",{className:p.default.tooltip},v&&u.default.createElement("div",{className:p.default.item},u.default.createElement(d.ReactComponent,null),"".concat(t(_(v.name||"")),"：").concat("core"===v.unit?t("VALUE_CORES",{value:v.value}):t("VALUE_UNIT",h({},v)))),u.default.createElement("div",{className:p.default.label,style:{marginTop:"".concat(v?"8px":"0px")}},u.default.createElement("span",null,C),m&&u.default.createElement("span",null,m)),u.default.createElement("div",{className:p.default.list},E.map((function(e){var a=e.dataKey,r=e.name,f=e.value,d=void 0===f?0:f;if((0,c.default)(Number(d)))return null;var m=(0,o.default)(e,"stroke"),h="";if(!(0,i.default)(n)&&!(0,i.default)(l)){var v=(0,o.default)(n.find((function(e){return e.time===b})),r)||0,g=(0,o.default)(l.find((function(e){return e.time===b})),r)||0;h=" (".concat(v,"/").concat(g,")")}var E=(0,s.coreUnitTS)(d,S);return u.default.createElement("div",{key:a,className:p.default.item},u.default.createElement("i",{style:{background:m}}),y?t(r):r,": ",d," ".concat(t(E)),h)}))))};a.default=v},,function(e,a,r){"use strict";r(16);var n=r(19);r(66),r(20),r(14),r(30),r(71),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.checkRepoInvalidReason=a.compareVersion=a.downloadFileFromBase64=a.getAppCategoryNames=a.getVersionTypesName=a.transferReviewStatus=a.transferVersionStatus=a.transferAppStatus=void 0;var l=n(r(246));r(66),r(20),r(14),r(321),r(30),r(71);var u=n(r(479)),o=r(955);a.transferAppStatus=function(e){return o.STATUS_TRANSFER_MAP[e]?t("APP_STATUS_".concat(o.STATUS_TRANSFER_MAP[e].toUpperCase().replace(/[^A-Z]+/g,"_"))):e};a.transferVersionStatus=function(e){return o.STATUS_TRANSFER_MAP[e]?"draft"===e?t("APP_STATUS_NOT_SUBMITTED"):t("APP_STATUS_".concat(o.STATUS_TRANSFER_MAP[e].toUpperCase().replace(/[^A-Z]+/g,"_"))):e};a.transferReviewStatus=function(e){var t;switch(e){case"submitted":t="to-be-reviewed";break;case"passed":case"suspended":case"rejected":case"active":t=e;break;default:t="in-review"}return t};a.getVersionTypesName=function(e){return e?e.split(",").map((function(e){return(0,u.default)(e)})).join(" "):"-"};a.getAppCategoryNames=function(e){var a,r,n,l,u=null==e||null===(a=e.metadata)||void 0===a||null===(r=a.annotations)||void 0===r?void 0:r["kubesphere.io/alias-name"];if(u)return u;var o=null==e||null===(n=e.metadata)||void 0===n?void 0:n.name;return"kubesphere-app-uncategorized"===o?t("APP_CATE_UNCATEGORIZED"):t("APP_CATE_".concat(null==o?void 0:o.toUpperCase().replace(/[^A-Z]+/g,"_")),{defaultValue:o||(null==e||null===(l=e.metadata)||void 0===l?void 0:l.name)})};a.downloadFileFromBase64=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,a=document.createElement("a");a.href="data:application/tar+gzip;base64,".concat(e),a.download="".concat(t,".tgz"),a.click()};a.compareVersion=function(e,t){if((0,l.default)(e)+(0,l.default)(t)!=="stringstring")return!1;for(var a=e.split("."),r=t.split("."),n=Math.max(a.length,r.length),u=0;u<n;u++){if(a[u]&&!r[u]&&parseInt(a[u],10)>0||parseInt(a[u],10)>parseInt(r[u],10))return 1;if(r[u]&&!a[u]&&parseInt(r[u],10)>0||parseInt(a[u],10)<parseInt(r[u],10))return-1}return 0};a.checkRepoInvalidReason=function(e){return t({102:"UNRECOGNIZED_URL",103:"INVALID_CREDENTIAL_FORMAT",104:"MISSING_ACCESS_KEY_ID",105:"MISSING_SECRET_ACCESS_KEY",106:"S_THREE_ACCESS_DENIED",107:"INVALID_URL_FORMAT",108:"INVALID_HTTP_SCHEME",109:"HTTP_ACCESS_DENIED",110:"INVALID_HTTPS_SCHEME",111:"INVALID_TYPE",112:"INVALID_PROVIDERS",113:"INVALID_REPO_URL",114:"INVALID_S_THREE_SCHEME"}[e]||"INVALID_URL_DESC")}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(8),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(8),a(4),a(21),a(18),a(43),a(11);var n=r(a(38));a(35);var l,u,o=r(a(39)),i=r(a(62)),c=r(a(25)),s=r(a(28)),f=r(a(74)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45)),v=(r(a(63)),a(17));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var y=(l=function(e){(0,d.default)(r,e);var t,a=g(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).module="resourcequotas",(0,i.default)(e,"data",u,(0,f.default)(e)),e}return(0,s.default)(r,[{key:"fetch",value:(t=(0,o.default)(n.default.mark((function e(t){var a;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,request.get("kapis/resources.kubesphere.io/v1alpha2".concat(this.getPath(t),"/quotas"));case 3:return a=e.sent,this.data=a.data,this.isLoading=!1,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(r(a(49)).default),u=(0,h.default)(l.prototype,"data",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,h.default)(l.prototype,"fetch",[v.action],Object.getOwnPropertyDescriptor(l.prototype,"fetch"),l.prototype),l);t.default=y},,,,function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.BANDWIDTH_RULE_CONFIG=t.THROUGHPUT_RULE_CONFIG=t.DISK_RULE_CONFIG=t.MEMORY_RULE_CONFIG=t.CPU_RULE_CONFIG=t.PERCENT_RULE_CONFIG=t.BASE_RULE_CONFIG=t.getBaseRuleConfig=t.SEVERITY_LEVEL=void 0,a(12),a(10),a(6),a(27),a(33),a(16),a(8),a(13),a(9),a(4),a(7);var n=r(a(31));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o=[{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}];t.SEVERITY_LEVEL=[{type:"critical",prefixIcon:"information",color:{primary:"#fae7e5",secondary:"#ca2621"},label:"CRITICAL_ALERT",value:"critical"},{type:"error",prefixIcon:"information",color:{primary:"#fae7e5",secondary:"#f5a623"},label:"ERROR_ALERT",value:"error"},{className:"tag-ffd939",prefixIcon:"information",color:{primary:"#fae7e5",secondary:"#FFD939"},label:"WARNING_ALERT",value:"warning"},{type:"secondary",prefixIcon:"information",color:{primary:"#fae7e5",secondary:"#79879c"},label:"INFO_ALERT",value:"info"}];var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.condition,a=void 0===t?{}:t,r=e.thresholds,n=void 0===r?{}:r;return[u({name:"condition_type",options:o},a),u({type:"number",name:"thresholds",placeholder:"THRESHOLD"},n)]};t.getBaseRuleConfig=i;var c=i({thresholds:{min:0}});t.BASE_RULE_CONFIG=c;var s=i({thresholds:{min:0,max:100,unit:"%",converter:function(e){return e/100}}});t.PERCENT_RULE_CONFIG=s;var f=i({thresholds:{unit:"core",min:0}});t.CPU_RULE_CONFIG=f;var d=i({thresholds:{unit:"Mi",min:0,converter:function(e){return e*Math.pow(1024,2)}}});t.MEMORY_RULE_CONFIG=d;var p=i({thresholds:{unit:"GB",min:0,converter:function(e){return e*Math.pow(1e3,3)}}});t.DISK_RULE_CONFIG=p;var m=i({thresholds:{unit:"KB/s",min:0,converter:function(e){return 1e3*e}}});t.THROUGHPUT_RULE_CONFIG=m;var h=i({thresholds:{unit:"Mbps",min:0,converter:function(e){return e*(Math.pow(1024,2)/8)}}});t.BANDWIDTH_RULE_CONFIG=h},,,,,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(88),a(14),a(138),a(8),a(13),a(9),a(4),a(21),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(88),a(27),a(29),a(14),a(138),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(30),a(195),a(11),a(7);var n=r(a(31)),l=r(a(38)),u=r(a(50));a(35);var o,i,c,s,f,d,p,m,h,v=r(a(39)),g=r(a(62)),y=r(a(25)),E=r(a(28)),b=r(a(74)),O=r(a(41)),S=r(a(42)),C=r(a(37)),_=r(a(45)),k=(r(a(63)),a(17)),R=r(a(127)),N=a(324),D=a(873),T=a(329);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,C.default)(e);if(t){var n=(0,C.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,S.default)(this,a)}}var M=(o=function(e){(0,O.default)(r,e);var t,a=I(r);function r(){var e;(0,y.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).resourceName="files",(0,g.default)(e,"files",i,(0,b.default)(e)),(0,g.default)(e,"isLoading",c,(0,b.default)(e)),e.filters={},(0,g.default)(e,"checkFile",s,(0,b.default)(e)),(0,g.default)(e,"handleFileByBase64Str",f,(0,b.default)(e)),(0,g.default)(e,"validateImageSize",d,(0,b.default)(e)),(0,g.default)(e,"validatePackage",p,(0,b.default)(e)),(0,g.default)(e,"uploadPackage",m,(0,b.default)(e)),(0,g.default)(e,"downloadPackage",h,(0,b.default)(e)),e.reject=function(t){e.isLoading=!1,window.onunhandledrejection(t)},e}return(0,E.default)(r,[{key:"fetch",value:(t=(0,v.default)(l.default.mark((function e(){var t,a,r,n,o,i,c=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},a=t.app_id,r=t.version_id,n=(0,u.default)(t,["app_id","version_id"]),this.isLoading=!0,this.filters=Object.assign(this.filters,n),e.next=5,request.get(this.getUrl({app_id:a,version_id:r}),this.filters,null,this.reject);case 5:(o=e.sent)&&(i=o.files||{},Object.keys(i).forEach((function(e){i[e]=(0,N.safeAtob)(i[e])})),this.files=i,this.isLoading=!1);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(r(a(460)).default),i=(0,_.default)(o.prototype,"files",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,_.default)(o.prototype,"isLoading",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,_.default)(o.prototype,"fetch",[k.action],Object.getOwnPropertyDescriptor(o.prototype,"fetch"),o.prototype),s=(0,_.default)(o.prototype,"checkFile",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(e,t){var a=T.UPLOAD_CHECK_RULES[t];return a.format.test(e.name.toLocaleLowerCase())?e.size>a.size?"FILE_MAX_".concat(t.toLocaleUpperCase()):"":"FILE_FORMAT_".concat(t.toLocaleUpperCase())}}}),f=(0,_.default)(o.prototype,"handleFileByBase64Str",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,v.default)(l.default.mark((function e(t,a){var r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=new FileReader).readAsDataURL(t,"UTF-8"),r.addEventListener("load",(0,v.default)(l.default.mark((function e(){var t,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.result,n=t.substring(t.indexOf(",")+1,t.length),e.next=4,a(n);case 4:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}}),d=(0,_.default)(o.prototype,"validateImageSize",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,v.default)(l.default.mark((function e(t){var a;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Image).src=t,e.abrupt("return",new Promise((function(e){a.addEventListener("load",(0,v.default)(l.default.mark((function t(){var r;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=!0,(a.width>96||a.height>96)&&(r=!1),e(r);case 3:case"end":return t.stop()}}),t)}))))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),p=(0,_.default)(o.prototype,"validatePackage",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,v.default)(l.default.mark((function t(a,r){var n,u,o;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSubmitting=!0,n={},r?(n.type="helm",n.package=a):(n.version_type="helm",n.version_package=a),u=r?"versions":"apps",t.next=6,request.post("".concat(e.getUrl({app_id:r,name:u}),"?validate=true"),n,{},e.reject);case 6:return o=t.sent,e.isSubmitting=!1,o&&o.name&&(o.base64Str=a),o&&o.error_details&&(o.missFile=(0,R.default)(o.error_details),o.error="MISS_FILE_NOTE"),t.abrupt("return",o);case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}),m=(0,_.default)(o.prototype,"uploadPackage",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,v.default)(l.default.mark((function e(t){var a,r,n,u=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,n=w({},a),"CREATE_APP"===t?n.version_package=a.base64Str:n.package=a.base64Str,delete n.base64Str,e.next=7,r(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),h=(0,_.default)(o.prototype,"downloadPackage",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,v.default)(l.default.mark((function t(){var a,r,n,u,o,i,c=arguments;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>0&&void 0!==c[0]?c[0]:{},r=a.app_id,n=a.version_id,u=a.packageName,o=e.getUrl({app_id:r,version_id:n,name:"package"}),t.next=4,e.submitting(request.get(o));case 4:i=t.sent,(0,D.downloadFileFromBase64)(i.package,u);case 6:case"end":return t.stop()}}),t)})))}}),o);t.default=M},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(31));a(35);var u,o=r(a(39)),i=r(a(25)),c=r(a(28)),s=r(a(41)),f=r(a(42)),d=r(a(37)),p=r(a(45)),m=r(a(49)),h=a(17),v=r(a(26));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var b=(u=function(e){(0,s.default)(r,e);var t,a=E(r);function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).module="resourcequotas",e}return(0,c.default)(r,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.workspace,r="";return t&&(r+="/klusters/".concat(t)),a&&(r+="/workspaces/".concat(a)),r}},{key:"fetchDetail",value:(t=(0,o.default)(n.default.mark((function e(t){var a,r;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,request.get(this.getDetailUrl(t),{},{},(function(){}));case 3:return a=e.sent,r=y(y({},t),this.mapper(a)),this.detail=r,this.isLoading=!1,e.abrupt("return",(0,v.default)(a,"status.total"));case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"kapis/tenant.kubesphere.io/v1beta1"}}]),r}(m.default),(0,p.default)(u.prototype,"fetchDetail",[h.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchDetail"),u.prototype),u);t.default=b},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(21),r(18),r(43),r(11);var l=n(r(38));r(35);var u=n(r(39)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=n(r(67)),v=n(r(26)),g=n(r(859)),y=n(r(163)),E=r(189),b=n(r(854)),O=n(r(2004));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=function(e){var t=e.data,a=e.total,r=e.isEnd;return(0,y.default)(r)?!(0,h.default)(t)&&t.length<a:!r},_=function(e){(0,c.default)(r,e);var a=S(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).isElementAtBottom=function(e){return Math.abs(e.scrollTop+e.clientHeight-e.scrollHeight)<=1},t.handleScroll=(0,g.default)((function(){var e=(0,v.default)(t.containerRef,"current",{});C(t.props)&&t.isElementAtBottom(e)&&t.finish&&(t.finish=!1,t.setState({loadMore:!0},(0,u.default)(l.default.mark((function e(){var a,r,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,r=a.page,n=a.onFetch,e.next=3,n({more:!0,page:r+1});case 3:t.finish=!0;case 4:case"end":return e.stop()}}),e)})))))}),300),t.state={loading:e.loading,loadMore:!1},t.containerRef=d.default.createRef(),t.finish=!0,t}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.props.noMount||this.props.onFetch()}},{key:"renderContent",value:function(){var e=this.props,a=e.empty,r=e.data,n=e.loading,l=e.children,u=this.state.loadMore;return n&&!u?null:(0,h.default)(r)||!l?a||d.default.createElement(b.default,{className:O.default.empty,desc:t("NO_DATA")}):l}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,a=e.className,r=e.width,n=e.minHeight,l=e.height,u=this.state,o=u.loading,i=u.loadMore,c={width:r,height:l};return d.default.createElement("div",{className:(0,m.default)(O.default.wrapper,t)},d.default.createElement(E.Loading,{spinning:o},d.default.createElement("div",{ref:this.containerRef,className:O.default.main,style:c,onScrollCapture:this.handleScroll},d.default.createElement("div",{className:(0,m.default)(O.default.content,a),style:{minHeight:n||l}},this.renderContent()),i&&d.default.createElement("div",{className:O.default.loadMore},d.default.createElement(E.Loading,null)))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.loadMore?{loading:!1,loadMore:C(e)}:e.loading!==t.loading?{loading:e.loading}:null}}]),r}(d.default.Component);a.default=_,_.propTypes={wrapperClassName:p.default.string,width:p.default.oneOfType([p.default.number,p.default.string]),height:p.default.oneOfType([p.default.number,p.default.string]),minHeight:p.default.oneOfType([p.default.number,p.default.string]),empty:p.default.oneOfType([p.default.string,p.default.element,p.default.node]),loading:p.default.bool.isRequired,data:p.default.array.isRequired,total:p.default.number.isRequired,page:p.default.number.isRequired,onFetch:p.default.func.isRequired},_.defaultProps={wrapperClassName:"",width:"100%",height:"100%",isEmpty:!1,loading:!0,data:[],total:10,page:1,noMount:!1,onFetch:function(){}}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(21),a(18),a(43),a(11);var n=r(a(38)),l=r(a(50));a(35);var u,o,i=r(a(39)),c=r(a(62)),s=r(a(25)),f=r(a(74)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45)),v=(r(a(63)),a(17)),g=a(955);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var E=(u=function(e){(0,d.default)(a,e);var t=y(a);function a(){var e;(0,s.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).resourceName="versions",e.sortKey="sequence",e.defaultStatus=g.DEFAULT_QUERY_STATUS,(0,c.default)(e,"handle",o,(0,f.default)(e)),e}return a}(r(a(460)).default),o=(0,h.default)(u.prototype,"handle",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,i.default)(n.default.mark((function t(){var a,r,u,o,i,c,s=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.length>0&&void 0!==s[0]?s[0]:{},r=a.app_id,u=a.version_id,o=a.workspace,i=(0,l.default)(a,["app_id","version_id","workspace"]),c=e.getUrl({app_id:r,version_id:u,workspace:o,name:"action"}),t.next=4,e.submitting(request.post(c,i));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))}}),u);t.default=E},function(e,t,a){"use strict";a(16),a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.UNIT_CONFIG=t.PIE_COLORS=t.AREA_COLORS=t.METER_RESOURCE_USAGE=t.FEE_CONFIG=t.LEVEL_CONFIG=t.MERTER_TYPE=t.METER_RESOURCE_USAGE_TITLE=t.METER_RESOURCE_TITLE=t.RESOURCE_TITLE=t.RESOURCES_TYPE=t.RESOURCES_METER_TYPE=t.CARD_CONFIG=void 0,a(9);t.CARD_CONFIG=[{icon:"cluster",subTitle:"CLUSTER_CONSUMPTION",type:"cluster",desc:"CLUSTER_CONSUMPTION_DESC",infos:["CLUSTER_RESOURCE_CONSUMPTION_DESC","CLUSTER_NODE_CONSUMPTION_DESC","CLUSTER_POD_CONSUMPTION_DESC"]},{icon:"enterprise",subTitle:"WORKSPACE_CONSUMPTION",type:"workspaces",desc:"WORKSPACE_CONSUMPTION_DESC",infos:["WORKSPACE_RESOURCE_CONSUMPTION_DESC","WORKSPACE_PROJECT_CONSUMPTION_DESC","PROJECT_CONSUMPTION_DESC"]}];t.RESOURCES_METER_TYPE={deployments:"workload",statefulsets:"workload",daemonsets:"workload",nodes:"node",workspaces:"workspace",namespaces:"namespace",applications:"application",openpitrixs:"application",services:"service",pods:"pod",cluster:"cluster"};t.RESOURCES_TYPE=["namespaces","applications","services","deployments","statefulsets","daemonsets","openpitrixs","nodes","pods"];t.RESOURCE_TITLE={nodes:"Cluster Node",pods:"Pod",openpitrixs:"App Template",applications:"Composing App",deployments:"Deployment",statefulsets:"StatefulSet",daemonsets:"DaemonSet",workspaces:"Workspace",cluster:"Cluster",namespaces:"Project",services:"Service"};t.METER_RESOURCE_TITLE={cpu:"CPU",memory:"Memory",disk:"Volumes",net_received:"Net Received",net_transmitted:"Net Transmitted"};var r={cpu:"Meter CPU Usage",memory:"Meter Memory Usage",disk:"Meter Volume Usage",net_received:"Meter Net Received Usage",net_transmitted:"Meter Net Transmitted Usage"};t.METER_RESOURCE_USAGE_TITLE=r;var n=Object.keys(r);t.MERTER_TYPE=n;t.LEVEL_CONFIG={openpitrix:[{type:"openpitrix",children:["service"]}],workspaces:[{type:"workspaces",children:["namespaces"]},{type:"namespaces",children:["applications","deployments","statefulsets","openpitrixs","daemonsets"],parent:["workspaces"]},{type:"applications",children:["deployments","statefulsets","daemonsets"],parent:["namespaces"]},{type:"openpitrixs",children:["deployments","statefulsets","daemonsets"],parent:["namespaces"]},{type:"services",children:["pods"],parent:["applications","namespaces","openpitrixs","daemonsets"]},{type:["deployments","statefulsets","daemonsets"],children:["pods"],parent:["applications","namespaces","openpitrixs"]},{type:"pods",parent:["deployments","statefulsets","namespaces","services","daemonsets"]}],cluster:[{type:"cluster",children:["nodes"]},{type:"nodes",children:["pods"],parent:["cluster"]},{type:"pods",parent:["nodes"]}]};t.FEE_CONFIG={cpu_per_core_per_hour:"cpu",egress_network_traffic_per_megabytes_per_hour:"net_transmitted",ingress_network_traffic_per_megabytes_per_hour:"net_received",mem_per_gigabytes_per_hour:"memory",pvc_per_gigabytes_per_hour:"disk",currency:"currency"};t.METER_RESOURCE_USAGE={cpu:"cpu_usage",memory:"memory_usage_wo_cache",net_received:"net_bytes_received",net_transmitted:"net_bytes_transmitted",disk:"pvc_bytes_total"};t.AREA_COLORS=["green","blue","yellow","red","darkestGreen","darkestBlue","darkestYellow","darkestRed","lightestGreen","lightestBlue","lightestYellow","lightestRed"];t.PIE_COLORS=["#3b747a","#479e88","#55bc8a","#a2d8bb","#326e93","#3385b0","#329dce","#7eb8dc","#c7deef","#8c3231","#ab2f29","#ca2621","#ea8573","#fae7e5","#8d663e","#e0992c","#f5a623","#ffc781","#ffe1be"];t.UNIT_CONFIG={cpu:{label:"Core",value:"core"},memory:{label:"Gi",value:"Gi"},number:{label:"M",value:"Mi"},disk:{label:"GB",value:"Gi"},net_received:{label:"M",value:"Mi"},net_transmitted:{label:"M",value:"Mi"}}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(8),a(4),a(190),a(18),a(30),a(11),a(71),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(8),a(4),a(190),a(21),a(18),a(43),a(30),a(11),a(71);var n=r(a(50)),l=r(a(38));a(35);var u,o,i,c=r(a(39)),s=r(a(62)),f=r(a(25)),d=r(a(28)),p=r(a(74)),m=r(a(41)),h=r(a(42)),v=r(a(37)),g=r(a(45)),y=(r(a(63)),a(17)),E=r(a(26)),b=a(56);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var S=(u=function(e){(0,m.default)(u,e);var t,a,r=O(u);function u(){var e;(0,f.default)(this,u);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e=r.call.apply(r,[this].concat(a)),(0,s.default)(e,"statistics",o,(0,p.default)(e)),(0,s.default)(e,"resourceMetrics",i,(0,p.default)(e)),e.fetchClusterDevopsCount=(0,c.default)(l.default.mark((function e(){var t;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get("kapis/tenant.kubesphere.io/v1beta1/devopscount/");case 2:return t=e.sent,e.abrupt("return",(0,E.default)(t,"count",0));case 4:case"end":return e.stop()}}),e)}))),e}return(0,d.default)(u,[{key:"fetchStatistics",value:(a=(0,c.default)(l.default.mark((function e(){var t,a,r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.statistics.isLoading=!0,t={type:"statistics"},e.next=4,(0,b.to)(request.get(this.getApi(),t));case 4:return a=e.sent,r=this.getResult(a),this.statistics={data:r,isLoading:!1},e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"fetchApplicationResourceMetrics",value:(t=(0,c.default)(l.default.mark((function e(t){var a,r,u,o,i,c,s,f,d,p,m;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.workspace,r=t.namespace,u=t.cluster,o=t.autoRefresh,i=void 0!==o&&o,c=(0,n.default)(t,["workspace","namespace","cluster","autoRefresh"]),i?(c.last=!0,this.resourceMetrics.isRefreshing=!0):this.resourceMetrics.isLoading=!0,c.cluster&&(this.cluster=c.cluster),s=this.getParams(c),f=/^[a-zA-Z]+_/g,d=(0,E.default)(c.metrics,"[0]","").replace(f,"cluster_"),a&&(s.metrics_filter="".concat(d.replace(f,"workspace_"),"$")),r&&"all"!==r&&(s.metrics_filter="".concat(d.replace(f,"namespace_"),"$")),e.next=10,(0,b.to)(request.get("".concat(this.getApi({cluster:u||this.cluster,workspace:a,namespace:r})),s));case 10:return p=e.sent,m=this.getResult(p),i&&(m=this.getRefreshResult(m,this.resourceMetrics.originData)),this.resourceMetrics={originData:m,data:(0,E.default)(Object.values(m),"[0].data.result")||[],isLoading:!1,isRefreshing:!1},e.abrupt("return",m);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),u}(r(a(847)).default),o=(0,g.default)(u.prototype,"statistics",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},isLoading:!1}}}),i=(0,g.default)(u.prototype,"resourceMetrics",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{originData:{},data:[],isLoading:!1}}}),(0,g.default)(u.prototype,"fetchStatistics",[y.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchStatistics"),u.prototype),(0,g.default)(u.prototype,"fetchApplicationResourceMetrics",[y.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchApplicationResourceMetrics"),u.prototype),u);t.default=S},,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(88),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(88),a(29),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=a(189);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var m=function(e){(0,i.default)(a,e);var t=p(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t){var a=e.props,r=a.onChange,n=a.unit,l=t;n&&String(t).indexOf(n)<0&&(l="".concat(t).concat(n)),r&&r(l)},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=(e.onChange,(0,l.default)(e,["onChange"]));return f.default.createElement(d.Slider,(0,n.default)({onChange:this.handleChange},t))}}]),a}(f.default.Component);t.default=m},,,function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1957)).default;t.default=n},function(e,a,r){"use strict";var n=r(19),l=r(162);r(12),r(3),r(10),r(44),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(20),r(27),r(860),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var u,o=n(r(317)),i=n(r(50)),c=n(r(31)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=l(r(0)),v=r(243),g=n(r(244)),y=r(189),E=n(r(441)),b=r(56),O=n(r(1970));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var k=(0,v.observer)(u=function(e){(0,d.default)(r,e);var a=_(r);function r(){var e;(0,s.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).projectStore=new E.default,e.fetchProjects=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.props.cluster;return t.name&&(t.nameAndAlias=t.name,delete t.name),e.projectStore.fetchList(C({cluster:a},t))},e.optionRenderer=function(a){return h.default.createElement("div",{className:O.default.option,key:a.value},a.isFedManaged?h.default.createElement("img",{className:O.default.indicator,src:"/extensions-static/ks-console-embed/dist/v3dist/assets/cluster.svg"}):h.default.createElement(y.Icon,{name:"project"}),a.label,a.isFedManaged&&h.default.createElement(y.Tooltip,{content:e.props.tipMessage||t("FEDPROJECT_RESOURCE_TIP")},h.default.createElement(y.Icon,{className:O.default.tip,name:"question"})))},e}return(0,f.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.labelSelector;this.fetchProjects(e?{labelSelector:e}:void 0)}},{key:"getProjects",value:function(){var e=this.props.defaultValue,t=this.projectStore.list.data,a=t.filter((function(e){return"Terminating"!==e.status})).map((function(e){return{label:(0,b.showNameAndAlias)(e),value:e.name,disabled:e.isFedManaged,isFedManaged:e.isFedManaged}}));return e&&!t.find((function(t){return t.name===e}))&&a.unshift({label:e,value:e}),a}},{key:"render",value:function(){var e=this.props,t=(e.cluster,(0,i.default)(e,["cluster"]));return!t.value&&t.defaultValue&&(t.value=t.defaultValue),h.default.createElement(y.Select,(0,o.default)({options:this.getProjects(),pagination:(0,g.default)(this.projectStore.list,["page","limit","total"]),isLoading:this.projectStore.list.isLoading,valueRenderer:this.optionRenderer,optionRenderer:this.optionRenderer,onFetch:this.fetchProjects,searchable:!0,clearable:!0,disableRemoteSearch:!0,placeholder:" "},t))}}]),r}(h.Component))||u;a.default=k},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(1),p=n(r(5)),m=r(189),h=n(r(1995));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(e){(0,i.default)(r,e);var a=v(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={show:e.props.defaultShow||!1},e.toggle=function(){e.setState((function(e){return{show:!e.show}}))},e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.label,n=e.children,u=this.state.show;return f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:(0,p.default)(h.default.toggle,a),onClick:this.toggle},f.default.createElement("a",null,f.default.createElement("span",{className:"align-middle"},t(r)," "),f.default.createElement(m.Icon,{name:u?"chevron-up":"chevron-down"}))),f.default.createElement("div",{className:(0,p.default)((0,l.default)({},h.default.children,!u))},n))}}]),r}(f.default.Component);a.default=g,g.propTypes={label:d.PropTypes.string},g.defaultProps={label:"ADVANCED_SETTINGS"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(192),r(10),r(44),r(199),r(6),r(70),r(36),r(20),r(87),r(51),r(98),r(14),r(24),r(8),r(13),r(9),r(4),r(190),r(21),r(18),r(11),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(192),r(10),r(44),r(199),r(6),r(70),r(36),r(20),r(27),r(87),r(51),r(98),r(141),r(29),r(446),r(14),r(120),r(24),r(33),r(16),r(8),r(13),r(9),r(4),r(190),r(21),r(18),r(43),r(30),r(195),r(11),r(46),r(7),r(40);var l=n(r(317)),u=n(r(97)),o=n(r(38));r(35);var i=n(r(39)),c=n(r(31)),s=n(r(25)),f=n(r(28)),d=n(r(74)),p=n(r(41)),m=n(r(42)),h=n(r(37)),v=n(r(0)),g=r(189),y=n(r(1044)),E=n(r(444)),b=n(r(26)),O=n(r(201)),S=n(r(67)),C=n(r(163)),_=n(r(993)),k=n(r(906)),R=n(r(140)),N=n(r(457)),D=n(r(338)),T=n(r(1045)),P=n(r(68)),w=n(r(196)),I=r(249),M=r(61),A=r(56),j=n(r(1339)),x=n(r(447)),L=n(r(888)),U=n(r(450)),z=n(r(1042)),F=n(r(874)),G=n(r(441)),V=n(r(2022)),B=n(r(2043)),Y=n(r(1344)),q=n(r(2051)),H=n(r(2075)),W=n(r(1144)),K=n(r(1348)),Q=n(r(1146)),J=n(r(2083)),Z=n(r(2084));function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(Object(a),!0).forEach((function(t){(0,c.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var te=function(e){(0,p.default)(r,e);var a=ee(r);function r(e){var n,l;return(0,s.default)(this,r),(l=a.call(this,e)).getReplicas=function(){return(0,b.default)(l.fedFormTemplate,"spec.replicas")||1},l.singleClusterQuota=function(e,t,a){return new Promise((function(r){Promise.all([l.quotaStore.fetch({cluster:a,namespace:t}),l.workspaceQuotaStore.fetchDetail({name:e,workspace:e,cluster:a})]).then((function(e){var t=(0,b.default)(e[0],"data.hard"),a=(0,I.getLeftQuota)(e[1],(0,b.default)(e[0],"data")),n=a.namespace,l=a.workspace;r({workspaceQuota:l,namespaceQuota:$($({},n),(0,R.default)(t,A.resourceLimitKey))})}))}))},l.multiClusterQuota=function(e,t){var a=[],r={"limits.cpu":void 0,"limits.memory":void 0};l.clusters.forEach((function(r){return a.push(l.singleClusterQuota(e,t,r))})),Promise.all(a).then((function(e){var t=e.map((function(e){return(0,b.default)(e,"workspaceQuota",r)})),a=e.map((function(e){return(0,b.default)(e,"namespaceQuota",r)})),n=e.map((function(e){return(0,R.default)((0,b.default)(e,"namespaceQuota",{}),A.resourceLimitKey)}));l.setState({leftQuota:{workspace:l.transformQuota(t),namespace:l.transformQuota(a)},availableQuota:{workspace:l.transformQuota(t),namespace:$($({},l.transformQuota(a)),l.transformGpu(n))}})}))},l.transformQuota=function(e){return{"limits.cpu":l.findCpuOrMemoryMin(e,"limits.cpu"),"limits.memory":l.findCpuOrMemoryMin(e,"limits.memory"),"requests.cpu":l.findCpuOrMemoryMin(e,"requests.cpu"),"requests.memory":l.findCpuOrMemoryMin(e,"requests.memory")}},l.findCpuOrMemoryMin=function(e,t){var a=e.map((function(e){return e[t]}));return(0,k.default)(a)},l.transformGpu=function(e){var t=globals.config.supportGpuType,a=e.map((function(e){return(0,D.default)(e,(function(e,a){return t.some((function(e){return(0,E.default)(a,e)}))}))}));return(0,T.default)(a,(function(e,t){var a=(0,b.default)(e,"".concat(Object.keys(t)[0]));return a?Number(a)>Number(Object.values(t)[0])?$($({},e),t):$({},e):$($({},e),t)}),{})},l.fetchQuota=(0,i.default)(o.default.mark((function e(){var t,a,r,n,u,i,c,s,f,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.namespace,r=l.props,n=r.cluster,u=r.projectDetail,i=r.isFederated,!(t=u?u.workspace:l.props.workspace)||!a){e.next=15;break}if(i){e.next=14;break}return e.next=7,l.singleClusterQuota(t,a,n);case 7:c=e.sent,s=c.workspaceQuota,f=c.namespaceQuota,d={workspace:s,namespace:f},l.setState({leftQuota:d,availableQuota:d}),e.next=15;break;case 14:l.multiClusterQuota(t,a);case 15:case"end":return e.stop()}}),e)}))),l.handleReplicaChange=function(e){l.setState({replicas:e})},l.handleClusterUpdate=function(){l.updateService()},l.showContainer=function(e){l.setState({showContainer:!0,selectContainer:e||{}})},l.showSideCarContainer=function(){"sidecarset"!==l.module&&l.setState({showSideCarContainer:!0})},l.hideContainer=function(){l.setState({showContainer:!1,showSideCarContainer:!1,selectContainer:{}})},l.updateTimeZone=function(e){var t=(0,b.default)(l.fedFormTemplate,"".concat(l.prefix,"spec.volumes"),[]);e.some((function(e){return(e.volumeMounts||[]).some((function(e){return"/etc/localtime"===e.mountPath}))}))?t.every((function(e){return"host-time"!==e.name}))&&t.push({hostPath:{path:"/etc/localtime",type:""},name:"host-time"}):t=t.filter((function(e){var t;return!("host-time"===e.name&&"/etc/localtime"===(null==e||null===(t=e.hostPath)||void 0===t?void 0:t.path))})),(0,P.default)(l.fedFormTemplate,"".concat(l.prefix,"spec.volumes"),t)},l.updatePullSecrets=function(){var e={},t="".concat(l.prefix,"spec.imagePullSecrets"),a="".concat(l.prefix,'metadata.annotations["kubesphere.io/imagepullsecrets"]'),r=(0,b.default)(l.fedFormTemplate,"".concat(l.prefix,"spec.containers"),[]),n=(0,b.default)(l.fedFormTemplate,"".concat(l.prefix,"spec.initContainers"),[]);(0,y.default)(r,n).forEach((function(t){t.pullSecret&&(e[t.name]=t.pullSecret),t.annotationOfImagePullSecrets&&delete t.annotationOfImagePullSecrets}));var u=(0,b.default)(l.fedFormTemplate,t,[]),o=(0,b.default)(l.fedFormTemplate,a,null);if(!(0,S.default)(e)){var i=Object.values(e).map((function(e){return{name:e}}));u=u.concat(i).reduce((function(e,t){return e.find((function(e){return e.name===t.name}))||e.push(t),e}),[])}var c=JSON.stringify(e);if(null!==o){var s=$($({},JSON.parse(o)),e);c=JSON.stringify(s)}(0,P.default)(l.fedFormTemplate,t,u),(0,P.default)(l.fedFormTemplate,a,c)},l.updateService=function(){var e=l.props,t=e.formTemplate;if(e.withService){var a=(0,b.default)(l.fedFormTemplate,"".concat(l.prefix,"spec.containers"),[]),r=[];a.forEach((function(e){e.ports&&e.ports.forEach((function(e){e.servicePort&&r.push({name:e.name,protocol:e.protocol,port:e.servicePort,targetPort:e.containerPort})}))}));var n=t.Service,u=l.props.isFederated?"spec.template.":"";(0,P.default)(n,"".concat(u,"spec.ports"),r);var o=(0,b.default)(l.formTemplate,"metadata.labels",{}),i=(0,b.default)(l.fedFormTemplate,"".concat(l.prefix,"metadata.labels"),{});(0,P.default)(n,"metadata.labels",o),(0,P.default)(n,"".concat(u,"spec.selector"),(0,R.default)(i,"version"));var c=(0,b.default)(l.formTemplate,"spec.placement");c?(0,P.default)(n,"spec.placement",c):(0,w.default)(n,"spec.placement"),"statefulsets"===l.module?(0,P.default)(n,"".concat(u,"spec.clusterIP"),"None"):(0,w.default)(n,"".concat(u,"spec.clusterIP"))}},l.handleDelete=function(){l.updatePullSecrets(),l.updateService()},l.containersValidator=function(e,a,r){if((0,S.default)(a))return r({message:t("CONTAINER_EMPTY_DESC")});r()},l.state={showContainer:!1,showSideCarContainer:!1,selectContainer:{},limitRange:{},imageRegistries:[],replicas:l.getReplicas(),leftQuota:{}},l.module=["apptemplates","apptemplateversions"].includes(e.module)?"deployments":null!==(n=e.module)&&void 0!==n?n:"deployments",l.limitRangeStore=new z.default,l.imageRegistryStore=new x.default,l.quotaStore=new F.default,l.workspaceQuotaStore=new L.default,l.projectStore=new G.default,e.isFederated&&(l.limitRangeStore=new U.default({module:l.limitRangeStore.module}),l.imageRegistryStore=new U.default({module:l.imageRegistryStore.module})),l.handleContainer=l.handleContainer.bind((0,d.default)(l)),l.handleSidecarContainer=l.handleSidecarContainer.bind((0,d.default)(l)),l.containerRef=v.default.createRef(),l}return(0,f.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.store;this.fetchData(),this.fetchQuota(),this.props.withService&&this.initService(this.formTemplate),(null==e?void 0:e.renderScheduleTab)&&this.props.store.setMetadata(this.formTemplate.metadata)}},{key:"componentDidUpdate",value:function(){var e=this.containerRef.current,t=(0,b.default)(e,"state.error",null),a=(0,b.default)(this.props.formTemplate,"".concat(this.prefix,"spec.containers"),[]);t&&a.length>0&&e.setState({error:null})}},{key:"initService",value:function(){var e=(0,b.default)(this.formTemplate,"metadata.name"),t=(0,b.default)(this.props.formTemplate,"Service.metadata.name");e&&!t&&(t="".concat(e.slice(0,57),"-").concat((0,A.generateId)(4)),/^[a-z]/.test(t)||(t="s".concat(t)),(0,P.default)(this.props.formTemplate,"Service.metadata.name",t),(0,P.default)(this.props.formTemplate,'Service.metadata.annotations["kubesphere.io/alias-name"]',e),(0,P.default)(this.props.formTemplate,'Service.metadata.annotations["kubesphere.io/serviceType"]',"statefulservice"),(0,P.default)(this.fedFormTemplate,"spec.serviceName",t))}},{key:"fetchData",value:function(){var e=this,t=this.props,a=t.cluster,r=t.isFederated,n={cluster:a,namespace:(0,b.default)(this.formTemplate,"metadata.namespace")};Promise.all([this.limitRangeStore.fetchListByK8s(n),r?this.imageRegistryStore.fetchList($($({},n),{},{limit:-1,type:"kubernetes.io/dockerconfigjson"})):this.imageRegistryStore.fetchListByK8s($($({},n),{},{fieldSelector:"type=kubernetes.io/dockerconfigjson"}))]).then((function(t){var a=(0,u.default)(t,2),r=a[0],n=a[1];e.setState({limitRange:(0,b.default)(r,"[0].limit"),imageRegistries:n})}))}},{key:"handleContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,O.default)(e,"resources.limits")&&(e.resources.limits=(0,N.default)(e.resources.limits,S.default)),e.type=e.type||"worker";var t=(0,b.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),[]).map((function(e){return $($({},e),{},{type:"worker"})})),a=(0,b.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),[]).map((function(e){return $($({},e),{},{type:"init"})})),r=(0,y.default)(t,a),n=this.state.selectContainer,l=r.findIndex((function(e){return e.name===n.name}));l>-1?r[l]=e:r.push(e);var u=[],o=[];r.forEach((function(e){"worker"===e.type?(delete e.type,u.push(e)):(delete e.type,o.push(e))})),o.forEach((function(e){(0,A.cancelContainerDot)(e)})),u.forEach((function(e){(0,A.cancelContainerDot)(e)})),(0,P.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),u),(0,P.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),o),this.updateTimeZone(r),this.updatePullSecrets(),this.updateService(),this.hideContainer()}},{key:"renderContainerForm",value:function(e){var t,a,r,n=this.props,u=n.onlyDockerHub,o=n.withService,i=n.isFederated,c=n.cluster,s=n.supportGpuSelect,f=n.projectDetail,d=this.state,p=d.limitRange,m=d.imageRegistries,h=e.image?"Edit":"Add",g={limitRange:p,onlyDockerHub:u,imageRegistries:m};return v.default.createElement(V.default,(0,l.default)({type:h,module:this.module,namespace:this.namespace,data:e,projectDetail:f,onSave:this.handleContainer,onCancel:this.hideContainer,withService:o,isFederated:i,workspaceQuota:this.workspaceQuota,cluster:c,supportGpuSelect:s,recommendations:null!==(t=null===(a=this.props.store)||void 0===a||null===(r=a.detail)||void 0===r?void 0:r.recommendations)&&void 0!==t?t:[],containers:this.containers},g))}},{key:"handleSidecarContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,b.default)(e,"spec.template.metadata.labels",{});(0,P.default)(this.fedFormTemplate,"spec.template.metadata.labels",t),this.hideContainer()}},{key:"renderInjectSidecarForm",value:function(e){var t=this.props,a=t.isFederated,r=t.cluster,n=this.state,u=n.limitRange,o=n.imageRegistries,i=e.image?"Edit":"Add",c={limitRange:u,imageRegistries:o};return v.default.createElement(q.default,(0,l.default)({type:i,module:this.module,namespace:this.namespace,data:e,onSave:this.handleSidecarContainer,onCancel:this.hideContainer,isFederated:a,cluster:r},c))}},{key:"renderDeployPlacementTip",value:function(){return v.default.createElement("div",{className:Z.default.tipBox},v.default.createElement("div",{className:Z.default.tipTitle},t("SPECIFY_REPLICAS")),v.default.createElement("p",null,t("SPECIFY_REPLICAS_DESC")),v.default.createElement("br",null),v.default.createElement("div",{className:Z.default.tipTitle},t("SPECIFY_WEIGHTS")),v.default.createElement("p",null,t("SPECIFY_WEIGHTS_DESC")))}},{key:"renderDeployPlace",value:function(){var e=this.props.projectDetail;return v.default.createElement(g.Form.Item,{className:"margin-b12",label:t("POD_REPLICAS"),tip:this.renderDeployPlacementTip()},v.default.createElement(B.default,{module:this.module,template:this.formTemplate,clusters:e.clusters,onClusterUpdate:this.handleClusterUpdate,omitAlias:12}))}},{key:"renderDeployMode",value:function(){var e=this.props.projectDetail;return v.default.createElement("div",{className:"margin-b12"},v.default.createElement("div",{className:Z.default.formTip},v.default.createElement("span",{className:Z.default.tipLabel},t("REPLICA_SCHEDULING_MODE")),v.default.createElement(g.Tooltip,{placement:"right",content:this.renderDeployPlacementTip()},v.default.createElement(g.Icon,{name:"question",size:"20"}))),v.default.createElement(g.Form.Item,null,v.default.createElement(B.default,{module:this.module,template:this.formTemplate,clusters:e.clusters,onClusterUpdate:this.handleClusterUpdate,store:this.props.store,omitAlias:12})))}},{key:"renderReplicasControl",value:function(){if("daemonsets"===this.module)return null;var e=this.props,t=e.isFederated,a=e.store,r=e.replicasExtraControl,n=e.isEdit;return t?a.renderScheduleTab?this.renderDeployMode():this.renderDeployPlace():v.default.createElement("div",{className:"margin-b12"},v.default.createElement(W.default,{module:this.module,replicas:this.state.replicas,template:this.formTemplate,replicasExtraControl:null==r?void 0:r({isEdit:n}),onChange:this.handleReplicaChange,cluster:this.props.cluster}))}},{key:"renderContainerList",value:function(){var e,a,r,n=this.props,l=n.isReadOnlyContainers,u=n.isShowAddContainer,o=(0,b.default)(this.fedFormTemplate,"".concat(this.prefix,"spec"));return v.default.createElement(g.Form.Item,{label:t("CONTAINERS"),rules:[{validator:this.containersValidator}],ref:this.containerRef},v.default.createElement(K.default,{name:"".concat(this.prefix,"spec.containers"),onShow:this.showContainer,onDelete:this.handleDelete,specTemplate:o,leftQuota:this.state.leftQuota,projectDetail:this.props.projectDetail,replicas:this.state.replicas,isEdit:this.props.isEdit,isReadOnlyContainers:l,isShowAddContainer:u,recommendations:null!==(e=null===(a=this.props.store)||void 0===a||null===(r=a.detail)||void 0===r?void 0:r.recommendations)&&void 0!==e?e:[],module:this.module,onShowSideCar:this.showSideCarContainer}))}},{key:"renderUpdateStrategy",value:function(){return v.default.createElement("div",{className:"margin-t12"},v.default.createElement(Q.default,{module:this.module,data:this.fedFormTemplate}))}},{key:"renderPodSecurityContext",value:function(){return v.default.createElement("div",{className:"margin-t12"},v.default.createElement(H.default,{prefix:"".concat(this.prefix,"spec.securityContext")}))}},{key:"renderPodAffinity",value:function(){var e=this.props,t=e.cluster,a=e.namespace;return v.default.createElement("div",{className:"margin-b12"},v.default.createElement(j.default,{initial:!0,data:this.fedFormTemplate,module:this.module,cluster:t,namespace:a,checkable:!0}))}},{key:"renderTerminationSeconds",value:function(){return v.default.createElement("div",{className:"margin-b12"},v.default.createElement(g.Form.Group,{label:t("POD_GRACE_PERIOD"),desc:t("POD_GRACE_PERIOD_DESC"),keepDataWhenUnCheck:!0,checkable:!0},v.default.createElement(Y.default,{prefix:this.prefix})))}},{key:"renderMetadata",value:function(){return v.default.createElement("div",{className:"margin-b12"},v.default.createElement(g.Form.Group,{label:t("ADD_METADATA"),desc:t("POD_ADD_METADATA_DESC"),keepDataWhenUnCheck:!0,checkable:!0},v.default.createElement(J.default,null)))}},{key:"render",value:function(){var e=this.props,t=e.formRef,a=e.className,r=e.withEditCheck,n=e.formProps,u=this.state,o=u.showContainer,i=u.showSideCarContainer,c=u.selectContainer,s=JSON.parse((0,b.default)(this.fedFormTemplate,'metadata.annotations["kubesphere.io/imagepullsecrets"]',"{}"));if(o)return this.renderContainerForm($($({},c),{},{annotationOfImagePullSecrets:s}));var f=(0,b.default)(this.fedFormTemplate,"spec.template.metadata.labels",{});return i?this.renderInjectSidecarForm({spec:{template:{metadata:{labels:f}}}}):v.default.createElement(g.Form,(0,l.default)({data:this.fedFormTemplate,ref:t,className:a},r?n:{}),this.renderReplicasControl(),this.renderContainerList(),this.renderUpdateStrategy(),this.renderPodSecurityContext(),this.renderPodAffinity(),this.renderTerminationSeconds(),this.renderMetadata())}},{key:"prefix",get:function(){return this.props.prefix||"spec.template."}},{key:"namespace",get:function(){return(0,b.default)(this.formTemplate,"metadata.namespace")}},{key:"formTemplate",get:function(){var e=this.props.formTemplate,t=(0,b.default)(e,M.MODULE_KIND_MAP[this.module],e);return t.totalReplicas="",t}},{key:"fedFormTemplate",get:function(){return this.props.isFederated?(0,b.default)(this.formTemplate,"spec.template"):this.formTemplate}},{key:"workspaceQuota",get:function(){var e=(0,b.default)(this.state.availableQuota,"namespace",{}),t=(0,b.default)(this.state.availableQuota,"workspace",{});return(0,_.default)(e,t,(function(e,t){if(e||t)return(0,C.default)(e)?t:e<t?e:t}))}},{key:"clusters",get:function(){return this.props.projectDetail.clusters.map((function(e){return e.name}))}},{key:"containers",get:function(){var e=(0,b.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),[]),t=(0,b.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),[]);return(0,y.default)(e,t)}}]),r}(v.default.Component);a.default=te},function(e,a,r){"use strict";r(16);var n=r(19);r(51),r(79),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.data,r=e.module,n=((0,c.getWorkloadStatus)(a,r)||"").status;if(n.startsWith("S2I")){var d=n.slice(4);return u.default.createElement("div",{className:f.default.status},u.default.createElement(o.default,{type:d,name:t(i.S2I_STATUS_DESC[d]),flicker:!0}))}if("daemonsets"===r)return u.default.createElement("div",{className:f.default.status},u.default.createElement(o.default,{type:n,name:t(n.toUpperCase()),total:(0,l.default)(a,"status.desiredNumberScheduled",0),ready:(0,l.default)(a,"status.numberAvailable",0),flicker:!0}));return u.default.createElement("div",{className:f.default.status},u.default.createElement(o.default,{type:n,name:t(n.toUpperCase()),total:a.podNums,ready:a.readyPodNums,flicker:!0}),u.default.createElement(s.default,{data:a}))},r(51),r(79);var l=n(r(26)),u=n(r(0)),o=n(r(807)),i=r(61),c=r(439),s=n(r(2579)),f=n(r(2580))},,function(e,a,r){"use strict";var n=r(19);r(12),r(192),r(10),r(6),r(70),r(88),r(20),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(73),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(32),r(192),r(10),r(6),r(70),r(88),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(73),r(69),r(7);var l=n(r(31)),u=n(r(50)),o=n(r(317)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(201)),m=n(r(142)),h=n(r(26)),v=n(r(0)),g=r(437),y=r(243),E=n(r(1356)),b=n(r(5)),O=r(61),S=r(318),C=n(r(3409)),_=n(r(3418));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var D=function(e){(0,s.default)(r,e);var a=N(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).getEnabledOperations=function(){var e=t.props.operations;return(void 0===e?[]:e).filter((function(e){return!((0,p.default)(e,"show")&&!e.show)&&(!e.action||t.enabledActions.includes(e.action))}))},t.renderContent=function(){var e=t.props.stores,a=t.state.routes;return v.default.createElement(y.Provider,(0,o.default)({},t.stores,e),v.default.createElement("div",{className:(0,b.default)(_.default.content,"detail-page-content")},(0,S.renderRoutes)(a)))},t.stores={},t.state={routes:t.getEnabledRoutes()},t}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){e.routes!==this.props.routes&&this.setState({routes:this.getEnabledRoutes()})}},{key:"getEnabledRoutes",value:function(){var e=this.props.routes,t=this.props.match.params.cluster;return e.filter((function(e){return e.ksModule?((0,m.default)(e.ksModule)?[e.ksModule]:e.ksModule).every((function(e){return globals.app.hasKSModule(e)})):!e.clusterModule||((0,m.default)(e.clusterModule)?[e.clusterModule]:e.clusterModule).every((function(e){return globals.app.hasClusterModule(t,e)}))}))}},{key:"renderNav",value:function(e){var a=this.props.match.params;return v.default.createElement("div",{className:(0,b.default)(_.default.nav,_.default.light,"detail-page-nav")},e.map((function(e){return e.title?v.default.createElement(g.NavLink,{key:e.path,className:_.default.navItem,activeClassName:_.default.active,to:E.default.compile(e.path)(a)},t(e.title)):null})))}},{key:"render",value:function(){var e=this.props,t=e.stores,a=e.nav,r=(0,u.default)(e,["stores","nav"]),n=this.state.routes;return(0,h.default)(window.$wujie,"props.hideLayout",!1)?this.renderContent():v.default.createElement(y.Provider,(0,o.default)({},this.stores,t),v.default.createElement("div",{className:_.default.wrapper},v.default.createElement("div",{className:(0,b.default)(_.default.sider,"detail-page-sider")},v.default.createElement(C.default,(0,o.default)({},r,{icon:r.icon||O.ICON_TYPES[r.module],operations:this.getEnabledOperations()}),a||this.renderNav(n))),v.default.createElement("div",{className:(0,b.default)(_.default.content,"detail-page-content")},(0,S.renderRoutes)(n))))}},{key:"authKey",get:function(){return this.props.authKey||this.props.module}},{key:"enabledActions",get:function(){var e=this.props.match.params,t=e.namespace,a=(0,u.default)(e,["namespace"]),r=this.props.isDevops,n=void 0!==r&&r;return globals.app.getActions(R(R(R({module:this.authKey},a),n&&{devops:t}),{},{project:t,fedproject:(0,h.default)(this.props,"match.url","").indexOf("federatedprojects")>-1}))}}]),r}(v.default.Component),T=(0,y.inject)("rootStore")((0,g.withRouter)(D));a.default=T;var P=D;a.Component=P},,function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ClusterTagGroup",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"ClusterTagItem",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"ClusterTagAdd",{enumerable:!0,get:function(){return u.default}});var n=r(a(1779)),l=r(a(1270)),u=r(a(1782))},,,,function(e,a,r){"use strict";r(16),r(3),r(20),r(51),Object.defineProperty(a,"__esModule",{value:!0}),a.getDateStr=a.getTimeOptions=a.getTimeLabel=a.getLastTimeStr=a.getTimeStr=a.getTimes=a.getStep=a.getMinutes=void 0,r(3),r(20),r(51),r(440),r(321);var n=r(56),l=function(e){var t=e.slice(-1),a=parseFloat(e);switch(t){default:case"s":return a/60;case"m":return a;case"h":return 60*a;case"d":return 24*a*60}};a.getMinutes=l;a.getStep=function(e,t){return"".concat(parseInt(l(e)/t,10),"m")};a.getTimes=function(e,t){return Math.floor(l(e)/l(t))};var u=function(e){var t=Math.round(parseFloat(e)/60);return t<60?"".concat(t,"m"):(t=Math.round(t/60))<24?"".concat(t,"h"):"".concat(Math.round(t/24),"d")};a.getTimeStr=u;a.getLastTimeStr=function(e,t){var a=e.slice(-1),r="".concat(parseFloat(e)*t).concat(a),n=60*l(r);return u(n)};var o=function(e){var a=e.slice(-1).toUpperCase();return t("TIME_".concat(a),{num:parseInt(e,10)})};a.getTimeLabel=o;a.getTimeOptions=function(e){return e.map((function(e){return{label:o(e),value:e}}))};a.getDateStr=function(e){return(0,n.getLocalTime)(1e3*e).format("YYYY-MM-DD HH:mm:ss")}},,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(18),a(30),a(11),a(197),a(139),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(30),a(11),a(197),a(7);var n=r(a(58)),l=r(a(31)),u=r(a(50)),o=r(a(38));a(35);var i,c,s,f,d=r(a(39)),p=r(a(62)),m=r(a(25)),h=r(a(28)),v=r(a(74)),g=r(a(41)),y=r(a(42)),E=r(a(37)),b=r(a(45)),O=(r(a(63)),r(a(26))),S=r(a(67)),C=r(a(140)),_=r(a(68)),k=r(a(862)),R=r(a(456)),N=a(17),D=a(61),T=r(a(92)),P=a(248),w=r(a(49)),I=r(a(128));function M(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?M(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):M(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,E.default)(e);if(t){var n=(0,E.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,y.default)(this,a)}}var x=(i=function(e){(0,g.default)(G,e);var t,a,r,l,i,y,E,b,w,I,M,x,L,U,z,F=j(G);function G(){var e;(0,m.default)(this,G);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=F.call.apply(F,[this].concat(a))).module="gateways",e.getOldGatewayUrl=function(t){return"kapis/resources.kubesphere.io/v1alpha2".concat(e.getPath(t),"/router")},e.getUrlNamespace=function(e){var t=e.workspace;return e.namespace||t||""},e.getUrlParams=function(e){var t=e.workspace,a=e.namespace,r=e.cluster;return t&&!a?{workspace:t,cluster:r}:{namespace:a,cluster:r}},e.gatewayUrl=function(t){var a=t.cluster,r=t.namespace,n=t.workspace,l=t.gatewayName,u=void 0===l?"":l,o=e.getUrlNamespace({workspace:n,namespace:r}),i=e.getUrlParams({workspace:n,namespace:r,cluster:a});return"".concat(e.apiVersion).concat(e.getPath(i),"/").concat(e.module).concat(e.isNotClusterGateway(o)?"/".concat(u):"")},e.gatIngressUrl=function(t){var a=t.cluster,r=t.namespace,n=t.workspace,l=e.getUrlParams({workspace:n,namespace:r,cluster:a});return"kapis/gateway.kubesphere.io/v1alpha2".concat(e.getPath(l),"/availableingressclassscopes")},e.gatewayeditUrl=function(t){var a=t.cluster,r=t.namespace,n=t.gatewayName,l=void 0===n?"":n,u=t.workspace,o=e.getUrlNamespace({workspace:u,namespace:r}),i=e.getUrlParams({workspace:u,namespace:r,cluster:a});return"/".concat(e.isNotClusterGateway(o)?"k":"","apis/gateway.kubesphere.io/v1alpha1").concat(e.getPath(i),"/").concat(e.module).concat(e.isNotClusterGateway(o)?"/".concat(l):"/kubesphere-router-cluster")},e.gatewayPodsUrl=function(t){var a=t.cluster,r=t.namespace,n=t.gatewayName,l=void 0===n?"":n,u=t.workspace,o=e.getUrlNamespace({workspace:u,namespace:r}),i=e.getUrlParams({workspace:u,namespace:r,cluster:a});return"".concat(a?"clusters/".concat(a,"/"):"").concat(e.apiVersion).concat(e.getPath(i),"/").concat(e.module).concat(e.isNotClusterGateway(o)?"/".concat(l):"/kubesphere-router-cluster")},(0,p.default)(e,"gateway",c,(0,v.default)(e)),(0,p.default)(e,"podList",s,(0,v.default)(e)),(0,p.default)(e,"logs",f,(0,v.default)(e)),e}return(0,h.default)(G,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace,r=e.workspace,n="";return t&&(n+="/klusters/".concat(t)),r&&!a&&(n+="/workspaces/".concat(r)),a&&(n+="/namespaces/".concat(a)),n}},{key:"isNotClusterGateway",value:function(e){return e&&"kubesphere-controls-system"!==e}},{key:"getGatewayAppVersions",value:(z=(0,d.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r="".concat(a?"/clusters/".concat(a):"","/").concat(this.apiVersion,"/appversions"),e.next=4,this.submitting(request.get(r));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return z.apply(this,arguments)})},{key:"getHelmChart",value:(U=(0,d.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.appversion,n="".concat(a?"/clusters/".concat(a):"","/").concat(this.apiVersion,"/appversions/").concat(r,"/values"),e.abrupt("return",this.submitting(request.get(n)));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return U.apply(this,arguments)})},{key:"getGateway",value:(L=(0,d.default)(o.default.mark((function e(t){var a,r,n,l,i,c,s,f,d,p,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,n=t.workspace,l=t.type,i=(0,u.default)(t,["cluster","namespace","workspace","type"]),this.gateway.isLoading=!0,c=this.getListUrl({cluster:a,workspace:n,namespace:r}),s=A({labelSelector:"kubesphere.io/gateway-type=".concat(l)},i),e.next=6,request.get(c,s);case 6:return f=e.sent,d=(0,O.default)(f,"items[0]",null),p={},(0,S.default)(d)||(p=T.default.gateway(d),!0===(null===(m=p)||void 0===m?void 0:m.isDeleteLoading)&&(p={})),this.detail=p,this.gateway.data=p,this.gateway.isLoading=!1,e.abrupt("return",p);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return L.apply(this,arguments)})},{key:"getGatewayReplica",value:(x=(0,d.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.gatewayPodsUrl(t),"/pods"),e.next=3,this.submitting(request.get(a));case 3:return r=e.sent,n=[],r&&r.totalItems>0&&(n=r.items.map((function(e){return T.default.pods(e)}))),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return x.apply(this,arguments)})},{key:"getGatewayByProject",value:(M=(0,d.default)(o.default.mark((function e(t){var a,r,n,l,i,c,s,f,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,n=t.workspace,l=t.namespace,i=(0,u.default)(t,["cluster","workspace","namespace"]),this.gateway.isLoading=!0,c=this.getListUrl({cluster:r,workspace:n,namespace:l}),e.next=5,request.get(c,i);case 5:return s=e.sent,f=(0,O.default)(s,"items",[]),d=null===(a=(0,k.default)(f,(function(e){return T.default.gateway(e)})))||void 0===a?void 0:a.filter((function(e){return!e.isDeleteLoading})),p=(0,R.default)(d,(function(e){return"project"===e.gatewayType})),this.detail=p,this.gateway.data=p,this.gateway.isLoading=!1,e.abrupt("return",d);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return M.apply(this,arguments)})},{key:"getNewGatewayByProject",value:(I=(0,d.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gateway.isLoading=!0,a=this.gatIngressUrl(t),e.next=4,request.get(a,null,null,(function(){}));case 4:return r=e.sent,n=(0,k.default)(r,(function(e){return T.default.ingressClassScopes(e)})),this.gateway.isLoading=!1,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return I.apply(this,arguments)})},{key:"getGatewayByWorkspace",value:(w=(0,d.default)(o.default.mark((function e(t){var a,r,n,l,u,i,c,s,f,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,n=t.workspace,l=t.type,this.gateway.isLoading=!0,u=this.getListUrl({cluster:r,workspace:n}),i={labelSelector:"kubesphere.io/gateway-type=".concat(l),includeUpper:!0},e.next=6,request.get(u,i);case 6:return c=e.sent,s=(0,O.default)(c,"items",[]),f=null===(a=(0,k.default)(s,(function(e){return T.default.gateway(e)})))||void 0===a?void 0:a.filter((function(e){return!e.isDeleteLoading})),d=(0,R.default)(f,(function(e){return"workspace"===e.gatewayType})),this.detail=d,this.gateway.data=d,this.gateway.isLoading=!1,e.abrupt("return",f);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return w.apply(this,arguments)})},{key:"addGateway",value:(b=(0,d.default)(o.default.mark((function e(t,a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.submitting(request.post(this.getListUrl(t),a)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return b.apply(this,arguments)})},{key:"editGateway",value:(E=(0,d.default)(o.default.mark((function e(t,a){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.submitting(request.put(this.getDetailUrl(t),a)));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"deleteGateway",value:(y=(0,d.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.cluster,r=t.namespace,n=t.workspace,!t.isOld){e.next=3;break}return e.abrupt("return",this.submitting(request.delete(this.getOldGatewayUrl({cluster:a,namespace:r}))));case 3:return e.abrupt("return",this.submitting(request.delete(this.gatewayeditUrl({cluster:a,namespace:r,workspace:n}))));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return y.apply(this,arguments)})},{key:"updateGateway",value:(i=(0,d.default)(o.default.mark((function e(t,a){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(this.gatewayeditUrl(t),"/upgrade"),e.abrupt("return",this.submitting(request.post(r,a)));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"getGatewayLogs",value:(l=(0,d.default)(o.default.mark((function e(t){var a,r,n,l,i,c,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,n=t.gatewayName,t.component,l=t.workspace,i=(0,u.default)(t,["cluster","namespace","gatewayName","component","workspace"]),this.logs.isLoading=!0,e.next=4,request.get("".concat(this.gatewayPodsUrl({cluster:a,namespace:r,gatewayName:n,workspace:l}),"/logs"),A(A({},i),{},{start_time:i.start_time?Math.floor(i.start_time/1e3):void 0,end_time:i.end_time?Math.floor(i.end_time/1e3):void 0,container_query:"controller",cluster:a}),{},(function(){return[]}));case 4:return c=e.sent,s=(0,O.default)(c,"query.records")||[],this.logs=A(A({data:s,total:(0,O.default)(c,"query.total")||s.length||0},i),{},{size:Number(i.size)||10,from:Number(i.from)||0,isLoading:!1}),e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"exportLinkFactory",value:function(e){var t=e.cluster,a=e.namespace,r=e.gatewayName,n=e.workspace,l=e.start_time,o=e.end_time,i=(0,u.default)(e,["cluster","namespace","gatewayName","workspace","start_time","end_time"]),c="".concat(this.gatewayPodsUrl({cluster:t,namespace:a,gatewayName:r,workspace:n}),"/logs");return"/".concat(c,"?").concat((0,P.stringify)(A(A({sort:"asc"},i),{},{start_time:Math.floor(l/1e3),end_time:Math.floor(o/1e3),operation:"export",cluster:t})))}},{key:"getGatewayPods",value:(r=(0,d.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(this.gatewayPodsUrl(t),"/pods"),e.next=3,this.submitting(request.get(a,{limit:10,sortBy:"createTime"}));case 3:return r=e.sent,n=[],r&&r.totalItems>0&&(n=r.items.map((function(e){return T.default.pods(e)}))),this.gateway.data.pods=n,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getGatewayPodsList",value:(a=(0,d.default)(o.default.mark((function e(t){var a,r,l,i,c,s,f,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,t.name,r=t.gatewayName,l=t.namespace,i=t.workspace,c=t.more,t.component,s=t.search,f=(0,u.default)(t,["cluster","name","gatewayName","namespace","workspace","more","component","search"]),this.podList.isLoading=!0,f.sortBy||void 0!==f.ascending||(f.sortBy=D.LIST_DEFAULT_ORDER[this.module]||"createTime"),f.limit!==1/0&&-1!==f.limit||(f.limit=-1,f.page=1),f.limit=f.limit||10,e.next=7,request.get("".concat(this.gatewayPodsUrl({cluster:a,namespace:l,gatewayName:r,workspace:i}),"/pods"),A(A({},f),{},{name:s}),{},(function(){return[]}));case 7:return d=e.sent,p=((0,O.default)(d,"items")||[]).map((function(e){return A({cluster:a,namespace:e.metadata.name.split("kubesphere-router-")[1]},T.default.pods(e))})),this.podList.update(A(A({data:c?[].concat((0,n.default)(this.podList.data),(0,n.default)(p)):p,total:d.totalItems||d.total_count||p.length||0},f),{},{limit:Number(f.limit)||10,page:Number(f.page)||1,isLoading:!1},this.podList.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"scale",value:function(e,t){var a=(0,N.toJS)(this.gateway.data._originData);return(0,_.default)(a,"spec.values.controller.replicaCount",t),(0,_.default)(a,"metadata.resourceVersion",this.gateway.data.resourceVersion),this.editGateway(e,a)}},{key:"fetchList",value:(t=(0,d.default)(o.default.mark((function e(t){var a,r,l,i,c,s,f,d,p,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cluster,l=t.namespace,i=t.workspace,c=t.more,t.component,s=t.type,f=(0,u.default)(t,["cluster","namespace","workspace","more","component","type"]),this.list.isLoading=!0,f.sortBy||void 0!==f.ascending||(f.sortBy=D.LIST_DEFAULT_ORDER[this.module]||"createTime"),f.limit!==1/0&&-1!==f.limit||(f.limit=-1,f.page=1),f.limit=f.limit||10,e.next=7,request.get("".concat(this.apiVersion).concat(this.getPath({cluster:r,workspace:i,namespace:l}),"/").concat("workspace"===s?"projectgateways":"gateways"),A({},f),{},(function(){return[]}));case 7:return d=e.sent,p=null===(a=((0,O.default)(d,"items")||[]).map((function(e){return A({cluster:r,namespace:e.metadata.name.split("kubesphere-router-")[1]},T.default.gateway(e))})))||void 0===a?void 0:a.filter((function(e){return!e.isDeleteLoading})),m=(0,C.default)(f,"labelSelector"),this.list.update(A(A({data:c?[].concat((0,n.default)(this.list.data),(0,n.default)(p)):p,total:d.totalItems||d.total_count||p.length||0},m),{},{limit:Number(f.limit)||10,page:Number(f.page)||1,isLoading:!1},this.list.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),G}(w.default),c=(0,b.default)(i.prototype,"gateway",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},isLoading:!0}}}),s=(0,b.default)(i.prototype,"podList",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I.default}}),f=(0,b.default)(i.prototype,"logs",[N.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new I.default}}),(0,b.default)(i.prototype,"getGatewayAppVersions",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayAppVersions"),i.prototype),(0,b.default)(i.prototype,"getHelmChart",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getHelmChart"),i.prototype),(0,b.default)(i.prototype,"getGateway",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGateway"),i.prototype),(0,b.default)(i.prototype,"getGatewayReplica",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayReplica"),i.prototype),(0,b.default)(i.prototype,"getGatewayByProject",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayByProject"),i.prototype),(0,b.default)(i.prototype,"getNewGatewayByProject",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getNewGatewayByProject"),i.prototype),(0,b.default)(i.prototype,"getGatewayByWorkspace",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayByWorkspace"),i.prototype),(0,b.default)(i.prototype,"addGateway",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"addGateway"),i.prototype),(0,b.default)(i.prototype,"editGateway",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"editGateway"),i.prototype),(0,b.default)(i.prototype,"deleteGateway",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"deleteGateway"),i.prototype),(0,b.default)(i.prototype,"updateGateway",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"updateGateway"),i.prototype),(0,b.default)(i.prototype,"getGatewayLogs",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayLogs"),i.prototype),(0,b.default)(i.prototype,"getGatewayPods",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayPods"),i.prototype),(0,b.default)(i.prototype,"getGatewayPodsList",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"getGatewayPodsList"),i.prototype),(0,b.default)(i.prototype,"scale",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"scale"),i.prototype),(0,b.default)(i.prototype,"fetchList",[N.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchList"),i.prototype),i);t.default=x},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(70),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(73),r(197),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(70),r(20),r(27),r(141),r(29),r(14),r(120),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(73),r(197),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=n(r(830)),v=r(17),g=n(r(26)),y=n(r(67)),E=r(189),b=r(56),O=n(r(2053)),S=n(r(1141)),C=n(r(1048)),_=n(r(1049)),k=n(r(1142)),R=n(r(2071));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var T={ascend:!1,descend:!0},P=function(e){(0,c.default)(r,e);var a=D(r);function r(e){var n;(0,o.default)(this,r),(n=a.call(this,e)).handleChange=function(e,t){n.props.onFetch(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({sortBy:t.field||"",ascending:!T[t.order],page:1},e))},n.handlePagination=function(e){var t=e.page,a=e.limit;(0,n.props.onFetch)({page:t,limit:a})},n.handleRefresh=function(){var e=n.props,t=e.onRefresh,a=e.justRefresh,r=void 0===a||a,l=e.onFetch,u=e.pagination,o=e.filters;t&&(t(o),r)||l({limit:u.limit,page:u.page})},n.handleColumnsHide=function(e){n.setState({hideColumns:e},(function(){if(n.props.tableId){var e=(0,b.safeParseJSON)(localStorage.getItem("hide-columns"),{});e[n.props.tableId]=n.state.hideColumns,localStorage.setItem("hide-columns",JSON.stringify(e))}}))},n.handleCancelSelect=function(){n.props.onSelectRowKeys([])},n.handleFilterInput=function(e){(0,h.default)(e,n.props.filters)||n.props.onFetch(e,!0)},n.handleSearch=function(e){var t=n.props.searchType;n.props.onFetch((0,u.default)({},t,e),!0)},n.clearFilter=function(){n.props.searchType&&n.handleSearch(),n.handleFilterInput([])},n.renderSelectedTitle=function(){return d.default.createElement(E.Level,null,d.default.createElement(E.LevelLeft,null,n.renderSelectActions()),d.default.createElement(E.LevelRight,null,d.default.createElement(E.Button,{type:"flat",className:R.default.cancelSelect,onClick:n.handleCancelSelect,"data-test":"table-cancel-select"},t("DESELECT"))))},n.renderTableTitle=function(){return n.props.selectedRowKeys&&n.props.selectedRowKeys.length>0&&!n.props.disabledSelectActions?n.renderSelectedTitle():n.renderNormalTitle()},n.renderTableFooter=function(){if(!n.props.pagination)return null;var e=n.props.pagination,t=e.total,a=e.page,r=e.limit;return d.default.createElement(k.default,{page:a,total:t,limit:r,onChange:n.handlePagination})};var l=(0,g.default)((0,b.safeParseJSON)(localStorage.getItem("hide-columns"),{}),e.tableId,[]);return n.state={hideColumns:l},n}return(0,i.default)(r,[{key:"shouldComponentUpdate",value:function(e,t){return!!this.props.alwaysUpdate||(e.data!==this.props.data||e.columns.length!==this.props.columns.length||e.selectedRowKeys.length!==this.props.selectedRowKeys.length||!(0,h.default)(e.filters,this.props.filters)||e.isLoading!==this.props.isLoading||!(0,h.default)(e.pagination,this.props.pagination)||t.hideColumns.length!==this.state.hideColumns.length)}},{key:"renderSelectActions",value:function(){var e=this.props,a=e.onDelete,r=e.selectActions;return r?d.default.createElement("div",null,r.map((function(e){return d.default.createElement(E.Button,{key:e.key,type:e.type,disabled:e.disabled,className:R.default.button,onClick:e.onClick,"data-test":"table-".concat(e.key)},e.text)}))):d.default.createElement("div",null,a&&d.default.createElement(E.Button,{type:"danger",className:R.default.button,onClick:a,"data-test":"table-delete"},t("DELETE")))}},{key:"renderSearch",value:function(){var e=this.props,a=e.hideSearch,r=e.searchType,n=e.filters,l=e.columns,u=e.columnSearch,o=e.showTimeSelector,i=e.onTimeSelectorChange,c=e.onTimeSelectorDelete,s=e.showKeywords;if(a)return null;if(r){var f=this.props.placeholder||t("SEARCH_BY_NAME");return d.default.createElement(E.InputSearch,{className:R.default.search,value:n[r],onSearch:this.handleSearch,placeholder:f})}return d.default.createElement(C.default,{className:R.default.search,columns:u||l,filters:n,showTimeSelector:o,showKeywords:s,onTimeSelectorChange:i,onTimeSelectorDelete:c,onChange:this.handleFilterInput})}},{key:"renderActions",value:function(){var e=this.props,a=e.onCreate,r=e.createText,n=e.actions;return n?n.map((function(e){return e.customDom?e.customDom:e.tooltip?d.default.createElement(O.default,{key:"".concat(e.key,"_tooltip"),content:e.tooltip.message,placement:e.tooltip.placement},d.default.createElement("div",{className:R.default.tooltipBox},d.default.createElement(E.Button,{key:e.key,type:e.type,className:R.default.create,onClick:e.onClick,"data-test":"table-".concat(e.key),disabled:e.forbidden||!1},e.text))):d.default.createElement(E.Button,{key:e.key,type:e.type,className:R.default.create,onClick:e.onClick,"data-test":"table-".concat(e.key),disabled:e.forbidden||!1},e.text)})):a?d.default.createElement(E.Button,{type:"control",className:R.default.create,onClick:a,"data-test":"table-create"},t(r||"CREATE")):null}},{key:"renderNormalTitle",value:function(){var e=this.props,a=e.hideCustom,r=e.customFilter,n=e.columns,l=this.state.hideColumns;return d.default.createElement(E.Level,null,r&&d.default.createElement(E.LevelLeft,null,r),d.default.createElement(E.LevelItem,null,this.renderSearch()),d.default.createElement(E.LevelRight,null,d.default.createElement("div",null,d.default.createElement(E.Button,{type:"flat",icon:"refresh",onClick:this.handleRefresh,"data-test":"table-refresh"}),!a&&d.default.createElement(S.default,{className:R.default.columnMenu,title:t("CUSTOM_COLUMNS"),columns:n,value:l,onChange:this.handleColumnsHide}),this.renderActions())))}},{key:"renderEmptyText",value:function(){return this.props.emptyText||d.default.createElement("div",{className:R.default.emptyText},d.default.createElement("span",{className:R.default.emptyTipIcon},d.default.createElement(E.Icon,{name:"exclamation",size:48})),d.default.createElement("div",null,t("NO_MATCHING_RESULT_FOUND")),d.default.createElement("p",null,t("YOU_CAN_TRY_TO"),d.default.createElement("span",{className:R.default.action,onClick:this.handleRefresh,"data-test":"table-empty-refresh"},t("REFRESH_DATA")),t("OR"),d.default.createElement("span",{className:R.default.action,onClick:this.clearFilter,"data-test":"table-empty-clear-filter"},t("CLEAR_SEARCH_CONDITIONS"))))}},{key:"renderEmpty",value:function(){var e=this.props,t=e.module,a=e.name,r=e.emptyProps,n=void 0===r?{}:r;return d.default.createElement(_.default,(0,l.default)({action:this.renderActions(),name:a,module:t},n))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.data,r=e.isLoading,n=e.silentLoading,u=e.rowKey,o=e.selectedRowKeys,i=e.onSelectRowKeys,c=e.hideHeader,s=e.hideFooter,f=e.extraProps,p=e.getCheckboxProps,h=e.expandedRowRender,g=e.rowExpandable;if(this.showEmpty)return this.renderEmpty();var y={};return c||(y.title=this.renderTableTitle()),s||(y.footer=this.renderTableFooter()),i&&(y.rowSelection={selectedRowKeys:o,getCheckboxProps:p,onSelect:function(e,t,a){i(a)},onSelectAll:function(e,t){i(t)}}),d.default.createElement(E.Table,(0,l.default)({className:(0,m.default)(R.default.table,"ks-table",t,R.default.filterMenu),rowKey:u,columns:this.filteredColumns,dataSource:(0,v.toJS)(a),loading:!n&&r,onChange:this.handleChange,emptyText:this.renderEmptyText(),expandedRowRender:h,rowExpandable:g},y,f))}},{key:"showEmpty",get:function(){var e=this.props,t=e.filters,a=e.pagination,r=e.isLoading;return"showEmpty"in this.props?this.props.showEmpty:!r&&(0,y.default)(t)&&0===a.total}},{key:"filteredColumns",get:function(){var e=this.state.hideColumns,t=void 0===e?[]:e;return this.props.columns.filter((function(e){return e&&!t.includes(e.key||e.dataIndex)}))}}]),r}(d.default.Component);a.default=P,P.propTypes={data:p.default.oneOfType([p.default.array,p.default.object]).isRequired,columns:p.default.array.isRequired,selectedRowKeys:p.default.array,isLoading:p.default.bool,pagination:p.default.object,filters:p.default.object,rowKey:p.default.any,onFetch:p.default.func,onRefresh:p.default.func,onSelectRowKeys:p.default.func,getCheckboxProps:p.default.func,onDelete:p.default.func,onCreate:p.default.func,hideHeader:p.default.bool,hideFooter:p.default.bool,hideSearch:p.default.bool,hideCustom:p.default.bool,actions:p.default.array,selectActions:p.default.array,extraProps:p.default.object,alwaysUpdate:p.default.bool,emptyText:p.default.any},P.defaultProps={rowKey:"name",selectedRowKeys:[],onFetch:function(){},hideHeader:!1,hideFooter:!1,hideSearch:!1,hideCustom:!1,extraProps:{},pagination:{},filters:{}}},,function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(70),r(20),r(98),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Component=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(70),r(20),r(27),r(98),r(141),r(29),r(446),r(14),r(120),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(50)),o=n(r(31)),i=n(r(58)),c=n(r(25)),s=n(r(28)),f=n(r(74)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(1044)),v=n(r(26)),g=n(r(67)),y=n(r(163)),E=n(r(68)),b=n(r(196)),O=n(r(0)),S=r(17),C=r(243),_=r(189),k=r(61),R=r(56),N=r(499),D=n(r(451)),T=n(r(450)),P=n(r(441)),w=n(r(2085)),I=n(r(2087)),M=n(r(2097)),A=n(r(2099)),j=n(r(2101)),x=n(r(2103));function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function U(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var F=function(e){(0,d.default)(r,e);var a=z(r);function r(e){var t;return(0,c.default)(this,r),(t=a.call(this,e)).showVolume=function(){t.setState({state:"ShowVolume",selectVolume:{}})},t.showEditVolume=function(e){var a;a=(0,y.default)(e.configMap)&&(0,y.default)(e.secret)?"ShowVolume":"ShowConfig",t.setState({state:a,selectVolume:e})},t.showVolumeTemplate=function(){t.setState({state:"ShowVolumeTemplate"})},t.showEditVolumeTemplate=function(e){t.setState({state:"ShowVolumeTemplate",selectVolume:e})},t.resetState=function(e){t.setState({state:e||"",selectVolume:{}})},t.showConfig=function(){t.setState({state:"ShowConfig",selectVolume:{}})},t.formatSpecVolume=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,N.isNotPersistentVolume)(t)?t:{name:e.name||"volume-".concat((0,R.generateId)()),persistentVolumeClaim:{claimName:t.name}}},t.updateVolumes=function(e){var a=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.volumes"),[]),r=[],n=(0,g.default)(t.selectVolume)?void 0:(0,v.default)(t.selectVolume,"specVolume",t.selectVolume),l=t.formatSpecVolume(n,e);r=n?a.map((function(e){return e.name===n.name?l:e})):[].concat((0,i.default)(a),[l]),(0,E.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.volumes"),r),t.checkMaxUnavalable(a)},t.updateVolumeMounts=function(e,a){var r=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.containers"),[]).map((function(e){return U(U({},e),{},{type:"worker"})})),n=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.initContainers"),[]).map((function(e){return U(U({},e),{},{type:"init"})})),l=(0,h.default)(r,n),o=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.volumes"),[]);e.forEach((function(e){var t=e.containerName,r=e.volume,n=(0,u.default)(e,["containerName","volume"]),i=l.find((function(e){return e.name===t})),c=(0,N.findVolume)(o,r);if(c&&i){i.volumeMounts=i.volumeMounts||[];var s=U({name:c.name},n);i.volumeMounts.find((function(e){return e.name===c.name}))?i.volumeMounts=i.volumeMounts.map((function(e){return e.name===c.name?s:e})):i.volumeMounts.push(s),a&&a.name!==c.name&&(i.volumeMounts=i.volumeMounts.filter((function(e){return e.name!==a.name}))),i.volumeMounts=i.volumeMounts.filter((function(e){return"null"!==e.readOnly})).map((function(e){e.logPath;var t=(0,u.default)(e,["logPath"]);return U(U({},t),{},{readOnly:"true"===String(t.readOnly)})}))}}));var i=[],c=[];l.forEach((function(e){"worker"===e.type?(delete e.type,i.push(e)):(delete e.type,c.push(e))})),(0,E.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.containers"),i),(0,E.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.initContainers"),c)},t.checkMaxUnavalable=function(e){if(["deployments","daemonsets"].includes(t.props.module)&&"RollingUpdate"===(0,v.default)(t.fedFormTemplate,"spec.strategy.type")){var a=e.some((function(e){return!(0,g.default)(e.persistentVolumeClaim)})),r=(0,v.default)(t.fedFormTemplate,"spec.strategy.rollingUpdate.maxUnavailable",null);a&&!r&&(0,E.default)(t.fedFormTemplate,"spec.strategy.rollingUpdate.maxUnavailable",1)}},t.updateLogConfigs=function(e){var a=(0,R.safeParseJSON)((0,v.default)(t.fedFormTemplate,t.logPathPrefix,""),{}),r=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.volumes"),[]);e.forEach((function(e){var t=(0,N.findVolume)(r,e.volume);if(t){var n="containerLogConfigs.".concat(e.containerName,".").concat(e.name||t.name);e.logPath?(0,E.default)(a,n,e.logPath.split(",")):(0,b.default)(a,n)}})),(0,E.default)(t.fedFormTemplate,t.logPathPrefix,JSON.stringify(a))},t.updateVolumeTemplate=function(e){var a=(0,v.default)(t.formTemplate,"metadata.namespace"),r=(0,v.default)(t.fedFormTemplate,"spec.volumeClaimTemplates",[]);(0,E.default)(e,"metadata.namespace",a);var n=[];n=r.find((function(t){return t.metadata.name===e.metadata.name}))?r.map((function(t){return t.metadata.name===e.metadata.name?e:t})):[].concat((0,i.default)(r),[e]),(0,E.default)(t.fedFormTemplate,"spec.volumeClaimTemplates",n)},t.updateVolumeTemplateMounts=function(e){var a=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.containers"),[]).map((function(e){return U(U({},e),{},{type:"worker"})})),r=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.initContainers"),[]).map((function(e){return U(U({},e),{},{type:"init"})})),n=(0,h.default)(a,r);e.forEach((function(e){var t=e.containerName,a=(0,u.default)(e,["containerName"]),r=n.find((function(e){return e.name===t}));if(r){r.volumeMounts=r.volumeMounts||[];var l=a;r.volumeMounts.find((function(e){return e.name===l.name}))?r.volumeMounts=r.volumeMounts.map((function(e){return e.name===l.name?l:e})):r.volumeMounts.push(l),r.volumeMounts=r.volumeMounts.filter((function(e){return"null"!==e.readOnly})).map((function(e){return U(U({},e),{},{readOnly:"true"===e.readOnly})}))}}));var l=[],o=[];n.forEach((function(e){"worker"===e.type?(delete e.type,l.push(e)):(delete e.type,o.push(e))})),(0,E.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.containers"),l),(0,E.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.initContainers"),o)},t.checkVolumeNameExist=function(e){var a=(0,v.default)(t.fedFormTemplate,"".concat(t.prefix,"spec.volumes"),[]),r=(0,v.default)(t.fedFormTemplate,"spec.volumeClaimTemplates",[]);return a.some((function(t){return t.name===e}))||r.some((function(t){return t.name===e}))},t.state={state:"",selectVolume:{},collectSavedLog:(0,v.default)(t.fedFormTemplate,t.collectSavedLogPath)},t.store=new D.default,t.projectStore=new P.default,e.isFederated&&(t.projectStore=new T.default({module:t.projectStore.module}),t.store=new T.default({module:t.store.module})),t.store.fetchList({namespace:t.namespace,cluster:t.cluster,limit:-1}),t.handleVolume=t.handleVolume.bind((0,f.default)(t)),t.handleVolumeTemplate=t.handleVolumeTemplate.bind((0,f.default)(t)),t.handleLogToggle=t.handleLogToggle.bind((0,f.default)(t)),t}return(0,s.default)(r,[{key:"componentDidMount",value:function(){this.namespace&&this.projectStore.fetchDetail({name:this.namespace,namespace:this.namespace,cluster:this.cluster})}},{key:"handleVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;e.uid||t.forEach((function(t){t.name=e.name})),this.updateVolumes(e),this.updateVolumeMounts(t,a),this.updateLogConfigs(t),this.resetState()}},{key:"handleVolumeTemplate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t.forEach((function(t){t.name=e.name||(0,v.default)(e,"metadata.name")})),this.updateVolumeTemplate(e),this.updateVolumeTemplateMounts(t),this.updateLogConfigs(t),this.resetState()}},{key:"renderVolume",value:function(){var e=this.props,t=e.withEditCheck,a=e.formProps,r=this.state.collectSavedLog,n=(0,S.toJS)(this.store.list.data),l=this.store.list.isLoading,u=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),[]),o=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),[]),i=(0,h.default)(u,o);return O.default.createElement(I.default,{withEditCheck:t,formProps:a,volumes:n,volume:this.selectVolume,namespace:this.namespace,module:this.props.module,containers:i,onSave:this.handleVolume,onCancel:this.resetState,isLoading:l,checkVolumeNameExist:this.checkVolumeNameExist,collectSavedLog:r})}},{key:"renderConfig",value:function(){var e=this.props,t=e.withEditCheck,a=e.formProps,r=e.isFederated,n=e.projectDetail,l=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),[]),u=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),[]),o=(0,h.default)(l,u);return O.default.createElement(M.default,{withEditCheck:t,formProps:a,volume:this.selectVolume,containers:o,cluster:this.cluster,namespace:this.namespace,onSave:this.handleVolume,onCancel:this.resetState,isFederated:r,projectDetail:n,checkVolumeNameExist:this.checkVolumeNameExist})}},{key:"renderVolumeTemplate",value:function(){var e=this.props,t=e.withEditCheck,a=e.formProps,r=e.cluster,n=this.state.collectSavedLog,u=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),[]),o=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),[]),i=(0,h.default)(u,o),c=(0,v.default)(this.formTemplate,"metadata.namespace","");return O.default.createElement(j.default,(0,l.default)({},t?a:{},{volume:this.selectVolume,containers:i,cluster:r,namespace:c,onSave:this.handleVolumeTemplate,onCancel:this.resetState,checkVolumeNameExist:this.checkVolumeNameExist,collectSavedLog:n}))}},{key:"handleLogToggle",value:function(){var e=this;this.setState((function(e){return{collectSavedLog:"true"===e.collectSavedLog?"false":"true"}}),(function(){(0,E.default)(e.fedFormTemplate,e.collectSavedLogPath,e.state.collectSavedLog),"false"===e.state.collectSavedLog&&(0,b.default)(e.fedFormTemplate,e.logPathPrefix)}))}},{key:"renderToolTipContent",value:function(){return O.default.createElement("div",null,O.default.createElement("p",null,t("COLLECT_LOGS_ON_VOLUMES_DESC")))}},{key:"renderToggle",value:function(e){var t=this.state.collectSavedLog;return O.default.createElement("span",null,O.default.createElement(_.Toggle,{disabled:e,checked:"true"===t,onChange:this.handleLogToggle}))}},{key:"renderTitle",value:function(){return O.default.createElement("div",{className:"font-bold margin-b8 relative"},O.default.createElement("span",null,t("STORAGE_SETTINGS")),globals.app.hasClusterExtensionModule(this.cluster,"whizard-logging")&&O.default.createElement("div",{className:x.default.toggle},this.projectEnableCollectingFileLog?this.renderToggle():O.default.createElement(_.Tooltip,{content:t.html("PROJECT_COLLECT_SAVED_DISABLED_DESC")},this.renderToggle(!0)),O.default.createElement("span",{className:"text-secondary align-middle"}," ",t("COLLECT_LOGS_ON_VOLUMES")," "),O.default.createElement(_.Tooltip,{content:this.renderToolTipContent()},O.default.createElement(_.Icon,{name:"question"}))))}},{key:"renderList",value:function(){var e=this.props,a=e.formRef,r=e.formProps,n=void 0===r?{}:r,u=e.module,o=e.hideVolumeSetting,i=void 0!==o&&o,c=e.showVolumeTemplate,s=void 0!==c&&c,f=this.state.collectSavedLog,d=(0,S.toJS)(this.store.list.data),p=this.store.list.isLoading,m=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.containers"),[]),g=(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.initContainers"),[]),y=(0,h.default)(m,g),E=0===(0,v.default)(this.fedFormTemplate,"".concat(this.prefix,"spec.volumes"),[]).length&&0===(0,v.default)(this.fedFormTemplate,"spec.volumeClaimTemplates",[]).length,b=(0,R.safeParseJSON)((0,v.default)(this.fedFormTemplate,this.logPathPrefix,[])),C="statefulsets"===u;return O.default.createElement(_.Form,(0,l.default)({data:this.fedFormTemplate,ref:a},n),this.renderTitle(),"true"===f&&E&&O.default.createElement(_.Alert,{className:"margin-b12",icon:"information",type:"warning",message:t("PVC_OR_TEMPLATE_EMPTY")}),O.default.createElement("div",{className:x.default.volumes},(s||C)&&O.default.createElement(_.Form.Item,null,O.default.createElement(A.default,{prefix:this.prefix,name:"spec.volumeClaimTemplates",containers:y,onShowAddVolume:this.showVolumeTemplate,onShowEdit:this.showEditVolumeTemplate,collectSavedLog:f,logPath:b,hideVolumeSetting:i})),O.default.createElement(_.Form.Item,null,O.default.createElement(w.default,{prefix:this.prefix,name:"".concat(this.prefix,"spec.volumes"),volumes:d,containers:y,loading:p,onShowVolume:this.showVolume,onShowConfig:this.showConfig,onShowEdit:this.showEditVolume,collectSavedLog:f,logPath:b}))))}},{key:"render",value:function(){var e=null;switch(this.state.state){case"ShowVolume":e=this.renderVolume();break;case"ShowConfig":e=this.renderConfig();break;case"ShowVolumeTemplate":e=this.renderVolumeTemplate();break;default:e=this.renderList()}return e}},{key:"prefix",get:function(){return this.props.prefix||"spec.template."}},{key:"cluster",get:function(){return this.props.cluster}},{key:"namespace",get:function(){return this.props.namespace||(0,v.default)(this.formTemplate,"metadata.namespace","")}},{key:"collectSavedLogPath",get:function(){return"".concat(this.prefix,'metadata.annotations["kubesphere.io/collectSavedLog"]')}},{key:"logPathPrefix",get:function(){return"".concat(this.prefix,'metadata.annotations["logging.kubesphere.io/logsidecar-config"]')}},{key:"projectEnableCollectingFileLog",get:function(){return"enabled"===(0,v.default)(this.projectStore.detail,'labels["logging.kubesphere.io/logsidecar-injection"]')}},{key:"formTemplate",get:function(){var e=this.props,t=e.formTemplate,a=e.module;return(0,v.default)(t,k.MODULE_KIND_MAP[a],t)}},{key:"fedFormTemplate",get:function(){return this.props.isFederated?(0,v.default)(this.formTemplate,"spec.template"):this.formTemplate}},{key:"selectVolume",get:function(){return U({},this.state.selectVolume)}}]),r}(O.default.Component),G=F;a.Component=G;var V=(0,C.observer)(F);a.default=V},,,,,function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(88),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(197),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(88),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(197),r(7);var l=n(r(317)),u=n(r(38)),o=n(r(31)),i=n(r(50));r(35);var c,s,f,d=n(r(39)),p=n(r(25)),m=n(r(28)),h=n(r(41)),v=n(r(42)),g=n(r(37)),y=n(r(0)),E=r(17),b=r(243),O=n(r(1)),S=n(r(26)),C=n(r(201)),_=n(r(67)),k=n(r(811)),R=n(r(859)),N=r(189),D=n(r(5)),T=n(r(801)),P=r(804),w=n(r(92)),I=r(803),M=n(r(452)),A=n(r(331)),j=n(r(1019)),x=n(r(1214)),L=r(56),U=n(r(3424)),z=n(r(1546));function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,g.default)(e);if(t){var n=(0,g.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,v.default)(this,a)}}var B=(0,b.inject)("rootStore")(c=(0,b.observer)(c=(0,P.trigger)((f=s=function(e){(0,h.default)(r,e);var a=V(r);function r(e){var n;(0,p.default)(this,r),(n=a.call(this,e)).getParams=function(e){var t=n.props,a=t.detail,r=t.details,l=(t.isFederated?r[e]:a)||{},u=l.name,o=l.namespace,i=l.kind,c=l.selector,s=l._originData,f=i||(0,S.default)(s,"kind",""),d={};switch(e&&(d.cluster=e),o&&(d.namespace=o),f){case"PVC":d.pvcName=u;break;case"Node":d.nodeName=u;break;case"Namespace":d.namespace=u;break;case"Service":case"IPPool":d.labelSelector=(0,L.joinSelector)(c);break;default:d.ownerKind="Deployment"===f?"ReplicaSet":f,d.labelSelector=(0,L.joinSelector)(c)}return(0,C.default)(d,"labelSelector")&&(0,_.default)(c)&&(d={}),d},n.fetchData=(0,d.default)(u.default.mark((function e(){var t,a,r,l,o=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:{},t.noMetrics,a=t.silent,r=(0,i.default)(t,["noMetrics","silent"]),!(0,_.default)(n.state.params)){e.next=4;break}return n.store.list.isLoading=!1,e.abrupt("return");case 4:return l=n.props.limit,a&&(n.store.list.silent=!0),e.next=8,n.store.fetchList(G(G({limit:l},n.state.params),r));case 8:n.store.list.silent=!1;case 9:case"end":return e.stop()}}),e)}))),n.getPagination=function(){var e=n.store.list;return{page:e.page,limit:e.limit,total:e.total}},n.handleSearch=function(e){n.searchValue=e,n.fetchData({name:e}).then((function(){n.props.onSearch(e)}))},n.handleRefresh=function(){var e=n.searchValue?{name:n.searchValue}:{};n.fetchData(e).then((function(){var t=n.props,a=t.onSearch,r=t.onRefresh;(0,_.default)(e)?r():a(n.searchValue)}))},n.handlePage=function(e){n.fetchData({page:e}).then((function(){n.props.onPage(e)}))},n.handleExpand=function(e){n.setState((function(t){return{expandItem:t.expandItem===e?"":e}}))},n.getClustersOptions=function(){return n.props.clusters.map((function(e){return{label:y.default.createElement("span",null,(0,L.showNameAndAlias)(e,"cluster")),value:e}}))},n.handleClusterChange=function(e){n.setState({selectCluster:e,params:n.getParams(e)},(function(){n.fetchData(),n.initWebsocket()}))},n.renderHeader=function(){var e=n.props.isFederated,a=n.state.selectCluster;return y.default.createElement("div",{className:z.default.header},e&&y.default.createElement(N.Select,{key:a,name:"cluster",prefixIcon:y.default.createElement(N.Icon,{name:"cluster"}),className:z.default.cluster,value:a,options:n.getClustersOptions(),onChange:n.handleClusterChange}),y.default.createElement(N.InputSearch,{className:z.default.search,name:"search",placeholder:t("SEARCH_BY_NAME"),onSearch:n.handleSearch}),y.default.createElement("div",{className:z.default.actions},y.default.createElement(N.Button,{type:"flat",icon:"refresh",onClick:n.handleRefresh})))},n.handleShowEvents=function(e){n.trigger("pod.events",{detail:e,title:y.default.createElement("span",null,y.default.createElement(N.Icon,{name:"event"}),t("VIEW_EVENTS")),cluster:e.cluster})},n.renderFooter=function(){var e=n.getPagination(),a=e.total;return y.default.createElement(N.Level,{className:z.default.footer},y.default.createElement(N.LevelLeft,null,t("TOTAL_ITEMS",{num:a})),y.default.createElement(N.LevelRight,null,y.default.createElement(N.Pagination,(0,l.default)({},e,{onChange:n.handlePage}))))};var o=(0,S.default)(n.props.rootStore,"routing.location.pathname","").indexOf("observability")>-1;n.store=new M.default,n.monitorStore=o?new x.default:new j.default;var c=e.isFederated?(0,S.default)(e,"clusters[0]"):e.detail.cluster;return n.state={expandItem:"",selectCluster:c||"",params:n.getParams(c)},n.websocket=new A.default,n.initWebsocket(),n}return(0,m.default)(r,[{key:"initWebsocket",value:function(){var e=this,t=this.props.getReplica,a=this.state,r=a.selectCluster,n=a.params,l=void 0===n?{}:n,u=l.namespace,o=l.labelSelector,i="".concat(r?"/".concat(r):"","/api/v1/watch/namespaces/").concat(u,"/pods?labelSelector=").concat(o);i&&u&&o&&(this.websocket.watch(i),this.fetchData=(0,R.default)(this.fetchData,2e3),this.disposer=(0,E.reaction)((function(){return e.websocket.message}),(function(a){if("Pod"===a.object.kind)if("MODIFIED"===a.type){var n=G({cluster:r},w.default.pods((0,E.toJS)(a.object)));e.store.list.updateItem(n),t&&t()}else"DELETED"!==a.type&&"ADDED"!==a.type||(e.fetchData({silent:!0}),t&&t())})))}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.detail,n=a.details,l=a.isFederated,u=l&&!(0,k.default)(n,e.details);if(r!==e.detail||u){var o=l?(0,S.default)(this.props,"clusters[0]"):r.cluster;this.setState({expandItem:"",selectCluster:o||"",params:this.getParams(o)},(function(){t.fetchData(),t.initWebsocket()}))}}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentWillUnmount",value:function(){(0,I.stopAutoRefresh)(this),this.disposer&&this.disposer()}},{key:"renderContent",value:function(){var e=this,a=this.props,r=a.prefix,n=a.isFederated,l=this.store.list,u=l.data,o=l.isLoading,i=l.silent,c=this.state.selectCluster,s=y.default.createElement("div",{className:z.default.body},(0,_.default)(u)?y.default.createElement("div",{className:z.default.empty},t("NO_RESOURCE_FOUND")):u.map((function(t){return y.default.createElement(U.default,{key:t.uid,prefix:n?"".concat(r,"/clusters/").concat(c):r,detail:t,loading:e.monitorStore.isLoading,refreshing:e.monitorStore.isRefreshing,isExpand:e.state.expandItem===t.uid,onExpand:e.handleExpand,onShowEvents:e.handleShowEvents})})));return i?s:y.default.createElement(N.Loading,{spinning:o},s)}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.title,n=e.hideHeader,l=e.hideFooter,u=e.noWrapper,o=this.store.list.data;return u?this.renderContent():y.default.createElement(T.default,{className:(0,D.default)(z.default.main,a),title:t(r),empty:t("EMPTY_WRAPPER",{resource:t("POD")}),isEmpty:(0,_.default)(o)},!n&&this.renderHeader(),this.renderContent(),!l&&this.renderFooter())}}]),r}(y.default.Component),s.propTypes={prefix:O.default.string,title:O.default.string,detail:O.default.object,details:O.default.object,hideHeader:O.default.bool,hideFooter:O.default.bool,isFederated:O.default.bool,onSearch:O.default.func,onRefresh:O.default.func,onPage:O.default.func,limit:O.default.number},s.defaultProps={title:"PODS",detail:{},details:{},hideHeader:!1,hideFooter:!1,isFederated:!1,onSearch:function(){},onRefresh:function(){},onPage:function(){}},c=f))||c)||c)||c;a.default=B},,function(e,a,r){"use strict";r(16),Object.defineProperty(a,"__esModule",{value:!0}),a.severityOptions=a.durationUnitOptions=void 0;var n=[{label:t("SECONDS"),value:"s"},{label:t("MINUTES"),value:"m"},{label:t("HOURS"),value:"h"}];a.durationUnitOptions=n;var l=[{label:t("CRITICAL_ALERT"),value:"critical",bgColor:"#CA2621",color:"#FFFFFF"},{label:t("ERROR_ALERT"),value:"error",color:"#FFFFFF",bgColor:"#F5A623"},{label:t("WARNING_ALERT"),value:"warning",color:"#5F5110",bgColor:"#FFD939"},{label:t("INFO_ALERT"),value:"info",color:"#36435C",bgColor:"#D8DEE5"}];a.severityOptions=l},,,,,,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(1)),d=r(a(5)),p=r(a(2118)),m=a(189),h=r(a(2173));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(a,e);var t=g(a);function a(e){var r;return(0,l.default)(this,a),(r=t.call(this,e)).handleIFrameLoad=function(){r.iframeLoaded=!0,r.setState({loading:!1}),r.updateMarkdown()},r.updateIFrame=function(){r.iframe&&(r.iframe.style.height="".concat(r.iframe.contentWindow.document.body.scrollHeight+16,"px"))},r.handleIFrameRef=function(e){r.iframe=e},r.iframeLoaded=!1,r.md=new p.default(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({html:!0,linkify:!0},e.options)),r.state={loading:!0},r}return(0,u.default)(a,[{key:"componentDidMount",value:function(){this.iframe.addEventListener("load",this.handleIFrameLoad)}},{key:"componentWillUnmount",value:function(){this.iframe.removeEventListener("load",this.handleIFrameLoad),this.removeMediaListeners()}},{key:"componentDidUpdate",value:function(e){e.options!==this.props.options&&(this.md=new p.default(this.props.options)),this.updateMarkdown()}},{key:"addMediaListeners",value:function(){var e=this,t=this.iframe.contentDocument;this.iframeMedias=t.querySelectorAll("img, video, audio"),this.iframeMedias&&this.iframeMedias.length>0&&Array.prototype.forEach.call(this.iframeMedias,(function(t){t.removeEventListener("load",e.updateIFrame),t.addEventListener("load",e.updateIFrame)}))}},{key:"removeMediaListeners",value:function(){var e=this;this.iframeMedias&&this.iframeMedias.length>0&&Array.prototype.forEach.call(this.iframeMedias,(function(t){t.removeEventListener("load",e.updateIFrame)}))}},{key:"updateMarkdown",value:function(){var e=this.iframe.contentDocument;this.iframeLoaded&&(e.body.innerHTML=this.md.render(this.props.source),this.iframe.style.height="".concat(e.body.scrollHeight+16,"px")),this.removeMediaListeners(),this.addMediaListeners()}},{key:"render",value:function(){var e=this.props.className;return s.default.createElement("div",null,this.state.loading&&s.default.createElement(m.Loading,{className:"loading"}),s.default.createElement("iframe",{className:(0,d.default)(h.default.markdown,e),ref:this.handleIFrameRef,src:"/blank_md",name:"frame_markdown",width:"100%",frameBorder:"0",scrolling:"no"}))}}]),a}(s.default.Component);y.propTypes={source:f.default.string,options:f.default.object},y.defaultProps={source:"",options:{}};var E=y;t.default=E},,function(e,t,a){"use strict";a(16);var r=a(19);a(3),Object.defineProperty(t,"__esModule",{value:!0}),t.getManifestApi=function(e){var t=e.workspace,a=e.namespace,r=e.cluster,n=e.cluster_id,l="/kapis/application.kubesphere.io/v2";t&&(l+="/workspaces/".concat(t));globals.app.isMultiCluster&&r&&(l+="/clusters/".concat(r));a&&(l+="/namespaces/".concat(a));l+="/manifests",n&&(l+="/".concat(n));return l},t.getDmpSecrets=function(e){var t=e.namespace,a=e.cluster_id,r="/api/v1";t&&(r+="/namespaces/".concat(t));r+="/secrets",a&&(r+="/".concat(a));return r},t.getStatusFromYaml=function(e){var t=(0,n.default)(e,"status.conditions[0]");if(t)return"".concat(t.status,"-").concat(t.type);return""},a(3);var n=r(a(26))},,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(10),a(44),a(6),a(36),a(20),a(87),a(98),a(320),a(14),a(327),a(24),a(1046),a(193),a(9),a(4),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.COORD_COUNT=t.renderIntoCanvas=t.createViewedBoundsFunc=t.formatDuration=t.formatRelativeDate=t.isErrorSpan=t.isServerSpan=t.isClientSpan=t.spanHasTag=t.transformTraces=t.transformTraceItem=void 0,a(250),a(32),a(3),a(10),a(44),a(6),a(121),a(36),a(20),a(27),a(87),a(247),a(98),a(320),a(29),a(446),a(14),a(327),a(1046),a(193),a(9),a(4),a(46),a(7),a(40);var n=r(a(25)),l=r(a(28)),u=r(a(445)),o=r(a(245)),i=a(61),c=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,n.default)(this,e),this.value=t,this.children=a}return(0,l.default)(e,null,[{key:"iterFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(a){return e(a.value,a,t)}}},{key:"searchFunction",value:function(t){return"function"==typeof t?t:function(a,r){return t instanceof e?r===t:a===t}}}]),(0,l.default)(e,[{key:"addChild",value:function(t){return this.children.push(t instanceof e?t:new e(t)),this}},{key:"find",value:function(t){if(e.iterFunction(e.searchFunction(t))(this))return this;for(var a=0;a<this.children.length;a++){var r=this.children[a].find(t);if(r)return r}return null}},{key:"getPath",value:function(t){var a=e.iterFunction(e.searchFunction(t));return function e(t,r){var n=r.concat([t]);if(a(t))return n;for(var l=0;l<t.children.length;l++){var u=e(t.children[l],n);if(u)return u}return null}(this,[])}},{key:"walk",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=[],r=t;for(a.push({node:this,depth:r});a.length;){var n=a.pop(),l=n.node,u=n.depth;e(l.value,l,u),r=u+1;for(var o=l.children.length-1;o>=0;)a.push({node:l.children[o],depth:r}),o--}}},{key:"depth",get:function(){return this.children.reduce((function(e,t){return Math.max(t.depth+1,e)}),1)}},{key:"size",get:function(){var e=0;return this.walk((function(){return e++})),e}}]),e}(),s=function(e){var t=e.traceID;if(!t)return null;t=t.toLowerCase();var a=0,r=Number.MAX_SAFE_INTEGER,n=new Map,l=new Map;e.spans=e.spans.filter((function(e){return Boolean(e.startTime)}));for(var u=e.spans.length,o=0;o<u;o++){var i=e.spans[o],s=i.startTime,f=i.duration,d=i.processID,p=i.spanID;s<r&&(r=s),s+f>a&&(a=s+f);var m=n.get(p);null!=m?(n.set(p,m+1),p="".concat(p,"_").concat(m),i.spanID=p):n.set(p,1),i.process=e.processes[d],l.set(p,i)}var h=function(e){var t=new Map(e.spans.map((function(e){return[e.spanID,new c(e.spanID)]}))),a=new Map(e.spans.map((function(e){return[e.spanID,e]}))),r=new c("__root__");e.spans.forEach((function(e){var a=t.get(e.spanID);if(Array.isArray(e.references)&&e.references.length){var n=e.references[0],l=n.refType,u=n.spanID;if("CHILD_OF"!==l&&"FOLLOWS_FROM"!==l)throw new Error("Unrecognized ref type: ".concat(l));(t.get(u)||r).children.push(a)}else r.children.push(a)}));var n=function(e,t){var r=a.get(e.value),n=a.get(t.value);return+(r.startTime>n.startTime)||+(r.startTime===n.startTime)-1};return e.spans.forEach((function(e){var a=t.get(e.spanID);a.children.length>1&&a.children.sort(n)})),r.children.sort(n),r}(e),v=[],g={},y="";return h.walk((function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("__root__"!==e){var n=l.get(e);if(n){var u=n.process.serviceName;g[u]=(g[u]||0)+1,n.references&&n.references.length||(y="".concat(u,": ").concat(n.operationName)),n.relativeStartTime=n.startTime-r,n.depth=a-1,n.hasChildren=t.children.length>0,n.references.forEach((function(e){var t=l.get(e.spanID);t&&(e.span=t)})),v.push(n)}}})),{services:Object.keys(g).map((function(e){return{name:e,numberOfSpans:g[e]}})),spans:v,traceID:t,traceName:y,processes:e.processes,duration:a-r,startTime:r,endTime:a}};t.transformTraceItem=s;t.transformTraces=function(e){var t=e.map(s),a=0,r=0,n={};return t.forEach((function(e){e.duration&&(a=Math.max(a,e.duration)),e.services.forEach((function(e){n[e.name]||(n[e.name]=i.TRACING_COLORS_HEX[r++])}))})),t.forEach((function(e){a&&(e.durationPercent=100*e.duration/a),e.serviceColorMap=n})),(0,u.default)(t,"startTime").reverse()};var f=function(e,t,a){return!(!Array.isArray(a.tags)||!a.tags.length)&&a.tags.some((function(a){return a.key===e&&a.value===t}))};t.spanHasTag=f;var d=f.bind(null,"span.kind","client");t.isClientSpan=d;var p=f.bind(null,"span.kind","server");t.isServerSpan=p;var m=f.bind(null,"error",!0),h=f.bind(null,"error","true");t.isErrorSpan=function(e){return m(e)||h(e)};t.formatRelativeDate=function(e,t){var a=o.default.isMoment(e)?e:(0,o.default)(e),r=t?"MMMM":"MMM",n=new Date;if(n.getFullYear()!==a.year())return a.format("".concat(r," D, YYYY"));var l=a.month(),u=a.date(),i=n.getDate();return l===n.getMonth()&&u===i?"Today":(n.setDate(i-1),l===n.getMonth()&&u===n.getDate()?"Yesterday":a.format("".concat(r," D")))};t.formatDuration=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"microseconds",a=e;"microseconds"===t&&(a=e/1e3);var r="ms";return a>=1e3&&(r="s",a/=1e3),a.toFixed(2)+r};t.createViewedBoundsFunc=function(e){var t=e.min,a=e.max,r=e.viewStart,n=e.viewEnd,l=a-t,u=t+r*l,o=a-(1-n)*l-u;return function(e,t){return{start:(e-u)/o,end:(t-u)/o}}};t.renderIntoCanvas=function(e,t,a,r){var n=new Map,l=(t.length<60?60:Math.min(t.length,200))-1,u=2*window.innerWidth;e.width=u,e.height=l;var o=Math.min(Math.max(2,(l-(1*t.length-1))/t.length),4),i=l/t.length,c=e.getContext("2d",{alpha:!1});c.fillStyle="#fff",c.fillRect(0,0,u,l);for(var s=0;s<t.length;s++){var f=t[s],d=f.valueWidth,p=f.valueOffset,m=f.serviceName,h=p/a*u,v=d/a*u;v<10&&(v=10);var g=n.get(m);g||(g="".concat(r(m)).concat("a0"),n.set(m,g)),c.fillStyle=g,c.fillRect(h,s*i,v,o)}};t.COORD_COUNT=4},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(38));a(35);var u,o,i,c=r(a(39)),s=r(a(62)),f=r(a(25)),d=r(a(28)),p=r(a(74)),m=r(a(41)),h=r(a(42)),v=r(a(37)),g=r(a(45)),y=(r(a(63)),a(17)),E=a(56),b=a(803),O=r(a(847));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var k=["namespace_alerts_critical_total","namespace_alerts_warning_total","namespace_alerts_error_total","namespace_alerts_total","namespace_alerts_firing_total","namespace_alerts_pending_total"],R=(u=function(e){(0,m.default)(n,e);var t,a,r=_(n);function n(){var e;(0,f.default)(this,n);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=r.call.apply(r,[this].concat(a)),(0,s.default)(e,"baseResourcesSummary",o,(0,p.default)(e)),(0,s.default)(e,"alertData",i,(0,p.default)(e)),e.getApi=function(){return"".concat(e.apiVersion,"/namespace_metrics")},e}return(0,d.default)(n,[{key:"getBaseResourcesSummary",value:(a=(0,c.default)(l.default.mark((function e(t){var a,r,n,u,o,i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,this.baseResourcesSummary.isLoading=!0,n="/kapis/resources.kubesphere.io/v1alpha3/klusters/".concat(a,"/namespaces/").concat(r,"/metrics"),e.next=5,(0,E.to)(request.get(n));case 5:return u=e.sent,o=this.getResult(u),i=(0,b.getLastMonitoringData)(o),this.baseResourcesSummary.isLoading=!1,this.baseResourcesSummary.data=i,e.abrupt("return",i);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchAlertData",value:(t=(0,c.default)(l.default.mark((function e(){var t,a=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},this.alertData.isLoading=!0,e.next=4,this.fetchMetrics(C({metrics:k},t));case 4:this.alertData={isLoading:!1,data:this.data};case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(O.default),o=(0,g.default)(u.prototype,"baseResourcesSummary",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!0,data:{}}}}),i=(0,g.default)(u.prototype,"alertData",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:{}}}}),(0,g.default)(u.prototype,"getBaseResourcesSummary",[y.action],Object.getOwnPropertyDescriptor(u.prototype,"getBaseResourcesSummary"),u.prototype),(0,g.default)(u.prototype,"fetchAlertData",[y.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchAlertData"),u.prototype),u);t.default=R},,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(1271),a(20),a(1273),a(14),a(99),a(8),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(1271),a(20),a(1273),a(29),a(14),a(99),a(8),a(4),a(21),a(18),a(43),a(11);var n=r(a(38));a(35);var l,u,o,i=r(a(39)),c=r(a(97)),s=r(a(62)),f=r(a(25)),d=r(a(28)),p=r(a(74)),m=r(a(41)),h=r(a(42)),v=r(a(37)),g=r(a(45)),y=(r(a(63)),r(a(49))),E=a(17);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var O=(l=function(e){(0,m.default)(a,e);var t=b(a);function a(){var e;(0,f.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,s.default)(e,"tagsGroup",u,(0,p.default)(e)),e.group=["production","development","testing","demo"],e.getListUrl=function(){return"kapis/resources.kubesphere.io/v1alpha3/labels"},(0,s.default)(e,"fetchGroupList",o,(0,p.default)(e)),e}return(0,d.default)(a,[{key:"getDetailUrl",value:function(e){var t=e.name;return"kapis/resources.kubesphere.io/v1alpha3/labels/".concat(t)}},{key:"getActionUrl",value:function(e){return"/kapis/cluster.kubesphere.io/v1alpha1/labels".concat((null==e?void 0:e.name)?"/".concat(e.name):"")}},{key:"create",value:function(e){return this.submitting(request.post(this.getActionUrl(),e))}},{key:"update",value:function(e,t){return this.submitting(request.put(this.getActionUrl(t),e))}},{key:"delete",value:function(e){return this.submitting(request.delete(this.getActionUrl(),e))}},{key:"bind",value:function(e){return this.submitting(request.post("/kapis/cluster.kubesphere.io/v1alpha1/labelbindings",e))}},{key:"unBind",value:function(e,t){return this.submitting(request.put("".concat(this.getActionUrl(t),"?action=unbind"),e))}},{key:"tags",get:function(){return Object.entries(this.tagsGroup).flatMap((function(e){var t=(0,c.default)(e,2),a=t[0];return t[1].map((function(e){return{label:a,value:e.value,name:e.id}}))}))}}]),a}(y.default),u=(0,g.default)(l.prototype,"tagsGroup",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=(0,g.default)(l.prototype,"fetchGroupList",[E.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,i.default)(n.default.mark((function t(){var a;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,request.get(e.getActionUrl());case 2:return a=t.sent,e.tagsGroup=a,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))}}),(0,g.default)(l.prototype,"create",[E.action],Object.getOwnPropertyDescriptor(l.prototype,"create"),l.prototype),(0,g.default)(l.prototype,"update",[E.action],Object.getOwnPropertyDescriptor(l.prototype,"update"),l.prototype),(0,g.default)(l.prototype,"delete",[E.action],Object.getOwnPropertyDescriptor(l.prototype,"delete"),l.prototype),(0,g.default)(l.prototype,"bind",[E.action],Object.getOwnPropertyDescriptor(l.prototype,"bind"),l.prototype),(0,g.default)(l.prototype,"unBind",[E.action],Object.getOwnPropertyDescriptor(l.prototype,"unBind"),l.prototype),l);t.default=O},,,,,,,,function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(140)),h=r(189),v=n(r(1040)),g=n(r(1041)),y=r(909),E=n(r(1905));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,i.default)(r,e);var a=O(r);function r(e){var t;(0,u.default)(this,r),(t=a.call(this,e)).handleToggle=function(){t.setState({visible:!t.state.visible},(function(){t.props.onToggle(t.state.visible)}))},t.hideSelector=function(){t.setState({visible:!1},(function(){t.props.onToggle(!1)}))},t.handleTimeChange=function(e){t.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({visible:!1},e),(function(){var a=(0,m.default)(e,["lastTime"]);t.props.onChange(a)}))};var n=e.step,o=e.times;return t.state={visible:!1,prevPropStep:n,step:n,prevPropTimes:o,times:o,start:"",end:"",lastTime:""},t}return(0,o.default)(r,[{key:"renderButtonText",value:function(){var e=this.state,a=e.step,r=e.times,n=e.start,l=e.end,u=e.lastTime,o=this.props.showStep,i=void 0===o||o;if(n&&l&&!u){var c="(".concat(t("INTERVAL")," ").concat((0,y.getTimeLabel)(a),")");return"".concat((0,y.getDateStr)(n)," ~ ").concat((0,y.getDateStr)(l)," ").concat(i?c:"")}var s=(0,y.getTimeLabel)(u||(0,y.getLastTimeStr)(a,r));return t("LAST_TIME",{value:s})}},{key:"renderContent",value:function(){var e=this.state,t=e.step,a=e.times,r=this.props.showStep,n=void 0===r||r;return f.default.createElement("div",{className:E.default.content},f.default.createElement(v.default,{step:t,times:a,onChange:this.handleTimeChange}),f.default.createElement(g.default,{step:t,times:a,showStep:n,onSubmit:this.handleTimeChange,onCancel:this.hideSelector}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.dark,r=e.arrowIcon;return f.default.createElement("div",{className:(0,p.default)(E.default.selector,t,(0,l.default)({},E.default.active,this.state.visible))},f.default.createElement("div",{className:(0,p.default)(E.default.mask,(0,l.default)({},E.default.active,this.state.visible)),onClick:this.hideSelector}),f.default.createElement(h.Button,{className:E.default.button,onClick:this.handleToggle},f.default.createElement(h.Icon,{type:a?"dark":"light",name:"timed-task",size:20}),f.default.createElement("p",null,this.renderButtonText()),f.default.createElement(h.Icon,{className:E.default.arrow,type:a?"dark":"light",name:r||"caret-down"})),f.default.createElement("div",{className:E.default.dropdown},this.renderContent()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.step!==t.prevPropStep||e.times!==t.prevPropTimes){var a=e.step,r=e.times;return{prevPropStep:a,step:a,prevPropTimes:r,times:r}}return null}}]),r}(f.default.PureComponent);a.default=S,S.propTypes={step:d.default.string,times:d.default.number,onChange:d.default.func,onToggle:d.default.func},S.defaultProps={step:"10m",times:30,onChange:function(){},onToggle:function(){}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.REVIEW_PASS_ACTIONS=t.ACTION_TO_NAME=t.HANDLE_TYPE_TO_SHOW=t.ACTION_TO_STATUS=t.STATUS_TO_ACTION_ADMIN=t.STATUS_TO_ACTION=t.APP_STORE_ACTIONS=t.CAN_DELETE_STATUS=t.CAN_EDIT_STATUS=t.STATUS_TO_ICON=t.STATUS_TRANSFER_MAP=t.DEFAULT_QUERY_STATUS=void 0;t.DEFAULT_QUERY_STATUS="draft|submitted|rejected|in-review|passed|active|suspended";t.STATUS_TRANSFER_MAP={active:"active",suspended:"suspended",suspend:"suspending",submitted:"submitted",passed:"passed",draft:"draft",rejected:"rejected"};t.STATUS_TO_ICON={submitted:"review","in-review":"review",rejected:"suspended",active:"passed"};t.CAN_EDIT_STATUS=["draft","rejected"];t.CAN_DELETE_STATUS=["draft","rejected","passed","suspended"];t.APP_STORE_ACTIONS=["suspend","recover"];t.STATUS_TO_ACTION={draft:"submit",submitted:"cancel",rejected:"submit",passed:"release",active:"view"};t.STATUS_TO_ACTION_ADMIN={active:"suspend",suspended:"recover"};t.ACTION_TO_STATUS={suspend:"active",recover:"suspended"};t.HANDLE_TYPE_TO_SHOW={recover:"activate"};t.ACTION_TO_NAME={submit:"SUBMIT_FOR_REVIEW",cancel:"CANCEL_SUBMISSION",release:"RELEASE",view:"VIEW_IN_STORE",suspend:"SUSPEND",recover:"RELEASE"};t.REVIEW_PASS_ACTIONS=[{role:"isv",action:"review"},{role:"isv",action:"pass"},{role:"business",action:"review"},{role:"business",action:"pass"},{role:"technical",action:"review"},{role:"technical",action:"pass"}]},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=a(189),d=r(a(829)),p=a(61),m=r(a(1981));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e={keyProps:{component:f.AutoComplete,className:m.default.dropdown,options:this.props.options||p.INGRESS_ANNOTATIONS}};return s.default.createElement(d.default,(0,n.default)({},this.props,{itemProps:e}))}}]),a}(s.default.Component);t.default=v},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=r(189),p=l(r(840)),m=l(r(1992));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,i.default)(r,e);var a=h(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).formRef=f.default.createRef(),e.handleSubmit=function(){var t=e.props.onOk,a=e.formRef.current;a&&a.validate((function(){t(a.getData())}))},e.handleCancel=function(){(0,e.props.showEdit)("")},e.handleClick=function(){var t=e.props,a=t.formData;(0,t.showEdit)(a)},e.stopPropagation=function(e){e.stopPropagation()},e}return(0,o.default)(r,[{key:"renderContent",value:function(){var e=this.props,t=e.formData,a=e.children;return f.default.createElement("div",{className:m.default.form,onClick:this.stopPropagation},f.default.createElement(d.Form,{ref:this.formRef,type:"inner",data:t},f.default.createElement("div",{className:m.default.formContent},a)),f.default.createElement(p.default,{className:m.default.confirm,onOk:this.handleSubmit,onCancel:this.handleCancel}))}},{key:"render",value:function(){var e=this.props,a=e.title,r=e.selected,n=e.isEdit;return f.default.createElement(d.Dropdown,{visible:n,placement:"bottom",closeAfterClick:!1,content:this.renderContent(),modifiers:this.modifiers,always:n,onClick:this.handleClick},f.default.createElement("div",{onClick:this.stopPropagation},a,r&&f.default.createElement("span",{className:m.default.modify},f.default.createElement("span",null,t("EDIT")),f.default.createElement(d.Icon,{type:"light",size:20,name:"chevron-down"}))))}},{key:"modifiers",get:function(){return{computeStyle:{gpuAcceleration:!1}}}}]),r}(f.Component);a.default=v},,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(44),a(6),a(20),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(44),a(6),a(20),a(27),a(29),a(446),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(58)),l=r(a(31)),u=r(a(50)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(0)),p=r(a(1)),m=r(a(2089));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(a,e);var t=g(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(e=t.call.apply(t,[this].concat(l))).getReadOny=function(e){return"true"===e||"null"===e?e:"false"},e.getFormatValue=function(){var t=e.props,a=t.value;return t.containers.map((function(t){var r=a.find((function(e){return e.containerName===t.name}));if(!r)return{readOnly:"null",mountPath:""};r.containerName;var n=r.readOnly;return v(v({},(0,u.default)(r,["containerName","readOnly"])),{},{readOnly:e.getReadOny(String(n))})}))},e.handleItemChange=function(t,a){var r=e.props,l=r.value,u=r.onChange,o=l.find((function(e){return e.containerName===t}));u(o?l.map((function(e){return e.containerName===t?v(v({},o),a):e})):[].concat((0,n.default)(l),[a]))},e}return(0,i.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.containers,r=t.collectSavedLog,n=t.supportedAccessModes,l=this.getFormatValue();return d.default.createElement("div",null,a.map((function(t,a){return d.default.createElement(m.default,{key:t.name,value:l[a],container:t.name,onChange:e.handleItemChange.bind(e,t.name),supportedAccessModes:n,collectSavedLog:r})})))}}]),a}(d.default.Component);t.default=y,y.propTypes={name:p.default.string,containers:p.default.array,value:p.default.array,onChange:p.default.func},y.defaultProps={name:"",value:[],containers:[],onChange:function(){}}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(66),a(20),a(51),a(4),a(18),a(30),a(11),a(71),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var a="id-".concat(Math.random().toString(32).slice(2));return function(r){(0,u.default)(m,r);var f,d,p=(f=m,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,i.default)(f);if(d){var a=(0,i.default)(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,o.default)(this,e)});function m(){return(0,n.default)(this,m),p.apply(this,arguments)}return(0,l.default)(m,[{key:"componentDidMount",value:function(){!function(e,t){!function(e,t){if(document.querySelector("#".concat(t)))return;var a=document.createElement("div");a.innerHTML='<svg id="'.concat(t,'">').concat(e,"</svg>");var r=a.getElementsByTagName("svg")[0];r&&r.innerHTML&&(r.setAttribute("aria-hidden","true"),r.style.position="absolute",r.style.width=0,r.style.height=0,r.style.overflow="hidden",n=r,(l=document.body).firstChild?l.insertBefore(n,l.firstChild):l.appendChild(n));var n,l}(e.map((function(e){var t=s.default[e];return t&&!document.querySelector("#icon-".concat(e.replace("_","-")))?t:""})).join("\n"),t)}(e,a)}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return c.default.createElement(t,this.props)}}]),m}(c.default.Component)}};var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37));a(32),a(3),a(66),a(20),a(51),a(29),a(4),a(18),a(43),a(30),a(11),a(71);var c=r(a(0)),s=r(a(2392))},,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(20),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.default=void 0,a(32),a(20),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=a(17),f=a(243),d=r(a(67)),p=r(a(26)),m=r(a(1540)),h=r(a(1541));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var g=function(e){(0,u.default)(a,e);var t=v(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).fetchData=function(){r.envStore.fetchList({namespace:r.namespace,cluster:r.cluster,containers:r.containers,initContainers:r.initContainers})},r.envStore=new m.default,r.fetchData(),r}return(0,l.default)(a,[{key:"render",value:function(){var e=(0,s.toJS)(this.envStore.list),t=e.data,a=e.isLoading;return c.default.createElement("div",null,t.map((function(e,t){return c.default.createElement(h.default,{key:t,detail:e,expand:0===t,loading:a})})))}},{key:"module",get:function(){return this.store.module}},{key:"store",get:function(){return this.props.detailStore}},{key:"namespace",get:function(){return this.store.detail.namespace}},{key:"cluster",get:function(){return this.store.detail.cluster}},{key:"containers",get:function(){var e=(0,s.toJS)(this.store.detail),t=e.spec,a=e.containers,r=void 0===a?[]:a;return"containers"===this.module?[e]:(0,d.default)(r)?(0,d.default)(t)?[]:(0,p.default)(t,"template.spec.containers",[]):r}},{key:"initContainers",get:function(){var e=(0,s.toJS)(this.store.detail),t=e.spec,a=e.initContainers,r=void 0===a?[]:a;return"containers"===this.module?[e]:(0,d.default)(r)?(0,d.default)(t)?[]:(0,p.default)(t,"template.spec.initContainers",[]):r}}]),a}(c.default.Component),y=(0,f.inject)("rootStore","detailStore")((0,f.observer)(g));t.default=y;var E=g;t.Component=E},function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);r(3),r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var u,o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=l(r(0)),p=r(243),m=r(437),h=n(r(326)),v=r(189),g=n(r(801)),y=n(r(846)),E=n(r(448)),b=n(r(450)),O=n(r(3438));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=(0,p.observer)(u=function(e){(0,c.default)(r,e);var a=S(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).fedStore=new b.default({module:e.props.module}),e.clusterStore=new E.default,e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.name,a=e.namespace;this.fedStore.fetchDetail({name:t,namespace:a}),this.clusterStore.fetchList({limit:-1})}},{key:"render",value:function(){var e=this.props,a=e.module,r=e.name,n=e.namespace,l=this.fedStore.detail.clusters,u=(0,h.default)(this.clusterStore.list.data,"name");return l?d.default.createElement(g.default,{title:t("CLUSTER_PL")},d.default.createElement(v.Alert,{type:"info",message:t("MULTI_CLUSTER_RESOURCE_TIP"),hideIcon:!0}),d.default.createElement("div",{className:O.default.clusters},l.map((function(e){return u[e.name]?d.default.createElement(m.Link,{key:e.name,className:O.default.cluster,to:"/clusters/".concat(e.name,"/projects/").concat(n,"/").concat(a,"/").concat(r)},d.default.createElement(y.default,{cluster:u[e.name],theme:"light",tagClass:"float-right"})):null})))):null}}]),r}(d.Component))||u;a.default=C},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Controller",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"TimeSelector",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"StatusCircle",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"StatusTabs",{enumerable:!0,get:function(){return o.default}});var n=r(a(3446)),l=r(a(954)),u=r(a(3448)),o=r(a(3450))},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(1)),d=r(a(5)),p=a(437),m=r(a(826)),h=r(a(3652));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"renderImage",value:function(){var e=this.props,t=e.avatar,a=e.iconLetter,r=e.iconSize,n=e.avatarClass;return s.default.createElement("label",{className:(0,d.default)(h.default.image,n)},s.default.createElement(m.default,{src:t,iconLetter:a,iconSize:r}))}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.desc,r=e.to,l=e.onClick,u=e.className,o=r?s.default.createElement(p.Link,{to:r},t):t;return s.default.createElement("div",{className:(0,d.default)(h.default.wrapper,u)},this.renderImage(),s.default.createElement("div",{className:(0,d.default)(h.default.title,h.default.isIcon,"avatar-title")},s.default.createElement("div",null,s.default.createElement("strong",{className:(0,d.default)((0,n.default)({},h.default.canClick,Boolean(l))),onClick:l},o)),s.default.createElement("div",{className:h.default.desc,title:a},a)))}}]),a}(s.default.Component);t.default=g,g.propTypes={avatar:f.default.string,avatarClass:f.default.string,iconLetter:f.default.string,iconSize:f.default.number,title:f.default.string,desc:f.default.string,to:f.default.string,onClick:f.default.func},g.defaultProps={iconSize:20,onClick:null}},,,function(e,a,r){"use strict";r(16);var n=r(19);r(44),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.data;if(a){var r=u.severityOptions.find((function(e){return e.value===a}));if(r)return l.default.createElement("span",{style:{backgroundColor:r.bgColor,color:r.color,fontWeight:600,padding:"0px 4px",whiteSpace:"nowrap"}},t(r.label))}return"-"},r(44),r(4);var l=n(r(0)),u=r(922)},,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(190),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.data,r=e.noTip,n=e.placement,s=void 0===n?"right":n,f=e.tooltipModifiers,d=l.default.createElement("div",null,l.default.createElement("div",{className:"tooltip-title"},t("CLUSTER_STATUS")),l.default.createElement("div",null,Object.values((0,u.default)(a,"conditions",{})).map((function(e){return l.default.createElement("div",{key:e.type,className:c.default.condition},l.default.createElement("div",{className:c.default.title},"True"===e.status?l.default.createElement(i.Icon,{name:"success",type:"coloured"}):l.default.createElement(i.Icon,{name:"error",color:{primary:"#ffffff",secondary:"#ea4641"}}),l.default.createElement("span",null,t("CLUSTER_CONDITION_".concat(e.type.toUpperCase()),{defaultValue:e.type}))),e.status&&l.default.createElement("p",null,"".concat(t("STATUS"),": ").concat(e.status)),e.reason&&l.default.createElement("p",null,"".concat(t("REASON"),": ").concat(t("CLUSTER_REASON_".concat(e.reason.toUpperCase()),{defaultValue:e.reason}))),e.message&&l.default.createElement("p",null,"".concat(t("MESSAGE"),": ").concat(e.message)))})))),p=l.default.createElement(i.Icon,{name:"information",color:{primary:"#ffffff",secondary:"error"===status?"#ab2f29":"#f5a623"}}),m=(0,u.default)(a,"isReady"),h=(0,u.default)(a,"isSchedulable"),v=m?h?"":t("UNSCHEDULABLE"):t("UNREADY");return l.default.createElement(l.default.Fragment,null,r?l.default.createElement("span",{className:(0,o.default)(c.default.reason,"error"===status?c.default.error:c.default.warning)},p,v):l.default.createElement(i.Tooltip,{placement:s,content:d,modifiers:f,positionFixed:!0},l.default.createElement("span",{className:(0,o.default)(c.default.reason,"error"===status?c.default.error:c.default.warning)},p,v)))},r(3),r(20),r(190);var l=n(r(0)),u=n(r(26)),o=n(r(5)),i=r(189),c=n(r(1776))},,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(70),r(20),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(31));r(70),r(20),r(73);var u=n(r(0)),o=n(r(5)),i=n(r(26)),c=n(r(1838)),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.className,r=e.payload,n=e.activeSeries,s=void 0===n?[]:n,f=e.showAll,d=void 0!==f&&f,p=e.isTranslate,m=void 0===p||p,h=e.extraLegend,v=r||[];if(v.length<2&&!d)return u.default.createElement("div",{className:c.default.legend});var g=function(t){var a=e.onClick;if(a){var r=(0,i.default)(t.target,"dataset.key");r&&a(t,r)}};return u.default.createElement("div",{className:(0,o.default)(a,c.default.legend),onClick:g},h&&u.default.createElement("div",{className:c.default.item},h),v.map((function(e){var a=!s.includes(e.value),r=(0,i.default)(e,"payload.stroke");return u.default.createElement("div",{key:e.dataKey,"data-key":e.dataKey,className:(0,o.default)(c.default.item,(0,l.default)({},c.default.inactive,a))},u.default.createElement("i",{style:{backgroundColor:r}}),m?t(e.value):e.value)})))};a.default=s},function(e,t,a){"use strict";a(16),a(10),a(9),Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveSeries=void 0,a(10),a(9),a(4);t.getActiveSeries=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.xKey,a=e.data;return Object.keys(a[0]||{}).filter((function(e){return e!==t}))}},,,,function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.kafkaYaml=void 0;t.kafkaYaml={resources:{apiVersion:"kafka.strimzi.io/v1beta2",kind:"Kafka",metadata:{name:"my-cluster"},spec:{clusterCa:{renewalDays:30,validityDays:3650},clientsCa:{renewalDays:30,validityDays:3650},kafka:{version:"3.2.0",replicas:1,resources:{requests:{memory:"64Gi",cpu:"8"},limits:{memory:"64Gi",cpu:"12"}},listeners:[{name:"external",port:9092,type:"nodeport",tls:!0,authentication:{type:"tls"}}],metricsConfig:{type:"jmxPrometheusExporter",valueFrom:{configMapKeyRef:{key:"kafka-metrics-config.yml",name:"kafka-metrics"}}},authorization:{superUsers:["saas"],type:"simple"},storage:{type:"jbod",volumes:[{id:0,type:"persistent-claim",size:"100Gi",deleteClaim:!0}]},config:{"default.replication.factor":3,"min.insync.replicas":2,"auto.create.topics.enable":!1,"num.partitions":3}},zookeeper:{replicas:1,metricsConfig:{type:"jmxPrometheusExporter",valueFrom:{configMapKeyRef:{key:"zookeeper-metrics-config.yml",name:"kafka-metrics"}}},resources:{requests:{memory:"8Gi",cpu:"2"},limits:{memory:"8Gi",cpu:"2"}},storage:{type:"persistent-claim",size:"100Gi",deleteClaim:!0}},entityOperator:{topicOperator:{},userOperator:{}},cruiseControl:{},kafkaExporter:{groupRegex:".*",topicRegex:".*"}}},user:{apiVersion:"kafka.strimzi.io/v1beta2",kind:"KafkaUser",metadata:{name:"saas",labels:{"strimzi.io/cluster":"my-cluster"}},spec:{authentication:{type:"scram-sha-512"},authorization:{type:"simple",acls:[{type:"allow",operation:"Read",resource:{type:"topic",patternType:"literal",name:""}}]}}},topic:{apiVersion:"kafka.strimzi.io/v1beta2",kind:"KafkaTopic",metadata:{name:"my-topic2",labels:{"strimzi.io/cluster":"my-cluster"}},spec:{partitions:3,replicas:1,config:{"retention.ms":6048e5}}},configMap:{kind:"ConfigMap",apiVersion:"v1",metadata:{name:"kafka-metrics",namespace:"test",labels:{app:"strimzi",component:"configmap"}},data:{"kafka-metrics-config.yml":'# See https://github.com/prometheus/jmx_exporter for more info about JMX Prometheus Exporter metrics\nlowercaseOutputName: true\nrules:\n- pattern: kafka.(\\w+)<type=(.+), name=(.+)Percent\\w*><>MeanRate\n  name: kafka_$1_$2_$3_percent\n  type: GAUGE\n- pattern: kafka.(\\w+)<type=(.+), name=(.+)Percent\\w*><>Value\n  name: kafka_$1_$2_$3_percent\n  type: GAUGE\n- pattern: kafka.(\\w+)<type=(.+), name=(.+)Percent\\w*, (.+)=(.+)><>Value\n  name: kafka_$1_$2_$3_percent\n  type: GAUGE\n  labels:\n    "$4": "$5"\n- pattern: kafka.(\\w+)<type=(.+), name=(.+)PerSec\\w*, (.+)=(.+), (.+)=(.+)><>Count\n  name: kafka_$1_$2_$3_total\n  type: COUNTER\n  labels:\n    "$4": "$5"\n    "$6": "$7"\n- pattern: kafka.(\\w+)<type=(.+), name=(.+)PerSec\\w*, (.+)=(.+)><>Count\n  name: kafka_$1_$2_$3_total\n  type: COUNTER\n  labels:\n    "$4": "$5"\n- pattern: kafka.(\\w+)<type=(.+), name=(.+)PerSec\\w*><>Count\n  name: kafka_$1_$2_$3_total\n  type: COUNTER\n- pattern: kafka.cluster<type=(.+), name=UnderMinIsr, (.+)=(.+), (.+)=(.+)><>Value\n  name: kafka_cluster_$1_underminisr\n  type: GAUGE\n  labels:\n    "$2": "$3"\n    "$4": "$5"\n- pattern: kafka.cluster<type=(.+), name=UnderMinIsr, (.+)=(.+)><>Value\n  name: kafka_cluster_$1_underminisr\n  type: GAUGE\n  labels:\n    "$2": "$3"\n- pattern: kafka.cluster<type=(.+), name=UnderMinIsr><>Value\n  name: kafka_cluster_$1_underminisr\n  type: GAUGE\n- pattern: kafka.controller<type=(.+), name=(.+), (.+)=(.+), (.+)=(.+)><>Value\n  name: kafka_controller_$1_$2\n  type: GAUGE\n  labels:\n    "$3": "$4"\n    "$5": "$6"\n- pattern: kafka.controller<type=(.+), name=(.+), (.+)=(.+)><>Value\n  name: kafka_controller_$1_$2\n  type: GAUGE\n  labels:\n    "$3": "$4"\n- pattern: kafka.controller<type=(.+), name=(.+)><>Value\n  name: kafka_controller_$1_$2\n  type: GAUGE\n- pattern: kafka.server<type=(.+), name=(?!ConsumerLag)(.+), (.+)=(.+), (.+)=(.+)><>Value\n  name: kafka_server_$1_$2\n  type: GAUGE\n  labels:\n    "$3": "$4"\n    "$5": "$6"\n- pattern: kafka.server<type=(.+), name=(?!ConsumerLag)(.+), (.+)=(.+)><>Value\n  name: kafka_server_$1_$2\n  type: GAUGE\n  labels:\n    "$3": "$4"\n- pattern: kafka.server<type=(.+), name=(?!ConsumerLag)(.+)><>Value\n  name: kafka_server_$1_$2\n  type: GAUGE',"zookeeper-metrics-config.yml":'# See https://github.com/prometheus/jmx_exporter for more info about JMX Prometheus Exporter metrics\nlowercaseOutputName: true\nrules:\n# replicated Zookeeper\n- pattern: "org.apache.ZooKeeperService<name0=ReplicatedServer_id(\\\\d+)><>(\\\\w+)"\n  name: "zookeeper_$2"\n  type: GAUGE\n- pattern: "org.apache.ZooKeeperService<name0=ReplicatedServer_id(\\\\d+), name1=replica.(\\\\d+)><>(\\\\w+)"\n  name: "zookeeper_$3"\n  type: GAUGE\n  labels:\n    replicaId: "$2"\n- pattern: "org.apache.ZooKeeperService<name0=ReplicatedServer_id(\\\\d+), name1=replica.(\\\\d+), name2=(\\\\w+)><>(Packets\\\\w+)"\n  name: "zookeeper_$4"\n  type: COUNTER\n  labels:\n    replicaId: "$2"\n    memberType: "$3"\n- pattern: "org.apache.ZooKeeperService<name0=ReplicatedServer_id(\\\\d+), name1=replica.(\\\\d+), name2=(\\\\w+)><>(\\\\w+)"\n  name: "zookeeper_$4"\n  type: GAUGE\n  labels:\n    replicaId: "$2"\n    memberType: "$3"\n- pattern: "org.apache.ZooKeeperService<name0=ReplicatedServer_id(\\\\d+), name1=replica.(\\\\d+), name2=(\\\\w+), name3=(\\\\w+)><>(\\\\w+)"\n  name: "zookeeper_$4_$5"\n  type: GAUGE\n  labels:\n    replicaId: "$2"\n    memberType: "$3"'}},podMonitor:{apiVersion:"monitoring.coreos.com/v1",kind:"PodMonitor",metadata:{name:"kafka-resources-metrics",namespace:"test",labels:{app:"strimzi",component:"podmonitor"}},spec:{selector:{matchExpressions:[{key:"strimzi.io/kind",operator:"In",values:["Kafka","KafkaConnect","KafkaMirrorMaker","KafkaMirrorMaker2"]},{key:"strimzi.io/component-type",operator:"NotIn",values:["kafka-exporter"]}]},namespaceSelector:{matchNames:["namespace"]},podMetricsEndpoints:[{path:"/metrics",port:"tcp-prometheus",relabelings:[{separator:";",regex:"__meta_kubernetes_pod_label_(strimzi_io_.+)",replacement:"$1",action:"labelmap"},{sourceLabels:["__meta_kubernetes_namespace"],separator:";",regex:"(.*)",targetLabel:"namespace",replacement:"$1",action:"replace"},{sourceLabels:["__meta_kubernetes_pod_name"],separator:";",regex:"(.*)",targetLabel:"kubernetes_pod_name",replacement:"$1",action:"replace"},{sourceLabels:["__meta_kubernetes_pod_node_name"],separator:";",regex:"(.*)",targetLabel:"node_name",replacement:"$1",action:"replace"},{sourceLabels:["__meta_kubernetes_pod_host_ip"],separator:";",regex:"(.*)",targetLabel:"node_ip",replacement:"$1",action:"replace"}]}]}},rebalance:{apiVersion:"kafka.strimzi.io/v1beta2",kind:"KafkaRebalance",metadata:{name:"my-rebalance2",labels:{"strimzi.io/cluster":"my-cluster"},annotations:{"strimzi.io/rebalance":"approve"}},spec:{mode:"full"}}}},,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(70),r(20),r(14),r(24),r(4),r(18),r(30),r(11),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(70),r(20),r(27),r(29),r(14),r(24),r(4),r(18),r(43),r(30),r(195),r(11),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(61),p=r(189),m=n(r(67)),h=n(r(68)),v=n(r(1333)),g=n(r(1334)),y=n(r(824)),E=n(r(2010));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(r,e);var a=b(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).portsValidator=function(a,r,n){if(!r)return n();if(r.length>0){var l=[];r.forEach((function(a){return!a.name||!a.containerPort||e.props.withService&&!a.servicePort?n({message:t("INVALID_PORT")}):l.includes(a.name)?n({message:t("PORT_INPUT_DESC")}):a.name&&(a.name.length>15||!d.PATTERN_PORT_NAME.test(a.name))?n({message:t("WORKLOAD_PORT_NAME_DESC")}):void l.push(a.name)}))}n()},e.checkContainerPortValid=function(t){return e.props.withService?t&&t.name&&t.containerPort&&t.servicePort:t&&t.name&&t.containerPort},e.handleFillPorts=function(){var t,a=e.context.imageDetail.exposedPorts,r=(void 0===a?[]:a).map((function(e){var t=e.split("/")[1],a=Number(e.split("/")[0]);return{name:"".concat(t,"-").concat(a),protocol:t.toUpperCase(),containerPort:a,servicePort:a}}));(0,m.default)(r)||((0,h.default)(e.props.data,"ports",r),null===(t=e.context)||void 0===t||t.forceUpdate())},e}return(0,u.default)(r,[{key:"render",value:function(){var e,a,r,n=this.props,l=n.withService,u=n.className;return s.default.createElement(p.Form.Group,{className:u,label:t("PORT_SETTINGS"),desc:t("PORT_SETTINGS_DESC")},s.default.createElement(p.Form.Item,{rules:[{required:l,message:t("PORT_EMPTY")},{validator:this.portsValidator,checkOnSubmit:!0}]},s.default.createElement(y.default,{name:"".concat(this.prefix,"ports"),itemType:"object",addText:t("ADD_PORT"),checkItemValid:this.checkContainerPortValid,extraAdd:!(0,m.default)(null!==(e=null===(a=this.context)||void 0===a||null===(r=a.imageDetail)||void 0===r?void 0:r.exposedPorts)&&void 0!==e?e:[])&&s.default.createElement(p.Button,{className:E.default.defaultButton,onClick:this.handleFillPorts},t("USE_IMAGE_DEFAULT_PORTS"))},l?s.default.createElement(g.default,null):s.default.createElement(v.default,null))))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}}]),r}(s.default.Component);a.default=O,O.defaultProps={prefix:""},O.contextTypes={imageDetail:f.default.object,forceUpdate:f.default.func}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(1)),p=r(a(5)),m=r(a(2007));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(a,e);var t=g(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.prefix,a=e.suffix,r=e.children,n=(0,l.default)(e,["prefix","suffix","children"]),u=f.default.cloneElement(r,v(v({},r.props),{},{className:(0,p.default)({"ks-input-addons-prefix":!!t,"ks-input-addons-suffix":!!a},r.props.className)},n));return f.default.createElement("div",{className:(0,p.default)(m.default.wrapper,"ks-input-addons")},t&&f.default.createElement("div",{className:m.default.text},t),u,a&&f.default.createElement("div",{className:m.default.text},a))}}]),a}(f.default.Component);t.default=y,y.propTypes={prefix:d.default.any,suffix:d.default.any,name:d.default.string,value:d.default.any,onChange:d.default.func}},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(44),r(6),r(20),r(51),r(14),r(24),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(44),r(6),r(20),r(27),r(51),r(29),r(14),r(24),r(33),r(16),r(8),r(13),r(9),r(4),r(321),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(26)),p=n(r(67)),m=n(r(880)),h=n(r(163)),v=n(r(244)),g=n(r(196)),y=n(r(0)),E=r(17),b=r(1),O=r(56),S=r(61),C=r(189),_=n(r(894)),k=n(r(453));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var T=function(e){(0,c.default)(r,e);var a=D(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).updateStorageClass=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.setState({isLoading:!0});var t=n.context.formData,a=(0,d.default)(t,"spec.storageClassName");return n.store.fetchList(N(N({},e),{},{cluster:n.props.cluster,hasStorage:n.hasStorage})).then((function(){var e=(0,E.toJS)(n.store.list.data);n.setState({storageClasses:(0,E.toJS)(n.store.list.data),storageClass:e.find((function(e){return a===e.name}))||e.find((function(e){return e.default}))||{},isLoading:!1})}))},n.getStorageClasses=function(){return n.state.storageClasses.map((function(e){return{label:e.name,value:e.name}}))},n.getSupportedAccessModes=function(){var e=n.state.storageClass,t=null;return e&&(t=(0,O.safeParseJSON)((0,d.default)(e,'annotations["storageclass.kubesphere.io/supported-access-modes"]',""))),(0,h.default)(t)?[]:t},n.handleStorageClassChange=function(e){var t=n.state.storageClasses.find((function(t){return t.name===e}))||{};(0,g.default)(n.context.formData,"spec.accessModes"),n.setState({storageClass:t})},n.sizeValidator=function(e,a,r){return parseInt(a,10)<=0?r({message:t("VOLUME_SIZE_TIP"),field:e.field}):r()},n.store=new k.default,n.state={storageClasses:[],storageClass:{},isLoading:!1},n}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.updateStorageClass()}},{key:"getSliderProps",value:function(e){var t={min:0,max:2048,defaultValue:"10Gi",step:1,unit:"Gi"},a=Number((0,d.default)(e,"parameters.minSize")),r=Number((0,d.default)(e,"parameters.maxSize")),n=Number((0,d.default)(e,"parameters.stepSize"));(0,m.default)(a)||(t.min=a),(0,m.default)(r)||(t.max=r),(0,m.default)(n)||(t.step=n);for(var l=(t.max/t.step-t.min/t.step)/4,u={},o=0;o<4;o++){var i=Math.floor(l*o)*t.step+t.min;u[i]=0===i?"0":"".concat(i,"Gi")}return u[t.max]="".concat(t.max,"Gi"),t.marks=u,t}},{key:"render",value:function(){var e=this.state,a=e.storageClass,r=e.isLoading,n=this.props,u=n.editModalTitle,o=n.tabTitle,i=n.isFederated,c=n.isEdit,s=this.getStorageClasses(),f=this.store.list||{},d=this.getSupportedAccessModes(),m=(0,p.default)(d)?Object.keys(S.ACCESS_MODES):d,h=m.map((function(e){return{value:e,label:e}})),g="ReadWriteOnce"in m?["ReadWriteOnce"]:m.slice(0,1);return y.default.createElement(y.default.Fragment,null,!i&&!c&&y.default.createElement(C.Form.Item,{label:t("STORAGE_CLASS"),desc:t("VOLUME_STORAGE_CLASS_DESC"),rules:[{required:!0,message:t("PARAM_REQUIRED")}]},y.default.createElement(C.Select,{name:"spec.storageClassName",defaultValue:a.name,pagination:(0,v.default)(f,["page","limit","total"]),isLoading:f.isLoading,onChange:this.handleStorageClassChange,options:s,onFetch:this.updateStorageClass,searchable:!0,clearable:!0})),"EDIT_SETTINGS"!==u&&"CLUSTER_DIFF"!==o?y.default.createElement(C.Form.Item,{label:t("ACCESS_MODE"),rules:[{required:!0,message:t("PARAM_REQUIRED")}],desc:t("ACCESS_MODES_DESC")},y.default.createElement(C.Select,{name:"spec.accessModes",options:h,loading:r,defaultValue:g,multi:!0})):"",y.default.createElement(C.Form.Item,{label:t("VOLUME_CAPACITY"),rules:[{validator:this.sizeValidator}]},y.default.createElement(_.default,(0,l.default)({name:"spec.resources.requests.storage"},this.getSliderProps(a),{withInput:!0}))))}},{key:"hasStorage",get:function(){var e=this.props.cluster;return globals.app.hasClusterModule(e,"storage-utils")}}]),r}(y.default.Component);a.default=T,T.contextTypes={formData:b.PropTypes.object}},function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(3),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=a(189),d=r(a(800)),p=r(a(2031));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,u.default)(a,e);var t=m(a);function a(){var e;(0,n.default)(this,a);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).handleChange=function(){var t=e.props,a=t.value;(0,t.onChange)(!a)},e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.title,r=e.description;return c.default.createElement("div",{className:p.default.wrapper,onClick:this.handleChange},c.default.createElement(f.Toggle,{checked:t}),c.default.createElement(d.default,{className:p.default.text,title:a,description:r}))}}]),a}(c.default.PureComponent);t.default=h,h.propTypes={value:s.default.bool,onChange:s.default.func},h.defaultProps={onChange:function(){}}},,function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=r(a(2111));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var m=function(e){(0,u.default)(a,e);var t=p(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.className,r=e.text,n=e.rightText,l={width:"".concat(100*t,"%")},u="default";t>=.8&&(u="warning"),t>=.95&&(u="danger");var o={left:"".concat(t>.35?t/2*100:100*(t+.01),"%"),transform:t>.35?"translateX(-50%)":"",color:t>.35?"#fff":"#79879c"};return c.default.createElement("div",{className:(0,f.default)(d.default.wrapper,a)},c.default.createElement("div",{className:(0,f.default)(d.default.bar,d.default[u]),style:l}),r&&!!t&&c.default.createElement("span",{className:d.default.text,style:o},r),n&&c.default.createElement("span",{className:d.default.rightText},n))}}]),a}(c.default.Component);t.default=m,m.propTypes={value:s.default.number.isRequired,className:s.default.string},m.defaultProps={value:0}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(317)),u=n(a(50)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=r(a(0)),p=n(a(1)),m=n(a(5)),h=n(a(2115));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var g=function(e){(0,c.default)(a,e);var t=v(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.name,r=e.value,n=(0,u.default)(e,["className","name","value"]);return d.default.createElement("div",(0,l.default)({className:(0,m.default)(h.default.label,t)},n),d.default.createElement("span",{className:h.default.name},a),r)}}]),a}(d.PureComponent);t.default=g,g.propTypes={className:p.default.string,name:p.default.string,value:p.default.string},g.defaultProps={name:"",value:""}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(31)),u=r(a(50));a(35);var o=r(a(39)),i=r(a(25)),c=r(a(28)),s=r(a(41)),f=r(a(42)),d=r(a(37)),p=r(a(49)),m=r(a(26));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var y={headers:{"content-type":"application/x-www-form-urlencoded"}},E=function(e){(0,s.default)(l,e);var t,a,r=g(l);function l(){var e;(0,i.default)(this,l);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(e=r.call.apply(r,[this].concat(a))).module="ippools",e.getNetworkUrl="kapis/network.kubesphere.io/v1alpha2",e.migrate=function(t,a,r){var n="".concat(e.getNetworkUrl,"/").concat(e.getPath({cluster:t}),"/ippoolmigrations");return e.submitting(request.post(n,{oldippool:a,newippool:r},y))},e.getNetworkResourceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.cluster,r=t.name;return"".concat(e.getNetworkUrl).concat(e.getPath({cluster:a}),"/").concat(e.module,"/").concat(r,"/migrate")},e}return(0,c.default)(l,[{key:"fetchMigrateIpPool",value:(a=(0,o.default)(n.default.mark((function e(){var t,a,r,l,o,i,c,s=this,f=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},a=t.cluster,r=t.namespace,l=t.name,o=(0,u.default)(t,["cluster","namespace","name"]),e.next=3,request.get(this.getNetworkResourceUrl({name:l,cluster:a}),this.getFilterParams(o));case 3:return i=e.sent,c=((0,m.default)(i,"items")||[]).map((function(e){return v({cluster:a,namespace:r},s.mapper(e))})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"fetchNamespacesIpPools",value:(t=(0,o.default)(n.default.mark((function e(){var t,a,r,l,o,i=this,c=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},a=t.namespace,r=t.cluster,l=(0,u.default)(t,["namespace","cluster"]),e.next=3,request.get("".concat(this.getNetworkUrl).concat(this.getPath({namespace:a,cluster:r}),"/").concat(this.module),this.getFilterParams(l));case 3:return o=e.sent,e.abrupt("return",o.map((function(e){return v({cluster:r,namespace:a},i.mapper(e))})));case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),l}(p.default);t.default=E},,,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(67)),h=n(r(798)),v=n(r(2597)),g=n(r(2599));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){(0,c.default)(r,e);var a=y(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.visible,r=e.title,n=e.module,o=e.store,i=e.forms,c=e.onOk,s=e.onCancel,f=e.cluster,p=e.namespace,m=(0,u.default)(e,["visible","title","module","store","forms","onOk","onCancel","cluster","namespace"]);return d.default.createElement(h.default,(0,l.default)({width:1162,bodyClassName:g.default.body,title:t(r),visible:a,onCancel:s,hideFooter:!0},m),d.default.createElement(v.default,(0,l.default)({},m,{module:n,store:o,forms:i,cluster:f,namespace:p,data:this.formData,onSubmit:c,onCancel:s})))}},{key:"formData",get:function(){var e=this.props,t=e.detail,a=e.formData;return(0,m.default)(a)?t:a}}]),r}(d.default.Component);a.default=E,E.propTypes={visible:p.default.bool,title:p.default.string,module:p.default.string,store:p.default.object,forms:p.default.array,formData:p.default.object,detail:p.default.object,onOk:p.default.func,onCancel:p.default.func},E.defaultProps={visible:!1,title:"EDIT",store:{},forms:[],formData:{},detail:{},onCancel:function(){}}},,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(70),a(36),a(87),a(14),a(24),a(8),a(13),a(9),a(4),a(190),a(21),a(18),a(30),a(11),a(73),a(46),a(71),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(50)),l=r(a(38)),u=r(a(31)),o=r(a(97));a(35);var i=r(a(39)),c=r(a(62)),s=r(a(25)),f=r(a(28)),d=r(a(74)),p=r(a(41)),m=r(a(42)),h=r(a(37)),v=r(a(45));r(a(63));a(12),a(32),a(3),a(10),a(6),a(70),a(36),a(27),a(87),a(29),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(190),a(21),a(18),a(43),a(30),a(11),a(73),a(46),a(71),a(7),a(40);var g,y,E,b=r(a(26)),O=r(a(68)),S=r(a(201)),C=r(a(487)),_=a(17),k=a(56),R=a(61),N=a(940),D=r(a(49));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var I=function(e){if((0,S.default)(e,"requests.errorRatio"))return e;var t=0,a=0,r=(0,b.default)(e,"requests.inbound.http",{});return Object.keys(r).forEach((function(e){var n=Number(r[e]);t+=n,Number(e)>=400&&(a+=n)})),(0,O.default)(e,"requests.errorRatio",Math.max(100*a/t,0)),e},M=(g=function(e){(0,p.default)(m,e);var t,a,r=w(m);function m(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"applications";return(0,s.default)(this,m),e=r.call(this,t),(0,c.default)(e,"isTracingLoading",y,(0,d.default)(e)),e.tracing={data:[],total:0},e.graph={data:{},health:{}},(0,c.default)(e,"env",E,(0,d.default)(e)),e.getListUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/").concat(e.module).concat(t.dryRun?"?dryRun=All":"")},e.getResourceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/").concat(e.module)},e.getGraphUrl=function(t){var a=t.cluster,r=t.namespace,n=t.duration;return"kapis/servicemesh.kubesphere.io/v1alpha2".concat(e.getPath({cluster:a,namespace:r}),"/graph?duration=").concat(n,"s&graphType=versionedApp&injectServiceNodes=true&groupBy=app&appenders=deadNode,sidecarsCheck,serviceEntry,istio,responseTime")},e.getHealthUrl=function(t){var a=t.cluster,r=t.namespace,n=t.type,l=t.duration;return"kapis/servicemesh.kubesphere.io/v1alpha2".concat(e.getPath({cluster:a,namespace:r}),"/health?rateInterval=").concat(l,"s&type=").concat(n)},e}return(0,f.default)(m,[{key:"fetchGraph",value:(a=(0,i.default)(l.default.mark((function e(){var t,a,r,n,i,c,s,f,d,p,m,h,v,g,y,E=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.length>0&&void 0!==E[0]?E[0]:{},a=t.cluster,r=t.namespace,n=t.app,i=t.duration,e.next=3,Promise.all([request.get(this.getGraphUrl({cluster:a,namespace:r,app:n,duration:i})),request.get(this.getHealthUrl({cluster:a,namespace:r,type:"app",duration:i})),request.get(this.getHealthUrl({cluster:a,namespace:r,type:"service",duration:i})),request.get(this.getHealthUrl({cluster:a,namespace:r,type:"workload",duration:i}))]);case 3:c=e.sent,s=(0,o.default)(c,4),f=s[0],d=s[1],p=s[2],m=s[3],h=this.detail.services||[],v=this.detail.workloads||[],g={},d&&p&&m&&(this.graph.health=h.reduce((function(e,t){if(!d[t])return e;var a=d[t],r=a.requests,n=a.workloadStatuses,l=n.reduce((function(e,t){return P(P({},e),{},(0,u.default)({},t.name,I(m[t.name])))}),{});return Object.keys(l).forEach((function(e){g[e]=t})),P(P({},e),{},(0,u.default)({},t,{requests:r,workloadStatuses:n,workloads:l,service:I(p[t])}))}),{})),f&&f.elements&&(y=[],f.elements.nodes.forEach((function(e){"service"===e.data.nodeType&&h.includes(e.data.service)?y.push(e):"app"===e.data.nodeType&&e.data.workload&&v.includes(e.data.workload)&&(e.data.app=g[e.data.workload],y.push(e)),e.data.isRoot&&e.data.namespace!==r&&(e.data.targetNamespace=r,y.push(e))})),this.graph.data={nodes:y,edges:f.elements.edges});case 14:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"fetchAppMetrics",value:function(e){var t=e.name,a=e.cluster,r=e.namespace,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Math.floor((new Date).getTime()/1e3),u=P({queryTime:l,duration:60,step:20,rateInterval:"20s","filters[]":["request_count","request_duration","request_error_count","tcp_sent","tcp_received"],direction:"inbound",reporter:"destination"},n);return request.get("kapis/servicemesh.kubesphere.io/v1alpha2".concat(this.getPath({cluster:a,namespace:r}),"/apps/").concat(t,"/metrics"),u)}},{key:"fetchServiceMetrics",value:function(e){var t=e.name,a=e.cluster,r=e.namespace,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Math.floor((new Date).getTime()/1e3),u=P({queryTime:l,duration:60,step:20,rateInterval:"20s",direction:"inbound",reporter:"source"},n);return request.get("kapis/servicemesh.kubesphere.io/v1alpha2".concat(this.getPath({cluster:a,namespace:r}),"/services/").concat(t,"/metrics"),u)}},{key:"fetchWorkloadMetrics",value:function(e){var t=e.name,a=e.cluster,r=e.namespace,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=P({duration:60,step:20,rateInterval:"20s",direction:"inbound",reporter:"source"},n);return request.get("kapis/servicemesh.kubesphere.io/v1alpha2".concat(this.getPath({cluster:a,namespace:r}),"/workloads/").concat(t,"/metrics"),l)}},{key:"fetchTracing",value:(t=(0,i.default)(l.default.mark((function e(t){var a,r,u,o,i,c,s;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.service,r=t.cluster,u=t.namespace,o=(0,n.default)(t,["service","cluster","namespace"]),this.isTracingLoading=!0,i=P({limit:5},o),c=(new Date).getTime(),i.start="".concat(i.start||"".concat(c-R.TIME_MICROSECOND_MAP[i.lookback]),"000"),i.end="".concat(i.end||"".concat(c),"000"),e.prev=6,e.next=9,request.get("kapis/servicemesh.kubesphere.io/v1alpha2".concat(this.getPath({cluster:r,namespace:u}),"/services/").concat(a,"/traces"),i);case 9:(s=e.sent)&&s.data&&(this.tracing.data=(0,N.transformTraces)(s.data)),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:this.isTracingLoading=!1;case 16:case"end":return e.stop()}}),e,this,[[6,13]])}))),function(e){return t.apply(this,arguments)})},{key:"setSelectRowKeys",value:function(e){this.list.selectedRowKeys.replace(e)}},{key:"create",value:function(e,t){var a=this,r=e.application,l=e.ingress,u=(0,n.default)(e,["application","ingress"]),o="true"===(0,b.default)(r,'metadata.annotations["servicemesh.kubesphere.io/enabled"]'),i=[{url:this.getListUrl(t),data:r}];if((0,b.default)(l,"spec.rules",[]).length>0){var c=(0,b.default)(r,"metadata.name");if((0,b.default)(l,"metadata.name")||(0,O.default)(l,"metadata.name","".concat(c,"-ingress-").concat((0,k.generateId)())),o){var s=(0,b.default)(l,"spec.rules[0].http.paths[0].backend.service.name");s&&(0,O.default)(l,'metadata.annotations["nginx.ingress.kubernetes.io/upstream-vhost"]',"".concat(s,".").concat(t.namespace,".svc.cluster.local"))}i.push({url:"apis/networking.k8s.io/v1".concat(this.getPath(t),"/ingresses"),data:l})}return Object.values(u).forEach((function(e){if(e.workload&&e.service){var r=(0,C.default)(R.MODULE_KIND_MAP,(function(t){return t===e.workload.kind}))||"deployments";i.push({url:"apis/apps/v1".concat(a.getPath(t),"/").concat(r),data:e.workload},{url:"api/v1".concat(a.getPath(t),"/services"),data:e.service})}})),this.submitting((0,k.withDryRun)(i))}},{key:"addComponent",value:function(e,t){var a=[];if(t.namespace){if(e.workload&&e.service){var r=(0,C.default)(R.MODULE_KIND_MAP,(function(t){return t===e.workload.kind}))||"deployments";a.push({url:"apis/apps/v1".concat(this.getPath(t),"/").concat(r),data:e.workload},{url:"api/v1".concat(this.getPath(t),"/services"),data:e.service})}return this.submitting((0,k.withDryRun)(a))}}},{key:"patch",value:function(e,t){var a=e.namespace,r=e.cluster,n=e.name;return this.submitting(request.patch(this.getDetailUrl({name:n,cluster:r,namespace:a}),t))}},{key:"delete",value:function(e){var t=e.name,a=e.cluster,r=e.namespace;return this.submitting(request.delete(this.getDetailUrl({name:t,cluster:a,namespace:r})))}},{key:"checkName",value:function(e){var t=e.name,a=e.cluster,r=e.namespace;return request.get(this.getDetailUrl({name:t,cluster:a,namespace:r}),{},{headers:{"x-check-exist":!0}})}},{key:"fetchSampleData",value:function(e){return request.get("sample/".concat(e))}}]),m}(D.default),y=(0,v.default)(g.prototype,"isTracingLoading",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=(0,v.default)(g.prototype,"env",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},isLoading:!1}}}),(0,v.default)(g.prototype,"fetchGraph",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"fetchGraph"),g.prototype),(0,v.default)(g.prototype,"fetchAppMetrics",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"fetchAppMetrics"),g.prototype),(0,v.default)(g.prototype,"fetchServiceMetrics",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"fetchServiceMetrics"),g.prototype),(0,v.default)(g.prototype,"fetchWorkloadMetrics",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"fetchWorkloadMetrics"),g.prototype),(0,v.default)(g.prototype,"fetchTracing",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"fetchTracing"),g.prototype),(0,v.default)(g.prototype,"setSelectRowKeys",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"setSelectRowKeys"),g.prototype),(0,v.default)(g.prototype,"create",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"create"),g.prototype),(0,v.default)(g.prototype,"addComponent",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"addComponent"),g.prototype),(0,v.default)(g.prototype,"patch",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"patch"),g.prototype),(0,v.default)(g.prototype,"delete",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"delete"),g.prototype),(0,v.default)(g.prototype,"checkName",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"checkName"),g.prototype),(0,v.default)(g.prototype,"fetchSampleData",[_.action],Object.getOwnPropertyDescriptor(g.prototype,"fetchSampleData"),g.prototype),g);t.default=M},,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(6),a(87),a(138),a(8),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(6),a(87),a(141),a(120),a(138),a(8),a(9),a(4),a(21),a(7);var n=r(a(38));a(35);var l,u,o,i,c,s,f,d,p,m,h,v,g=r(a(39)),y=r(a(62)),E=r(a(25)),b=r(a(28)),O=r(a(45)),S=(r(a(63)),a(17)),C=r(a(67)),_=r(a(26)),k=r(a(872)),R=r(a(68)),N=a(56),D=a(893),T=(l=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,E.default)(this,e),(0,y.default)(this,"page",u,this),(0,y.default)(this,"data",o,this),(0,y.default)(this,"total_page",i,this),(0,y.default)(this,"total",c,this),(0,y.default)(this,"isLoading",s,this),(0,y.default)(this,"limit",f,this),(0,y.default)(this,"sort_metric",d,this),(0,y.default)(this,"sort_type",p,this),(0,y.default)(this,"changeSortType",m,this),(0,y.default)(this,"changeSortMetric",h,this),(0,y.default)(this,"changePagination",v,this),this.download=function(e){var a=JSON.stringify(t.data,null,2),r=new Blob([a],{type:"text/plain;charset=utf-8"});(0,D.saveAs)(r,e)},this.handleResult=function(e){var t=(0,_.default)(e,"results",[]);return(0,C.default)(t)?[]:t.reduce((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.metric_name,r=(0,_.default)(t,"data.result")||[];return r.forEach((function(t,r){var n=e[r]||{},l=(0,_.default)(t,"value",[]),u=(0,_.default)(t,"metric",{});n[a]=l[1],Object.assign(n,u),e[r]=n})),e}),[])},Object.keys(a).forEach((function(e){return(0,R.default)(t,e,a[e])}))}var t;return(0,b.default)(e,[{key:"fetchAll",value:(t=(0,g.default)(n.default.mark((function e(){var t,a,r,l,u=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},this.isLoading=!0,a={type:this.rankRequestTag,metrics_filter:this.metrics_filter,page:this.page,limit:this.limit,sort_type:this.sort_type,sort_metric:this.sort_metric||(0,_.default)(this,"sort_metric_options.[0]")},this.cluster&&(a.cluster=this.cluster),this.namespaces&&(a.namespace=this.namespaces),this.kind&&(a.workload_kind=this.kind),this.workspace&&(a.workspace=this.workspace),e.next=9,(0,N.to)(request.get(this.fetchUrl,(0,k.default)(a,t)));case 9:return r=e.sent,l=this.handleResult(r),this.total_page=r.total_page,this.total=r.total_item,this.data=l,this.isLoading=!1,e.abrupt("return",l);case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"kapis/monitoring.kubesphere.io/v1beta1"}},{key:"fetchUrl",get:function(){return"nodes"===this.resource?"".concat(this.apiVersion,"/node_metrics"):"pods"===this.resource?"".concat(this.apiVersion,"/pod_metrics"):"workspaces"===this.resource?"".concat(this.apiVersion,"/workspace_metrics"):"namespaces"===this.resource?"".concat(this.apiVersion,"/namespace_metrics"):"clusters"===this.resource?"".concat(this.apiVersion,"/cluster_metrics"):"".concat(this.apiVersion)}},{key:"rankRequestTag",get:function(){return"rank"}},{key:"defaultParams",get:function(){return{type:this.rankRequestTag}}}]),e}(),u=(0,O.default)(l.prototype,"page",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=(0,O.default)(l.prototype,"data",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=(0,O.default)(l.prototype,"total_page",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c=(0,O.default)(l.prototype,"total",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),s=(0,O.default)(l.prototype,"isLoading",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),f=(0,O.default)(l.prototype,"limit",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),d=(0,O.default)(l.prototype,"sort_metric",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,O.default)(l.prototype,"sort_type",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desc"}}),m=(0,O.default)(l.prototype,"changeSortType",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a="desc"===e.sort_type?"asc":"desc";e.sort_type=a,e.fetchAll(t)}}}),h=(0,O.default)(l.prototype,"changeSortMetric",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){e.sort_metric=t,e.fetchAll(a)}}}),v=(0,O.default)(l.prototype,"changePagination",[S.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var r=t.page,n=t.limit;e.page=r,e.limit=n,e.fetchAll(a)}}}),(0,O.default)(l.prototype,"fetchAll",[S.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchAll"),l.prototype),l);t.default=T},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(70),a(20),a(14),a(8),a(13),a(9),a(4),a(18),a(30),a(11),a(73),a(69),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(70),a(20),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(30),a(11),a(73),a(69),a(7);var n=r(a(31)),l=r(a(38));a(35);var u=r(a(39)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(0)),p=a(17),m=a(243),h=r(a(455)),v=r(a(67)),g=r(a(839)),y=r(a(859)),E=r(a(850)),b=r(a(920)),O=r(a(3427)),S=r(a(3429)),C=r(a(3432)),_=r(a(974)),k=r(a(3439));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var T=function(e){(0,c.default)(a,e);var t=D(a);function a(e){var r;return(0,o.default)(this,a),(r=t.call(this,e)).fetchReplica=(0,y.default)((0,u.default)(l.default.mark((function e(){var t,a;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.match.params,e.next=3,r.store.getReplica(t);case 3:a=e.sent,r.setState({podNums:a.podNums,availablePodNums:a.availablePodNums});case 5:case"end":return e.stop()}}),e)}))),500),r.handleScale=function(e){var t=r.store.detail,a=t.cluster,n=t.namespace,l=t.name;r.store.scale({cluster:a,namespace:n,name:l},e)},r.state={podNums:e.detailStore.detail.podNums,availablePodNums:e.detailStore.detail.availablePodNums},r}return(0,i.default)(a,[{key:"renderPlacement",value:function(){var e=this.props.match.params,t=e.name,a=e.namespace;return this.store.detail.isFedManaged?d.default.createElement(_.default,{module:this.store.module,name:t,namespace:a}):null}},{key:"renderS2IBuilder",value:function(){var e=this.props.match.params,t=e.cluster,a=e.namespace,r=this.store.detail;return(0,v.default)((0,p.toJS)(r.builderNames))?null:d.default.createElement(C.default,{builderNames:(0,p.toJS)(r.builderNames),cluster:t,namespace:a,className:k.default.deployment_codeResource})}},{key:"renderReplicaInfo",value:function(){var e=(0,p.toJS)(this.store.detail),t=this.state,a=t.availablePodNums,r=t.podNums;return d.default.createElement(S.default,{module:this.module,detail:N(N({},e),{},{availablePodNums:a,podNums:r}),onScale:this.handleScale,enableScale:this.enableScaleReplica})}},{key:"renderContainerPorts",value:function(){if(this.props.noPorts)return null;var e=this.store.isLoading,t=(0,p.toJS)(this.store.detail).containers;t=(0,g.default)(t)?[]:t;var a=(0,E.default)((0,h.default)(t.map((function(e){return(0,v.default)(e.ports)?[]:e.ports}))),"name");return(0,v.default)(a)?null:d.default.createElement(O.default,{ports:a,loading:e})}},{key:"renderPods",value:function(){return d.default.createElement(b.default,{prefix:this.prefix,detail:this.store.detail,getReplica:this.fetchReplica})}},{key:"renderContent",value:function(){return d.default.createElement("div",null,this.renderPlacement(),this.renderReplicaInfo(),this.renderContainerPorts(),this.renderS2IBuilder(),this.renderPods())}},{key:"render",value:function(){return d.default.createElement("div",{className:k.default.main},this.renderContent())}},{key:"module",get:function(){return this.props.detailStore.module}},{key:"store",get:function(){return this.props.detailStore}},{key:"prefix",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster;return"".concat(t?"/".concat(t):"","/clusters/").concat(a)}},{key:"enabledActions",get:function(){return globals.app.getActions(N(N({module:this.module},this.props.match.params),{},{project:this.props.match.params.namespace}))}},{key:"enableScaleReplica",get:function(){return this.enabledActions.includes("edit")&&!this.store.detail.isFedManaged}}]),a}(d.default.Component),P=(0,m.inject)("detailStore")((0,m.observer)(T));t.default=P;var w=T;t.Component=w},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(66),a(320),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(66),a(27),a(320),a(29),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(31)),u=r(a(50));a(35);var o,i,c=r(a(39)),s=r(a(62)),f=r(a(25)),d=r(a(28)),p=r(a(74)),m=r(a(41)),h=r(a(42)),v=r(a(37)),g=r(a(45)),y=(r(a(63)),a(17)),E=r(a(67)),b=a(56);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var _=(o=function(e){(0,m.default)(r,e);var t,a=C(r);function r(){var e;(0,f.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=a.call.apply(a,[this].concat(n)),(0,s.default)(e,"sort",i,(0,p.default)(e)),e.resourceName="pod",e.getApi=function(){return"".concat(e.apiVersion,"/pod_metrics")},e.handleParams=function(e){var t=e.nodeName;return t&&(e.node=t,delete e.nodeName),e},e}return(0,d.default)(r,[{key:"fetchSortedMetrics",value:(t=(0,c.default)(n.default.mark((function e(t){var a,r,l,o,i,c,s,f,d,p;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,r=t.page,l=t.more,o=t.metrics,i=void 0===o?[]:o,c=(0,u.default)(t,["limit","page","more","metrics"]),this.sort.isLoading=!0,s=S({},c),(0,E.default)(i)||(s.sort_metric=i.join("|")),s.limit=a||10,s.page=r||1,c.cluster&&(this.cluster=c.cluster),f=this.getApi(c),e.next=10,(0,b.to)(request.get(f,s));case 10:return d=e.sent,p=this.getResult(d.results),l&&(p=this.getMoreResult(p,this.sort.data)),this.sort={data:p,total:d.total_item||0,limit:Number(d.limit||10),page:Number(d.page||1),isLoading:!1},e.abrupt("return",p);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(r(a(847)).default),i=(0,g.default)(o.prototype,"sort",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},page:1,limit:10,total:0,isLoading:!1}}}),(0,g.default)(o.prototype,"fetchSortedMetrics",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchSortedMetrics"),o.prototype),o);t.default=_},,,,,,,,,,,,,,,,,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=r(909),h=n(r(1312));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=["10m","20m","30m","1h","2h","3h","5h","12h","1d","2d","3d","7d"],y={"10m":{times:10,step:"1m"},"20m":{times:10,step:"2m"},"30m":{times:10,step:"3m"},"1h":{times:10,step:"6m"},"2h":{times:10,step:"12m"},"3h":{times:10,step:"18m"},"5h":{times:10,step:"30m"},"12h":{times:12,step:"60m"},"1d":{times:24,step:"60m"},"2d":{times:48,step:"60m"},"3d":{times:72,step:"60m"},"7d":{times:178,step:"60m"}},E=function(e){(0,i.default)(r,e);var a=v(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleClick=function(t){var a=t.target.dataset.value;if(a){var r=y[a],n=r.times,l=void 0===n?10:n,u=r.step,o=void 0===u?"30m":u;e.props.onChange({step:o,times:l,start:"",end:"",lastTime:a})}},e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.step,r=e.times,n=(0,m.getTimeOptions)(g),u=(0,m.getLastTimeStr)(a,r);return f.default.createElement("div",{className:h.default.default},f.default.createElement("div",{className:h.default.title},t("SELECT_TIME_RANGE")),f.default.createElement("ul",{onClick:this.handleClick},n.map((function(e){var a=e.label,r=e.value;return f.default.createElement("li",{key:a,"data-value":r,className:(0,p.default)((0,l.default)({},h.default.cur,r===u))},t("LAST_TIME",{value:a}))}))))}}]),r}(f.default.Component);a.default=E,E.propTypes={step:d.default.string,times:d.default.number,onChange:d.default.func},E.defaultProps={step:"10m",times:30,onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=r(189),h=n(r(191)),v=r(909),g=n(r(1312));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=["1m","2m","5m","10m","15m","30m","1h","2h","5h"],b=function(e){(0,i.default)(r,e);var a=y(r);function r(e){var n;(0,u.default)(this,r),(n=a.call(this,e)).handlerStartDateClose=n.handlerDateClose("start"),n.handlerEndDateClose=n.handlerDateClose("end"),n.handleOk=function(){var e=n.formData,a=e.step,r=e.start,l=e.end;if(r[0]&&l[0]){var u=r[0].valueOf()/1e3,o=l[0].valueOf()/1e3,i=o-u;if(i>0){var c={step:a,times:Math.floor(i/(60*(0,v.getMinutes)(a)))||1,start:u,end:o,lastTime:""};n.props.onSubmit(c)}else h.default.error({content:t("TIMERANGE_SELECTOR_MSG")})}else h.default.error({content:t("TIMERANGE_SELECTOR_ERROR_MSG")})};var l=new Date,o=new Date(l.valueOf()-36e5);return n.formData={step:e.step,start:e.start?[e.start]:[o],end:e.end?[e.end]:[l]},n}return(0,o.default)(r,[{key:"handlerDateClose",value:function(e){var t=this;return function(a){t.formData[e]=a,t.forceUpdate()}}},{key:"render",value:function(){var e=this.props,a=e.onCancel,r=e.className,n=this.formData,u=n.start,o=n.end;return f.default.createElement("div",{className:(0,p.default)(g.default.custom,r)},f.default.createElement("div",{className:g.default.title},t("CUSTOM_TIME_RANGE")),f.default.createElement(m.Form,{data:this.formData},f.default.createElement(m.Form.Item,{label:t("START_TIME")},f.default.createElement(m.DatePicker,{name:"start",defaultDate:u[0],maxDate:o[0],enableTime:!0,enableSeconds:!0,dateFormat:"Y-m-d H:i:S",onClose:this.handlerStartDateClose})),f.default.createElement(m.Form.Item,{label:t("END_TIME")},f.default.createElement(m.DatePicker,{name:"end",defaultDate:o[0],maxDate:o[0],enableTime:!0,enableSeconds:!0,dateFormat:"Y-m-d H:i:S",onClose:this.handlerEndDateClose})),this.props.showStep&&f.default.createElement(m.Form.Item,{label:t("SAMPLING_INTERVAL")},f.default.createElement(m.Select,{className:g.default.selectBox,defaultValue:"1m",name:"step",options:(0,v.getTimeOptions)(E)})),f.default.createElement("div",{className:(0,p.default)(g.default.actions,(0,l.default)({},g.default.bottom10,!this.props.showStep))},f.default.createElement(m.Button,{onClick:a},t("CANCEL")),f.default.createElement(m.Button,{type:"control",onClick:this.handleOk},t("OK")))))}}]),r}(f.default.Component);a.default=b,b.propTypes={showStep:d.default.bool,step:d.default.string,times:d.default.number,onSubmit:d.default.func,onCancel:d.default.func},b.defaultProps={showStep:!0,step:"10m",times:30,onSubmit:function(){},onCancel:function(){}}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(31)),u=r(a(50));a(35);var o,i=r(a(39)),c=r(a(25)),s=r(a(28)),f=r(a(41)),d=r(a(42)),p=r(a(37)),m=r(a(45)),h=r(a(49)),v=a(17),g=a(56);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var O=(o=function(e){(0,f.default)(r,e);var t,a=b(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).module="limitranges",e}return(0,s.default)(r,[{key:"fetchListByK8s",value:(t=(0,i.default)(n.default.mark((function e(){var t,a,r,l,o,i,c,s,f=this,d=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},a=t.cluster,r=t.namespace,l=t.module,o=(0,u.default)(t,["cluster","namespace","module"]),this.list.isLoading=!0,l&&(this.module=l),i=o,e.next=6,request.get(this.getListUrl({cluster:a,namespace:r,module:l}),i);case 6:return c=e.sent,s=c.items.map((function(e){return E({cluster:a,module:l||f.module},f.mapper(e))})),(0,g.LimitsEqualRequests)(s),this.list.update({data:s,total:c.items.length,isLoading:!1}),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(h.default),(0,m.default)(o.prototype,"fetchListByK8s",[v.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchListByK8s"),o.prototype),o);t.default=O},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(44),a(6),a(36),a(14),a(24),a(8),a(13),a(9),a(4),a(21),a(46),a(7),a(40),a(110),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(3),a(10),a(44),a(6),a(36),a(27),a(141),a(14),a(120),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(46),a(7),a(40),a(110);var n=r(a(58)),l=r(a(31)),u=r(a(50)),o=r(a(38));a(35);var i,c,s,f,d,p,m,h,v,g,y,E,b=r(a(39)),O=r(a(62)),S=r(a(25)),C=r(a(28)),_=r(a(45)),k=(r(a(63)),a(17)),R=r(a(26)),N=r(a(92)),D=a(249),T=a(56),P=r(a(128));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=(i=function(){function e(){(0,S.default)(this,e),(0,O.default)(this,"detail",c,this),(0,O.default)(this,"tagList",s,this),(0,O.default)(this,"isLoading",f,this),(0,O.default)(this,"volumes",d,this),(0,O.default)(this,"logs",p,this),this.watchHandler=null,this.encryptKey=(0,R.default)(globals,"config.encryptKey","kubesphere"),this.module="containers",this.getDetailUrl=function(e){var t=e.cluster,a=e.namespace,r=e.podName,n=e.gateways,l="api/v1";if(t&&(l+="/klusters/".concat(t)),n){l="";var u="kubesphere-controls-system"!==a&&a?a:"kubesphere-system";return t&&(l+="/clusters/".concat(t)),l+="/kapis/gateway.kubesphere.io/v2alpha1/namespaces/".concat(u,"/gateways/").concat(n,"/pods/").concat(r)}return"".concat(l,"/namespaces/").concat(a,"/pods/").concat(r)},this.getPath=function(e){var t=e.cluster,a=e.namespace,r="";return t&&(r+="/klusters/".concat(t)),a&&(r+="/namespaces/".concat(a)),r},(0,O.default)(this,"getDockerImagesLists",m,this),(0,O.default)(this,"getHarborImagesLists",h,this),(0,O.default)(this,"getHarborImageTag",v,this),(0,O.default)(this,"getImageDetail",g,this),(0,O.default)(this,"getImageTagList",y,this),(0,O.default)(this,"updateTagList",E,this)}var t,a,r,n;return(0,C.default)(e,[{key:"fetchDetail",value:(n=(0,b.default)(o.default.mark((function e(t){var a,r,n,l,u,i,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,n=t.podName,l=t.containerName,this.isLoading=!0,e.next=4,request.get(this.getDetailUrl({cluster:a,namespace:r,podName:n}));case 4:return u=e.sent,i=N.default.pods(u),(c=i.containers.find((function(e){return e.name===l}))||i.initContainers.find((function(e){return e.name===l}))).createTime=(0,R.default)(i,"createTime",""),c.app=c.app||i.app,c.cluster=a,i.cluster=a,e.next=13,(0,D.getWorkloadVolumes)(i);case 13:this.volumes=e.sent,this.detail=c,this.isLoading=!1;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"watchLogs",value:(r=(0,b.default)(o.default.mark((function e(t,a){var r,n,l,i,c,s,f,d=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.cluster,n=t.namespace,l=t.podName,i=t.gateways,c=t.silent,s=(0,u.default)(t,["cluster","namespace","podName","gateways","silent"]),c||(this.logs.isLoading=!0),!s.follow){e.next=6;break}this.watchHandler=request.watch("".concat(this.getDetailUrl({cluster:r,namespace:n,podName:l,gateways:i}),"/log"),s,(function(e){d.logs={data:e,isLoading:!1},a()})),e.next=11;break;case 6:return e.next=8,request.get("".concat(this.getDetailUrl({cluster:r,namespace:n,podName:l,gateways:i}),"/log"),s);case 8:f=e.sent,this.logs={data:f,isLoading:!1},a();case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"stopWatchLogs",value:function(){this.watchHandler&&this.watchHandler.abort()}},{key:"checkPreviousLog",value:(a=(0,b.default)(o.default.mark((function e(t){var a,r,n,l,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,n=t.podName,l=(0,u.default)(t,["cluster","namespace","podName"]),e.next=3,request.get("".concat(this.getDetailUrl({cluster:a,namespace:r,podName:n}),"/log"),l,{},(function(){}));case 3:return i=e.sent,e.abrupt("return",!!i);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchAllLogs",value:(t=(0,b.default)(o.default.mark((function e(t){var a,r,n,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,n=t.podName,l=(0,u.default)(t,["cluster","namespace","podName"]),e.next=3,request.get("".concat(this.getDetailUrl({cluster:a,namespace:r,podName:n}),"/log"),l);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),c=(0,_.default)(i.prototype,"detail",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s=(0,_.default)(i.prototype,"tagList",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new P.default}}),f=(0,_.default)(i.prototype,"isLoading",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=(0,_.default)(i.prototype,"volumes",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=(0,_.default)(i.prototype,"logs",[k.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:"",isLoading:!0}}}),(0,_.default)(i.prototype,"fetchDetail",[k.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchDetail"),i.prototype),(0,_.default)(i.prototype,"watchLogs",[k.action],Object.getOwnPropertyDescriptor(i.prototype,"watchLogs"),i.prototype),(0,_.default)(i.prototype,"stopWatchLogs",[k.action],Object.getOwnPropertyDescriptor(i.prototype,"stopWatchLogs"),i.prototype),(0,_.default)(i.prototype,"fetchAllLogs",[k.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchAllLogs"),i.prototype),m=(0,_.default)(i.prototype,"getDockerImagesLists",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return function(){var e=(0,b.default)(o.default.mark((function e(t){var a,r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,r=new Promise((function(){setTimeout((function(){a.abort()}),3e3)})),e.next=4,Promise.race([request.post("dockerhub/api/content/v1/products/search",t,{headers:{"Search-Version":"v3"},signal:a.signal},(function(){})),r]).catch((function(){return{}}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}),h=(0,_.default)(i.prototype,"getHarborImagesLists",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,b.default)(o.default.mark((function t(a){var r,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.params,n=a.harborData,t.next=3,request.post("harbor/search",{harborData:(0,T.encrypt)(e.encryptKey,JSON.stringify(n)),params:r});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),v=(0,_.default)(i.prototype,"getHarborImageTag",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,b.default)(o.default.mark((function t(a,r,n,l){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,request.post("harbor/artifacts",{harborData:(0,T.encrypt)(e.encryptKey,JSON.stringify(I(I({},a),{},{projectName:r,repositoryName:n}))),params:l});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a,r,n){return t.apply(this,arguments)}}()}}),g=(0,_.default)(i.prototype,"getImageDetail",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,b.default)(o.default.mark((function t(a){var r,n,l,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.cluster,n=a.namespace,l=(0,u.default)(a,["cluster","namespace"]),t.next=3,request.get("kapis/resources.kubesphere.io/v1alpha3".concat(e.getPath({cluster:r}),"/namespaces/").concat(n||"default","/imageconfig"),l,null,(function(e,t){return t}));case 3:if(i=t.sent,"succeeded"===(0,R.default)(i,"status","succeeded")){t.next=6;break}return t.abrupt("return",{status:"failed",message:i.message});case 6:return t.abrupt("return",N.default.imageBlob(i));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),y=(0,_.default)(i.prototype,"getImageTagList",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,b.default)(o.default.mark((function t(a){var r,l,i,c,s,f,d,p;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.namespace,l=a.cluster,i=a.more,c=a.limit,s=void 0===c?10:c,f=(0,u.default)(a,["namespace","cluster","more","limit"]),e.tagList.isLoading=!0,s!==1/0&&-1!==s||(s=-1,f.page=1),t.next=5,request.get("kapis/resources.kubesphere.io/v1alpha3".concat(e.getPath({cluster:l,namespace:r}),"/repositorytags"),I(I({},f),{},{limit:s}),null,(function(e,t){return t}));case 5:return d=t.sent,p=d.tags||[],e.tagList.update({data:i?[].concat((0,n.default)(e.tagList.data),(0,n.default)(p)):p,total:d.total||p.length||0,limit:Number(f.limit)||10,page:Number(f.page)||1,isLoading:!1}),t.abrupt("return",d.tags);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),E=(0,_.default)(i.prototype,"updateTagList",[k.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.tagList.update(t)}}}),i);t.default=M},,,,,function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(3),r(10),r(6),r(70),r(20),r(98),r(99),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(73),r(71),r(197),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(70),r(121),r(20),r(27),r(98),r(29),r(33),r(16),r(99),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(73),r(71),r(197),r(7);var u=l(r(58)),o=l(r(31)),i=l(r(25)),c=l(r(28)),s=l(r(41)),f=l(r(42)),d=l(r(37)),p=l(r(97)),m=l(r(246)),h=n(r(0)),v=l(r(5)),g=l(r(830)),y=l(r(456)),E=l(r(67)),b=l(r(914)),O=l(r(140)),S=l(r(1285)),C=l(r(26)),_=r(189),k=r(461),R=l(r(2066)),N=l(r(2068));function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}function w(e,t){return"object"!==(0,m.default)(t)?[]:(0,S.default)(Object.entries(t),(function(e){var t=(0,p.default)(e,2),a=t[0],r=t[1];return[].concat(r).map((function(e){return[a,e]}))})).map((function(a){var r=(0,p.default)(a,2),n=r[0],l=r[1],u=(0,y.default)(e,{key:n})||{},o=u.options&&(0,y.default)(u.options,{key:l})||{};return{filter:n,filterLabel:"label"in u?u.label:"",value:l,valueLabel:"label"in o?o.label:t[n]}})).filter((function(e){return e.filterLabel}))}var I={label:t("TIME_RANGE"),key:"timeRange"},M={label:t("KEYWORDS"),key:"keyword"},A=function(e){(0,s.default)(r,e);var a=P(r);function r(e){var n;(0,i.default)(this,r),(n=a.call(this,e)).handleFocus=function(){n.filterInput&&n.filterInput.current&&((0,k.hasClass)(n.filterInput.current,N.default.focus)||(0,k.addClass)(n.filterInput.current,N.default.focus))},n.handleBlur=function(){n.filterInput&&n.filterInput.current&&(0,k.hasClass)(n.filterInput.current,N.default.focus)&&(0,k.removeClass)(n.filterInput.current,N.default.focus)},n.handleChange=function(e){var t=e.target.value;n.setState({value:t},(function(){(0,E.default)(t)&&n.setState({activeSuggestion:null})}))},n.handleClear=function(e){e.nativeEvent.stopImmediatePropagation(),n.setState({value:"",activeSuggestion:null},(function(){n.props.onChange({})}))},n.handleKeyUp=function(e){if(13===e.keyCode){var t=n.state,a=t.value,r=t.suggestions,l=t.activeSuggestion;if(!(0,E.default)(a)){var u=n.props,i=u.onChange,c=u.filters,s=l||r[0];i(T(T({},c),{},(0,o.default)({},s.key,(0,b.default)(a.replace("".concat(s.label,":"),"")))))}}},n.handleTagDelete=function(e){var t=n.props,a=t.onChange,r=t.onTimeSelectorDelete,l=t.filters;"timeRange"!==e.filter?Array.isArray(l[e.filter])?a(T(T({},l),{},(0,o.default)({},e.filter,[]))):a((0,O.default)(l,e.filter)):r(l)},n.handleMenuClick=function(e,t,a){n.setState({activeSuggestion:a,value:"".concat(a.label,":"),optionVisible:!!a.options,activeTimeselector:"timeRange"===t},(function(){n.input.current.focus()}))},n.handleTimeSelectorToggle=function(){n.setState({value:"",activeSuggestion:null,activeTimeselector:!1})},n.handleTimeSelectorChange=function(e){n.setState({activeTimeselector:!1},(function(){n.props.onTimeSelectorChange(e)}))},n.handleSuggestionMenuClick=function(e,t,a){var r=n.state.activeSuggestion,l=n.props,u=r;(0,l.onChange)(T(T({},l.filters),{},(0,o.default)({},u.key,(0,b.default)(a))))},n.renderSuggestionOptions=function(){var e=n.state.activeSuggestion,a=e.render,r=document.getElementsByClassName("table-body"),l=(0,C.default)(r,"[0].clientHeight","none");return 0===e.options.length?h.default.createElement("div",{className:N.default.multi},h.default.createElement("div",{className:N.default.empty},t("NO_DATA_DESC"))):h.default.createElement(_.Menu,{onClick:n.handleSuggestionMenuClick,style:{maxHeight:l,overflowY:"auto"}},e.options.map((function(e){return h.default.createElement(_.Menu.MenuItem,{key:e.key,value:e.key},a?a(e):e.label)})))},n.multiValues={},n.handleOnClose=function(){var e=n.state.activeSuggestion,t=n.props,a=t.onChange,r=t.filters;(null==e?void 0:e.multi)&&!(0,E.default)(n.multiValues)&&(a&&a(T(T(T({},r),n.multiValues),{},{__index:n.state.index+1})),n.multiValues={})},n.renderMultiSuggestionOptions=function(){var e,a,r=n.state,l=r.activeSuggestion,u=r.tags,i=l.key,c=l.render,s=l.options,f=u.filter((function(e){return e.filter===i})).map((function(e){return e.value})),d=null!==(e=null===(a=n.multiValues)||void 0===a?void 0:a[i])&&void 0!==e?e:[],p=d.length>0?d:f,m=s.map((function(e){return T(T({},e),{},{value:e.key})})),g="tags"===i&&p.length>=5;return 0===m.length?h.default.createElement("div",{className:N.default.multi},h.default.createElement("div",{className:N.default.empty},t("NO_DATA_DESC"))):h.default.createElement("div",{className:N.default.multi},h.default.createElement(_.CheckboxGroup,{value:p,onChange:function(e){n.multiValues=(0,o.default)({},i,e),n.forceUpdate()}},m.map((function(e,t){var a=p.includes(e.key);return h.default.createElement(_.Checkbox,{className:(0,v.default)(N.default.option,(0,o.default)({},N.default.checked,a)),value:e.value,disabled:g&&!a,key:"".concat(e.value,"-").concat(t)},c?c(e):e.label)}))))},n.merageMultiTags=function(e){for(var t=[],a=0;a<e.length;a++){for(var r=1,n=e[a],l=a+1;l<e.length;l++)n.filter===e[l].filter&&r++;r>1&&(a=r+a-1),t.push(T(T({},n),{},{total:r}))}return t};var l=n.getSuggestions(e.columns),u=w(l,e.filters);return n.state={suggestions:l,activeSuggestion:null,optionVisible:!1,tags:u,activeTimeselector:!1,index:0},n.input=h.default.createRef(),n.filterInput=h.default.createRef(),n}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){var t=this.state.suggestions;this.props.columns!==e.columns&&(t=this.getSuggestions(this.props.columns),this.setState({suggestions:t})),(0,g.default)(this.props.filters,e.filters)||this.setState({value:"",activeSuggestion:null,optionVisible:!1,tags:w(t,this.props.filters)})}},{key:"getSuggestions",value:function(e){var t=this.props,a=t.showTimeSelector,r=t.showKeywords,n=e.filter((function(e){return e.search&&e.dataIndex})).map((function(e){return{label:e.title,key:e.searchKey||e.dataIndex,options:e.filters&&e.filters.map((function(e){return{label:e.text,key:e.value}})),multi:e.multi,render:e.renderSearch}}));return a?[].concat((0,u.default)(n),[I]):r?[M].concat((0,u.default)(n)):n}},{key:"renderMenu",value:function(){var e=this.state,t=e.suggestions,a=e.tags,r=document.getElementsByClassName("table-body"),n=(0,C.default)(r,"[0].clientHeight","none"),l=t.filter((function(e){return e.multi||!a.some((function(t){return t.filter===e.key}))}));return l.length<1?null:h.default.createElement(_.Menu,{onClick:this.handleMenuClick,style:{maxHeight:n,overflowY:"auto"}},l.map((function(e){return h.default.createElement(_.Menu.MenuItem,{key:e.key,value:e},e.label)})))}},{key:"renderTags",value:function(){var e=this,t=this.state.tags;return this.merageMultiTags(t).map((function(t){return h.default.createElement(_.Tag,{key:"".concat(t.filter,"-").concat(t.value)},h.default.createElement("span",null,t.filterLabel,":",t.valueLabel),t.total>1&&h.default.createElement("span",{style:{marginLeft:"6px"}},"(+",t.total-1,")"),h.default.createElement(_.Icon,{name:"close",type:"light",clickable:!0,onClick:function(){return e.handleTagDelete(t)}}))}))}},{key:"renderInput",value:function(){var e,a=this.state,r=a.activeSuggestion,n=a.optionVisible,l=a.value,u=h.default.createElement(_.Input,{type:"text",innerRef:this.input,placeholder:t("SEARCH"),onChange:this.handleChange,onKeyUp:this.handleKeyUp,value:l||"",onFocus:this.handleFocus,onBlur:this.handleBlur});return r?r.options&&!r.multi?e=this.renderSuggestionOptions():r.options&&r.multi&&(e=this.renderMultiSuggestionOptions()):e=this.renderMenu(),e?h.default.createElement(_.Dropdown,{onClose:this.handleOnClose,theme:"dark",content:e,visible:n,closeAfterClick:!1},u):u}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.contentClassName,r=e.showTimeSelector,n=this.state,l=n.value,u=n.tags,i=n.activeTimeselector,c=!(0,E.default)(l)||!(0,E.default)(u);return h.default.createElement("div",{className:(0,v.default)(N.default.wrapper,(0,o.default)({},N.default.hasValue,c),t),ref:this.filterInput},h.default.createElement(_.Icon,{className:"is-left",name:"magnifier"}),h.default.createElement("div",{className:(0,v.default)(N.default.content,a)},this.renderTags(),this.renderInput()),c&&h.default.createElement(_.Icon,{className:"is-right",name:"close",clickable:!0,onClick:this.handleClear}),r&&h.default.createElement(R.default,{visible:i,onChange:this.handleTimeSelectorChange,onToggle:this.handleTimeSelectorToggle}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,r=(null===(a=e.filters)||void 0===a?void 0:a.__index)||0;return r!==t.index?{index:r,value:"",activeSuggestion:null,optionVisible:!1,tags:w(t.suggestions,e.filters)}:null}}]),r}(h.Component);a.default=A},function(e,a,r){"use strict";r(16);var n=r(19);r(14),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(71);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(5)),p=n(r(163)),m=n(r(198)),h=r(189),v=r(61),g=n(r(2069));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){(0,o.default)(r,e);var a=y(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.module,r=e.icon,n=e.title,l=e.name,u=e.desc,o=e.action,i=e.className,c=(0,p.default)(u)?t.html("".concat(l.replace(/[-\s]/g,"_").toUpperCase(),"_EMPTY_DESC")):u,f=s.default.createElement(h.Icon,{name:r||v.ICON_TYPES[a]||"appcenter",size:48});return(0,m.default)(r)&&(f=r()),s.default.createElement("div",{className:(0,d.default)(g.default.wrapper,i)},s.default.createElement("div",{className:g.default.image},f),s.default.createElement("div",{className:g.default.title},n||t("EMPTY_WRAPPER",{resource:t(l.replace(/[- ]/g,"_").toUpperCase())})),s.default.createElement("p",{className:g.default.desc},c),o&&s.default.createElement("div",{className:g.default.actions},o))}}]),r}(s.default.PureComponent);a.default=E,E.propTypes={module:f.default.string,name:f.default.string,title:f.default.string,desc:f.default.string,className:f.default.string,action:f.default.node},E.defaultProps={name:"",module:""}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(1357)),l=r(a(2116));n.default.Form=l.default;var u=n.default;t.default=u},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),r(110),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11),r(110);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=r(189),h=n(r(2175));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(e){(0,i.default)(r,e);var a=v(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this,e)).getIconColr=function(){var e={primary:"#fff"};switch(t.props.type){default:case"info":e.secondary="#329dce"}return e},t.handleCancel=function(){t.setState({show:!1},(function(){var e=setTimeout((function(){t.props.onCancel(),clearTimeout(e)}),1e3)}))},t.state={show:e.visible},t}return(0,o.default)(r,[{key:"renderBtns",value:function(){var e=this.props,a=e.btns,r=e.confirmText,n=e.cancelText,l=e.onConfirm,u=e.isSubmitting;return a||f.default.createElement("div",null,f.default.createElement(m.Button,{onClick:this.handleCancel},t(n)),f.default.createElement(m.Button,{type:"control",onClick:l,loading:u},t(r)))}},{key:"renderCard",value:function(){var e,t=this.props,a=t.visible,r=t.width,n=t.title,u=t.content;if(!a)return null;var o=this.state.show,i={width:r};return f.default.createElement("div",{className:(0,p.default)(h.default.card,(e={},(0,l.default)(e,h.default.in,o),(0,l.default)(e,h.default.out,!o),e)),style:i},f.default.createElement("div",{className:h.default.cardMain},f.default.createElement("div",{className:h.default.title},f.default.createElement(m.Icon,{name:"information",size:20,color:this.getIconColr()}),f.default.createElement("strong",null,n)),f.default.createElement("div",{className:h.default.content},u)),f.default.createElement("div",{className:h.default.cardFoot},this.renderBtns()))}},{key:"render",value:function(){return f.default.createElement("div",{className:h.default.wrapper},this.renderCard())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.visible!==t.show?{show:e.visible}:null}}]),r}(f.default.PureComponent);a.default=g,g.propTypes={visible:d.default.bool,width:d.default.number,type:d.default.string,title:d.default.string,content:d.default.oneOfType([d.default.node,d.default.element]),btns:d.default.oneOfType([d.default.node,d.default.element]),confirmText:d.default.string,cancelText:d.default.string,onConfirm:d.default.func,onCancel:d.default.func,isSubmitting:d.default.bool},g.defaultProps={visible:!1,isSubmitting:!1,width:"auto",type:"info",title:"title",content:"content",confirmText:"OK",cancelText:"CANCEL",onConfirm:function(){},onCancel:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(20),r(14),r(9),r(4),r(21),r(200),r(18),r(30),r(11),r(69),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(20),r(29),r(14),r(9),r(4),r(21),r(200),r(18),r(43),r(30),r(11),r(69);var l=n(r(31)),u=n(r(38));r(35);var o=n(r(39)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(26)),h=n(r(68)),v=n(r(5)),g=r(189),y=r(56),E=r(61),b=n(r(447)),O=n(r(459)),S=n(r(899)),C=n(r(1375)),_=n(r(1377)),k=n(r(2201));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var N=function(e){(0,s.default)(r,e);var a=R(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).fetchData=(0,o.default)(u.default.mark((function e(){var t,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.secretStore.fetchListByK8s({namespace:n.namespace,cluster:n.props.cluster,fieldSelector:"type=kubernetes.io/basic-auth"});case 2:t=e.sent,a=t.map((function(e){return{label:(0,y.getDisplayName)(e),value:e.name,type:"basic-auth"}})),n.setState({basicSecretOptions:a});case 5:case"end":return e.stop()}}),e)}))),n.fetchImageSecrets=(0,o.default)(u.default.mark((function e(){var t,a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.secretStore.fetchListByK8s({namespace:n.namespace,cluster:n.props.cluster,fieldSelector:"type=kubernetes.io/dockerconfigjson"});case 2:t=e.sent,a=t.map((function(e){var t=(0,m.default)(e,'data[".dockerconfigjson"].auths',{}),a=Object.keys(t)[0]||"";return{label:(0,y.getDisplayName)(e),value:e.name,repoUrl:a,type:"dockerconfigjson"}})),n.setState({imageSecretOptions:a});case 5:case"end":return e.stop()}}),e)}))),n.getTemplateList=(0,o.default)(u.default.mark((function e(){var t;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isGetTemplateListLoading:!0}),e.next=3,n.builderStore.getBuilderTemplate({cluster:n.props.cluster});case 3:t=e.sent,n.setState({builderTemplateLists:(0,m.default)(t,"items",[]),isGetTemplateListLoading:!1});case 5:case"end":return e.stop()}}),e)}))),n.handleImageTemplateChange=function(e){var t=e.environment,a=e.docUrl,r=(0,m.default)(globals,"user.lang","zh"),l=(t||[]).map((function(e){var t=(e.description||"").split(". "),a="zh"===r?(0,m.default)(t,"1",e.description):(0,m.default)(t,"0",e.description);return e.label="".concat(e.key,"  (").concat(a,")"),e.value=e.key,e}));n.setState({environment:l,docUrl:a})},n.handleSecretChange=function(){n.handleRepoReadableCheck()},n.handleImageSecretChange=function(e,t){var a=n.props.formTemplate,r=(0,m.default)(t,"[0]repoUrl","");(0,h.default)(a,"".concat(n.prefix,'metadata.annotations["kubesphere.io/repoUrl"]'),r)},n.handleRepoReadableCheck=(0,o.default)(u.default.mark((function e(){var a,r,l,o,i;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.formTemplate,r=(0,m.default)(a,"".concat(n.prefix,"spec.config.sourceUrl"),"")){e.next=4;break}return e.abrupt("return");case 4:return n.setState({readRepoLoading:!0}),l=(0,m.default)(a,"".concat(n.prefix,"spec.config.gitSecretRef.name"),""),e.next=8,n.builderStore.verifyRepoReadable(r,l,n.namespace).finally((function(){n.setState({readRepoLoading:!1})}));case 8:if(o=e.sent,"success"!==(i=(0,m.default)(o,"message",""))){e.next=14;break}return n.setState({repoReadError:null}),l||n.setState({repoNeedSecret:!1}),e.abrupt("return");case 14:n.setState({repoReadError:{message:t(i)},repoNeedSecret:!0});case 15:case"end":return e.stop()}}),e)}))),n.secretStore=new b.default,n.builderStore=new O.default,n.state={isGetTemplateListLoading:!0,environment:[],basicSecretOptions:[],imageSecretOptions:[],repoReadError:null,repoNeedSecret:!0,readRepoLoading:!1,docUrl:""},n}return(0,c.default)(r,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchImageSecrets(),this.getTemplateList(),this.handleRepoReadableCheck()}},{key:"renderAdvancedSetting",value:function(){var e=t.html("S2I_ENVIRONMENT_DESC",{link:this.state.docUrl||(0,y.getDocsUrl)("s2i_template")});return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:k.default.margin_b_10},p.default.createElement(g.Form.Item,{label:t("TRIGGER_TOKEN"),desc:t("TRIGGER_TOKEN_DESC"),rules:[{pattern:/^[a-zA-Z0-9]+$/,message:"".concat(t("INVALID_TRIGGER_TOKEN_DESC"))}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.secretCode"),defaultValue:""}))),p.default.createElement("div",{className:k.default.margin_b_10},p.default.createElement(g.Form.Item,{label:t("CODE_RELATIVE_PATH"),desc:t("CODE_RELATIVE_PATH_DESC")},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.contextDir"),defaultValue:"/"}))),p.default.createElement(g.Alert,{className:k.default.margin_b_10,message:(0,y.learnMoreTip)(e),type:"info"}),p.default.createElement(g.Form.Item,null,p.default.createElement(C.default,{name:"".concat(this.prefix,"spec.config.environment"),options:this.state.environment})))}},{key:"render",value:function(){var e=this.props,a=e.formTemplate,r=e.formRef,n=e.mode,u=e.prefix,o=t.html("S2I_TARGET_IMAGE_REPOSITORY_DESC",{link:(0,y.getDocsUrl)("secrets")});return p.default.createElement(g.Form,{ref:r,data:a},p.default.createElement(_.default,{loading:this.state.isGetTemplateListLoading,formTemplate:u?a[u]:a,builderTemplate:this.state.builderTemplateLists,onEnvironmentChange:this.handleImageTemplateChange}),p.default.createElement("div",{className:(0,v.default)(k.default.columns,(0,l.default)({},k.default.columsEdit,"edit"===n))},p.default.createElement("div",{className:k.default.column},p.default.createElement(g.Loading,{spinning:this.state.readRepoLoading,size:18},p.default.createElement(g.Form.Item,{label:t("CODE_REPOSITORY_URL"),desc:t("CODE_REPOSITORY_URL_DESC"),error:this.state.repoReadError,rules:[{required:!0,message:t("PARAM_REQUIRED")}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.sourceUrl"),onBlur:this.handleRepoReadableCheck})))),p.default.createElement("div",{className:"is-2"},p.default.createElement(g.Form.Item,{label:t("CODE_REPOSITORY_BRANCH"),rules:[{required:!0,message:t("PARAM_REQUIRED")}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.revisionId"),defaultValue:"master"}))),p.default.createElement("div",{className:"is-half"},p.default.createElement(g.Loading,{spinning:this.state.readRepoLoading,size:18},p.default.createElement(g.Form.Item,{className:this.state.repoNeedSecret?"":k.default.disabled,label:t("CODE_REPOSITORY_KEY"),desc:this.state.repoNeedSecret?t("CODE_REPOSITORY_KEY_DESC"):t("CODE_REPOSITORY_KEY_NOT_REQUIRED")},p.default.createElement(g.Select,{onChange:this.handleSecretChange,options:this.state.basicSecretOptions,name:"".concat(this.prefix,"spec.config.gitSecretRef.name"),placeholder:" "}))))),p.default.createElement("div",{className:(0,v.default)(k.default.columns,(0,l.default)({},k.default.columsEdit,"edit"===n))},p.default.createElement("div",{className:k.default.column},p.default.createElement(g.Form.Item,{label:t("IMAGE_NAME"),desc:t("S2I_IMAGE_NAME_DESC"),rules:[{required:!0,message:t("PARAM_REQUIRED")},{pattern:E.PATTERN_IMAGE_NAME,message:t("INVALID_NAME_DESC",{message:t("S2I_IMAGE_NAME_DESC")})}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.imageName")}))),p.default.createElement("div",{className:"is-2"},p.default.createElement(g.Form.Item,{label:t("IMAGE_TAG"),rules:[{required:!0,message:t("PARAM_REQUIRED")}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.tag"),defaultValue:"latest"}))),p.default.createElement("div",{className:"is-half"},p.default.createElement(g.Form.Item,{label:t("TARGET_IMAGE_REPOSITORY"),desc:(0,y.learnMoreTip)(o),rules:[{required:!0,message:t("PARAM_REQUIRED")}]},p.default.createElement(g.Select,{name:"".concat(this.prefix,"spec.config.pushAuthentication.secretRef.name"),options:this.state.imageSecretOptions,onChange:this.handleImageSecretChange,placeholder:" "})))),p.default.createElement(S.default,null,this.renderAdvancedSetting()))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}},{key:"namespace",get:function(){return this.props.namespace}},{key:"cluster",get:function(){return this.props.match.cluster}}]),r}(p.default.Component);a.default=N,N.defaultProps={mode:"create",prefix:""}},,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(8),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(8),a(4),a(21),a(18),a(43),a(11);var n=r(a(38));a(35);var l,u,o=r(a(39)),i=r(a(62)),c=r(a(25)),s=r(a(28)),f=r(a(74)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45)),v=(r(a(63)),r(a(26))),g=a(17),y=a(56),E=r(a(92));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var O=(l=function(e){(0,d.default)(r,e);var t,a=b(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).module="clusters",(0,i.default)(e,"parameters",u,(0,f.default)(e)),e}return(0,s.default)(r,[{key:"fetchParameters",value:(t=(0,o.default)(n.default.mark((function e(){var t;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get("api/v1/namespaces/kubekey-system/configmaps/kubekey-parameters",{},{},(function(){}));case 2:t=e.sent,this.parameters=(0,y.safeParseJSON)((0,v.default)(t,"data['parameters.json']",""),{});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"apis/kubekey.kubesphere.io/v1alpha1"}},{key:"mapper",get:function(){return E.default.kkclusters}}]),r}(r(a(49)).default),u=(0,h.default)(l.prototype,"parameters",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,h.default)(l.prototype,"fetchParameters",[g.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchParameters"),l.prototype),l);t.default=O},,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(58)),u=r(a(31)),o=r(a(50));a(35);var i,c,s=r(a(39)),f=r(a(62)),d=r(a(25)),p=r(a(28)),m=r(a(74)),h=r(a(41)),v=r(a(42)),g=r(a(37)),y=r(a(45)),E=(r(a(63)),r(a(26))),b=r(a(68)),O=a(17),S=a(61);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,g.default)(e);if(t){var n=(0,g.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,v.default)(this,a)}}var R=(i=function(e){(0,h.default)(i,e);var t,a,r,u=k(i);function i(){var e;(0,d.default)(this,i);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=u.call.apply(u,[this].concat(a)),(0,f.default)(e,"resourceVersion",c,(0,m.default)(e)),e.getListUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/").concat(e.module).concat(t.dryRun?"?dryRun=All":"")},e.getDetailUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.getListUrl(t),"/").concat(t.name)},e.getResourceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/").concat(e.module)},e}return(0,p.default)(i,[{key:"getPath",value:function(e){var t=e.user,a="";return t&&(a+="/users/".concat(t)),a}},{key:"fetchList",value:(r=(0,s.default)(n.default.mark((function e(){var t,a,r,u,i,c,s=this,f=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},a=t.more,r=t.user,u=(0,o.default)(t,["more","user"]),this.list.isLoading=!0,u.sortBy||void 0!==u.ascending||(u.sortBy=S.LIST_DEFAULT_ORDER[this.module]||"createTime"),u.limit!==1/0&&-1!==u.limit||(u.limit=-1,u.page=1),u.limit=u.limit||10,e.next=7,request.get(this.getResourceUrl({user:r}),this.getFilterParams(u),null,(function(){return{}}));case 7:return i=e.sent,c=((0,E.default)(i,"items")||[]).map((function(e){return _({},s.mapper(e))})),this.list.update(_(_({data:a?[].concat((0,l.default)(this.list.data),(0,l.default)(c)):c,total:i.totalItems||i.total_count||i.total||c.length||0},u),{},{limit:Number(u.limit)||10,page:Number(u.page)||1,isLoading:!1},this.list.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getResource",value:(a=(0,s.default)(n.default.mark((function e(t){var a,r;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get(this.getDetailUrl(t),{},null,(function(){return{}}));case 2:return a=e.sent,r=(0,E.default)(a,"metadata.resourceVersion"),this.resourceVersion=r||"",e.abrupt("return",void 0!==r);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"update",value:(t=(0,s.default)(n.default.mark((function e(t,a){return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResource(t);case 2:return(0,b.default)(a,"metadata.resourceVersion",this.resourceVersion),e.abrupt("return",this.submitting(request.put(this.getDetailUrl(t),a)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"kapis/notification.kubesphere.io/v2beta2"}}]),i}(r(a(49)).default),c=(0,y.default)(i.prototype,"resourceVersion",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),(0,y.default)(i.prototype,"fetchList",[O.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchList"),i.prototype),(0,y.default)(i.prototype,"getResource",[O.action],Object.getOwnPropertyDescriptor(i.prototype,"getResource"),i.prototype),(0,y.default)(i.prototype,"update",[O.action],Object.getOwnPropertyDescriptor(i.prototype,"update"),i.prototype),i);t.default=R},,,,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(44),a(199),a(6),a(70),a(88),a(66),a(20),a(51),a(14),a(24),a(8),a(13),a(9),a(30),a(71),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.handleStrTimeToX=t.getListConfig=t.getFetchParams=t.handleWSChartData=t.filterResourceLevel=t.filterListByType=t.hasNameSpacesType=t.handleLabelSelector=t.handleNodeParams=t.handleWorkloadToKind=t.handleValueByUnit=t.fillEmptyMeterValue=t.getResourceFilters=t.getMetricsFilters=t.getTimeParams=t.getTimeRange=t.getRetentionDay=t.handleLevelParams=t.handleSortBySourceType=t.getFormatTime=t.getMeterFilterByDic=t.getMeterFilter=void 0;var n=r(a(38));a(35);var l=r(a(39)),u=r(a(50)),o=r(a(58)),i=r(a(31));a(12),a(3),a(10),a(44),a(199),a(6),a(70),a(88),a(66),a(20),a(27),a(51),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(440),a(21),a(30),a(71),a(7);var c=r(a(26)),s=r(a(64)),f=r(a(67)),d=r(a(119)),p=r(a(163)),m=r(a(532)),h=r(a(1005)),v=a(891),g=a(332),y=a(439),E=a(56),b=a(803),O=a(847),S=r(a(245));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e){var t=v.RESOURCES_METER_TYPE[e],a={cpu:"meter_".concat(t,"_cpu_usage"),memory:"meter_".concat(t,"cluster"===t||"workspace"===t?"_memory_usage":"_memory_usage_wo_cache"),net_transmitted:"meter_".concat(t,"_net_bytes_transmitted"),net_received:"meter_".concat(t,"_net_bytes_received")};switch(t){case"cluster":case"node":case"workspace":case"application":case"namespace":a.disk="meter_".concat(t,"_pvc_bytes_total")}return function(e){if("all"===e)return a;var t={};return e.forEach((function(e){t[e]=a[e]})),t}};t.getMeterFilter=k;var R=function(e){var t,a=v.RESOURCES_METER_TYPE[e];return t={},(0,i.default)(t,"meter_".concat(a,"_cpu_usage"),"cpu"),(0,i.default)(t,"meter_".concat(a,"_memory_usage"),"memory"),(0,i.default)(t,"meter_".concat(a,"_memory_usage_wo_cache"),"memory"),(0,i.default)(t,"meter_".concat(a,"_pvc_bytes_total"),"disk"),(0,i.default)(t,"meter_".concat(a,"_net_bytes_transmitted"),"net_transmitted"),(0,i.default)(t,"meter_".concat(a,"_net_bytes_received"),"net_received"),t};t.getMeterFilterByDic=R;t.getFormatTime=function(e,t){return(0,E.getLocalTime)(Number(e)).format(t?"YYYY-MM-DD HH:mm":"HH:mm:ss").replace(/:00$/g,"")};t.handleSortBySourceType=function(e){if((0,f.default)(e))return[];var t=(0,d.default)(e);return t.length<2?t:(v.MERTER_TYPE.forEach((function(e,a){var r=t.findIndex((function(t){return!(0,f.default)(t)&&t.type===e}));if(a!==r&&r>=0){var n=t[r];t[r]=t[a],t[a]=n}})),t=t.filter((function(e){return!!e})))};t.handleLevelParams=function(e){var t=e.module,a=v.RESOURCES_METER_TYPE[t];return{level:"Level".concat((0,m.default)(a))}};t.getRetentionDay=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"7d";return(0,S.default)().endOf("day").add(1,"second").subtract(1,"day").subtract(e.slice(0,-1),"day")};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.step,a=void 0===t?"600s":t,r=e.times,n=void 0===r?20:r,l=parseFloat(a)*n,u=Math.floor((0,S.default)().endOf("day").add(1,"second").subtract(1,"day")/1e3),o=Math.floor(u-l);return{start:o,end:u}};t.getTimeRange=N;t.getTimeParams=function(e){var t=e.isTime,a=e.start,r=e.end,n=e.step,l=void 0===n?"1h":n,u={};if(t){var o=l;if(!r||!a){var i=N({step:(0,O.getMinuteValue)(l)});u.start=i.start,u.end=i.end}a&&(u.start=Math.floor(a/1e3)),r&&(u.end=Math.floor(r/1e3)),Math.floor((u.end-u.start)/3600/24)>=30&&(o="1d"),u.step=(0,O.getMinuteValue)(o)}return u};t.getMetricsFilters=function(e){var t=e.meters,a=e.module,r=[];if((0,f.default)(t)||(0,h.default)(k(a)(t),(function(e){r.push(e)})),!(0,f.default)(r))return{metrics_filter:r.join("|")}};t.getResourceFilters=function(e){var t=e.resources,a=e.module;if(!(0,f.default)(t)){var r=t.join("|"),n={};switch(a){case"applications":n={applications:r};break;case"openpitrixs":n={openpitrixs_ids:r};break;case"services":n={services:r};break;default:n={resources_filter:t.join("|")}}return n}};t.fillEmptyMeterValue=function(e,t){if(!e.step||!e.start||!e.end)return t;var a,r=e.step,n=Math.floor((e.end-e.start)/r)+1;if(((0,p.default)(t)||!(0,s.default)(t)?0:t.length)<n){for(var l=[],u=0;u<n-t.length;u++){var i=(a=e.start+u*r,String(a).replace(/\..*$/,""));l.push([i,"0"])}return[].concat(l,(0,o.default)(t))}return t};t.handleValueByUnit=function(e,t){var a=(0,d.default)(e);a.type=R(t)[a.type];var r="net_received"===a.type||"net_transmitted"===a.type?"number":a.type,n=v.UNIT_CONFIG[r];return Object.keys(a).forEach((function(e){e.indexOf("_value")>-1&&(a[e]=(0,b.getValueByUnit)(a[e],n.value,3),a.unit=n)})),a};t.handleWorkloadToKind=function(e){var t=e.deployments,a=e.statefulsets,r=e.daemonsets,n={};return t&&(n.kind="deployments"),a&&(n.kind="statefulsets"),r&&(n.kind="daemonsets"),n};t.handleNodeParams=function(e){var t=e.nodes,a=e.pods,r=e.resources;if(t&&a&&r.length>1)return{resources_filter:void 0}};var D=function(e){var t="";return!e||(0,f.default)(e)?t:(Object.keys(e).forEach((function(a){t+="".concat(a,"=").concat(e[a],",")})),t=t.slice(0,-1))};t.handleLabelSelector=D;t.hasNameSpacesType=function(e){return["services","deployments","statefulsets","daemonsets","pods"].indexOf(e)>-1};t.filterListByType=function(e){var t=e.type,a=(0,u.default)(e,["type"]);return(a.services||a.deployments||a.statefulsets||a.daemonsets)&&"pods"===t&&(0,f.default)(a.labelSelector)?function(){return!1}:function(){return!0}};var T=function(){var e=(0,l.default)(n.default.mark((function e(t){var a,r,l,o,i,s,m,h,v,g,y,E,b;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.levelMeterData,r=t.type,l=t.data,o=t.levelKey,i=(0,u.default)(t,["levelMeterData","type","data","levelKey"]),s=o||i.namespaces,m=(0,c.default)(a,s),h=[],v=[],g="applications"===r?"apps":r,!["services","deployments","statefulsets","daemonsets"].includes(r)){e.next=23;break}if(!i.applications&&!i.openpitrixs){e.next=19;break}return y=(0,d.default)(i),E=i.applications||i.openpitrixs,b=i.applications?"apps":"openpitrixs",s="".concat(s,".").concat(b,".").concat(E),delete y.openpitrixs,delete y.applications,e.next=16,T(_({levelMeterData:a,type:r,data:l,levelKey:s},y));case 16:v=e.sent,e.next=21;break;case 19:h=m&&m[g]?Object.keys(m[g]):[],v=l.map((function(e){var t=h.find((function(t){return t===e.name}));return(0,p.default)(t)||(0,f.default)(t)?void 0:e}));case 21:e.next=29;break;case 23:if("applications"!==r&&"openpitrixs"!==r){e.next=28;break}h=m[g]?Object.keys(m[g]):[],v=l.map((function(e){var t=h.find((function(t){return t===e.name||t===e.cluster_id}));return(0,p.default)(t)||(0,f.default)(t)?void 0:e})),e.next=29;break;case 28:return e.abrupt("return",l);case 29:return v=v.filter((function(e){return!(0,p.default)(e)})),e.abrupt("return",v);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.filterResourceLevel=T;t.handleWSChartData=function(e){var t,a=e.levelMeterData,r=e.meters,n=e.type,l=e.params;switch(n){case"applications":case"openpitrixs":t=function(e,t,a,r){var n=[],l="applications"===r?"apps":"openpitrixs",u=e[t.namespaces]["".concat(l)];return!(0,f.default)(u)&&Object.keys(u).forEach((function(e){if(u[e]){var t=u[e][v.METER_RESOURCE_USAGE[a]]||0,l=v.UNIT_CONFIG[a];n.push({name:e,value:(0,b.getValueByUnit)(t,l.value,3),unit:l.label,type:r})}})),n}(a,l,r,n);break;case"services":case"deployments":case"statefulsets":case"daemonsets":t=function(e,t,a,r){var n=[],l="";if(a.applications||a.openpitrixs){var u=a.applications?"apps":"openpitrixs";l=e[a.namespaces][u];var o=a.applications||a.openpitrixs,i=Object.keys(l).find((function(e){return e.indexOf(o)>-1}));l=l[i][t]}else l=e[a.namespaces][t];return!(0,f.default)(l)&&Object.keys(l).forEach((function(e){var a=(0,c.default)(l,"".concat(e,".").concat(v.METER_RESOURCE_USAGE[r]),0),u=v.UNIT_CONFIG[r];n.push({name:e,value:(0,b.getValueByUnit)(a,u.value,3),unit:u.label,type:t})})),n}(a,n,l,r);break;default:t=function(e,t,a,r){var n=[],l="";if(a.applications||a.openpitrixs){var u=a.applications?"apps":"openpitrixs";l=e[a.namespaces][u];var o=a.applications||a.openpitrixs,i=Object.keys(l).find((function(e){return e.indexOf(o)>-1}));l=l[i]}else l=e[a.namespaces];return a.deployments&&(l=l.deployments[a.deployments][t]),a.services&&(l=l.services[a.services][t]),a.statefulsets&&(l=l.statefulsets[a.statefulsets][t]),a.daemonsets&&(l=l.daemonsets[a.daemonsets][t]),!(0,f.default)(l)&&Object.keys(l).forEach((function(e){var a=(0,c.default)(l,"".concat(e,".").concat(v.METER_RESOURCE_USAGE[r]),0),u=v.UNIT_CONFIG[r];n.push({name:e,value:(0,b.getValueByUnit)(a,u.value,3),unit:u.label,type:t})})),n}(a,n,l,r)}return t};t.getFetchParams=function(e){var t=e.isMultiCluster,a=e.type,r=e.cluster,n=e.namespaces,l=e.workspaces,o=e.applications,i=e.openpitrixs,c=(0,u.default)(e,["isMultiCluster","type","cluster","namespaces","workspaces","applications","openpitrixs"]),s=globals.app.hasPermission({module:"clusters",action:"view"});return{cluster:t||!s?[{page:1,limit:-1}]:[{page:1,limit:-1,labelSelector:"cluster-role.kubesphere.io/host"},{page:1,limit:-1,labelSelector:"!cluster-role.kubesphere.io/host"}],nodes:[{limit:-1,page:1,cluster:r}],workspaces:[{limit:-1,page:1,namespace:n,workspace:l}],namespaces:[{page:1,limit:-1,cluster:r,namespace:n,workspace:l,labelSelector:"!kubesphere.io/devopsproject"}],openpitrixs:[{page:1,limit:-1,workspace:l,cluster:r,namespace:n,openpitrix:i}],applications:[{page:1,limit:-1,workspace:l,cluster:r,namespace:n,application:o}],services:[{page:1,limit:-1,cluster:r,namespace:n,labelSelector:D(c.labelSelector)}],deployments:[{page:1,limit:-1,cluster:r,namespace:n,labelSelector:D(c.labelSelector)}],statefulsets:[{page:1,limit:-1,cluster:r,namespace:n,labelSelector:D(c.labelSelector)}],daemonsets:[{page:1,limit:-1,cluster:r,namespace:n,labelSelector:D(c.labelSelector)}],pods:[{page:1,limit:-1,cluster:r,namespace:n,labelSelector:D(c.labelSelector),nodeName:c.nodes,ownerKind:c.statefulsets?"StatefulSet":c.deployments?"ReplicaSet":void 0}]}[a]};t.getListConfig=function(e){var t=e.type;return{cluster:e.isMultiCluster?[{status:function(e){return e.isReady?"ready":"stop"},desc:""}]:[{status:function(e){return e.isReady?"ready":"stop"},desc:"HOST_CLUSTER"},{status:function(e){return e.isReady?"ready":"stop"},desc:"MEMBER_CLUSTER"}],nodes:[{status:function(e){return(0,g.getNodeStatus)(e)},desc:v.RESOURCE_TITLE[t]}],workspaces:[{desc:v.RESOURCE_TITLE[t]}],namespaces:[{status:function(e){return e.status},desc:v.RESOURCE_TITLE[t]}],applications:[{status:function(e){return e.status||""},desc:v.RESOURCE_TITLE[t]}],openpitrixs:[{status:function(e){return e.status||""},desc:v.RESOURCE_TITLE[t]}],services:[{desc:v.RESOURCE_TITLE[t]}],daemonsets:[{status:function(e){var a=(0,y.getWorkloadStatus)(e,t).status;return a},desc:v.RESOURCE_TITLE[t]}],deployments:[{status:function(e){var a=(0,y.getWorkloadStatus)(e,t).status;return a},desc:v.RESOURCE_TITLE[t]}],statefulsets:[{status:function(e){var a=(0,y.getWorkloadStatus)(e,t).status;return a},desc:v.RESOURCE_TITLE[t]}],pods:[{status:function(e){return(0,c.default)(e,"podStatus.status","")},desc:v.RESOURCE_TITLE[t]}]}[t]};t.handleStrTimeToX=function(e){return 1e3*(0,S.default)(e).format("X")}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(36),a(20),a(14),a(24),a(138),a(8),a(13),a(9),a(4),a(21),a(18),a(11),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(58)),l=r(a(50)),u=r(a(38));a(35);var o=r(a(39)),i=r(a(62)),c=r(a(25)),s=r(a(28)),f=r(a(74)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45));r(a(63));a(12),a(32),a(3),a(10),a(6),a(36),a(20),a(27),a(247),a(29),a(14),a(24),a(138),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(46),a(7),a(40);var v,g,y,E,b,O,S,C,_,k=r(a(31)),R=r(a(26)),N=r(a(67)),D=a(17),T=a(56),P=a(329),w=r(a(325)),I=r(a(452)),M=r(a(460));function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,k.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var L={creating:"Creating",created:"Creating",active:"Running",failed:"Failed",deleting:"Deleting",upgrading:"Upgrading",upgraded:"Upgrading"},U=function(e){var t=(0,R.default)(e,"cluster.status");return x(x(x({},e),e.cluster),{},{selector:{"application.kubesphere.io/instance":e.cluster.name},status:L[t]})},z=(v=function(e){(0,d.default)(r,e);var t,a=A(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).resourceName="applications",e.defaultStatus=P.CLUSTER_QUERY_STATUS,e.serviceStore=new w.default,e.podStore=new I.default,(0,i.default)(e,"components",g,(0,f.default)(e)),e.getWatchListUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace;return"apis/application.kubesphere.io/v1alpha1/watch/helmreleases?labelSelector=".concat((0,T.joinSelector)({"kubesphere.io/cluster":globals.app.isMultiCluster?t:null,"kubesphere.io/namespace":a}))},e.getUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.workspace,r=t.namespace,n=t.cluster,l=t.cluster_id,u="".concat(e.baseUrl).concat(e.getPath({workspace:a,namespace:r,cluster:n}),"/applications");return l?"".concat(u,"/").concat(l):u},(0,i.default)(e,"env",y,(0,f.default)(e)),(0,i.default)(e,"fetchList",E,(0,f.default)(e)),(0,i.default)(e,"fetchDetail",b,(0,f.default)(e)),(0,i.default)(e,"update",O,(0,f.default)(e)),(0,i.default)(e,"patch",S,(0,f.default)(e)),(0,i.default)(e,"delete",C,(0,f.default)(e)),(0,i.default)(e,"batchDelete",_,(0,f.default)(e)),e}return(0,s.default)(r,[{key:"upgrade",value:(t=(0,o.default)(u.default.mark((function e(t,a){var r,n,l,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.workspace,n=a.namespace,l=a.cluster,o=a.cluster_id,e.abrupt("return",this.submitting(request.post(this.getUrl({workspace:r,namespace:n,cluster:l,cluster_id:o}),t)));case 2:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})}]),r}(M.default),g=(0,h.default)(v.prototype,"components",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],total:0,isLoading:!0}}}),y=(0,h.default)(v.prototype,"env",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},isLoading:!1}}}),E=(0,h.default)(v.prototype,"fetchList",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,o.default)(u.default.mark((function t(){var a,r,o,i,c,s,f,d,p,m,h,v,g,y,E,b=arguments;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=b.length>0&&void 0!==b[0]?b[0]:{},r=a.limit,o=a.page,i=a.cluster,c=a.namespace,s=a.workspace,f=a.more,d=a.status,p=a.sortBy,m=a.reverse,h=(0,l.default)(a,["limit","page","cluster","namespace","workspace","more","status","sortBy","reverse"]),e.list.isLoading=!0,v={conditions:(0,T.getFilterString)({status:d||e.defaultStatus})},p||void 0!==m||(p="status_time"),(0,N.default)(h)||(g=(0,T.getFilterString)(h))&&(v.conditions+=",".concat(g)),r!==1/0&&(v.paging="limit=".concat(r||10,",page=").concat(o||1)),p&&(v.orderBy=p),m&&(v.reverse=!0),t.next=10,request.get(e.getUrl({workspace:s,namespace:c,cluster:i}),v);case 10:return y=t.sent,E=(y.items||[]).map((function(e){return x(x({},U(e)),{},{workspace:s,cluster:i})})),Object.assign(e.list,{data:f?[].concat((0,n.default)(e.list.data),(0,n.default)(E)):E,total:y.total_count||0,limit:Number(r)||10,page:Number(o)||1,order:p,reverse:m,filters:h,selectedRowKeys:[]}),e.list.isLoading=!1,t.abrupt("return",E);case 15:case"end":return t.stop()}}),t)})))}}),b=(0,h.default)(v.prototype,"fetchDetail",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,o.default)(u.default.mark((function t(a){var r,n,l,o,i;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.workspace,n=a.namespace,l=a.cluster,o=a.id,e.isLoading=!0,t.next=4,request.get(e.getUrl({workspace:r,namespace:n,cluster:l,cluster_id:o}));case 4:i=t.sent,e.detail=x(x({},U(i)),{},{workspace:r,namespace:n,cluster:l}),e.isLoading=!1;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),(0,h.default)(v.prototype,"upgrade",[D.action],Object.getOwnPropertyDescriptor(v.prototype,"upgrade"),v.prototype),O=(0,h.default)(v.prototype,"update",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.cluster_id,r=t.cluster,n=t.workspace,u=t.zone,o=(0,l.default)(t,["cluster_id","cluster","workspace","zone"]);return e.submitting(request.patch(e.getUrl({namespace:u,cluster_id:a,cluster:r,workspace:n}),o))}}}),S=(0,h.default)(v.prototype,"patch",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var r=t.cluster_id,n=t.cluster,l=t.workspace,u=t.zone;return e.submitting(request.patch(e.getUrl({namespace:u,cluster_id:r,cluster:n,workspace:l}),a))}}}),C=(0,h.default)(v.prototype,"delete",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.cluster_id,r=t.cluster,n=t.workspace,l=t.zone;return e.submitting(request.delete(e.getUrl({namespace:l,cluster_id:a,cluster:r,workspace:n})))}}}),_=(0,h.default)(v.prototype,"batchDelete",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,a){var r=a.namespace,n=a.cluster,l=a.workspace;return e.submitting(Promise.all(t.map((function(t){return request.delete(e.getUrl({namespace:r,cluster:n,workspace:l,cluster_id:t}))}))))}}}),v);t.default=z},function(e,t,a){e.exports={wrapper:"k0vk_c1ZyPCRUMMpipwCh",titleWrapper:"_2uqWBIFfRH4KunvhbfjI7B",icon:"_1ItfxPdCoCJbI5IBYM8qFz",title:"ThEs3yhp382IH4lTVQgX5",more:"_1b6Sz4BPMxD6xHHK-kt11i",tip:"_2L9SGDIY7BXd_hPf_5P6Rh",tipIcon:"_3SM5xM4niT8oxCDuqIJ7II",operations:"oN75oPJD3rroOyRPHKbui",tipContent:"_1bQzGX9rIXqPoeFOyVVDT8",tabsWrapper:"_2_45-StQhVb_5fgk6w8OF9",banLink:"_1B81eItlzKbA79NDBS3LGZ"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(36),r(20),r(14),r(4),r(21),r(18),r(11),r(46),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(36),r(20),r(29),r(14),r(4),r(21),r(18),r(43),r(11),r(46),r(40);var l=n(r(38)),u=n(r(58)),o=n(r(97));r(35);var i,c,s,f=n(r(39)),d=n(r(25)),p=n(r(28)),m=n(r(41)),h=n(r(42)),v=n(r(37)),g=n(r(0)),y=n(r(1)),E=n(r(5)),b=n(r(67)),O=r(243),S=r(189),C=n(r(319)),_=n(r(801)),k=r(56),R=n(r(3469)),N=n(r(1560));function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var T=(0,O.observer)((s=c=function(e){(0,m.default)(r,e);var a=D(r);function r(){var e;(0,d.default)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).store=new C.default,e.state={workloads:[],isLoading:!0},e.getData=(0,f.default)(l.default.mark((function t(){var a,r,n,i,c,s,f,d,p,m;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,r=a.selector,n=a.cluster,i=a.namespace,(0,b.default)(r)){t.next=12;break}return e.setState({isLoading:!0}),c=(0,k.joinSelector)(r),t.next=6,Promise.all([e.store.fetchListByK8s({cluster:n,namespace:i,labelSelector:c,module:"deployments"}),e.store.fetchListByK8s({cluster:n,namespace:i,labelSelector:c,module:"statefulsets"}),e.store.fetchListByK8s({cluster:n,namespace:i,labelSelector:c,module:"daemonsets"})]);case 6:s=t.sent,f=(0,o.default)(s,3),d=f[0],p=f[1],m=f[2],e.setState({workloads:[].concat((0,u.default)(d),(0,u.default)(p),(0,u.default)(m)),isLoading:!1});case 12:case"end":return t.stop()}}),t)}))),e}return(0,p.default)(r,[{key:"componentDidMount",value:function(){this.getData()}},{key:"renderContent",value:function(){var e=this.props.prefix,a=this.state,r=a.workloads,n=a.isLoading;return(0,b.default)(r)&&!n?g.default.createElement("div",{className:N.default.empty},t("NO_AVAILABLE_RESOURCE_VALUE",{resource:t("WORKLOAD")})):g.default.createElement(S.Loading,{spinning:n},g.default.createElement("div",{className:N.default.content},r.map((function(t){return g.default.createElement(R.default,{key:"".concat(t.module,"-").concat(t.name),prefix:e,detail:t})}))))}},{key:"render",value:function(){var e=this.props.className;return g.default.createElement(_.default,{className:(0,E.default)(N.default.main,e),title:t("WORKLOAD_PL")},this.renderContent())}}]),r}(g.default.Component),c.propTypes={className:y.default.string,prefix:y.default.string,selector:y.default.object},c.defaultProps={prefix:"",selector:{}},i=s))||i;a.default=T},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(70),r(14),r(9),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(70),r(29),r(14),r(9),r(4),r(18),r(43),r(11),r(73);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(26)),d=n(r(845)),p=n(r(0)),m=r(17),h=r(243),v=n(r(823)),g=n(r(3572)),y=n(r(322));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var b=(0,h.inject)("detailStore")(l=(0,h.observer)(l=function(e){(0,i.default)(r,e);var a=E(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).store=e.props.detailStore,e.newRoleStore=new y.default,e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.roleType;this.newRoleStore.fetchRoleTemplates("namespace","iam.kubesphere.io/scope=namespace,".concat(e?"".concat(e,"/"):"","kubesphere.io/managed=true"))}},{key:"render",value:function(){var e=(0,m.toJS)(this.store),a=e.detail,r=e.isLoading,n=e.roleCategory,l=(0,m.toJS)(this.newRoleStore).roleTemplates,u=(0,d.default)(l.data.filter((function(e){return(0,f.default)(e,'labels["iam.kubesphere.io/category"]')&&(null==a?void 0:a.roleTemplates.includes(e.name))})),'labels["iam.kubesphere.io/category"]');return p.default.createElement(v.default,{title:t("PERMISSION_PL"),empty:t("NO_PERMISSION"),loading:r||l.isLoading,isEmpty:Object.keys(u).length<=0},p.default.createElement(g.default,{templates:u,roleCategory:n}))}}]),r}(p.default.Component))||l)||l;a.default=b},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(69),r(7);var l=n(r(38)),u=n(r(31));r(35);var o,i=n(r(39)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=n(r(204)),v=r(17),g=r(243),y=r(56),E=r(61),b=n(r(801)),O=n(r(807)),S=n(r(913)),C=n(r(323)),_=n(r(3574));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var D=(0,g.inject)("detailStore")(o=(0,g.observer)(o=function(e){(0,f.default)(r,e);var a=N(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=a.call.apply(a,[this].concat(o))).store=new C.default,e.fetchData=(0,i.default)(l.default.mark((function t(){var a,r,n,o,i,c,s,f,d,p,m=arguments;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=m.length>0&&void 0!==m[0]?m[0]:{},n=e.props.match.params,o=n.name,i=n.namespace,c=n.workspace,s=n.cluster,f=e.props.detailStore.module,t.next=6,e.store.fetchList(R((a={},(0,u.default)(a,E.ROLE_QUERY_KEY[f],o),(0,u.default)(a,"namespace",i),(0,u.default)(a,"workspace",c),(0,u.default)(a,"cluster",s),a),r));case 6:if(d=t.sent,p=e.store.getModule(n),!((null!=d?d:[]).length>0&&"users"!==p)){t.next=11;break}return t.next=11,e.store.getAllUserStatus();case 11:case"end":return t.stop()}}),t)}))),e.getColumns=function(){return[{title:t("USERNAME"),dataIndex:"username",width:"33%"},{title:t("STATUS"),dataIndex:"status",width:"33%",render:function(e){return m.default.createElement(O.default,{type:e,name:t("USER_".concat(e.toUpperCase()))})}},{title:t("LAST_LOGIN"),dataIndex:"lastLoginTime",width:"33%",render:function(e){return m.default.createElement("p",null,e?(0,y.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss"):t("NOT_LOGIN_YET"))}}]},e}return(0,s.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e,a=(0,v.toJS)(this.store.list),r=a.data,n=a.total,l=a.page,u=a.limit,o=a.isLoading,i=null!==(e=(0,v.toJS)(this.store.allUserStatus))&&void 0!==e?e:[],c=(null!=r?r:[]).map((function(e){var t=i[e.name];return(0,h.default)({},e,t)})),s={total:n,page:l,limit:u};return m.default.createElement(b.default,{title:t("AUTHORIZED_USER_PL")},m.default.createElement(S.default,{className:_.default.table,data:c,columns:this.getColumns(),pagination:s,isLoading:o,onFetch:this.fetchData,emptyProps:this.emptyProps,hideCustom:!0,hideHeader:!0}))}},{key:"emptyProps",get:function(){return{icon:"human",name:"USER",desc:t("NO_AUTHORIZED_USER_DESC"),className:_.default.table}}}]),r}(m.default.Component))||o)||o;a.default=D},,,,,,,,,,,,,,,,,,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(189),p=n(r(800)),m=n(r(1711));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v={current:"CURRENT",finished:"FINISHED",notfinish:"NOT_SET"},g=function(e){var a=e.step,r=e.state;return s.default.createElement("li",{className:m.default[r]},s.default.createElement("div",{className:m.default.icon},s.default.createElement(d.Icon,{name:a.icon||"appcenter",size:40})),s.default.createElement(p.default,{className:m.default.text,title:t(a.title),description:t(v[r])}))},y=function(e){(0,o.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).getState=function(t){var a=e.props.current;return t===a?"current":t<a?"finished":"notfinish"},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props.steps;return s.default.createElement("div",{className:m.default.steps},s.default.createElement("ul",null,t.map((function(t,a){return s.default.createElement(g,{key:t.title,step:t,state:e.getState(a)})}))))}}]),a}(s.default.Component);a.default=y,y.propTypes={steps:f.default.array.isRequired,current:f.default.number.isRequired}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(8),r(13),r(9),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.DefaultPermissionRuleString=a.KafkaAccount=a.MySQLAccount=a.getPGAccount=a.CKAccount=a.Database=a.Password=a.UserName=a.PATTERN_NUMBER=a.PATTERN_EXCLUDE_CHARACTERS=a.PATTERN_CHARACTERS=a.PATTERN_WORD=a.backupNameRegx=a.kafkaUserNameRegx=a.passwordRegx=a.strictUserNameRegx=a.userNameExcludeRegx=a.userNameRegx=void 0,r(12),r(3),r(10),r(6),r(27),r(33),r(16),r(8),r(13),r(9),r(4),r(7);var l=n(r(58)),u=n(r(31));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c=/^[a-zA-Z][a-zA-Z0-9_]{1,25}$/;a.userNameRegx=c;var s=/^(?!root$|radondb_)/;a.userNameExcludeRegx=s;var f=/^[a-z][a-z0-9_]{1,25}$/;a.strictUserNameRegx=f;var d=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*?[!@#$%^&*_+\-=])[^]{8,32}$/;a.passwordRegx=d;var p=/^[a-z][a-z0-9-]{1,63}$/;a.kafkaUserNameRegx=p;a.backupNameRegx=/^[a-z][a-z0-9-]{0,23}$/;var m=/(?=.*?[A-Z])(?=.*?[a-z])/;a.PATTERN_WORD=m;var h=/(?=.*?[!@#$%^&*_+\-=])/;a.PATTERN_CHARACTERS=h;var v=/^((?![~()\\|\[\{\}\];:'",<.>/? ]).)*$/;a.PATTERN_EXCLUDE_CHARACTERS=v;var g=/(?=.*?[0-9])/;a.PATTERN_NUMBER=g;var y={name:"name",label:"USERNAME",type:"text",description:"DATABASE_USERNAME_DESC",rules:[{pattern:c,message:t("INVALID_DATABASE_USERNAME_DESC")},{pattern:s,message:t("USERNAME_FORBIDDEN_STRINGS")},{required:!0,message:t("USERNAME_EMPTY_DESC")}],range:{max:26}};a.UserName=y;var E={name:"password",label:"PASSWORD",type:"password",description:t("DATABASE_PASSWORD_DESC"),rules:[{pattern:m,message:t("PASSWORD_LETTER")},{pattern:h,message:t("DATABASE_PASSWORD_CHARACTERS")},{pattern:v,message:t("DATABASE_PASSWORD_CHARACTERS_EXCLUDE")},{pattern:g,message:t("PASSWORD_NUMBER")},{required:!0,message:t("ENTER_PASSWORD_TIP")},{pattern:d,message:t("INVALID_DATABASE_PASSWORD_DESC")}],range:{max:32}};a.Password=E;var b={name:"database",label:"AUTHORIZED_DATABASES",type:"text",description:"AUTHORIZED_DATABASES_DESC",rules:[]};a.Database=b;var O=[i(i({},y),{},{rules:[].concat((0,l.default)(y.rules),[{pattern:/^(?!(clickhouse_operator)$)/,message:t("USERNAME_CANNOT_BE_CLICKHOUSE")}])}),E,{name:"description",label:"DESCRIPTION",type:"textarea",description:"DESCRIPTION_DESC",rules:[]}];a.CKAccount=O;a.getPGAccount=function(e){return[{name:"name",label:"USERNAME",type:"text",description:"PG_USERNAME_DESC",rules:[{pattern:f,message:t("INVALID_PG_USERNAME_DESC")},{pattern:/^(?!(postgres|pgautofailover_monitor|pgautofailover_replicator)$)/,message:t("USERNAME_CANNOT_BE_PROGRES")},{pattern:s,message:t("USERNAME_FORBIDDEN_STRINGS")},{required:!0,message:t("USERNAME_EMPTY_DESC")}],range:{max:26},disabled:e},E,{name:"permission",label:"PERMISSIONS",type:"select",disabled:e,options:[{label:t("GENERAL_PERMISSIONS"),value:"General"},{label:t("ADVANCED_PERMISSIONS"),value:"Advanced"}]}]};var S=[y,E,b,{name:"permission",label:"PERMISSIONS",type:"select",options:[{label:t("GENERAL_PERMISSIONS"),value:"General"},{label:t("ADVANCED_PERMISSIONS"),value:"Advanced"}]},{name:"host",label:"AUTHORIZED_HOSTS",type:"text",description:"AUTHORIZED_HOSTS_DESC"}];a.MySQLAccount=S;var C=[{name:"name",label:"USERNAME",type:"text",description:"KAFKA_USERNAME_DESC",rules:[{pattern:p,message:t("KAFKA_USERNAME_DESC")},{required:!0,message:t("USERNAME_EMPTY_DESC")}],range:{max:64}},{name:"authentication",label:"AUTHENTICATION_MODE",type:"select",options:[{label:"TLS",value:"tls"},{label:"SCRAM-SHA-512",value:"scram-sha-512"}]},{name:"authorization",label:"AUTHORIZATION_MODE",type:"select",disabled:!0,description:"AUTHORIZATION_MODE_DESC",options:[{label:t("SIMPLE_AUTHORIZATION"),value:"simple"}]}];a.KafkaAccount=C;a.DefaultPermissionRuleString='{"type":"allow","operation":"Read","resource":{"type":"topic","patternType":"literal","name":""}}'},,function(e,a,r){"use strict";r(16);var n=r(19);r(44),r(20),r(14),r(24),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(44),r(20),r(29),r(14),r(24),r(4),r(18),r(43),r(30),r(11),r(71);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(26)),d=n(r(68)),p=n(r(462)),m=n(r(67)),h=n(r(0)),v=r(189),g=n(r(841)),y=n(r(1975));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var b=function(e){(0,i.default)(r,e);var a=E(r);function r(e){var t;(0,u.default)(this,r),(t=a.call(this,e)).handleChange=function(e){var a=t.props.onChange,r=(0,f.default)(e,"backend.service.port.number");if((0,p.default)(r))(0,d.default)(e,"backend.service.port.number",r);else if(!(0,m.default)(r)){var n=r.replace(/\D/g,"");(0,d.default)(e,"backend.service.port.number",Number(n))}(0,d.default)(e,"pathType","ImplementationSpecific"),a&&a(e)},t.handleServiceChange=function(e){t.setState({service:e})};var n=(0,f.default)(t.props,"value.backend.service.name");return t.state={service:n,defaultService:n},t}return(0,o.default)(r,[{key:"render",value:function(){var e=this.services.map((function(e){return{label:e.value,value:e.value}}));return h.default.createElement(g.default,(0,l.default)({},this.props,{onChange:this.handleChange}),h.default.createElement(v.Input,{name:"path",placeholder:t("PATH"),defaultValue:"/"}),h.default.createElement(v.Select,{className:y.default.autocomplete,name:"backend.service.name",placeholder:t("PATH_SERVICE_TIP"),onChange:this.handleServiceChange,options:e}),h.default.createElement(v.Select,{className:y.default.input,name:"backend.service.port.number",defaultValue:(0,f.default)(this.props.value,"backend.service.port.number"),placeholder:t("PORT"),options:this.ports,searchable:!0}))}},{key:"services",get:function(){return this.props.services.map((function(e){return{label:e.name,value:e.name}}))}},{key:"ports",get:function(){var e=this,t=this.props.services.find((function(t){return t.name===e.state.service}));return t?t.ports.map((function(e){return{label:e.port,value:Number(e.port)}})):[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=(0,f.default)(e,"value.backend.service.name");return a&&a!==t.defaultService?{service:a,defaultService:a}:null}}]),r}(h.default.Component);a.default=b,b.defaultProps={value:{},onChange:function(){}}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(20),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(20),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(25)),u=n(a(28)),o=n(a(41)),i=n(a(42)),c=n(a(37)),s=a(189),f=n(a(1976)),d=n(a(1)),p=r(a(0)),m=a(56),h=a(61),v=n(a(1977));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(a,e);var t=g(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.defaultValue,r=e.onChange,n=e.options;return p.default.createElement("div",{className:v.default.group},p.default.createElement(f.default,{value:t,defaultValue:a,onChange:r},n.map((function(e){return p.default.createElement(s.Checkbox,{key:e.name,value:e.name},p.default.createElement(s.Icon,{name:h.CLUSTER_PROVIDER_ICON[e.provider]||"kubernetes"}),p.default.createElement("span",{title:e.aliasName?"".concat(e.aliasName,"(").concat(e.name,")"):e.name},(0,m.showNameAndAlias)(e.name,"cluster")))}))))}}]),a}(p.Component);t.default=y,y.propTypes={value:d.default.array,options:d.default.array,onChange:d.default.func},y.defaultProps={value:[],options:[],onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(26)),p=n(r(326)),m=r(61),h=r(189),v=n(r(1131)),g=n(r(1329)),y=n(r(1991)),E=n(r(1332)),b=n(r(1335)),O=n(r(1337)),S=n(r(1338));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var _=function(e){(0,i.default)(r,e);var a=C(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this,a=this.props,r=a.formRef,n=a.projectDetail,u=a.withService,o=a.supportGpuSelect,i=(0,p.default)(n.clusters,"name");return f.default.createElement(h.Form,{data:this.formTemplate,ref:r},f.default.createElement(h.Form.Group,{label:t("CONTAINER_SETTINGS"),desc:t("CLUSTER_DIFF_CONTAINER_SETTINGS_DESC"),checkable:!0},f.default.createElement(v.default,{clusters:this.clusters,clustersDetail:i,namespace:this.namespace},(function(t){return f.default.createElement(g.default,(0,l.default)({formTemplate:e.formTemplate},t),(function(e){return f.default.createElement(y.default,(0,l.default)({supportGpuSelect:o,workspace:n.workspace},e))}))}))),this.showVolumeTemplate&&f.default.createElement(h.Form.Group,{label:t("VOLUME_TEMPLATE_SETTINGS"),desc:t("CLUSTER_VOLUME_DIFF_DESC"),checkable:!0},f.default.createElement(v.default,{clusters:this.clusters,clustersDetail:i,namespace:this.namespace},(function(t){return f.default.createElement(O.default,(0,l.default)({formTemplate:e.formTemplate},t),(function(e){return f.default.createElement(S.default,e)}))}))),f.default.createElement(h.Form.Group,{label:t("PORT_SETTINGS"),desc:t("CLUSTER_DIFF_PORT_SETTINGS_DESC"),checkable:!0},f.default.createElement(v.default,{clusters:this.clusters,clustersDetail:i,namespace:this.namespace},(function(t){return f.default.createElement(g.default,(0,l.default)({formTemplate:e.formTemplate,withService:u,serviceTemplate:(0,d.default)(e.props.formTemplate,"Service")},t),(function(e){return f.default.createElement(E.default,e)}))}))),f.default.createElement(h.Form.Group,{label:t("ENVIRONMENT_VARIABLE_PL"),desc:t("CLUSTER_DIFF_ENVIRONMENT_VARIABLES_DESC"),checkable:!0},f.default.createElement(v.default,{clusters:this.clusters,clustersDetail:i,namespace:this.namespace},(function(t){return f.default.createElement(g.default,(0,l.default)({formTemplate:e.formTemplate},t),(function(e){return f.default.createElement(b.default,e)}))}))))}},{key:"namespace",get:function(){return(0,d.default)(this.formTemplate,"metadata.namespace")}},{key:"formTemplate",get:function(){var e=this.props,t=e.formTemplate,a=e.module;return(0,d.default)(t,m.MODULE_KIND_MAP[a],t)}},{key:"clusters",get:function(){return(0,d.default)(this.formTemplate,"spec.placement.clusters",[])}},{key:"showVolumeTemplate",get:function(){return"statefulsets"===this.props.module&&(0,d.default)(this.formTemplate,"spec.template.spec.volumeClaimTemplates")}}]),r}(f.default.Component);a.default=_},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(20),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(20),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(31)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37)),f=a(189),d=n(a(5)),p=a(17),m=r(a(0)),h=a(56),v=a(61),g=n(a(1989));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,i.default)(a,e);var t=y(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={selectCluster:""},e.handleClick=function(t){e.setState({selectCluster:t.currentTarget.dataset.cluster})},e.handleSelect=function(t){e.setState({selectCluster:t})},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.clusters,r=t.clustersDetail,n=t.namespace,u=t.children,o=this.state.selectCluster;return m.default.createElement("div",{className:g.default.wrapper},a.map((function(t){var i=(0,p.toJS)(r[t.name])||t;return m.default.createElement("div",{key:i.name,className:(0,d.default)(g.default.cluster,(0,l.default)({},g.default.selected,i.name===o)),onClick:e.handleClick,"data-cluster":i.name},m.default.createElement("div",{className:g.default.title},m.default.createElement(f.Icon,{name:v.CLUSTER_PROVIDER_ICON[i.provider||"kubesphere"],type:"light",size:20}),m.default.createElement("span",null,i===t?(0,h.showNameAndAlias)(t.name,"cluster"):(0,h.getDisplayNameNew)(i,!1))),m.default.createElement("div",null,u({namespace:n,clusters:a,cluster:i.name,selected:i.name===o,onSelect:e.handleSelect})))})))}}]),a}(m.Component);t.default=E},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(70),r(20),r(14),r(9),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(70),r(20),r(29),r(14),r(9),r(4),r(18),r(43),r(11),r(73);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(26)),d=n(r(67)),p=r(56),m=r(61),h=r(189),v=n(r(843)),g=n(r(899)),y=n(r(1996)),E=n(r(2006));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(r,e);var a=b(r);function r(e){var n;return(0,l.default)(this,r),(n=a.call(this,e)).limitError="",n.valueRenderer=function(e){return s.default.createElement(h.Tag,{className:E.default.type,type:"init"===e.value?"warning":"default"},e.label)},n.renderImageForm=function(){var e=n.props,t=e.data,a=e.namespace,r=e.cluster,l=e.type,u=e.isEdit,o=n.imageRegistries,i=n.getFormTemplate(t,o);return s.default.createElement(y.default,{className:E.default.imageSearch,name:"image",namespace:a,formTemplate:i,imageRegistries:o,cluster:r,type:u?"Edit":l})},n.handleError=function(e){n.limitError=e},n.limitValidator=function(e,t,a){""!==n.limitError&&a({message:""}),a()},n.duplicatedNameValidator=function(e,a,r){n.props.containers.map((function(e){return e.name})).filter((function(e){return e!==n.state.originName})).includes(a)&&r({message:t("NAME_EXIST_DESC")}),r()},n.state={originName:e.data.name},n}return(0,u.default)(r,[{key:"getGpuLimit",value:function(){return(0,p.gpuLimitsArr)(this.props.workspaceQuota)}},{key:"getFormTemplate",value:function(e){if(e&&e.image&&!e.pullSecret){var t=e.annotationOfImagePullSecrets;!(0,d.default)(e.annotationOfImagePullSecrets)&&t[e.name]&&(e.pullSecret=t[e.name])}return e}},{key:"renderAdvancedSettings",value:function(){var e=this.props,a=e.defaultContainerType,r=e.onContainerTypeChange,n=e.supportGpuSelect,l=this.defaultResourceLimit;return s.default.createElement(g.default,{defaultShow:(0,d.default)(l)},s.default.createElement(s.default.Fragment,null,s.default.createElement(h.Columns,{className:E.default.columns},s.default.createElement(h.Column,null,s.default.createElement(h.Form.Item,{label:t("CONTAINER_NAME"),desc:t("NAME_DESC"),rules:[{required:!0,message:t("NAME_EMPTY_DESC")},{pattern:m.PATTERN_NAME,message:t("INVALID_NAME_DESC",{message:t("NAME_DESC")})},{validator:this.duplicatedNameValidator}]},s.default.createElement(h.Input,{name:"name",defaultValue:"container-".concat((0,p.generateId)()),maxLength:63}))),s.default.createElement(h.Column,null,s.default.createElement(h.Form.Item,{label:t("CONTAINER_TYPE")},s.default.createElement(h.Select,{name:"type",defaultValue:a,options:this.containerTypes,onChange:r,valueRenderer:this.valueRenderer})))),s.default.createElement(h.Alert,{className:"margin-b12",type:"info",message:t("CONTAINER_RESOURCE_LIMIT_TIP")}),s.default.createElement(h.Form.Item,{rules:[{validator:this.limitValidator,checkOnSubmit:!0}]},s.default.createElement(v.default,{name:"resources",defaultValue:l,onError:this.handleError,workspaceLimitProps:this.workspaceLimitProps,supportGpuSelect:n}))))}},{key:"render",value:function(){var e=this.props.className;return s.default.createElement(h.Form.Group,{className:e,label:t("CONTAINER_SETTINGS"),desc:t("CONTAINER_SETTINGS_DESC"),noWrapper:!0},this.renderImageForm(),this.renderAdvancedSettings())}},{key:"defaultResourceLimit",get:function(){var e=this.props.limitRange,t=void 0===e?{}:e;if(t.defaultRequest||t.default)return{requests:t.defaultRequest||{},limits:t.default||{}}}},{key:"containerTypes",get:function(){return[{label:t("WORKER_CONTAINER"),value:"worker"},{label:t("INIT_CONTAINER"),value:"init"}]}},{key:"imageRegistries",get:function(){var e=this.props.imageRegistries;return(void 0===e?[]:e).map((function(e){var t=(0,f.default)(e,'data[".dockerconfigjson"].auths',{}),a=Object.keys(t)[0]||"",r=(0,f.default)(t[a],"username"),n=e.isFedManaged?(0,f.default)(e,"clusters[0].name"):e.cluster,l=Boolean((0,f.default)(e,'annotations["secret.kubesphere.io/force-insecure"]',!1)),u=Boolean((0,f.default)(e,"isDefault",!1)),o=(0,f.default)(t[a],"auth");return{url:a,username:r,label:e.aliasName?"".concat(e.aliasName,"（").concat(e.name,"）"):e.name,value:e.name,cluster:n,isSkipTLS:l,isDefault:u,auth:o}}))}},{key:"workspaceLimitProps",get:function(){var e=this.props.workspaceQuota;return(0,d.default)(e)?{}:{limits:{cpu:(0,f.default)(e,"limits.cpu"),memory:(0,f.default)(e,"limits.memory")},requests:{cpu:(0,f.default)(e,"requests.cpu"),memory:(0,f.default)(e,"requests.memory")},gpuLimit:this.getGpuLimit()}}}]),r}(s.default.Component);a.default=O},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(70),a(24),a(886),a(73),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(70),a(24),a(886),a(440),a(321),a(30),a(195),a(73);var l=n(a(317)),u=n(a(31)),o=n(a(97)),i=n(a(50)),c=a(189),s=n(a(958)),f=n(a(5)),d=r(a(0)),p=n(a(1993)),m=function(e){var t=e.unit,a=e.value,r=e.defaultValue,n=e.onChange,m=e.min,h=void 0===m?Number.NEGATIVE_INFINITY:m,v=e.max,g=void 0===v?Number.POSITIVE_INFINITY:v,y=e.integer,E=void 0!==y&&y,b=e.error,O=void 0!==b&&b,S=e.onBlur,C=(0,i.default)(e,["unit","value","defaultValue","onChange","min","max","integer","error","onBlur"]),_=null!=a?a:r,k=d.useState(_===1/0?void 0:_),R=(0,o.default)(k,2),N=R[0],D=R[1],T=d.useState(O),P=(0,o.default)(T,2),w=P[0],I=P[1],M=d.useReducer((function(e){return e+1}),0),A=(0,o.default)(M,2),j=A[0],x=A[1];d.useEffect((function(){a!==N&&D(a===1/0?void 0:a)}),[a]);var L=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="string"==typeof e?E?parseInt(e,10):parseFloat(e):e;if(void 0===e||""===e||isNaN(a))return D(""),null==n||n(""),void(t&&void 0!==e&&""!==e&&I(!0));a=Math.max(h,Math.min(a,g)),D(a),null==n||n(a),I(!1)},U=E?/[-0-9]/:/[-.0-9]/;return d.createElement(c.Input,(0,l.default)({},C,{className:(0,f.default)(p.default.wrapper,(0,u.default)({},p.default.error,w||O)),key:j,value:N,onChange:function(e){var t=e.target.value,a=t.includes("-"),r=t.includes("."),n=Number(t);(Number.isNaN(n)||(0,s.default)(n))&&(r||a?(I(!1),D(e.target.value)):L(t,!0))},onKeyPress:function(e){"e"!==e.key&&"E"!==e.key||e.preventDefault(),U.test(e.key)||e.preventDefault()},suffix:t,onBlur:function(){L(N,!1),I(!1),x(),null==S||S()}}))};t.default=m},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(21),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37));r(32),r(3),r(36),r(29),r(4),r(21),r(18),r(43),r(11),r(46),r(40);var s=n(r(0)),f=r(189),d=n(r(1135)),p=n(r(538));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=(0,r(56).lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(3)]).then(r.t.bind(null,791,7))})),v=function(e){(0,o.default)(r,e);var a=m(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).rootStore=new p.default,e.envError="",e.handleErrorStatus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.envError=t},e.envValidator=function(t,a,r){""===e.envError&&r()},e}return(0,u.default)(r,[{key:"componentDidMount",value:function(){var e=this;h().then((function(t){return e.rootStore.registerActions(t.default)}))}},{key:"render",value:function(){var e=this.props,a=e.checkable,r=e.namespace,n=e.isFederated,l=e.cluster,u=e.projectDetail;return s.default.createElement(f.Form.Group,{label:t("ENVIRONMENT_VARIABLE_PL"),desc:t("CONTAINER_ENVIRONMENT_DESC"),checkable:a},s.default.createElement(f.Form.Item,{rules:[{validator:this.envValidator}]},s.default.createElement(d.default,{rootStore:this.rootStore,name:"".concat(this.prefix,"env"),namespace:r,isFederated:n,cluster:l,projectDetail:u,handleInputError:this.handleErrorStatus})))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}}]),r}(s.default.Component);a.default=v,v.defaultProps={prefix:"",checkable:!0}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(36),r(87),r(14),r(8),r(13),r(9),r(4),r(190),r(21),r(18),r(11),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(121),r(36),r(27),r(87),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(190),r(21),r(18),r(43),r(11),r(46),r(7),r(40);var l=n(r(317)),u=n(r(50)),o=n(r(38));r(35);var i,c,s,f=n(r(39)),d=n(r(31)),p=n(r(58)),m=n(r(97)),h=n(r(25)),v=n(r(28)),g=n(r(41)),y=n(r(42)),E=n(r(37)),b=n(r(0)),O=n(r(1)),S=n(r(476)),C=n(r(447)),_=n(r(450)),k=n(r(119)),R=n(r(26)),N=n(r(67)),D=r(804),T=n(r(2012)),P=n(r(2014)),w=n(r(824)),I=n(r(1336)),M=n(r(2015));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,E.default)(e);if(t){var n=(0,E.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,y.default)(this,a)}}var L=(0,D.trigger)((s=c=function(e){(0,g.default)(r,e);var a=x(r);function r(e){var t;return(0,h.default)(this,r),(t=a.call(this,e)).handleGetResource=function(){var e=t.props,a={namespace:e.namespace,cluster:e.cluster};Promise.all([t.configMapStore.fetchListByK8s(a),t.secretStore.fetchListByK8s(a)]).then((function(e){var a=(0,m.default)(e,2),r=a[0],n=a[1];t.setState({configMaps:r,secrets:n})}))},t.handleResourceData=function(e,a){var r=t.props,n=r.value,l=r.onChange,u="configmaps"===a?"configMapKeyRef":"secretKeyRef",o=(0,R.default)(e,"metadata.name"),i=(0,R.default)(e,"data"),c=(0,N.default)(i)?"":Object.keys((0,R.default)(e,"data"))[0],s={name:c,valueFrom:{}};s.valueFrom[u]={name:o,key:c},Array.isArray(n)?(n.push(s),l((0,p.default)(n))):l([j({},s)])},t.handleCreateSecrets=function(){var e,a=t.props,r=a.namespace,n=a.cluster,l=a.isFederated,u=a.projectDetail;t.trigger("secret.create",{module:"secrets",namespace:r,cluster:n,isFederated:l,projectDetail:u,store:t.secretStore,success:(e=(0,f.default)(o.default.mark((function e(a){var l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.secretStore.fetchListByK8s({namespace:r,cluster:n});case 2:l=e.sent,t.setState({secrets:l},(function(){t.handleResourceData(a,"secrets")}));case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})},t.handleCreateConfig=function(){var e,a=t.props,r=a.namespace,n=a.cluster,l=a.isFederated,u=a.projectDetail;t.trigger("configmap.create",{module:"configmaps",namespace:r,cluster:n,isFederated:l,projectDetail:u,store:t.configMapStore,success:(e=(0,f.default)(o.default.mark((function e(a){var l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.configMapStore.fetchListByK8s({namespace:r,cluster:n});case 2:l=e.sent,t.setState({configMaps:l},(function(){t.handleResourceData(a,"configmaps")}));case 4:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})},t.checkItemValid=function(e){return!((0,N.default)(e)||(0,N.default)(e.name)||(0,N.default)(e.value)&&(0,N.default)(e.valueFrom))},t.handleBulkQuote=function(e){var a=(0,k.default)(e),r=t.props,n=r.value,l=null!=n?n:[];(0,r.onChange)([].concat((0,p.default)(l),(0,p.default)(a)))},t.configMapStore=new S.default,t.secretStore=new C.default,e.isFederated&&(t.configMapStore=new _.default({module:t.configMapStore.module}),t.secretStore=new _.default({module:t.secretStore.module})),t.state={configMaps:[],secrets:[]},t}return(0,v.default)(r,[{key:"componentDidMount",value:function(){this.handleGetResource()}},{key:"render",value:function(){var e=this.props,a=e.handleInputError,r=(0,u.default)(e,["handleInputError"]),n=this.state,o=n.configMaps,i=n.secrets;return b.default.createElement(w.default,(0,l.default)({className:I.default.wrapper,itemType:"object",checkItemValid:this.checkItemValid,addText:t("ADD_ENVIRONMENT_VARIABLE"),extraAdd:b.default.createElement(b.default.Fragment,null,b.default.createElement("span",{className:I.default.desc},t.html("CREATE_CONFIGMAP_SECRET_DESC"),b.default.createElement("a",{onClick:this.handleCreateConfig},t("CREATE_CONFIG")),t("OR"),b.default.createElement("a",{onClick:this.handleCreateSecrets},t("CREATE_SECRET"))),b.default.createElement(M.default,{className:I.default.extraBtn,dataTest:"add-env-configmap",onOK:this.handleBulkQuote,text:t("BATCH_REFERENCE"),modalWidth:520,modalHeight:492},b.default.createElement(T.default,{configMaps:o,secrets:i})))},r),b.default.createElement(P.default,{configMaps:o,secrets:i,repeatKeyArr:this.getRepeat,handleInputError:a}))}},{key:"getRepeat",get:function(){var e=this.props.value,t=void 0===e?[]:e;if(t.length>1){var a={};return t.forEach((function(e,t){var r,n=null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"";""!==e.name&&(a[n]?a[n].push("".concat(t)):a[n]=[])})),Object.values(a).reduce((function(e,t){return[].concat((0,p.default)(e),(0,p.default)(t))}),[])}return[]}}]),r}(b.default.Component),c.propTypes={name:O.default.string,value:O.default.array,onChange:O.default.func,handleInputError:O.default.func},c.defaultProps={name:"",onChange:function(){},handleInputError:function(){}},i=s))||i;a.default=L},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(56),l=r(a(2018)),u=r(a(900)),o=r(a(915)),i=r(a(2104)),c=r(a(1153)),s=r(a(1154)),f=r(a(2194)),d=r(a(1156)),p=r(a(1052)),m=r(a(2202)),h={statelessservice:[{title:"BASIC_INFORMATION",icon:"cdn",component:l.default,required:!0},{title:"POD_SETTINGS",icon:"docker",component:(0,n.withProps)(u.default,{withService:!0,supportGpuSelect:!0}),required:!0},{title:"STORAGE_SETTINGS",icon:"storage",component:o.default,required:!0},{title:"ADVANCED_SETTINGS",icon:"slider",component:i.default,required:!0}],statefulservice:[{title:"BASIC_INFORMATION",icon:"cdn",component:l.default,required:!0},{title:"POD_SETTINGS",icon:"docker",component:(0,n.withProps)(u.default,{withService:!0}),required:!0},{title:"STORAGE_SETTINGS",icon:"storage",component:o.default,required:!0},{title:"ADVANCED_SETTINGS",icon:"slider",component:i.default,required:!0}],externalservice:[{title:"BASIC_INFORMATION",icon:"cdn",component:(0,n.withProps)(l.default,{noWorkload:!0}),required:!0},{title:"EXTERNAL_SERVICE",icon:"strategy-group",component:c.default,required:!0}],simpleservice:[{title:"BASIC_INFORMATION",icon:"cdn",component:(0,n.withProps)(l.default,{noWorkload:!0}),required:!0},{title:"SERVICE_SETTINGS",component:s.default,required:!0},{title:"ADVANCED_SETTINGS",icon:"slider",component:(0,n.withProps)(i.default,{noWorkload:!0}),required:!0}],b2iservice:[{title:"BASIC_INFORMATION",icon:"cdn",component:l.default,required:!0},{title:"BUILD_SETTINGS",icon:"strategy-group",component:(0,n.composeComponent)(f.default,(0,n.withProps)(d.default,{prefix:"S2i"})),required:!0},{title:"POD_SETTINGS",icon:"docker",component:(0,n.withProps)(m.default,{withService:!0}),required:!0},{title:"STORAGE_SETTINGS",icon:"storage",component:o.default,required:!0},{title:"ADVANCED_SETTINGS",icon:"slider",component:i.default,required:!0}],s2iservice:[{title:"BASIC_INFORMATION",icon:"cdn",component:l.default,required:!0},{title:"BUILD_SETTINGS",icon:"strategy-group",component:(0,n.composeComponent)(f.default,(0,n.withProps)(p.default,{prefix:"S2i"})),required:!0},{title:"POD_SETTINGS",icon:"docker",component:(0,n.withProps)(m.default,{withService:!0}),required:!0},{title:"STORAGE_SETTINGS",icon:"storage",component:o.default,required:!0},{title:"ADVANCED_SETTINGS",icon:"slider",component:i.default,required:!0}]};t.default=h},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(1138)),p=n(r(2023));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(f.Form.Group,{label:t("STARTUP_COMMAND"),desc:t("STARTUP_COMMAND_DESC"),checkable:!0},s.default.createElement(f.Form.Item,{label:t("COMMAND"),desc:t("CONTAINER_COMMAND_DESC")},s.default.createElement(d.default,{className:p.default.input,name:"".concat(this.prefix,"command")})),s.default.createElement(f.Form.Item,{label:t("PARAMETERS"),desc:t("CONTAINER_ARGUMENT_DESC")},s.default.createElement(d.default,{className:p.default.input,name:"".concat(this.prefix,"args")})))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}}]),r}(s.default.Component);a.default=h,h.defaultProps={prefix:""}},function(e,t,a){"use strict";a(16);var r=a(19);a(66),a(20),a(51),a(4),a(18),a(30),a(11),a(139),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37));a(32),a(66),a(20),a(51),a(29),a(4),a(18),a(43),a(30),a(195),a(11);var f=r(a(0)),d=r(a(1)),p=r(a(142)),m=r(a(64)),h=a(189);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(e){(0,i.default)(a,e);var t=v(a);function a(e){var r;return(0,u.default)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=r.props,a=t.onChange,n=t.parser;r.setState({value:e}),a(e?n(e):[])},r.state={value:e.stringify(e.value)},r}return(0,o.default)(a,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.props.value&&this.setState({value:this.props.stringify(this.props.value)})}},{key:"render",value:function(){var e=this.props,t=(e.value,e.onChange,e.parser,e.stringify,(0,l.default)(e,["value","onChange","parser","stringify"]));return f.default.createElement(h.TextArea,(0,n.default)({value:this.state.value},t,{onChange:this.handleChange,rows:2}))}}]),a}(f.default.Component);t.default=g,g.propTypes={value:d.default.oneOfType([d.default.string,d.default.array]),stringify:d.default.func,parser:d.default.func,onChange:d.default.func},g.defaultProps={value:"",stringify:function(e){return(0,m.default)(e)?e.join(","):""},parser:function(e){return(0,p.default)(e)?e.split(",").map((function(e){return/^["'].*["']$/.test(e)&&(e=e.slice(1,e.length-1)),e})):[]},onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(827));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var m=function(e){(0,o.default)(r,e);var a=p(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"getImagePullPolicyOptions",value:function(){return[{icon:"timed-task",label:t("IMAGE_PULL_POLICY_ALWAYS"),value:"Always",description:t("IMAGE_PULL_POLICY_ALWAYS_DESC")},{icon:"timed-task",label:t("IMAGE_PULL_POLICY_IFNOTPRESENT"),value:"IfNotPresent",description:t("IMAGE_PULL_POLICY_IFNOTPRESENT_DESC")},{icon:"timed-task",label:t("IMAGE_PULL_POLICY_NEVER"),value:"Never",description:t("IMAGE_PULL_POLICY_NEVER_DESC")}]}},{key:"render",value:function(){return s.default.createElement(f.Form.Item,null,s.default.createElement(d.default,{name:"".concat(this.prefix,"imagePullPolicy"),defaultValue:"IfNotPresent",options:this.getImagePullPolicyOptions()}))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}}]),r}(s.default.Component);a.default=m,m.defaultProps={prefix:""}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(1340)),p=n(r(2028));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(f.Form.Group,{label:t("HEALTH_CHECK"),desc:t("HEALTH_CHECKER_DESC"),checkable:!0},s.default.createElement(f.Form.Item,{className:p.default.item,label:t("LIVENESS_CHECK"),desc:t("LIVENESS_CHECK_DESC")},s.default.createElement(d.default,{name:"".concat(this.prefix,"livenessProbe"),probType:"livenessProbe"})),s.default.createElement(f.Form.Item,{className:p.default.item,label:t("READINESS_CHECK"),desc:t("READINESS_CHECK_DESC")},s.default.createElement(d.default,{name:"".concat(this.prefix,"readinessProbe"),probType:"readinessProbe"})),s.default.createElement(f.Form.Item,{className:p.default.item,label:t("STARTUP_CHECK"),tip:t("STARTUP_CHECK_TIP"),desc:t("STARTUP_CHECK_DESC")},s.default.createElement(d.default,{name:"".concat(this.prefix,"startupProbe"),probType:"startupProbe"})))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}}]),r}(s.default.Component);a.default=h,h.defaultProps={prefix:""}},function(e,t,a){"use strict";a(16);var r=a(19),n=a(162);a(3),a(10),a(20),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(10),a(20),a(27),a(29),a(4),a(18),a(43),a(11);var l,u,o,i=r(a(58)),c=r(a(25)),s=r(a(28)),f=r(a(41)),d=r(a(42)),p=r(a(37)),m=n(a(0)),h=r(a(5)),v=r(a(1)),g=a(189),y=r(a(258)),E=r(a(884)),b=r(a(26)),O=r(a(163)),S=r(a(67)),C=a(243),_=r(a(2065));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var R=(0,C.observer)((o=u=function(e){(0,f.default)(a,e);var t=k(a);function a(){var e;(0,c.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).handleOptionClick=function(t){var a=(0,b.default)(t,"currentTarget.dataset.value"),r=e.props,n=r.value,l=r.onChange,u=(0,i.default)(n);(0,y.default)(u,a)?(0,E.default)(u,(function(e){return e===a})):u.push(a),l(u)},e}return(0,s.default)(a,[{key:"isVisibleOption",value:function(e){var t=e.value,a=this.props.value;return!(0,y.default)(a,t)}},{key:"renderContent",value:function(){var e=this.props.className;return m.default.createElement("div",{className:(0,h.default)(_.default.wrapper,e)},this.renderHeader(),this.renderOptions())}},{key:"renderHeader",value:function(){var e=this.props.title;return(0,O.default)(e)?null:m.default.createElement("header",null,e)}},{key:"renderOptions",value:function(){return m.default.createElement("ul",null,this.hideableColumns.map(this.renderOption,this))}},{key:"renderOption",value:function(e){var t=this.isVisibleOption(e),a=e.value,r=e.label,n=t?"eye":"eye-closed";return m.default.createElement("li",{"data-value":a,key:a,onClick:this.handleOptionClick},m.default.createElement(g.Icon,{name:n}),r)}},{key:"render",value:function(){return(0,S.default)(this.hideableColumns)?null:m.default.createElement(g.Dropdown,{content:this.renderContent(),placement:"bottomRight",positionFixed:!0},m.default.createElement(g.Button,{type:"flat",icon:"cogwheel","data-test":"table-columns"}))}},{key:"hideableColumns",get:function(){return this.props.columns.filter((function(e){return e.isHideable})).map((function(e){return{label:e.title,value:e.dataIndex||e.key}}))}}]),a}(m.Component),u.propTypes={value:v.default.array,onChange:v.default.func.isRequired,className:v.default.string,title:v.default.node,columns:v.default.array.isRequired},u.defaultProps={value:[],columns:[]},l=o))||l;t.default=R},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(202),r(20),r(4),r(18),r(11),r(46),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(202),r(20),r(29),r(4),r(18),r(43),r(11),r(46);var u=l(r(31)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=r(189),p=l(r(5)),m=n(r(0)),h=r(61),v=l(r(4565)),g=l(r(2070));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){(0,c.default)(r,e);var a=y(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(e=a.call.apply(a,[this].concat(l))).state={pagesize:10},e.handlePrev=function(){var t=e.props,a=t.page,r=t.onChange,n=t.limit;r&&r({page:Math.max(a-1,1),limit:n})},e.handleNext=function(){var t=e.props,a=t.page,r=t.onChange,n=t.limit;r&&r({page:Math.min(a+1,e.totalPage),limit:n})},e.renderPagesize=function(){var a=e.state.pagesize,r=e.props.total;return m.default.createElement("div",{className:g.default.pageSizeBox},m.default.createElement(d.Dropdown,{placement:"bottomLeft",trigger:"hover",content:m.default.createElement(d.Menu,{className:g.default.pageSizeMenu,onClick:e.handlePageSizeClick},h.PAGESIZE_OPTION.map((function(e){return m.default.createElement(d.Menu.MenuItem,{className:(0,p.default)(g.default.pageSizeMenuitem),key:e},m.default.createElement("span",null,e))})))},m.default.createElement("div",{className:g.default.pagesize},m.default.createElement("span",{className:g.default.text},t("SHOW_NUM",{num:a})),m.default.createElement(d.Icon,{name:"caret-down",size:16}))),m.default.createElement("div",{className:g.default.gap}),m.default.createElement("span",null,t("TOTAL_ITEMS",{num:r})))},e.handlePageSizeClick=function(t,a){var r=e.props.onChange;e.setState({pagesize:a},(function(){r({page:1,limit:a})}))},e.renderPageDropDown=function(){var t=e.props.page;if(e.totalPage>0){var a=Array.from({length:e.totalPage},(function(e,t){var a=++t;return{id:a,value:a}}));return a.length<=10?m.default.createElement(d.Menu,{className:(0,p.default)(g.default.menu)},m.default.createElement(m.default.Fragment,null,a.map((function(a){return m.default.createElement(d.Menu.MenuItem,{className:(0,p.default)(g.default.menuitem,(0,u.default)({},g.default.menuActive,t===a.value)),key:a.id,onClick:function(){return e.handlePageMenuClick(a.value)}},a.value)})))):m.default.createElement(d.Menu,{className:(0,p.default)(g.default.menu)},m.default.createElement(v.default,{data:a,key:"page-dropdown",itemKey:"id",height:160,itemHeight:32},(function(a){return m.default.createElement(d.Menu.MenuItem,{className:(0,p.default)(g.default.menuitem,(0,u.default)({},g.default.menuActive,t===a.value)),key:a.id,onClick:function(){return e.handlePageMenuClick(a.value)}},a.value)})))}return null},e.handlePageMenuClick=function(t){var a=e.props,r=a.onChange,n=a.limit;r&&r({page:Math.min(t,e.totalPage),limit:n})},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props.page;return m.default.createElement(d.Level,{className:g.default.wrapper},m.default.createElement(d.LevelLeft,null,this.renderPagesize()),m.default.createElement(d.LevelRight,null,m.default.createElement(d.LevelItem,{className:g.default.pagination},m.default.createElement(d.Button,{className:g.default.button,type:"flat",icon:"previous",iconSize:16,disabled:e<=1,onClick:this.handlePrev}),m.default.createElement(d.Dropdown,{placement:"bottom",trigger:"hover",content:this.renderPageDropDown()},m.default.createElement("div",{className:g.default.pages},m.default.createElement("span",null,e," / ",this.totalPage))),m.default.createElement(d.Button,{className:g.default.button,type:"flat",icon:"next",iconSize:16,disabled:e>=this.totalPage,onClick:this.handleNext}))))}},{key:"totalPage",get:function(){var e=this.props,t=e.total,a=e.limit,r=t%a;return 0===r?Math.max(t/a,1):(t-r)/a+1}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.limit!==t.pagesize?{pagesize:e.limit}:null}}]),r}(m.Component);a.default=E},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(192),a(10),a(44),a(70),a(20),a(138),a(4),a(18),a(11),a(73),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(192),a(10),a(44),a(70),a(20),a(29),a(138),a(4),a(18),a(43),a(11),a(73);var n=r(a(317)),l=r(a(50)),u=r(a(58)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(0)),p=a(243),m=r(a(26)),h=r(a(67)),v=r(a(198)),g=a(189);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){var t=function(t){(0,c.default)(r,t);var a=y(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).getColumns=function(){var t=e.props.columns;return[].concat((0,u.default)(t),[{key:"more",width:20,render:e.renderMore}])},e.handleMoreMenuClick=function(t){return function(a,r){var n=e.enabledItemActions.find((function(e){return e.key===r}));n&&n.onClick&&n.onClick(t)}},e.renderMore=function(t,a){if((0,h.default)(e.enabledItemActions))return null;var r=e.renderMoreMenu(a);return null===r?null:d.default.createElement(g.Dropdown,{content:r,trigger:"click",placement:"bottomRight"},d.default.createElement(g.Button,{icon:"more",type:"flat"}))},e.renderMoreMenu=function(t){var a=e.enabledItemActions.map((function(e){var a=(0,v.default)(e.show)?e.show(t):e.show||!0,r=(0,v.default)(e.icon)?e.icon(t):d.default.isValidElement(e.icon)?e.icon:d.default.createElement(g.Icon,{name:e.icon}),n=(0,v.default)(e.text)?e.text(t):e.text,l=(0,m.default)(e,"disabled",void 0);return a?d.default.createElement(g.Menu.MenuItem,{key:e.key,disabled:!!(0,v.default)(l)&&l(t)},r," ",d.default.createElement("span",{"data-test":"table-item-".concat(e.key)},n)):null}));return a.every((function(e){return null===e}))?null:d.default.createElement(g.Menu,{onClick:e.handleMoreMenuClick(t)},a)},e}return(0,i.default)(r,[{key:"getEnabledTableActions",value:function(){var e=this,t=this.props,a=t.tableActions,r=t.enabledActions,n=(0,l.default)(t,["tableActions","enabledActions"]);return Object.assign(a,n),r.includes("delete")||(a.onDelete=null),r.includes("create")||(a.onCreate=null),a.actions&&(a.actions=a.actions.filter((function(t){return!t.action||"function"==typeof t.filter&&t.filter.call(e,t)||r.includes(t.action)}))),a.selectActions&&(a.selectActions=a.selectActions.filter((function(e){return!e.action||r.includes(e.action)}))),(0,h.default)(a.selectActions)&&!a.disabledSelectActions&&(a.onSelectRowKeys=null),a}},{key:"render",value:function(){return d.default.createElement(e,(0,n.default)({},this.getEnabledTableActions(),{columns:this.getColumns()}))}},{key:"enabledItemActions",get:function(){var e=this.props,t=e.itemActions,a=e.enabledActions;return t.filter((function(e){return!e.action||a.includes(e.action)}))}}]),r}(d.default.Component);return t.defaultProps={itemActions:[],enabledActions:[],tableActions:{}},(0,p.observer)(t)};t.default=E},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(5)),d=n(r(1)),p=n(r(68)),m=n(r(808)),h=r(189),v=n(r(805)),g=n(r(2076));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){(0,o.default)(r,e);var a=y(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).state={replicas:e.props.replicas||1},e.triggerChange=(0,m.default)((function(){var t=e.props,a=t.template,r=t.onChange,n=e.state.replicas;(0,p.default)(a,"spec.replicas",n),r&&r(n)}),200),e.handleSubStract=function(){e.setState((function(e){var t=e.replicas;return{replicas:Math.max(t-1,1)}}),(function(){e.triggerChange()}))},e.handleAdd=function(){e.setState((function(e){return{replicas:e.replicas+1}}),(function(){e.triggerChange()}))},e.handleChange=function(t){e.setState({replicas:t},(function(){e.triggerChange()}))},e}return(0,u.default)(r,[{key:"renderReplicas",value:function(){var e=this.state.replicas;return s.default.createElement("div",{className:g.default.replicas},s.default.createElement("div",{className:"margin-b8"},t("POD_REPLICAS")),s.default.createElement("div",{style:{textAlign:"center"}},s.default.createElement(h.Button,{type:"flat",icon:"substract",onClick:this.handleSubStract}),s.default.createElement(v.default,{value:e,onChange:this.handleChange}),s.default.createElement(h.Button,{type:"flat",icon:"add",onClick:this.handleAdd})))}},{key:"render",value:function(){var e=this.props.replicasExtraControl;return s.default.createElement("div",{className:g.default.wrapper},s.default.createElement(h.Columns,{className:"is-vcentered is-2"},e&&s.default.createElement(h.Column,null,e),s.default.createElement(h.Column,{className:(0,f.default)({"is-narrow":!e})},this.renderReplicas())))}}]),r}(s.default.Component);a.default=E,E.propTypes={replicasExtraControl:d.default.element,template:d.default.object}},function(e,t,a){e.exports={wrapper:"_2xSH4jSaiZaiXb3eNvbfsD",limits:"_2UajGKZaa_7OOh_UcRtlQa",limit:"_3ybjepPZouY_ndzpJzL-YE",message:"_2aiLZf_rHbV44YbgvIJ8zK",addWrapper:"_16VvKkmlQNJgQ6KA0jNeuy"}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(20),r(24),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(20),r(29),r(24),r(4),r(18),r(43),r(30),r(195),r(11);var l,u,o,i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=r(243),h=n(r(1)),v=n(r(26)),g=n(r(68)),y=n(r(196)),E=n(r(67)),b=r(61),O=r(189),S=n(r(827)),C=n(r(805)),_=n(r(2082));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var R=(0,m.observer)((o=u=function(e){(0,s.default)(r,e);var a=k(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).getStrategy=function(e){return(0,v.default)(e.data,"".concat(n.prefix,".type"))},n.handleStrategyChange=function(e){var t=n.props,a=t.data,r=t.module;n.setState({strategy:e},(function(){if("RollingUpdate"!==e)(0,y.default)(a,n.rollingUpdatePrefix);else{var t=(0,v.default)(a,n.rollingUpdatePrefix);if((0,E.default)(t))switch(r){case"deployments":(0,g.default)(a,n.rollingUpdatePrefix,{maxUnavailable:"25%",maxSurge:"25%"});break;case"statfulsets":(0,g.default)(a,n.rollingUpdatePrefix,{partition:0});break;case"daemonsets":(0,g.default)(a,n.rollingUpdatePrefix,{maxUnavailable:"25%"})}}}))},n.valueValidator=function(e,a,r){if(!a)return r();if(!/^[0-9]*$/.test(a)&&!/^[0-9]+%$/.test(a))return r({message:t("ENTER_INTEGER_OR_PERCENTAGE")});r()},n.valueValidatorNumber=function(e,a,r){if(!a)return r();if(!/^[0-9]*$/.test(a))return r({message:t("PARTITION_ORDINAL_EMPTY")});r()},n.state={strategy:n.getStrategy(e)},n}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e,t){var a=this.getStrategy(this.props);a!==t.strategy&&this.setState({strategy:a})}},{key:"renderRollingUpdateParams",value:function(){var e=this.props.module;return"statefulsets"===e?p.default.createElement(O.Columns,{className:_.default.wrapper},p.default.createElement(O.Column,null,p.default.createElement(O.Form.Item,{label:t("PARTITION_ORDINAL"),desc:t("PARTITION_ORDINAL_DESC"),rules:[{required:!0,message:t("PARTITION_ORDINAL_EMPTY")},{validator:this.valueValidatorNumber}]},p.default.createElement(C.default,{name:"".concat(this.rollingUpdatePrefix,".partition"),defaultValue:0,min:0,integer:!0})))):"daemonsets"===e?p.default.createElement(O.Columns,{className:_.default.wrapper},p.default.createElement(O.Column,null,p.default.createElement(O.Form.Item,{label:t("MAX_UNAVAILABLE_PODS"),desc:t("MAX_UNAVAILABLE_PODS_DESC"),rules:[{required:!0,message:t("MAX_UNAVAILABLE_EMPTY")}]},p.default.createElement(O.Input,{name:"".concat(this.rollingUpdatePrefix,".maxUnavailable"),defaultValue:"20%"}))),p.default.createElement(O.Column,null,p.default.createElement(O.Form.Item,{label:t("MIN_READY_SECONDS"),desc:t("MIN_READY_SECONDS_DESC"),rules:[{required:!0,message:t("MIN_READY_SECONDS_EMPTY")}]},p.default.createElement(C.default,{name:"spec.minReadySeconds",defaultValue:0,min:0,integer:!0})))):p.default.createElement(O.Columns,{className:_.default.wrapper},p.default.createElement(O.Column,null,p.default.createElement(O.Form.Item,{label:t("MAX_UNAVAILABLE_PODS"),desc:t("MAX_UNAVAILABLE_PODS_DESC"),rules:[{required:!0,message:t("MAX_UNAVAILABLE_EMPTY")},{validator:this.valueValidator}]},p.default.createElement(O.Input,{name:"".concat(this.rollingUpdatePrefix,".maxUnavailable"),defaultValue:"25%"}))),p.default.createElement(O.Column,null,p.default.createElement(O.Form.Item,{label:t("MAX_EXTRA_PODS"),desc:t("MAX_EXTRA_PODS_DESC"),rules:[{required:!0,message:t("MAX_EXTRA_EMPTY")},{validator:this.valueValidator}]},p.default.createElement(O.Input,{name:"".concat(this.rollingUpdatePrefix,".maxSurge"),defaultValue:"25%"}))))}},{key:"render",value:function(){return p.default.createElement(p.default.Fragment,null,p.default.createElement(O.Form.Item,{label:t("UPDATE_STRATEGY")},p.default.createElement(S.default,{name:"".concat(this.prefix,".type"),onChange:this.handleStrategyChange,defaultValue:"RollingUpdate",options:this.strategyOptions})),p.default.createElement(O.Form.Group,{label:t("ROLLING_UPDATE_SETTINGS"),checkable:!0,keepDataWhenUnCheck:!0},this.isRollingUpdate&&this.renderRollingUpdateParams()))}},{key:"isRollingUpdate",get:function(){return"RollingUpdate"===this.state.strategy}},{key:"prefix",get:function(){var e=this.props,t=e.isFederated,a=e.module,r=e.isEdit;return"".concat(t&&r?"spec.template.":"").concat(b.STRATEGIES_PREFIX[a])}},{key:"rollingUpdatePrefix",get:function(){return"".concat(this.prefix,".rollingUpdate")}},{key:"strategyOptions",get:function(){var e,a=this.props.module;return null===(e=b.STRATEGIES[a])||void 0===e?void 0:e.map((function(e){var a=e.label,r=e.value,n=e.description;return{label:t(a),description:t(n),icon:"update",value:r}}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.data,r=/^[0-9]*$/,n="spec.strategy.rollingUpdate";return"RollingUpdate"===t.strategy&&(r.test((0,v.default)(a,"".concat(n,".maxSurge")))&&(0,g.default)(a,"".concat(n,".maxSurge"),Number((0,v.default)(a,"".concat(n,".maxSurge")))),r.test((0,v.default)(a,"".concat(n,".maxUnavailable")))&&(0,g.default)(a,"".concat(n,".maxUnavailable"),Number((0,v.default)(a,"".concat(n,".maxUnavailable"))))),null}}]),r}(p.default.Component),u.propTypes={module:h.default.string,data:h.default.object,onChange:h.default.func,isFederated:h.default.bool,isEdit:h.default.bool},u.defaultProps={module:"",data:{},isFederated:!1,isEdit:!1,onChange:function(){}},l=o))||l;a.default=R},,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(8),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(8),a(4),a(18),a(43),a(11);var n,l,u,o,i,c,s,f,d,p,m,h,v,g,y,E,b,O,S,C,_,k,R=r(a(62)),N=r(a(25)),D=r(a(74)),T=r(a(28)),P=r(a(41)),w=r(a(42)),I=r(a(37)),M=(r(a(63)),r(a(45))),A=r(a(0)),j=a(1),x=r(a(5)),L=r(a(68)),U=a(243),z=a(17),F=a(189),G=a(461),V=r(a(2174));function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,I.default)(e);if(t){var n=(0,I.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,w.default)(this,a)}}var Y=(0,U.observer)((k=_=function(e){(0,P.default)(a,e);var t=B(a);function a(e){var r;return(0,N.default)(this,a),(r=t.call(this,e)).handleContainerClick=function(e){Math.abs(r.deltaX)>10||Math.abs(r.deltaY)>10?e.stopPropagation():r.props.onClick(e)},r.fullScreenFlagChange=function(){r.isFullscreen=!r.isFullscreen},(0,R.default)(r,"scale",u,(0,D.default)(r)),(0,R.default)(r,"translateX",o,(0,D.default)(r)),(0,R.default)(r,"translateY",i,(0,D.default)(r)),(0,R.default)(r,"isFullscreen",c,(0,D.default)(r)),(0,R.default)(r,"initialComponent",s,(0,D.default)(r)),(0,R.default)(r,"initialPosition",f,(0,D.default)(r)),(0,R.default)(r,"initialScale",d,(0,D.default)(r)),(0,R.default)(r,"handleWheel",p,(0,D.default)(r)),r.stopPropagation=function(e){e.stopPropagation()},(0,R.default)(r,"handleZoomOut",m,(0,D.default)(r)),(0,R.default)(r,"handleZoomIn",h,(0,D.default)(r)),(0,R.default)(r,"handleNormalSize",v,(0,D.default)(r)),(0,R.default)(r,"handleAutoSize",g,(0,D.default)(r)),(0,R.default)(r,"handleContentMove",y,(0,D.default)(r)),(0,R.default)(r,"handleMouseLeave",E,(0,D.default)(r)),(0,R.default)(r,"handleMouseDown",b,(0,D.default)(r)),(0,R.default)(r,"handleMouseUp",O,(0,D.default)(r)),(0,R.default)(r,"handleChangeScale",S,(0,D.default)(r)),(0,R.default)(r,"toggleFullscreen",C,(0,D.default)(r)),r.initPosition={x:0,y:0},r.lastPosition={x:0,y:0},r.isMoved=!1,r}return(0,T.default)(a,[{key:"getChildContext",value:function(){return{scale:this.scale}}}]),(0,T.default)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.initialComponent(),(0,G.addFullScreenChangeEvents)(this.fullScreenFlagChange),this.container&&this.container.addEventListener("wheel",this.handleWheel),this.content){var t=this.content.getBoundingClientRect(),a=t.left,r=t.top;this.domOffsetX=a,this.domOffsetY=r}this.content&&(this.setStyleReaction=(0,z.reaction)((function(){return e.styles}),(function(){(0,L.default)(e.content,"style.transform",(0,z.toJS)(e.styles).transform)}),{fireImmediately:!0}))}},{key:"componentWillUnmount",value:function(){(0,G.removeFullScreenChangeEvents)(this.fullScreenFlagChange),this.container&&this.container.removeEventListener("wheel",this.handleWheel,!1),this.setStyleReaction&&this.setStyleReaction()}},{key:"render",value:function(){var e=this,t=this.props,a=t.children,r=t.className,n=t.contentClassName,l=t.controlStyle,u=t.enableToggleFullScreen,o=t.onRefresh;return A.default.createElement("div",{className:(0,x.default)(V.default.container,r),onClickCapture:this.handleContainerClick,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleContentMove,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,"data-container":"pipeline",ref:function(t){e.container=t}},A.default.createElement("div",{className:V.default.controls,style:l,onMouseLeave:this.stopPropagation,onMouseMove:this.stopPropagation},u?A.default.createElement("div",{className:V.default.control,onClick:this.toggleFullscreen},A.default.createElement(F.Icon,{name:this.isFullscreen?"minimize":"maximize",clickable:!0})):null,A.default.createElement("div",{className:V.default.control,onClick:this.handleZoomOut},A.default.createElement(F.Icon,{name:"add",clickable:!0})),A.default.createElement("div",{className:V.default.control,onClick:this.handleZoomIn},A.default.createElement(F.Icon,{name:"substract",clickable:!0})),o&&A.default.createElement("div",{className:V.default.control,onClick:o},A.default.createElement(F.Icon,{name:"refresh",clickable:!0}))),A.default.createElement("div",{className:(0,x.default)(V.default.main_content,n),ref:function(t){e.content=t}},a))}},{key:"styles",get:function(){return{transform:"translate3d(".concat(this.translateX,"px, ").concat(this.translateY,"px, 0)\n          scale(").concat(this.scale,")")}}}]),a}(A.default.Component),_.defaultProps={onClick:function(){},enableToggleFullScreen:!0,XOffset:0,YOffset:0},_.childContextTypes={scale:j.PropTypes.number},l=k,(0,M.default)(l.prototype,"styles",[z.computed],Object.getOwnPropertyDescriptor(l.prototype,"styles"),l.prototype),u=(0,M.default)(l.prototype,"scale",[z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),o=(0,M.default)(l.prototype,"translateX",[z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),i=(0,M.default)(l.prototype,"translateY",[z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),c=(0,M.default)(l.prototype,"isFullscreen",[z.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=(0,M.default)(l.prototype,"initialComponent",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.props.initialScale?e.scale=e.props.initialScale:e.initialScale(),e.initialPosition()}}}),f=(0,M.default)(l.prototype,"initialPosition",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props,a=t.XOffset,r=t.YOffset;e.translateX=a,e.translateY=r,e.lastPosition={x:e.translateX,y:e.translateY}}}}),d=(0,M.default)(l.prototype,"initialScale",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.container.clientWidth/e.content.clientWidth,a=e.container.clientHeight/e.content.clientHeight,r=Math.min(t,a);e.scale=r>1?1:Math.max(r,.6)}}}),p=(0,M.default)(l.prototype,"handleWheel",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),t.stopPropagation();var a=t.deltaY>0?1:-1,r=t.clientY-e.domOffsetY,n=t.clientX-e.domOffsetX,l=-.01*(Math.abs(t.deltaY)>5?5*a:t.deltaY),u=e.scale+l;if(u<1&&u>.2){var o=e.content.clientWidth*e.scale,i=e.content.clientHeight*e.scale;n>e.translateX+o?e.translateX=-l*e.content.clientWidth+e.translateX:n>=e.translateX&&(e.translateX=-l*(n-e.translateX)/e.scale+e.translateX),r>e.translateY+i?e.translateY=-l*e.content.clientHeight+e.translateY:r>=e.translateY&&(e.translateY=-l*(r-e.translateY)/e.scale+e.translateY),e.scale=u,e.lastPosition={x:e.translateX,y:e.translateY},e.isMoved=!0}}}}),m=(0,M.default)(l.prototype,"handleZoomOut",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.scale<1&&(e.scale+=.2,e.isMoved=!0)}}}),h=(0,M.default)(l.prototype,"handleZoomIn",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.scale>.4&&(e.scale-=.2,e.isMoved=!0)}}}),v=(0,M.default)(l.prototype,"handleNormalSize",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.scale=1,e.translateX=30,e.translateY=60,e.lastPosition={x:e.translateX,y:e.translateY}}}}),g=(0,M.default)(l.prototype,"handleAutoSize",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.initialScale(),e.initialPosition()}}}),y=(0,M.default)(l.prototype,"handleContentMove",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.DragContent&&(e.translateX=t.clientX-e.initPosition.x+e.lastPosition.x,e.translateY=t.clientY-e.initPosition.y+e.lastPosition.y,e.isMoved=!0)}}}),E=(0,M.default)(l.prototype,"handleMouseLeave",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){"pipeline"===t.currentTarget.dataset.container&&(e.lastPosition={x:e.translateX,y:e.translateY},e.DragContent=!1)}}}),b=(0,M.default)(l.prototype,"handleMouseDown",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.preventDefault(),0===t.button&&(e.initPosition={x:t.clientX,y:t.clientY},e.DragContent=!0)}}}),O=(0,M.default)(l.prototype,"handleMouseUp",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.DragContent&&(e.deltaX=t.clientX-e.initPosition.x,e.deltaY=t.clientY-e.initPosition.y,e.translateX=e.deltaX+e.lastPosition.x,e.translateY=e.deltaY+e.lastPosition.y,e.lastPosition={x:e.translateX,y:e.translateY},e.DragContent=!1)}}}),S=(0,M.default)(l.prototype,"handleChangeScale",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.scale=t/100}}}),C=(0,M.default)(l.prototype,"toggleFullscreen",[z.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=e.props.onFullScreen;if(t)return e.fullScreenFlagChange(),t();e.isFullscreen?(0,G.exitFullScreen)(e.container):(0,G.enterFullScreen)(e.container)}}}),n=l))||n;t.default=Y},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(0)),l=r(a(5)),u=r(a(2177));var o=function(e){var t=e.className,a=e.text,r=e.icon;return n.default.createElement("div",{className:(0,l.default)(u.default.emptyTip,t)},r||n.default.createElement("img",{width:32,height:32,src:"/extensions-static/ks-console-embed/dist/v3dist/assets/data_empty.svg"}),a||n.default.createElement("p",{className:u.default.emptyText},"暂无相关数据"))};t.default=o},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.CLUSTER_PROVIDERS_ANNOTATIONS=void 0;var r={"Aliyun ACK":{"service.beta.kubernetes.io/alibaba-cloud-loadbalancer-address-type":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-charge-type":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-id":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-spec\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-master-zoneid\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-slave-zoneid\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-force-override-listeners\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-bandwidth\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-vswitch-id\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-additional-resource-tags\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-ip-version\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-delete-protection\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-modification-protection\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-resource-group-id\t":"","service.beta.kubernetes.io/alibaba-cloud-loadbalancer-name\t":""},"Aure Kubernetes Service":{"service.beta.kubernetes.io/azure-load-balancer-internal":"","service.beta.kubernetes.io/azure-load-balancer-internal-subnet":"","service.beta.kubernetes.io/azure-dns-label-name":"","service.beta.kubernetes.io/azure-shared-securityrule":"","service.beta.kubernetes.io/azure-load-balancer-resource-group":"","service.beta.kubernetes.io/azure-allowed-service-tags":"","service.beta.kubernetes.io/azure-load-balancer-tcp-idle-timeout":"","service.beta.kubernetes.io/azure-load-balancer-disable-tcp-reset":""},"Huawei Cloud CCE":{"kubernetes.io/elb.class":"","kubernetes.io/session-affinity-mode":"","kubernetes.io/elb.id":"","kubernetes.io/elb.subnet-id":""},"Amazon EKS":{"service.beta.kubernetes.io/load-balancer-source-ranges":"","service.beta.kubernetes.io/aws-load-balancer-type\t":"","service.beta.kubernetes.io/aws-load-balancer-nlb-target-type":"","service.beta.kubernetes.io/aws-load-balancer-name\t":"","service.beta.kubernetes.io/aws-load-balancer-internal":"","service.beta.kubernetes.io/aws-load-balancer-scheme":"","service.beta.kubernetes.io/aws-load-balancer-proxy-protocol":"","service.beta.kubernetes.io/aws-load-balancer-ip-address-type":"","service.beta.kubernetes.io/aws-load-balancer-access-log-enabled":"","service.beta.kubernetes.io/aws-load-balancer-access-log-s3-bucket-name":"","service.beta.kubernetes.io/aws-load-balancer-access-log-s3-bucket-prefix":"","service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled":"","service.beta.kubernetes.io/aws-load-balancer-ssl-cert":"","service.beta.kubernetes.io/aws-load-balancer-ssl-ports":"","service.beta.kubernetes.io/aws-load-balancer-ssl-negotiation-policy":"","service.beta.kubernetes.io/aws-load-balancer-backend-protocol":"","service.beta.kubernetes.io/aws-load-balancer-additional-resource-tags":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-healthy-threshold":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-unhealthy-threshold":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-timeout":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-interval":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-protocol":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-port\t":"","service.beta.kubernetes.io/aws-load-balancer-healthcheck-path":"","service.beta.kubernetes.io/aws-load-balancer-eip-allocations":"","service.beta.kubernetes.io/aws-load-balancer-private-ipv4-addresses\t":"","service.beta.kubernetes.io/aws-load-balancer-target-group-attributes":"","service.beta.kubernetes.io/aws-load-balancer-subnets":"","service.beta.kubernetes.io/aws-load-balancer-alpn-policy":"","service.beta.kubernetes.io/aws-load-balancer-target-node-labels":""},"Google Kubernetes Engine":{"cloud.google.com/network-tier":""},"QingCloud Kubernetes Engine":{"service.beta.kubernetes.io/qingcloud-load-balancer-eip-ids":"","service.beta.kubernetes.io/qingcloud-load-balancer-type":"0"},"Tencent Kubernetes Engine":{"service.kubernetes.io/loadbalance-id":"","service.kubernetes.io/qcloud-loadbalancer-internal-subnetid":"","service.kubernetes.io/tke-existed-lbid":"","service.kubernetes.io/local-svc-only-bind-node-with-pod":"","service.cloud.tencent.com/local-svc-weighted-balance":"","service.kubernetes.io/qcloud-loadbalancer-backends-label":"","service.cloud.tencent.com/direct-access":"","service.cloud.tencent.com/tke-service-config":"","service.cloud.tencent.com/tke-service-config-auto":"","service.kubernetes.io/loadbalance-nat-ipv6":"","service.kubernetes.io/loadbalance-type":"","service.cloud.tencent.com/specify-protocol":"","service.kubernetes.io/service.extensiveParameters":"","service.cloud.tencent.com/enable-grace-shutdown":"","kubernetes.io/service.internetChargeType":"","kubernetes.io/service.internetMaxBandwidthOut":""},OpenELB:{"lb.kubesphere.io/v1alpha1":"","protocol.openelb.kubesphere.io/v1alpha1":"","eip.openelb.kubesphere.io/v1alpha2":""}};t.CLUSTER_PROVIDERS_ANNOTATIONS=r},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(68)),d=n(r(0)),p=r(189),m=r(61);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"componentDidMount",value:function(){"ExternalName"!==(0,s.default)(this.formTemplate,"spec.type")&&(0,f.default)(this.formTemplate,"spec",{type:"ExternalName"})}},{key:"render",value:function(){var e=this.props.formRef;return d.default.createElement(p.Form,{data:this.formTemplate,ref:e},d.default.createElement(p.Form.Item,{label:t("EXTERNAL_SERVICE_ADDRESS"),desc:t("EXTERNAL_SERVICE_ADDRESS_DESC"),rules:[{required:!0,message:t("EXTERNAL_SERVICE_ADDRESS_EMPTY_DESC")}]},d.default.createElement(p.Input,{name:"spec.externalName",placeholder:"foo.bar.example.com"})))}},{key:"formTemplate",get:function(){var e=this.props,t=e.formTemplate,a=e.module;return(0,s.default)(t,m.MODULE_KIND_MAP[a],t)}}]),r}(d.default.Component);a.default=v},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(70),r(14),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(70),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(195),r(11),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(68)),d=n(r(196)),p=n(r(67)),m=n(r(0)),h=r(189),v=n(r(827)),g=n(r(824)),y=n(r(1155)),E=r(56),b=r(61),O=n(r(1373)),S=n(r(2193));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var _=function(e){(0,o.default)(r,e);var a=C(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).state={serviceType:"virtualIP"},e.handleTypeChange=function(t){e.setState({serviceType:t},(function(){"virtualIP"===t?(0,d.default)(e.formTemplate,"spec.clusterIP"):(0,f.default)(e.formTemplate,"spec.clusterIP","None")}))},e.portsValidator=function(e,a,r){if(!a)return r();if(a.length>0){var n=[];a.forEach((function(e){return e.name&&e.port?n.includes(e.name)?r({message:t("PORT_INPUT_DESC")}):e.name&&(e.name.length>63||!b.PATTERN_PORT_NAME.test(e.name))?r({message:t("PORT_NAME_DESC")}):void n.push(e.name):r({message:t("INVALID_PORT")})}))}r()},e.labelsValidator=function(e,a,r){return a?(0,p.default)(a)?r({message:t("ENTER_SELECTOR_TIP")}):(0,E.isValidLabel)(a)?r():r({message:t("LABEL_FORMAT_DESC")}):r()},e}return(0,u.default)(r,[{key:"renderTypeSelect",value:function(){return m.default.createElement(h.Form.Item,{label:t("INTERNAL_ACCESS_MODE")},m.default.createElement(v.default,{className:"margin-b12",value:this.state.serviceType,onChange:this.handleTypeChange,options:this.types}))}},{key:"renderLabelSelector",value:function(){return m.default.createElement(h.Form.Item,{label:t("WORKLOAD_SELECTOR"),rules:[{required:!0,message:t("ENTER_SELECTOR_TIP")},{validator:this.labelsValidator}]},m.default.createElement(O.default,{name:"spec.selector",cluster:this.props.cluster,namespace:this.namespace,addText:t("ADD")}))}},{key:"renderPorts",value:function(){return m.default.createElement(h.Form.Group,{label:t("PORT_PL"),desc:t("SERVICE_PORTS_DESC")},m.default.createElement(h.Form.Item,{rules:[{required:!0,message:t("PORT_EMPTY")},{validator:this.portsValidator,checkOnSubmit:!0}]},m.default.createElement(g.default,{name:"spec.ports",itemType:"object",addText:t("ADD")},m.default.createElement(y.default,null))))}},{key:"render",value:function(){var e=this.props.formRef;return m.default.createElement("div",{className:S.default.wrapper},m.default.createElement(h.Form,{data:this.formTemplate,ref:e},this.renderTypeSelect(),this.renderLabelSelector(),this.renderPorts()))}},{key:"formTemplate",get:function(){var e=this.props,t=e.formTemplate,a=e.module;return(0,s.default)(t,b.MODULE_KIND_MAP[a],t)}},{key:"namespace",get:function(){return(0,s.default)(this.formTemplate,"metadata.namespace")}},{key:"types",get:function(){return[{icon:"cluster",label:t("VIRTUAL_IP_TITLE"),description:t("VIRTUAL_IP_DESC"),value:"virtualIP"},{icon:"blockchain",label:t("INTERNAL_DOMAIN_NAME"),description:t("INTERNAL_DOMAIN_NAME_DESC"),value:"headlessSelector"}]}}]),r}(m.default.Component);a.default=_},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(98),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(71),r(79),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37));r(12),r(32),r(3),r(10),r(6),r(27),r(98),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(71),r(79),r(7);var f=n(r(808)),d=n(r(163)),p=n(r(0)),m=r(189),h=n(r(805)),v=n(r(995)),g=r(61),y=n(r(2189));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){var t="HTTP",a=e.value,r=a.name,n=a.targetPort,l=a.port;if(!(0,d.default)(r)){var u=r.match(/^(\w+)-(.*)/);u&&(t=(u[1]||"HTTP").toUpperCase())}return{name:(0,d.default)(r)?"".concat(t.toLowerCase(),"-"):r,protocol:g.PROTOCOLS.some((function(e){return e.value===t}))?t:e.value.protocol,targetPort:n,port:l}},C=function(e){(0,i.default)(r,e);var a=O(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this,e)).triggerChange=(0,f.default)((function(){var e=t.state,a=e.name,r=e.protocol,n=e.targetPort,l=e.port;t.props.onChange({name:a,protocol:"UDP"===r?"UDP":"TCP",targetPort:n,port:l})}),300),t.handleNameChange=function(e,a){t.setState({name:a},(function(){return t.triggerChange()}))},t.handleProtocolChange=function(e){var a,r=t.state.name,n="".concat(t.state.protocol.toLowerCase(),"-");a=r.startsWith(n)?"".concat(e.toLowerCase(),"-").concat(r.replace(n,"")):"".concat(e.toLowerCase(),"-"),t.setState({name:a,protocol:e},(function(){return t.triggerChange()}))},t.handleTargetPortChange=function(e){t.setState({targetPort:e},(function(){return t.triggerChange()}))},t.handlePortChange=function(e){t.setState({port:e},(function(){return t.triggerChange()}))},t.state=b(b({},S(e)),{},{value:e.value}),t}return(0,o.default)(r,[{key:"render",value:function(){var e=this.state,a=e.name,r=e.protocol,n=e.targetPort,l=e.port;return p.default.createElement("div",{className:y.default.wrapper},p.default.createElement(v.default,{prefix:p.default.createElement("div",{className:y.default.tip},p.default.createElement("span",null,t("PROTOCOL")),p.default.createElement(m.Tooltip,{content:t("ISTIO_PROTOCOL_TIP")},p.default.createElement(m.Icon,{name:"question"})))},p.default.createElement(m.Select,{name:"protocol",value:r,options:g.PROTOCOLS,defaultValue:"HTTP",onChange:this.handleProtocolChange})),p.default.createElement(v.default,{prefix:t("NAME"),placeholder:t("REQUIRED")},p.default.createElement(m.Input,{name:"name",value:a,onChange:this.handleNameChange})),p.default.createElement(v.default,{prefix:t("CONTAINER_PORT")},p.default.createElement(h.default,{name:"targetPort",min:1,max:65535,value:n,integer:!0,onChange:this.handleTargetPortChange})),p.default.createElement(v.default,{prefix:t("SERVICE_PORT")},p.default.createElement(h.default,{name:"port",min:1,max:65535,value:l,integer:!0,placeholder:t("REQUIRED"),onChange:this.handlePortChange})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.value?b(b({},S(e)),{},{value:e.value}):null}}]),r}(p.default.Component);a.default=C,C.defaultProps={value:{},onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(20),r(14),r(9),r(4),r(18),r(30),r(11),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(20),r(29),r(14),r(9),r(4),r(21),r(18),r(43),r(11);var l=n(r(31)),u=n(r(38));r(35);var o=n(r(39)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(26)),h=n(r(68)),v=n(r(5)),g=r(189),y=n(r(899)),E=n(r(1375)),b=n(r(1377)),O=n(r(447)),S=n(r(459)),C=r(61),_=r(56),k=n(r(2198)),R=n(r(2200));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var D=function(e){(0,s.default)(r,e);var a=N(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).fetchData=(0,o.default)(u.default.mark((function e(){var a,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.secretStore.fetchListByK8s({namespace:t.namespace,cluster:t.props.cluster,fieldSelector:"type=kubernetes.io/basic-auth"});case 2:a=e.sent,r=a.map((function(e){return{label:(0,_.getDisplayName)(e),value:e.name,type:"basic-auth"}})),t.setState({basicSecretOptions:r});case 5:case"end":return e.stop()}}),e)}))),t.fetchImageSecrets=(0,o.default)(u.default.mark((function e(){var a,r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.secretStore.fetchListByK8s({namespace:t.namespace,cluster:t.props.cluster,fieldSelector:"type=kubernetes.io/dockerconfigjson"});case 2:a=e.sent,r=a.map((function(e){var t=(0,m.default)(e,'data[".dockerconfigjson"].auths',{}),a=Object.keys(t)[0]||"";return{label:(0,_.getDisplayName)(e),value:e.name,repoUrl:a,type:"dockerconfigjson"}})),t.setState({imageSecretOptions:r});case 5:case"end":return e.stop()}}),e)}))),t.getTemplateList=(0,o.default)(u.default.mark((function e(){var a;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({isGetTemplateListLoading:!0}),e.next=3,t.builderStore.getBuilderTemplate({cluster:t.props.cluster});case 3:a=e.sent,t.setState({builderTemplateLists:(0,m.default)(a,"items",[]),isGetTemplateListLoading:!1});case 5:case"end":return e.stop()}}),e)}))),t.handleImageSecretChange=function(e,a){var r=t.props.formTemplate,n=(0,m.default)(a,"[0]repoUrl","");(0,h.default)(r,"".concat(t.prefix,'metadata.annotations["kubesphere.io/repoUrl"]'),n)},t.handleImageTemplateChange=function(e){var a=e.environment,r=e.docUrl,n=(0,m.default)(globals,"user.lang","zh"),l=(a||[]).map((function(e){e.label=e.key;var t=(e.description||"").split(". "),a="zh"===n?(0,m.default)(t,"1",e.description):(0,m.default)(t,"0",e.description);return e.label="".concat(e.key,"  (").concat(a,")"),e.value=e.key,e}));t.setState({environment:l,docUrl:r})},t.secretStore=new O.default,t.builderStore=new S.default,t.state={isGetTemplateListLoading:!0,environment:[],basicSecretOptions:[],imageSecretOptions:[],docUrl:""},t}return(0,c.default)(r,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchImageSecrets(),this.getTemplateList()}},{key:"renderAdvancedSetting",value:function(){var e=t.html("S2I_ENVIRONMENT_DESC",{link:this.state.docUrl||(0,_.getDocsUrl)("s2i_template")});return p.default.createElement(p.default.Fragment,null,p.default.createElement(g.Form.Item,{label:t("TRIGGER_TOKEN"),desc:t("TRIGGER_TOKEN_DESC"),rules:[{pattern:/^[a-zA-Z0-9]+$/,message:"".concat(t("INVALID_TRIGGER_TOKEN_DESC"))}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.secretCode"),defaultValue:""})),p.default.createElement(g.Alert,{className:R.default.environment_info,message:(0,_.htmlLinkControl)(e),type:"info"}),p.default.createElement(g.Form.Item,null,p.default.createElement(E.default,{name:"".concat(this.prefix,"spec.config.environment"),options:this.state.environment})))}},{key:"render",value:function(){var e=this.props,a=e.formTemplate,r=e.formRef,n=e.mode,u=e.prefix,o=t.html("S2I_TARGET_IMAGE_REPOSITORY_DESC",{link:(0,_.getDocsUrl)("secrets")});return p.default.createElement(g.Form,{ref:r,data:a},p.default.createElement(g.Form.Item,{label:t("ARTIFACT_FILE"),rules:[{required:!0,message:t("ARTIFACT_FILE_EMPTY_DESC")}]},p.default.createElement(k.default,{name:"".concat(this.prefix,"spec.config.sourceUrl"),namespace:this.namespace,formTemplate:u?a[u]:a,cluster:this.props.cluster})),p.default.createElement(b.default,{loading:this.state.isGetTemplateListLoading,formTemplate:u?a[u]:a,builderTemplate:this.state.builderTemplateLists,onEnvironmentChange:this.handleImageTemplateChange}),p.default.createElement("div",{className:(0,v.default)(R.default.columns,(0,l.default)({},R.default.columsEdit,"edit"===n))},p.default.createElement("div",{className:R.default.column},p.default.createElement(g.Form.Item,{label:t("IMAGE_NAME"),desc:t("S2I_IMAGE_NAME_DESC"),rules:[{required:!0,message:t("IMAGE_NAME_EMPTY_DESC")},{pattern:C.PATTERN_IMAGE_NAME,message:t("INVALID_NAME_DESC",{message:t("S2I_IMAGE_NAME_DESC")})}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.imageName")}))),p.default.createElement("div",{className:"is-2"},p.default.createElement(g.Form.Item,{label:t("IMAGE_TAG"),rules:[{required:!0,message:t("IMAGE_TAG_EMPTY_DESC")}]},p.default.createElement(g.Input,{name:"".concat(this.prefix,"spec.config.tag"),defaultValue:"latest"}))),p.default.createElement("div",{className:"is-half"},p.default.createElement(g.Form.Item,{label:t("TARGET_IMAGE_REPOSITORY"),desc:(0,_.htmlLinkControl)(o),rules:[{required:!0,message:t("TARGET_IMAGE_REPOSITORY_EMPTY_DESC")}]},p.default.createElement(g.Select,{name:"".concat(this.prefix,"spec.config.pushAuthentication.secretRef.name"),options:this.state.imageSecretOptions,onChange:this.handleImageSecretChange,placeholder:" "})))),p.default.createElement(y.default,null,this.renderAdvancedSetting()))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}},{key:"namespace",get:function(){return this.props.namespace}}]),r}(p.default.Component);a.default=D,D.defaultProps={mode:"create",prefix:""}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var s=function(e){(0,u.default)(a,e);var t=c(a);function a(){var e;(0,n.default)(this,a);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).module="servicemonitors",e}return(0,l.default)(a,[{key:"apiVersion",get:function(){return"apis/monitoring.coreos.com/v1"}}]),a}(r(a(49)).default);t.default=s},,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(20),a(14),a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(3),a(20),a(14),a(8),a(4),a(21);var n=r(a(38)),l=r(a(50));a(35);var u,o,i=r(a(39)),c=r(a(62)),s=r(a(25)),f=r(a(28)),d=r(a(45)),p=(r(a(63)),r(a(1162))),m=a(17),h=r(a(92)),v=(u=function(){function e(){(0,s.default)(this,e),(0,c.default)(this,"list",o,this)}var t;return(0,f.default)(e,[{key:"fetchList",value:(t=(0,i.default)(n.default.mark((function e(t){var a,r,u,o,i,c;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.name,a=t.cluster,r=t.namespace,u=(0,l.default)(t,["name","cluster","namespace"]),this.list.isLoading=!0,o=a?"/klusters/".concat(a):"",i=r?"/namespaces/".concat(r):"",e.next=6,request.get("api/v1".concat(o).concat(i,"/events"),u);case 6:c=e.sent,this.list={data:(0,p.default)(c.items.map(h.default.events),"lastTimestamp"),total:c.items.length,isLoading:!1};case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),o=(0,d.default)(u.prototype,"list",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],page:1,limit:10,total:0,isLoading:!0}}}),(0,d.default)(u.prototype,"fetchList",[m.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchList"),u.prototype),u);t.default=v},,,,,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(163)),p=n(r(0)),m=r(189),h=n(r(2550));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var g={className:h.default.slider,railStyle:{height:30,backgroundColor:"#7eb8dc",borderRadius:2},handleStyle:{width:14,height:30,marginTop:0,backgroundColor:"#fff",borderRadius:0,border:"none"},trackStyle:{height:30,borderRadius:2,backgroundColor:"#329dce"}},y=function(e){(0,c.default)(r,e);var a=v(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.leftContent,r=e.rightContent,n=e.defaultValue,o=(0,u.default)(e,["leftContent","rightContent","defaultValue"]),i=(0,d.default)(o.value)?n:o.value;return p.default.createElement("div",{className:h.default.wrapper},p.default.createElement(m.Slider,(0,l.default)({min:0,max:100,defaultValue:i},o,g)),p.default.createElement("span",{className:h.default.floatContent,style:{left:"".concat(Math.floor(i/2),"%"),maxWidth:"".concat(i,"%")}},t("VERSION_TRAFFIC_PERCENT",{version:a,percent:i})),p.default.createElement("span",{className:h.default.floatContent,style:{left:"".concat(Math.floor(i/2)+50,"%"),maxWidth:"".concat(100-i,"%")}},t("VERSION_TRAFFIC_PERCENT",{version:r,percent:100-i})))}}]),r}(p.default.PureComponent);a.default=y,y.defaultProps={defaultValue:50}},,,,,,,function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(20),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(71),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(69),r(71),r(139),r(7);var l=n(r(31)),u=n(r(38));r(35);var o,i=n(r(39)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=n(r(5)),v=r(243),g=r(893),y=n(r(26)),E=n(r(67)),b=n(r(1180)),O=r(61),S=r(189),C=n(r(191)),_=n(r(823)),k=n(r(854)),R=n(r(1043)),N=n(r(452)),D=n(r(2697));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var I=new b.default,M=(0,v.observer)(o=function(e){(0,f.default)(n,e);var a,r=w(n);function n(e){var a;return(0,c.default)(this,n),(a=r.call(this,e)).scrollToBottom=function(){var e=a.ref.current;e&&(e.scrollTop=e.scrollHeight),a.setState({loadingNext:!1})},a.scrollToCurrent=function(){var e=a.ref.current;e&&(e.scrollTop=e.scrollHeight-a.currentHeight),a.setState({loadingPrev:!1})},a.handleNext=function(){a.tailLines=1e3,a.setState({loadingNext:!0}),a.getData({silent:!0},a.scrollToBottom)},a.handlePrev=function(){a.tailLines+=1e3,a.setState({loadingPrev:!0}),a.currentHeight=(0,y.default)(a.ref,"current.scrollHeight",0),a.getData({silent:!0},a.scrollToCurrent)},a.handleRealtime=function(){a.setState((function(e){return{isRealtime:!e.isRealtime}}),(function(){return a.getData({silent:!0},a.scrollToBottom)}))},a.handleDownload=(0,i.default)(u.default.mark((function e(){var r,n,l,o,i,c,s;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.props,n=r.cluster,l=r.namespace,o=r.podName,i=r.containerName,a.setState({isDownloading:!0}),e.next=4,a.store.fetchAllLogs({cluster:n,namespace:l,podName:o,container:i});case 4:if(c=e.sent,a.setState({isDownloading:!1}),c){e.next=9;break}return C.default.info({content:t("NO_LOG_DATA_FOUND_TIP")}),e.abrupt("return");case 9:s=new Blob([c],{type:"text/plain;charset=utf-8"}),(0,g.saveAs)(s,"".concat(i,".log"));case 11:case"end":return e.stop()}}),e)}))),a.state={loadingPrev:!1,loadingNext:!1,isDownloading:!1,isRealtime:!!e.isRealtime},a.tailLines=1e3,a.store=new R.default,a.podStore=new N.default,a.ref=m.default.createRef(),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.getData({},this.scrollToBottom)}},{key:"componentDidUpdate",value:function(e){this.props.podName&&this.props.podName!==e.podName&&this.getData({},this.scrollToBottom)}},{key:"componentWillUnmount",value:function(){this.store.stopWatchLogs()}},{key:"getData",value:(a=(0,i.default)(u.default.mark((function e(t,a){var r,n,l,o,i,c,s;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,n=r.cluster,l=r.namespace,o=r.podName,i=r.containerName,c=r.gatewayName,s=r.gatewayNamespace,this.store.stopWatchLogs(),e.next=4,this.podStore.checkName({cluster:n,namespace:l,name:o});case 4:e.sent.exist&&this.store.watchLogs(P({cluster:n,namespace:c?s:l,podName:o,container:i,tailLines:this.tailLines,timestamps:!0,follow:this.state.isRealtime,gateways:c},t),a);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"renderOperations",value:function(){var e=this.state,a=e.isRealtime,r=e.isDownloading;return m.default.createElement("div",{className:D.default.operations},m.default.createElement(S.Tooltip,{content:t(a?"STOP_REAL_TIME_CONTAINER_LOG":"START_REAL_TIME_CONTAINER_LOG")},m.default.createElement(S.Icon,{name:a?"stop":"start",color:{primary:"#fff",secondary:"#fff"},size:20,onClick:this.handleRealtime,clickable:!0,changeable:!0})),m.default.createElement("span",{className:D.default.split},"|"),m.default.createElement(S.Tooltip,{content:t("REFRESH")},m.default.createElement(S.Icon,{name:"refresh",color:{primary:"#fff",secondary:"#fff"},size:20,onClick:this.handleNext,clickable:!0,changeable:!0,disabled:a})),m.default.createElement("span",{className:D.default.split},"|"),m.default.createElement(S.Tooltip,{content:t("DOWNLOAD")},r?m.default.createElement(S.Loading,{size:16}):m.default.createElement(S.Icon,{name:"download",color:{primary:"#fff",secondary:"#fff"},size:20,onClick:this.handleDownload,clickable:!0,changeable:!0})))}},{key:"renderContent",value:function(){var e=this.props.contentClassName,a=this.store.logs.data,r=this.state,n=r.loadingPrev,l=r.loadingNext;if((0,E.default)(a))return m.default.createElement(k.default,{desc:"NO_DATA"});var u=String(a).replace(/\\r\\n/g,"\n").split("\n");return m.default.createElement("div",{className:(0,h.default)(D.default.content,e),ref:this.ref},this.tailLines<=u.length&&m.default.createElement("div",{className:D.default.loading},n?m.default.createElement(S.Loading,{spinning:n,size:"small"}):m.default.createElement("div",{className:D.default.more,onClick:this.handlePrev},t("VIEW_MORE"))),u.map((function(e,t){var a=e.match(O.PATTERN_UTC_TIME),r=a?a[0]:t,n=a?e.replace(a[0],""):e;return m.default.createElement("p",{key:r,dangerouslySetInnerHTML:{__html:I.ansi_to_html(n)}})})),m.default.createElement("div",{className:D.default.loading},m.default.createElement(S.Loading,{spinning:l,size:"small"})),this.renderOperations())}},{key:"render",value:function(){var e=this.props.className,a=this.store.logs.isLoading;return m.default.createElement(_.default,{className:e,empty:t("NO_LOG_DATA_FOUND"),loading:a},this.renderContent())}}]),n}(m.default.Component))||o;a.default=M},,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(14),a(8),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(14),a(8),a(4),a(21),a(18),a(43),a(11);var n=r(a(38));a(35);var l,u,o,i,c,s=r(a(39)),f=r(a(50)),d=r(a(62)),p=r(a(25)),m=r(a(28)),h=r(a(74)),v=r(a(41)),g=r(a(42)),y=r(a(37)),E=r(a(45)),b=(r(a(63)),a(17)),O=r(a(26)),S=r(a(460)),C=r(a(128));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,y.default)(e);if(t){var n=(0,y.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,g.default)(this,a)}}var k=(l=function(e){(0,v.default)(r,e);var t,a=_(r);function r(){var e;(0,p.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).resourceName="repos",e.defaultStatus=["active"],(0,d.default)(e,"events",u,(0,h.default)(e)),e.getUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.workspace,r=t.repo_id,n=t.name,l=e.baseUrl;return a&&(l+="/workspaces/".concat(a)),r?"".concat(l,"/repos/").concat(r,"/").concat(n||""):"".concat(l,"/repos")},e.getWatchListUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.workspace;return"apis/application.kubesphere.io/v1alpha1/watch/helmrepos?labelSelector=kubesphere.io/workspace=".concat(t)},(0,d.default)(e,"fetchDetail",o,(0,h.default)(e)),(0,d.default)(e,"update",i,(0,h.default)(e)),(0,d.default)(e,"delete",c,(0,h.default)(e)),e}return(0,m.default)(r,[{key:"validate",value:function(e){var t=e.workspace,a=(0,f.default)(e,["workspace"]);return request.post("".concat(this.getUrl({workspace:t}),"?validate=true"),a)}},{key:"index",value:function(e){var t=e.workspace,a=e.repo_id;if(a)return request.post(this.getUrl({workspace:t,repo_id:a,name:"action"}),{action:"index"})}},{key:"fetchEvents",value:(t=(0,s.default)(n.default.mark((function e(t){var a,r,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.workspace,r=t.repo_id,this.events.isLoading=!0,e.next=4,request.get(this.getUrl({workspace:a,repo_id:r,name:"events"}),{});case 4:l=e.sent,this.events.update({data:(0,O.default)(l,"items",[]),total:(0,O.default)(l,"total_count",0)}),this.events.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"setSelectRowKeys",value:function(e){this.list.selectedRowKeys=e}}]),r}(S.default),u=(0,E.default)(l.prototype,"events",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new C.default}}),o=(0,E.default)(l.prototype,"fetchDetail",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,s.default)(n.default.mark((function t(){var a,r,l,u,o=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:{},r=a.workspace,l=a.repo_id,e.isLoading=!0,t.next=4,request.get(e.getUrl({workspace:r,repo_id:l}));case 4:u=t.sent,e.detail=u||{},e.detail.workspace=r,e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))}}),(0,E.default)(l.prototype,"validate",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"validate"),l.prototype),(0,E.default)(l.prototype,"index",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"index"),l.prototype),(0,E.default)(l.prototype,"fetchEvents",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchEvents"),l.prototype),i=(0,E.default)(l.prototype,"update",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,s.default)(n.default.mark((function t(){var a,r,l,u,o=arguments;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:{},r=a.workspace,l=a.repo_id,u=(0,f.default)(a,["workspace","repo_id"]),t.next=3,e.submitting(request.patch(e.getUrl({workspace:r,repo_id:l}),u));case 3:case"end":return t.stop()}}),t)})))}}),c=(0,E.default)(l.prototype,"delete",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.workspace,r=t.repo_id;return e.submitting(request.delete(e.getUrl({workspace:a,repo_id:r}),{}))}}}),(0,E.default)(l.prototype,"setSelectRowKeys",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"setSelectRowKeys"),l.prototype),l);t.default=k},,function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(109),r(10),r(6),r(14),r(8),r(13),r(9),r(4),r(21),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(10),r(6),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(7);var u=l(r(31)),o=l(r(38));r(35);var i=l(r(39)),c=l(r(25)),s=l(r(28)),f=l(r(41)),d=l(r(42)),p=l(r(37)),m=n(r(0)),h=l(r(1)),v=l(r(5)),g=r(189),y=l(r(191)),E=l(r(897)),b=r(329),O=r(56),S=l(r(2780));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var R=function(e){(0,f.default)(r,e);var a=k(r);function r(e){var n;return(0,c.default)(this,r),(n=a.call(this,e)).showPackage=function(){var e=n.props,t=e.hasPackage,a=e.canCreate,r=e.canEdit;return(t||a||r)&&"init"===n.state.status},n.onUploadClick=function(e){e.stopPropagation(),n.uploadRef.onClick()},n.checkPackage=function(){var e=(0,i.default)(o.default.mark((function e(t){var a,r,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.setState({status:"uploading",fileName:t.name});case 2:if(a=n.fileStore,r=a.checkFile,l=a.handleFileByBase64Str,!(u=r(t,"package"))){e.next=8;break}n.setState({errorInfo:u,status:"error"}),e.next=10;break;case 8:return e.next=10,l(t,n.validatePackage);case 10:return e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.validatePackage=function(){var e=(0,i.default)(o.default.mark((function e(t){var a,r,l,u,i,c,s,f,d,p,m;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props,r=a.versionId,l=a.type,u=a.changeCheckStatus,i=a.appId,c=a.onOk,s=n.fileStore,f=s.validatePackage,d=s.uploadPackage,e.next=4,f(t,i);case 4:p=e.sent,m=p.error?"error":"success",n.setState({missFile:p.missFile,errorInfo:p.error,status:m}),u(_({status:m},p)),"MODIFY_VERSION"===l&&"success"===m&&(d(l,{version_id:r,app_id:i,name:p.version_name,base64Str:p.base64Str},c),n.setState({status:"init"}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.downloadPackage=function(){var e=n.props,a=e.appId,r={version_id:e.versionId,app_id:a,packageName:e.packageName};n.fileStore.downloadPackage(r).then((function(){y.default.success({content:t("DOWNLOAD_SUCCESSFUL")})}))},n.fileStore=n.props.fileStore,n.state={errorInfo:"",status:"init"},n}return(0,s.default)(r,[{key:"renderIcon",value:function(){var e=this.state.status;return"uploading"===e?m.default.createElement("div",{className:S.default.statusIcon},m.default.createElement(g.Loading,null)):m.default.createElement("div",{className:S.default.statusIcon},m.default.createElement("span",{className:S.default.emoji},"📦"),m.default.createElement(g.Icon,{size:16,name:e,className:S.default.icon}))}},{key:"renderUploadInfo",value:function(){var e=this.state,a=e.status,r=e.fileName,n=e.errorInfo,l=e.missFile,u=_(_({},b.UPLOAD_STATUS_WORD),{},{error:n});return m.default.createElement("div",{className:S.default.word},m.default.createElement("div",{className:S.default.name},"init"===a?t("UPLOAD_HELM_TITLE"):r),m.default.createElement("div",{className:S.default.description},t(u[a],{file:l}),"error"===a&&m.default.createElement("label",null,". ",t("UPLOAD_AGAIN_TIP"))))}},{key:"renderPackageInfo",value:function(){var e=this,a=this.props,r=a.className,n=a.packageName,l=a.updateTime,u=a.canEdit;return m.default.createElement("div",{className:(0,v.default)(S.default.upload,S.default.packageInfo,r)},this.renderIcon(),m.default.createElement("div",{className:S.default.word},m.default.createElement("div",{className:S.default.name},n,u&&m.default.createElement("label",{className:S.default.edit,onClick:this.onUploadClick},t("UPLOAD"))),m.default.createElement("div",{className:S.default.description},t("UPDATE_TIME_COLON"),(0,O.getLocalTime)(l).format("YYYY-MM-DD HH:mm:ss"))),m.default.createElement(g.Button,{onClick:this.downloadPackage,type:"default"},t("DOWNLOAD")),m.default.createElement(E.default,{ref:function(t){e.uploadRef=t},beforeUpload:this.checkPackage,accept:b.UPLOAD_FILE_TYPES.package}))}},{key:"renderInfo",value:function(){var e=this.props,a=e.className,r=e.canCreate,n=this.state.status;return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:(0,v.default)(S.default.upload,S.default[n],(0,u.default)({},S.default.hide,this.showPackage()),a)},this.renderIcon(),this.renderUploadInfo()),r&&m.default.createElement("div",{onClick:this.onUploadClick,className:S.default.reUpload},"👉 ",t("INCORRECT_FILE"),m.default.createElement("label",null,t("TRY_AGAIN"))))}},{key:"render",value:function(){var e=this;return this.showPackage()?this.renderPackageInfo():m.default.createElement(E.default,{ref:function(t){e.uploadRef=t},beforeUpload:this.checkPackage,accept:b.UPLOAD_FILE_TYPES.package},this.renderInfo())}}]),r}(m.Component);a.default=R,R.propTypes={className:h.default.string,type:h.default.string,appId:h.default.string,versionId:h.default.string,packageName:h.default.string,updateTime:h.default.string,hasPackage:h.default.bool,canCreate:h.default.bool,canEdit:h.default.bool,onOk:h.default.func,changeCheckStatus:h.default.func,fileStore:h.default.object},R.defaultProps={type:"CREATE_APP",appId:"",versionId:"",packageName:"",updateTime:"",hasPackage:!1,canCreate:!1,canEdit:!1,onOk:function(){},changeCheckStatus:function(){},fileStore:{}}},,,,,,function(e,t,a){e.exports={container:"_1nD6XAfp4F1CP0TUZ14wuY",uploadBox:"_3qz9Bb9S8uy26FWwL5CAtH",selectContainer:"_3-F3E5PVFjyvGtyH8Vy1zm",icon:"_8YaKHqEabE8cn6SpRjFWb",title:"_1ymOrdXf-n7OU5N3JGiQ1_",desc:"_2Z1XYGP2ihhkKmf_erD9jF",imageBox:"_2rmla7DOoS4AUTVnMOyPjQ",image:"jpacjU0Ia_Fkk1vw_mlKI",overlay:"Q1AULTd8cmMCZmyqBfYXD",preview:"_1H03rbOewvQiWrN23TozHS",box:"_2Af_1hKmH9W9WirEWb_qoD",bg:"_3TgII3QmLJpGLkMtLnwgrR",logo:"_27ESHRHHnqFtPIaJdfWgxs",loginForm:"_3Udded1kd5X7Cy0gJdIiZL",cancel:"_1Xc1x5tX9tO443phrk9hrR",loadingImage:"_3lLv7VwhAKRYy1i9tmLvCe",loading:"_1stswikNqFA6XtHiW6Nvi-",loadingPreviewImage:"Wi5A8ohAucOgJadN5HgsF"}},,function(e,t,a){"use strict";a(16);var r=a(19);a(192),a(10),a(20),a(24),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(192),a(10),a(20),a(29),a(24),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(67)),p=r(a(163)),m=r(a(1)),h=r(a(5)),v=a(189);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(a,e);var t=g(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.options,r=e.onChange,u=(0,l.default)(e,["value","options","onChange"]);return(0,d.default)(a)?null:f.default.createElement(v.RadioGroup,(0,n.default)({wrapClassName:(0,h.default)("radio-group-button",{"radio-with-badge":a.every((function(e){return!(0,p.default)(e.count)}))}),value:t,onChange:r},u),a.filter((function(e){return e&&!e.hidden})).map((function(e){var a,r;return e.tooltip?f.default.createElement(v.Tooltip,{key:e.value,content:e.tooltip.content,placement:e.tooltip.placement},f.default.createElement(v.RadioButton,{value:e.value,disabled:null!==(a=null==e?void 0:e.disabled)&&void 0!==a&&a},e.label,!(0,p.default)(e.count)&&f.default.createElement(v.Badge,{status:e.value===t?"success":"default",count:Number(e.count)}))):f.default.createElement(v.RadioButton,{key:e.value,value:e.value,disabled:null!==(r=null==e?void 0:e.disabled)&&void 0!==r&&r},e.label,!(0,p.default)(e.count)&&f.default.createElement(v.Badge,{status:e.value===t?"success":"default",count:Number(e.count)}))})))}}]),a}(f.default.Component);t.default=y,y.propTypes={options:m.default.array,value:m.default.any,onChange:m.default.func}},,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(14),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(14);var n=r(a(0)),l=a(189),u=r(a(826)),o=r(a(3175)),i=function(e){var t=e.type,a=e.name,r=e.isActive,i=void 0!==r&&r,c=e.icon,s=e.crumb,f=void 0!==s&&s?18:"openpitrixs"===t?35:40;return n.default.createElement(n.default.Fragment,null,"openpitrixs"===t?n.default.createElement("div",{className:o.default.img},n.default.createElement(u.default,{src:null,iconLetter:a,iconSize:f})):n.default.createElement(l.Icon,{name:c,size:f,type:i?"light":"dark"}))};t.default=i},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(10),a(20),a(14),a(8),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(10),a(20),a(29),a(14),a(8),a(4),a(21),a(18),a(43),a(11);var n=r(a(38));a(35);var l,u,o,i=r(a(39)),c=r(a(62)),s=r(a(25)),f=r(a(28)),d=r(a(74)),p=r(a(41)),m=r(a(42)),h=r(a(37)),v=r(a(45)),g=(r(a(63)),a(17)),y=a(56),E=a(249),b=r(a(92)),O=a(61);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var C=(l=function(e){(0,p.default)(h,e);var t,a,r,l,m=S(h);function h(e){var t;return(0,s.default)(this,h),t=m.call(this),(0,c.default)(t,"workloadDetail",u,(0,d.default)(t)),(0,c.default)(t,"currentRevision",o,(0,d.default)(t)),t.getDetailUrl=function(e){var a=e.name,r=e.cluster,n=e.namespace,l=e.revision;return"kapis/resources.kubesphere.io/v1alpha2".concat(t.getPath({cluster:r,namespace:n}),"/").concat(t.module,"/").concat(a,"/revisions/").concat(l)},t.module=e,t}return(0,f.default)(h,[{key:"fetchList",value:(l=(0,i.default)(n.default.mark((function e(t){var a,r,l,u,o,i,c,s,f=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,l=t.name,u=t.selector,this.list.isLoading=!0,o=(0,y.joinSelector)(u),i="deployments"===this.module?"apis/apps/v1".concat(this.getPath({cluster:a,namespace:r}),"/replicasets"):"apis/apps/v1".concat(this.getPath({cluster:a,namespace:r}),"/controllerrevisions"),e.next=6,request.get("".concat(i,"?labelSelector=").concat(o));case 6:c=e.sent,s=c.items.map(b.default.revisions).filter((function(e){return e.ownerName===l&&e.ownerKind===O.MODULE_KIND_MAP[f.module]})),this.list.update({data:s,isLoading:!1});case 9:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"fetchDetail",value:(r=(0,i.default)(n.default.mark((function e(t){var a,r,l,u,o,i;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.cluster,l=t.namespace,u=t.revision,this.isLoading=!0,e.next=4,request.get(this.getDetailUrl({name:a,cluster:r,namespace:l,revision:u}));case 4:o=e.sent,i=b.default.revisions(o),this.detail=i,this.isLoading=!1;case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchWorkloadDetail",value:(a=(0,i.default)(n.default.mark((function e(t){var a,r,l,u;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.cluster,l=t.namespace,e.next=3,request.get("apis/apps/v1".concat(this.getPath({cluster:r,namespace:l}),"/").concat(this.module,"/").concat(a));case 3:u=e.sent,this.workloadDetail=b.default[this.module](u);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchCurrentRevision",value:(t=(0,i.default)(n.default.mark((function e(){var t,a=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,this.fetchList(t);case 3:this.currentRevision=(0,E.getCurrentRevision)((0,g.toJS)(t),(0,g.toJS)(this.list.data),this.module);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),h}(r(a(49)).default),u=(0,v.default)(l.prototype,"workloadDetail",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),o=(0,v.default)(l.prototype,"currentRevision",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),(0,v.default)(l.prototype,"fetchList",[g.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchList"),l.prototype),(0,v.default)(l.prototype,"fetchDetail",[g.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchDetail"),l.prototype),(0,v.default)(l.prototype,"fetchWorkloadDetail",[g.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchWorkloadDetail"),l.prototype),(0,v.default)(l.prototype,"fetchCurrentRevision",[g.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchCurrentRevision"),l.prototype),l);t.default=C},function(e,t,a){"use strict";(function(e){var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(58)),u=r(a(31)),o=r(a(50));a(35);var i,c=r(a(39)),s=r(a(25)),f=r(a(28)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45)),v=r(a(26)),g=r(a(140)),y=a(17),E=a(61);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var C=(i=function(t){(0,d.default)(p,t);var a,r,u,i=S(p);function p(){var e;(0,s.default)(this,p);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=i.call.apply(i,[this].concat(a))).module="customScalings",e.getResourceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/scaledobjects")},e.getListUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/scaledobjects").concat(t.dryRun?"?dryRun=All":"")},e}return(0,f.default)(p,[{key:"fetchList",value:(u=(0,c.default)(n.default.mark((function e(){var t,a,r,u,i,c,s,f=this,d=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},a=t.cluster,t.workspace,r=t.namespace,u=t.more,t.type,i=(0,o.default)(t,["cluster","workspace","namespace","more","type"]),this.list.isLoading=!0,i.sortBy||void 0!==i.ascending||(i.sortBy=E.LIST_DEFAULT_ORDER[this.module]||"createTime"),i.limit!==1/0&&-1!==i.limit||(i.limit=-1,i.page=1),i.limit=i.limit||10,e.next=7,request.get(this.getResourceUrl({cluster:a,namespace:r}),i).catch((function(){}));case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:return c=e.t0,s=(0,v.default)(c,"items",[]).map((function(e){return O({cluster:a},f.mapper(e))})),this.list.update(O(O({data:u?[].concat((0,l.default)(this.list.data),(0,l.default)(s)):s,total:c.totalItems||c.total_count||s.length||0},(0,g.default)(i,"labelSelector")),{},{limit:Number(i.limit)||10,page:Number(i.page)||1,isLoading:!1},this.list.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"fetchDetail",value:(r=(0,c.default)(n.default.mark((function t(a,r){var l,u,o,i,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=a.cluster,u=a.namespace,o=a.name,this.isLoading=!0,t.next=4,request.get(this.getDetailUrl({cluster:l,namespace:u,name:o}),null,null,r||function(t){"NotFound"!==t.reason&&"Forbidden"!==t.reason||e.navigateTo("/404")});case 4:return i=t.sent,c=O({cluster:l},this.mapper(i)),this.detail=c,this.isLoading=!1,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"create",value:(a=(0,c.default)(n.default.mark((function e(t){var a,r=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",this.submitting(request.post(this.getListUrl(a),t)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"patch",value:function(e,t){return this.submitting(request.put(this.getDetailUrl(e),t))}}]),p}(r(a(49)).default),(0,h.default)(i.prototype,"fetchList",[y.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchList"),i.prototype),(0,h.default)(i.prototype,"fetchDetail",[y.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchDetail"),i.prototype),(0,h.default)(i.prototype,"create",[y.action],Object.getOwnPropertyDescriptor(i.prototype,"create"),i.prototype),(0,h.default)(i.prototype,"patch",[y.action],Object.getOwnPropertyDescriptor(i.prototype,"patch"),i.prototype),i);t.default=C}).call(this,a(75))},function(e,t,a){"use strict";a(16);var r=a(19);a(66),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(66),a(29),a(4),a(18),a(43),a(11);var n,l,u,o=r(a(62)),i=r(a(25)),c=r(a(28)),s=r(a(74)),f=r(a(41)),d=r(a(42)),p=r(a(37)),m=r(a(45)),h=(r(a(63)),a(17)),v=a(56),g=r(a(1017));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var E=["namespace_cpu_usage","namespace_memory_usage_wo_cache","namespace_cpu_used_requests_utilisation","namespace_cpu_used_limits_utilisation","namespace_memory_used_requests_utilisation","namespace_memory_used_limits_utilisation","namespace_pvc_bytes_used","namespace_gpu_usage","namespace_gpu_memory_usage","namespace_pod_count","namespace_net_bytes_received","namespace_net_bytes_transmitted"],b=["namespace_memory_usage_wo_cache","namespace_memory_limit_hard","namespace_cpu_usage","namespace_cpu_limit_hard","namespace_gpu_limit_hard","namespace_gpu_usage","namespace_gpu_memory_usage","namespace_pod_count","namespace_pods_hard","namespace_net_bytes_received","namespace_net_bytes_transmitted","namespace_cpu_used_requests_utilisation","namespace_cpu_used_limits_utilisation","namespace_memory_used_requests_utilisation","namespace_memory_used_limits_utilisation","namespace_pvc_bytes_used","namespace_pvc_count"],O=(n=function(e){(0,f.default)(a,e);var t=y(a);function a(e){var r;return(0,i.default)(this,a),r=t.call(this,e),(0,o.default)(r,"sort_metric",l,(0,s.default)(r)),(0,o.default)(r,"changeWorkSpace",u,(0,s.default)(r)),r.sort_metric_options=(0,v.hideGPUByLicense)(e.sort_metric_options||E,r.cluster),r.metrics_filter=(0,v.hideGPUByLicense)(b,r.cluster).join("|"),r}return(0,c.default)(a,[{key:"fetchUrl",get:function(){return"".concat(this.apiVersion,"/namespace_metrics")}}]),a}(g.default),l=(0,m.default)(n.prototype,"sort_metric",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E[0]}}),u=(0,m.default)(n.prototype,"changeWorkSpace",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.workspace=t,e.fetchAll()}}}),n);t.default=O},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(20),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.THEME=void 0,a(12),a(32),a(10),a(6),a(20),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n,l=r(a(31)),u=r(a(317)),o=r(a(50)),i=r(a(25)),c=r(a(28)),s=r(a(41)),f=r(a(42)),d=r(a(37)),p=r(a(0)),m=a(243),h=a(189),v=r(a(5)),g=r(a(26)),y=r(a(3327));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var S={default:(0,v.default)(y.default.table,y.default.table_rank,y.default.table_no_border),transparent:(0,v.default)(y.default.table,y.default.table_rank,y.default.table_no_border,y.default.table_transparent)};t.THEME=S;var C=(0,m.inject)("rootStore")(n=(0,m.observer)(n=function(e){(0,s.default)(a,e);var t=O(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,c.default)(a,[{key:"render",value:function(){var e=this.props,t=e.theme,a=(0,o.default)(e,["theme"]);return p.default.createElement("div",{className:t||S.default,"data-test":"ranking"},p.default.createElement(h.Table,(0,u.default)({},a,{columns:this.columns})))}},{key:"columns",get:function(){var e=(0,g.default)(this,"props.store.sort_metric","");return this.props.columns.map((function(t){return b(b({},t),{},{className:t.sort_metric===e?y.default.rankCol:""})}))}}]),a}(p.default.Component))||n)||n;t.default=C},,function(e,a,r){"use strict";r(16);var n=r(19);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.data,r=e.module,n=(0,o.getWorkloadStatus)(a,r).status,i="Running"===n?"JobRunning":n;return l.default.createElement(u.default,{type:i,name:t(n),flicker:!0})};var l=n(r(0)),u=n(r(807)),o=r(439)},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(14),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=l(r(38));r(35);var o=l(r(39)),i=l(r(97));r(14),r(4),r(21);var c=n(r(0)),s=l(r(452)),f=function(e){var a=e.name,r=e.namespace,n=e.cluster,l=(0,c.useState)(!0),f=(0,i.default)(l,2),d=f[0],p=f[1],m=(0,c.useState)(!1),h=(0,i.default)(m,2),v=h[0],g=h[1],y=function(){var e=(0,o.default)(u.default.mark((function e(){var t,l;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new s.default,p(!0),e.next=4,t.fetchList({cluster:n,namespace:r,pvcName:a});case 4:l=e.sent,g(l.length>0),p(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,c.useEffect)((function(){y()}),[]);var E=v?t("MOUNTED"):t("NOT_MOUNTED");return d?"":c.default.createElement("span",null,E)};a.default=f},,,,,function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.className,r=void 0===a?"":a,n=e.content,l=(0,o.useState)(!0),f=(0,u.default)(l,2),d=f[0],p=f[1];return o.default.createElement("div",{className:(0,c.default)(s.default.manage,r)},o.default.createElement(i.Dropdown,{theme:"dark",content:n,trigger:"click",placement:"bottomRight",onClick:function(){return p(!d)}},o.default.createElement("div",{className:s.default.button},o.default.createElement("span",null,t("MANAGE")),o.default.createElement(i.Icon,{name:d?"caret-down":"caret-up",type:"dark"}))))};var u=l(r(97)),o=n(r(0)),i=r(189),c=l(r(5)),s=l(r(3402))},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(66),a(320),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(66),a(27),a(320),a(29),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(31)),u=r(a(50));a(35);var o,i,c=r(a(39)),s=r(a(62)),f=r(a(25)),d=r(a(28)),p=r(a(74)),m=r(a(41)),h=r(a(42)),v=r(a(37)),g=r(a(45)),y=(r(a(63)),a(17)),E=r(a(67)),b=a(56);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var _=(o=function(e){(0,m.default)(r,e);var t,a=C(r);function r(){var e;(0,f.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=a.call.apply(a,[this].concat(n)),(0,s.default)(e,"sort",i,(0,p.default)(e)),e.resourceName="pod",e.getApi=function(t){var a=t.nodeName,r=t.workload;return"".concat(e.apiVersion,r?"/workload_metrics":a?"/node_metrics":"/pod_metrics")},e.handleParams=function(e){return e},e}return(0,d.default)(r,[{key:"fetchSortedMetrics",value:(t=(0,c.default)(n.default.mark((function e(t){var a,r,l,o,i,c,s,f,d,p;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,r=t.page,l=t.more,o=t.metrics,i=void 0===o?[]:o,c=(0,u.default)(t,["limit","page","more","metrics"]),this.sort.isLoading=!0,s=S({},c),(0,E.default)(i)||(s.sort_metric=i.join("|")),s.limit=a||10,s.page=r||1,c.cluster&&(this.cluster=c.cluster),f=this.getApi(c),e.next=10,(0,b.to)(request.get(f,s));case 10:return d=e.sent,p=this.getResult(d.results),l&&(p=this.getMoreResult(p,this.sort.data)),this.sort={data:p,total:d.total_item||0,limit:Number(d.limit||10),page:Number(d.page||1),isLoading:!1},e.abrupt("return",p);case 15:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(r(a(1543)).default),i=(0,g.default)(o.prototype,"sort",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:{},page:1,limit:10,total:0,isLoading:!1}}}),(0,g.default)(o.prototype,"fetchSortedMetrics",[y.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchSortedMetrics"),o.prototype),o);t.default=_},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(44),r(20),r(14),r(24),r(8),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(32),r(3),r(44),r(20),r(247),r(29),r(14),r(24),r(8),r(4),r(321),r(18),r(43),r(30),r(11),r(71);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(45)),d=n(r(0)),p=n(r(445)),m=r(17),h=r(243),v=r(189),g=n(r(3440)),y=n(r(801)),E=n(r(800)),b=n(r(827)),O=r(463),S=r(249),C=r(56),_=n(r(1202)),k=n(r(3445));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var N=(l=function(e){(0,i.default)(r,e);var a=R(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).revisionStore=new _.default(e.module),e.state={showViewYaml:!1,lastRevision:0,selectRevision:0},e.fetchData=function(){e.revisionStore.fetchList(e.store.detail).then((function(){e.setState({selectRevision:e.curRevision})}))},e.handleRevisionChange=function(t){e.setState({selectRevision:t})},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"renderDiff",value:function(){var e=this.state.selectRevision,a=(0,m.toJS)(this.revisionStore.list.data),r=Math.max(Number(e)-1,0),n=a.find((function(t){return t.revision===e})),l=a.find((function(e){return e.revision===r})),u=n?(0,O.getValue)(n._originData):"",o=l?(0,O.getValue)(l._originData):"";return d.default.createElement(g.default,{datas:[o,u],title:t("CONFIG_FILE"),description:l?t("COMPARE_WITH",{version:"#".concat(r," (").concat(l.name.replace("".concat(l.ownerName,"-"),""),")")}):""})}},{key:"render",value:function(){var e=this.revisionStore.list,a=e.data,r=e.isLoading,n=this.state.selectRevision,l=a.find((function(e){return e.revision===n}));return d.default.createElement("div",null,d.default.createElement(y.default,{title:t("REVISION_RECORDS")},d.default.createElement(v.Alert,{className:"margin-b12",message:t("REVISION_RECORDS_DESC"),hideIcon:!0}),d.default.createElement(b.default,{value:n,options:this.revisions,loading:r,onChange:this.handleRevisionChange})),l&&d.default.createElement(y.default,null,d.default.createElement("div",{className:k.default.header},d.default.createElement(E.default,{title:"#".concat(l.revision),description:t("SERIAL_NUMBER")}),d.default.createElement(E.default,{title:(0,C.getLocalTime)(l.createTime).format("YYYY-MM-DD HH:mm:ss"),description:t("CREATION_TIME")})),d.default.createElement("div",{className:k.default.diffWrapper},this.renderDiff())))}},{key:"module",get:function(){return this.store.module}},{key:"store",get:function(){return this.props.detailStore}},{key:"curRevision",get:function(){var e=(0,m.toJS)(this.revisionStore.list).data;return(0,S.getCurrentRevision)(this.store.detail,e,this.module)}},{key:"revisions",get:function(){var e=this,a=(0,m.toJS)(this.revisionStore.list).data;return(0,p.default)(a,(function(e){return parseInt(e.revision,10)})).reverse().map((function(a){var r="#".concat(a.revision," (").concat(a.name.replace("".concat(a.ownerName,"-"),""),")");return a.revision===e.curRevision&&(r=d.default.createElement("span",null,d.default.createElement("span",null,r)," ",d.default.createElement(v.Tag,{type:"primary"},t("RUNNING")))),{label:r,description:t("CREATED_TIME",{diff:(0,C.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")}),icon:"timed-task",value:a.revision}}))}}]),r}(d.default.Component),(0,f.default)(l.prototype,"curRevision",[m.computed],Object.getOwnPropertyDescriptor(l.prototype,"curRevision"),l.prototype),(0,f.default)(l.prototype,"revisions",[m.computed],Object.getOwnPropertyDescriptor(l.prototype,"revisions"),l.prototype),l),D=(0,h.inject)("rootStore","detailStore")((0,h.observer)(N));a.default=D;var T=N;a.Component=T},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(88),r(20),r(14),r(99),r(8),r(13),r(9),r(4),r(190),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(88),r(20),r(27),r(29),r(14),r(33),r(16),r(99),r(8),r(13),r(9),r(4),r(190),r(18),r(43),r(11),r(7);var l,u=n(r(97)),o=n(r(317)),i=n(r(31)),c=n(r(25)),s=n(r(28)),f=n(r(74)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(0)),v=n(r(5)),g=n(r(26)),y=n(r(67)),E=r(243),b=r(189),O=r(820),S=r(975),C=r(803),_=r(56),k=n(r(1019)),R=n(r(1214)),N=n(r(3452)),D=n(r(3456));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var I={cpu_usage:"pod_cpu_usage",memory_usage:"pod_memory_usage_wo_cache",gpu_usage:"pod_gpu_usage",gpu_memory_usage:"pod_gpu_memory_usage",net_transmitted:"pod_net_bytes_transmitted",net_received:"pod_net_bytes_received"},M={deployments:"deployment",statefulsets:"statefulset",daemonsets:"daemonset"},A=(0,E.inject)("rootStore","detailStore")(l=(0,E.observer)(l=function(e){(0,d.default)(r,e);var a=w(r);function r(e){var t;(0,c.default)(this,r),(t=a.call(this,e)).fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.state.pods;(0,y.default)(a)?t.resourceStore.fetchSortedMetrics(P(P({},t.resourceParams),{},{metrics:[I.cpu_usage],limit:5})).then((function(a){var r=((0,g.default)(a[I.cpu_usage],"data.result")||[]).map((function(e){return(0,g.default)(e,"metric.pod")}));t.setState({pods:r},(function(){t.fetchMetrics(P({resources:r},e))}))})):t.fetchMetrics(P({resources:a},e))},t.fetchMetrics=function(e){var a=t.store.detail.cluster;t.monitorStore.fetchMetrics(P(P({resources:[],metrics:Object.values((0,_.hideGPUByLicense)(I,a))},t.resourceParams),e))},t.getMonitoringCfgs=function(){return[{type:"cpu",title:"CPU_USAGE",unitType:"cpu",metricType:I.cpu_usage},{type:"memory",title:"MEMORY_USAGE",unitType:"memory",metricType:I.memory_usage},{type:"gpu",title:"GPU_USAGE",unitType:"gpu",metricType:I.gpu_usage},{type:"gpu_memory",title:"GPU_MEMORY_USAGE",unitType:"memory",metricType:I.gpu_memory_usage},{type:"bandwidth",title:"OUTBOUND_TRAFFIC",unitType:"bandwidth",metricType:I.net_transmitted},{type:"bandwidth",title:"INBOUND_TRAFFIC",unitType:"bandwidth",metricType:I.net_received}]},t.showMultipleModal=function(e){return(0,_.cacheFunc)("_showMultipleModal_".concat(e.title),(function(){t.setState({showMultipleModal:!0,selectItem:P(P({},e),{},{legend:["USAGE"]})})}),(0,f.default)(t))},t.hideMultipleModal=function(){t.setState({showMultipleModal:!1,selectItem:{}})},t.state={showMultipleModal:!1,selectItem:{},pods:[]};var n=(0,g.default)(t.props.rootStore,"routing.location.pathname","").indexOf("observability")>-1;return t.monitorStore=n?new R.default:new k.default,t.resourceStore=n?new R.default:new k.default,t}return(0,s.default)(r,[{key:"renderCard",value:function(){var e=this,a=this.store.detail,r=a.createTime,n=a.cluster,l=this.monitorStore,u=l.isLoading,i=l.isRefreshing,c=(0,_.hideGPUByLicense)(this.getMonitoringCfgs(),n),s=this.isMore;return h.default.createElement(S.Controller,{createTime:r,onFetch:this.fetchData,loading:u,refreshing:i,isEmpty:(0,y.default)(this.metrics)},s&&h.default.createElement(b.Alert,{message:t.html("MONITORING_ALERT_DESC"),type:"info"}),c.map((function(a){a.data=(0,g.default)(e.metrics,"".concat(a.metricType,".data.result"))||[{values:(0,C.getZeroValues)()}],a.legend=a.data.map((function(e,t){return(0,g.default)(e,"metric.pod","pod".concat(t))})),a.workload_kind=e.monitoringModule;var r=(0,C.getAreaChartOps)(a);return h.default.createElement("div",{key:a.title,className:(0,v.default)(D.default.item)},s&&h.default.createElement("div",{className:D.default.more,onClick:e.showMultipleModal(a)},t("VIEW_ALL_REPLICAS")),h.default.createElement(O.MultiArea,(0,o.default)({width:"100%"},r)))})))}},{key:"renderModal",value:function(){var e=this.state,t=e.showMultipleModal,a=e.selectItem,r=this.store.detail,n=r.name,l=r.cluster,u=r.namespace;return h.default.createElement("div",null,h.default.createElement(N.default,{visible:t,module:this.monitoringModule,name:n,cluster:l,namespace:u,config:a,onCancel:this.hideMultipleModal}))}},{key:"render",value:function(){return h.default.createElement("div",null,this.renderCard(),this.renderModal())}},{key:"store",get:function(){return this.props.detailStore}},{key:"monitoringModule",get:function(){return M[this.store.module]}},{key:"metrics",get:function(){var e={};return Object.entries(this.monitorStore.data).forEach((function(t){var a=(0,u.default)(t,2),r=a[0],n=a[1];(0,g.default)(n,"data.result")&&(e["".concat(r)]=n)})),e}},{key:"resourceParams",get:function(){var e=this.store.detail,t=e.cluster,a=e.namespace,r=e.name;return{cluster:t,namespace:a,workload_kind:this.monitoringModule,workload_name:r}}},{key:"isMore",get:function(){var e=this.store.detail,t=e.podNums,a=e.status;return(t||a.numberAvailable)>5}}]),r}(h.default.Component))||l)||l;a.default=A},function(e,t,a){e.exports={content:"_3FM8kUfPi58NTqG-v-BrNb",resources:"_1R7muvnsTC4Zhjl-4l-zuy",title:"_3de4DzGT3yyhEyce7ihHLp",list:"_2rzKFi8FHaUSYu0OXiI41n",hide:"_24XSytwk4ADbSpIYr6psrA",item:"e5UojLojMu_nnf3Yno4yX",itemCheck:"_16RkaI9cwAEHeMx-9x8l2-",itemInfo:"_2IvG7dy1qfqM5fGJKiD55j",charts:"_4ZadmDzM-srhYaOfs2tU9"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(10),r(6),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(31)),p=n(r(26)),m=n(r(140)),h=n(r(163)),v=n(r(198)),g=n(r(0)),y=n(r(106)),E=n(r(1096)),b=r(243),O=n(r(1)),S=n(r(5)),C=r(189),_=n(r(826)),k=n(r(800)),R=n(r(1253));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}E.default.defaultStyles.overlay=T(T({},E.default.defaultStyles.overlay),{},{padding:0,minWidth:500,backgroundColor:"rgba(35, 45, 65, 0.7)",zIndex:2e3,overflow:"auto"}),E.default.defaultStyles.content=T(T({},(0,m.default)(E.default.defaultStyles.content,["top","left","right","bottom","padding"])),{},{width:744,position:"relative",margin:"0 auto"});var P=function(e){(0,c.default)(r,e);var a=N(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"renderTitle",value:function(){var e=this.props,t=e.icon,a=e.imageIcon,r=e.title,n=e.description,l=e.rightScreen?48:(0,h.default)(n)?20:40;return g.default.createElement("div",{className:R.default.title},a?g.default.createElement("label",{className:R.default.image},g.default.createElement(_.default,{src:a,iconLetter:a,iconSize:l})):t&&g.default.createElement(C.Icon,{name:t,size:l}),g.default.createElement(k.default,{title:r,description:n}))}},{key:"render",value:function(){var e,a=this.props,r=a.className,n=a.width,o=a.visible,i=a.children,c=a.hideHeader,s=a.hideFooter,f=a.onOk,p=a.onCancel,m=a.okText,h=a.cancelText,v=a.okButtonType,y=a.cancelButtonType,b=a.closable,O=a.operations,k=a.headerClassName,N=a.bodyClassName,D=a.footerClassName,T=a.fullScreen,P=a.rightScreen,w=a.maskClosable,I=a.isSubmitting,M=a.icon,A=a.imageIcon,j=a.disableSubmit,x=(0,u.default)(a,["className","width","visible","children","hideHeader","hideFooter","onOk","onCancel","okText","cancelText","okButtonType","cancelButtonType","closable","operations","headerClassName","bodyClassName","footerClassName","fullScreen","rightScreen","maskClosable","isSubmitting","icon","imageIcon","disableSubmit"]),L={content:{}},U=(M||A)&&P;return T||P||(L.content.width=n),g.default.createElement(E.default,(0,l.default)({className:(0,S.default)(R.default.modal,r,(e={},(0,d.default)(e,R.default.fullscreen,T),(0,d.default)(e,R.default.rightScreen,P),e)),style:L,isOpen:o,onRequestClose:p,ariaHideApp:!1,closeTimeoutMS:0,shouldCloseOnOverlayClick:w},x),!c&&g.default.createElement("div",{className:(0,S.default)(R.default.header,k)},this.renderTitle(),U&&g.default.createElement("div",{className:R.default.iconBg},A?g.default.createElement(_.default,{src:A,iconLetter:A,iconSize:200}):g.default.createElement(C.Icon,{name:M,size:200})),O,b&&g.default.createElement(C.Button,{className:R.default.close,icon:"close",iconType:"light",type:"control",onClick:p,"data-test":"modal-close"})),g.default.createElement("div",{className:(0,S.default)(R.default.body,N)},i),!s&&g.default.createElement("div",{className:(0,S.default)(R.default.footer,D)},p&&g.default.createElement(C.Button,{type:y,onClick:p,"data-test":"modal-cancel"},h||t("CANCEL")),f&&g.default.createElement(C.Button,{type:v,loading:I,disabled:j||I,onClick:f,"data-test":"modal-ok"},m||t("OK"))))}}]),r}(g.default.Component);a.default=P,P.propTypes={className:O.default.string,headerClassName:O.default.string,bodyClassName:O.default.string,footerClassName:O.default.string,icon:O.default.string,title:O.default.oneOfType([O.default.node,O.default.string]),description:O.default.oneOfType([O.default.node,O.default.string]),width:O.default.oneOfType([O.default.number,O.default.string]),visible:O.default.bool,okText:O.default.string,cancelText:O.default.string,okButtonType:O.default.string,cancelButtonType:O.default.string,onOk:O.default.func,onCancel:O.default.func,renderFooter:O.default.func,children:O.default.any,hideHeader:O.default.bool,hideFooter:O.default.bool,closable:O.default.bool,maskClosable:O.default.bool,fullScreen:O.default.bool,rightScreen:O.default.bool,disableSubmit:O.default.bool},P.defaultProps={className:"",width:600,visible:!1,hideHeader:!1,hideFooter:!1,closable:!0,maskClosable:!1,fullScreen:!1,rightScreen:!1,isSubmitting:!1,okButtonType:"control",cancelButtonType:"default",disableSubmit:!1},P.open=function(e){var t=document.createElement("div");document.body.appendChild(t),document.activeElement.blur();var a=function(){(0,v.default)(e.onCancel)&&e.onCancel(),P.close(t)},r=e.modal,n=(0,b.observer)((function(){return g.default.createElement(r,(0,l.default)({},(0,m.default)(e,"modal","onCancel"),{isSubmitting:(0,p.default)(e,"store.isSubmitting"),onCancel:a,visible:!0}))}));return y.default.render(g.default.createElement(n,null),t),t},P.close=function(e){y.default.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e)}},,,,function(e,t,a){e.exports={modal:"_1pI81a849sBdLoSsfNz3bO",header:"_2s7aowlSdhOYMXS2Jm7vG6",description:"_2z75XuhVPAE_7-m7OmcC0S",title:"_Qdaq8r6ndedWXXzxTECd",close:"WGji0lI8P27hCj01Dte26",body:"_1L_vmkiDzIokO_PY6QgCyV",footer:"_1duLyVhpLkFayv65h1j06K",formFooter:"_1V656nmKZl5oUCGWPFbN37",formBody:"yF9CKgY_FHvpKQ3FkAV4a",formWrapper:"_3YDvf80jfYYCrSExCFoP7M",fullscreen:"_3O2rIXBjPShgoE_76ZZhJG",rightScreen:"_2Piu6Yd114ehE-e2pXS9vA",image:"_1xX3OGeaXAdYSHKTjf1zq5",iconBg:"_1f4HI1XLoN6s_b6YYRtN43"}},,function(e,t,a){e.exports={wrapper:"xOYrPqG-g6DB69YLsD_O_",item:"_2J4NQFpiE-obu_q7zar3ui",delete:"_2g8qpE4Omp7AMSnwds-dIM",add:"_3FHnKtK9lpIC2ASOyLOQja",desc:"_3nS3Wz5YrzLn95jhccTvof"}},,,,,,,function(e,t,a){e.exports={item:"c49tC4yzToWvu0kD5Uyz4",delete:"_3fSs_FpKcGbijULFpsHXgu",desc:"_2AW58cyKifXEsVKANdRBkn",footer:"_3UWE6J4ANxTg-EcxMf1D7v",errorText:"_1uxnypWghpFkOGJOD7d7I4"}},,,,,,,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(25)),u=n(a(28)),o=n(a(41)),i=n(a(42)),c=n(a(37)),s=r(a(0)),f=n(a(5)),d=n(a(1)),p=a(189),m=n(a(946)),h=n(a(1780));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(e){var r;return(0,l.default)(this,a),(r=t.call(this,e)).renderClusterItem=function(e){var t=r.props,a=t.onDelete,n=t.name,l=r.state,u=l.label,o=l.value;return s.createElement("div",{className:(0,f.default)(h.default.clusterTagItem,e||r.props.isTooltipContent?h.default.widthAuto:"")},s.createElement("span",{title:u,className:h.default.label},u),s.createElement("span",{title:o,className:h.default.value},o),a&&s.createElement(p.Icon,{name:"close",size:16,onClick:function(){return a({label:u,value:o,name:n})},clickable:!0}))},r.tagStore=new m.default("labels"),r.state={label:e.label,value:e.value,name:e.name},r}return(0,u.default)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.label,r=t.value,n=t.name;!n||a||r||this.tagStore.fetchDetail({name:n}).then((function(t){e.setState(t)}))}},{key:"render",value:function(){return s.createElement("div",null,this.renderClusterItem())}}]),a}(s.Component);t.default=g,g.propTypes={label:d.default.string,value:d.default.string,onDelete:d.default.func,name:d.default.string.isRequired}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"ReactComponent",(function(){return c}));var r=a(317),n=a.n(r),l=a(0),u=a.n(l),o=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.898 2l6.666 11.547H2.231L8.898 2zm.666 10a.667.667 0 11-1.333 0 .667.667 0 011.333 0zm0-6H8.231l.133 4.667h1.067L9.564 6z",fill:"#F5A623"}),i=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.564 6H8.231l.133 4.667h1.067L9.564 6zm-.666 6.667a.667.667 0 100-1.333.667.667 0 000 1.333z",fill:"#fff"}),c=function(e){return u.a.createElement("svg",n()({viewBox:"0 0 17 16",fill:"none",width:"1em",height:"1em"},e),o,i)};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNyAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljg5NzYyIDJMMTUuNTY0MyAxMy41NDY3SDIuMjMwOTZMOC44OTc2MiAyWk05LjU2NDI5IDEyLjAwMDdDOS41NjQyOSAxMi4zNjg5IDkuMjY1ODEgMTIuNjY3NCA4Ljg5NzYyIDEyLjY2NzRDOC41Mjk0MyAxMi42Njc0IDguMjMwOTYgMTIuMzY4OSA4LjIzMDk2IDEyLjAwMDdDOC4yMzA5NiAxMS42MzI1IDguNTI5NDMgMTEuMzM0IDguODk3NjIgMTEuMzM0QzkuMjY1ODEgMTEuMzM0IDkuNTY0MjkgMTEuNjMyNSA5LjU2NDI5IDEyLjAwMDdaTTkuNTY0MjkgNkg4LjIzMDk2TDguMzY0MjkgMTAuNjY2N0g5LjQzMDk2TDkuNTY0MjkgNloiIGZpbGw9IiNGNUE2MjMiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik05LjU2NDI5IDZIOC4yMzA5Nkw4LjM2NDI5IDEwLjY2NjdIOS40MzA5Nkw5LjU2NDI5IDZaTTguODk3NjIgMTIuNjY3NEM5LjI2NTgxIDEyLjY2NzQgOS41NjQyOSAxMi4zNjg5IDkuNTY0MjkgMTIuMDAwN0M5LjU2NDI5IDExLjYzMjUgOS4yNjU4MSAxMS4zMzQgOC44OTc2MiAxMS4zMzRDOC41Mjk0MyAxMS4zMzQgOC4yMzA5NiAxMS42MzI1IDguMjMwOTYgMTIuMDAwN0M4LjIzMDk2IDEyLjM2ODkgOC41Mjk0MyAxMi42Njc0IDguODk3NjIgMTIuNjY3NFoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(20),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(20),a(29),a(14),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(1));a(1109);var d=r(a(951)),p=r(a(990)),m=r(a(1037));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,r=e.data,l=e.dataKey,u=e.innerRadius,o=void 0===u?"60%":u,i=e.outerRadius,c=void 0===i?"100%":i;return s.default.createElement(m.default,{width:t,height:a},s.default.createElement(p.default,{data:r,dataKey:l,innerRadius:o,outerRadius:c,animationDuration:1e3},r.map((function(e){return s.default.createElement(d.default,(0,n.default)({key:"cell-".concat(e.name)},e.itemStyle,{strokeWidth:0}))}))))}}]),a}(s.default.Component);t.default=v,v.propTypes={width:f.default.oneOfType([f.default.string,f.default.number]),height:f.default.oneOfType([f.default.string,f.default.number])},v.defaultProps={width:100,height:100,dataKey:"value"}},function(e,t,a){e.exports={title:"_3R9eLWdkRd9o_flAlWvHLx",default:"_2G2DnMhtpeqDEv91UyFh3A",cur:"_1c1g45SkasImY0_alODa4h",custom:"_1zLUgkVtJ5Jr-NdoWiK6aj",selectBox:"_3DT0sgCFRXpA-LxQ7eKvqn",bottom10:"QH6NAxOiq9B6Q6ihrskOG",actions:"_3zCFT6vGh-Uu2uYIZEtuUx"}},,,,,,,,function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.eckYaml=void 0;t.eckYaml={resources:{apiVersion:"elasticsearch.k8s.elastic.co/v1",kind:"Elasticsearch",metadata:{name:"quickstart"},spec:{version:"7.17.5",nodeSets:[{name:"master",count:3,config:{"node.roles":["master"]},podTemplate:{spec:{initContainers:[{name:"sysctl",securityContext:{privileged:!0,runAsUser:0},command:["sh","-c","sysctl -w vm.max_map_count=262144"]}],containers:[{name:"elasticsearch",resources:{limits:{memory:"8Gi",cpu:2},requests:{memory:"8Gi",cpu:2}},env:[{name:"ES_JAVA_OPTS",value:"-Xms4g -Xmx4g"}]}]}},volumeClaimTemplates:[{metadata:{name:"elasticsearch-data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"20Gi"}},storageClassName:"csi-high-capacity"}}]},{name:"hot",count:2,config:{"node.roles":["data_hot","data_content"]},podTemplate:{spec:{initContainers:[{name:"sysctl",securityContext:{privileged:!0,runAsUser:0},command:["sh","-c","sysctl -w vm.max_map_count=262144"]}],containers:[{name:"elasticsearch",resources:{limits:{memory:"8Gi",cpu:2},requests:{memory:"8Gi",cpu:2}},env:[{name:"ES_JAVA_OPTS",value:"-Xms4g -Xmx4g"}]}]}},volumeClaimTemplates:[{metadata:{name:"elasticsearch-data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"40Gi"}},storageClassName:"csi-high-capacity"}}]},{name:"warm",count:0,config:{"node.roles":["data_warm"]},podTemplate:{spec:{initContainers:[{name:"sysctl",securityContext:{privileged:!0,runAsUser:0},command:["sh","-c","sysctl -w vm.max_map_count=262144"]}],containers:[{name:"elasticsearch",resources:{limits:{memory:"8Gi",cpu:2},requests:{memory:"8Gi",cpu:2}},env:[{name:"ES_JAVA_OPTS",value:"-Xms4g -Xmx4g"}]}]}},volumeClaimTemplates:[{metadata:{name:"elasticsearch-data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"40Gi"}},storageClassName:"csi-high-capacity"}}]},{name:"cold",count:0,config:{"node.roles":["data_cold"]},podTemplate:{spec:{initContainers:[{name:"sysctl",securityContext:{privileged:!0,runAsUser:0},command:["sh","-c","sysctl -w vm.max_map_count=262144"]}],containers:[{name:"elasticsearch",resources:{limits:{memory:"8Gi",cpu:2},requests:{memory:"8Gi",cpu:2}},env:[{name:"ES_JAVA_OPTS",value:"-Xms4g -Xmx4g"}]}]}},volumeClaimTemplates:[{metadata:{name:"elasticsearch-data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"40Gi"}},storageClassName:"csi-high-capacity"}}]}]}},kibana:{apiVersion:"kibana.k8s.elastic.co/v1",kind:"Kibana",metadata:{name:"quickstart"},spec:{version:"7.17.5",count:1,elasticsearchRef:{name:"quickstart",namespace:"default"},podTemplate:{spec:{containers:[{name:"kibana",resources:{requests:{cpu:"1000m",memory:"2Gi"},limits:{cpu:"2000m",memory:"4Gi"}}}]}}}}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.opensearchYaml=void 0;t.opensearchYaml={resources:{apiVersion:"opensearch.opster.io/v1",kind:"OpenSearchCluster",metadata:{name:"cluster"},spec:{general:{version:"2.3.0",httpPort:9200,vendor:"opensearch",serviceName:"cluster"},dashboards:{version:"2.3.0",enable:!0,replicas:1,resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}}},confMgmt:{smartScaler:!0},security:{config:{securityConfigSecret:{name:"securityconfig-secret"},adminCredentialsSecret:{name:"admin-credentials-secret"}},tls:{transport:{generate:!0},http:{generate:!0}},keyStoreConfig:[]},nodePools:[{component:"masters",replicas:2,diskSize:"50Gi",persistence:{pvc:{storageClass:"csi-qingcloud",accessModes:["ReadWriteOnce"]}},additionalConfig:{"node.attr.datatier":"master"},resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}},roles:["cluster_manager"]},{component:"data-node-hot",replicas:2,diskSize:"30Gi",persistence:{pvc:{storageClass:"csi-qingcloud",accessModes:["ReadWriteOnce"]}},additionalConfig:{"node.attr.datatier":"hot"},resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}},roles:["data"]},{component:"data-node-warm",replicas:2,diskSize:"30Gi",persistence:{pvc:{storageClass:"csi-qingcloud",accessModes:["ReadWriteOnce"]}},additionalConfig:{"node.attr.datatier":"warm"},resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}},roles:["data"]}]}},node:{component:"data-node-hot",replicas:2,diskSize:"30Gi",persistence:{pvc:{storageClass:"csi-qingcloud",accessModes:["ReadWriteOnce"]}},additionalConfig:{"node.attr.datatier":"hot"},resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}},roles:["data"]},logstash:{apiVersion:"opensearch.opster.io/v1",kind:"Logstash",metadata:{name:"logstash-sample"},spec:{replicas:1,config:{jvm:"-Xms512m -Xmx512m",openSearchInfo:{openSearchCluster:{name:"my-cluster",namespace:"default"},openSearchService:{name:"my-cluster"}},logstashConfig:[],ports:[8080],pipelineConfig:{inputs:'http {\n  host => "0.0.0.0"\n  port => 8080\n}',filters:'mutate {\n  add_field => { "LogstashHost" => "${HOSTNAME}" }\n}',outputs:null,openSearchIndex:'index => "logstash-%{+YYYY.MM.dd}"'}},podTemplate:{spec:{containers:[{name:"logstash",resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}}},{name:"exporter",resources:{requests:{memory:"400Mi",cpu:"200m"},limits:{memory:"400Mi",cpu:"200m"}}}]}}}},logstashSecret:{apiVersion:"v1",kind:"Secret",metadata:{name:"logstash-credential"},type:"Opaque",data:{username:"bG9nc3Rhc2g=",password:"bG9nc3Rhc2g="}},adminSecret:{apiVersion:"v1",kind:"Secret",metadata:{name:"admin-credentials-secret"},type:"Opaque",data:{username:"UmFkb25EQkAxMjM=",password:"UmFkb25EQkAxMjM="}},securityConfigSecret:{apiVersion:"v1",kind:"Secret",metadata:{name:"securityconfig-secret"},type:"Opaque",stringData:{"action_groups.yml":'_meta:\n  type: "actiongroups"\n  config_version: 2',"internal_users.yml":'_meta:\n  type: "internalusers"\n  config_version: 2\nroot:\n  hash: "$2y$12$JwL3peIal4VShAgkyZlMG.t1zwcCnPSAJ2E6GHCDoGhZJLkRX11b2"\n  reserved: true\n  hidden: true\n  backend_roles:\n  - "admin"\n  description: "Internal root user for cluster"\nadmin:\n  hash: "$2a$10$ihutvIcl7kp9PF2RFMZeXuZb2RdUpBFR5t4W0KV5LFZylPheworfW"\n  reserved: false\n  backend_roles:\n  - "admin"\n  description: "custom admin user"\ndashboarduser:\n  hash: "$2y$12$o8Uxs2c6T8wzTfOpf1Pxvulqxs6BigWaJhSldWUtRdbDa555GM7F6"\n  reserved: false\n  description: "OpenSearch internal dashboards user"\nlogstash:\n  hash: "$2y$12$sjAmhIfYAJsPJXNm2WI29e/rLX5V.OxV1l8L1An7wO2pz6WX5NIpy"\n  reserved: false\n  description: "OpenSearch internal logstash user"\nprometheus:\n  hash: "$2y$12$wml4GdNlHOos1FgNWk1zSu9sWV2JE0.CkWsLP0YHFPxojW/v2EGeq"\n  reserved: true\n  hidden: true\n  backend_roles:\n  - "admin"\n  description: "OpenSearch internal prometheus user"',"nodes_dn.yml":'_meta:\n  type: "nodesdn"\n  config_version: 2',"whitelist.yml":'_meta:\n  type: "whitelist"\n  config_version: 2',"tenants.yml":'_meta:\n  type: "tenants"\n  config_version: 2',"roles_mapping.yml":'_meta:\n  type: "rolesmapping"\n  config_version: 2\nall_access:\n  reserved: false\n  backend_roles:\n  - "admin"\n  description: "Maps admin to all_access"\nown_index:\n  reserved: false\n  users:\n  - "*"\n  description: "Allow full access to an index named like the username"\nreadall:\n  reserved: false\n  backend_roles:\n  - "readall"\nmanage_snapshots:\n  reserved: false\n  backend_roles:\n  - "snapshotrestore"\ndashboard_server:\n  reserved: true\n  users:\n  - "dashboarduser"',"roles.yml":"_meta:\n  type: \"roles\"\n  config_version: 2\ndashboard_read_only:\n  reserved: true\nsecurity_rest_api_access:\n  reserved: true\n# Allows users to view monitors, destinations and alerts\nalerting_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/alerting/alerts/get'\n    - 'cluster:admin/opendistro/alerting/destination/get'\n    - 'cluster:admin/opendistro/alerting/monitor/get'\n    - 'cluster:admin/opendistro/alerting/monitor/search'\n# Allows users to view and acknowledge alerts\nalerting_ack_alerts:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/alerting/alerts/*'\n# Allows users to use all alerting functionality\nalerting_full_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster_monitor'\n    - 'cluster:admin/opendistro/alerting/*'\n  index_permissions:\n    - index_patterns:\n        - '*'\n      allowed_actions:\n        - 'indices_monitor'\n        - 'indices:admin/aliases/get'\n        - 'indices:admin/mappings/get'\n# Allow users to read Anomaly Detection detectors and results\nanomaly_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/ad/detector/info'\n    - 'cluster:admin/opendistro/ad/detector/search'\n    - 'cluster:admin/opendistro/ad/detectors/get'\n    - 'cluster:admin/opendistro/ad/result/search'\n    - 'cluster:admin/opendistro/ad/tasks/search'\n    - 'cluster:admin/opendistro/ad/detector/validate'\n    - 'cluster:admin/opendistro/ad/result/topAnomalies'\n# Allows users to use all Anomaly Detection functionality\nanomaly_full_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster_monitor'\n    - 'cluster:admin/opendistro/ad/*'\n  index_permissions:\n    - index_patterns:\n        - '*'\n      allowed_actions:\n        - 'indices_monitor'\n        - 'indices:admin/aliases/get'\n        - 'indices:admin/mappings/get'\n# Allows users to read Notebooks\nnotebooks_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/notebooks/list'\n    - 'cluster:admin/opendistro/notebooks/get'\n# Allows users to all Notebooks functionality\nnotebooks_full_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/notebooks/create'\n    - 'cluster:admin/opendistro/notebooks/update'\n    - 'cluster:admin/opendistro/notebooks/delete'\n    - 'cluster:admin/opendistro/notebooks/get'\n    - 'cluster:admin/opendistro/notebooks/list'\n# Allows users to read observability objects\nobservability_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opensearch/observability/get'\n# Allows users to all Observability functionality\nobservability_full_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opensearch/observability/create'\n    - 'cluster:admin/opensearch/observability/update'\n    - 'cluster:admin/opensearch/observability/delete'\n    - 'cluster:admin/opensearch/observability/get'\n# Allows users to read and download Reports\nreports_instances_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/reports/instance/list'\n    - 'cluster:admin/opendistro/reports/instance/get'\n    - 'cluster:admin/opendistro/reports/menu/download'\n# Allows users to read and download Reports and Report-definitions\nreports_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/reports/definition/get'\n    - 'cluster:admin/opendistro/reports/definition/list'\n    - 'cluster:admin/opendistro/reports/instance/list'\n    - 'cluster:admin/opendistro/reports/instance/get'\n    - 'cluster:admin/opendistro/reports/menu/download'\n# Allows users to all Reports functionality\nreports_full_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/reports/definition/create'\n    - 'cluster:admin/opendistro/reports/definition/update'\n    - 'cluster:admin/opendistro/reports/definition/on_demand'\n    - 'cluster:admin/opendistro/reports/definition/delete'\n    - 'cluster:admin/opendistro/reports/definition/get'\n    - 'cluster:admin/opendistro/reports/definition/list'\n    - 'cluster:admin/opendistro/reports/instance/list'\n    - 'cluster:admin/opendistro/reports/instance/get'\n    - 'cluster:admin/opendistro/reports/menu/download'\n# Allows users to use all asynchronous-search functionality\nasynchronous_search_full_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/asynchronous_search/*'\n  index_permissions:\n    - index_patterns:\n        - '*'\n      allowed_actions:\n        - 'indices:data/read/search*'\n# Allows users to read stored asynchronous-search results\nasynchronous_search_read_access:\n  reserved: true\n  cluster_permissions:\n    - 'cluster:admin/opendistro/asynchronous_search/get'\n# Allows user to use all index_management actions - ism policies, rollups, transforms\nindex_management_full_access:\n  reserved: true\n  cluster_permissions:\n    - \"cluster:admin/opendistro/ism/*\"\n    - \"cluster:admin/opendistro/rollup/*\"\n    - \"cluster:admin/opendistro/transform/*\"\n  index_permissions:\n    - index_patterns:\n        - '*'\n      allowed_actions:\n        - 'indices:admin/opensearch/ism/*'\n# Allows users to use all cross cluster replication functionality at leader cluster\ncross_cluster_replication_leader_full_access:\n  reserved: true\n  index_permissions:\n    - index_patterns:\n        - '*'\n      allowed_actions:\n        - \"indices:admin/plugins/replication/index/setup/validate\"\n        - \"indices:data/read/plugins/replication/changes\"\n        - \"indices:data/read/plugins/replication/file_chunk\"\n# Allows users to use all cross cluster replication functionality at follower cluster\ncross_cluster_replication_follower_full_access:\n  reserved: true\n  cluster_permissions:\n    - \"cluster:admin/plugins/replication/autofollow/update\"\n  index_permissions:\n    - index_patterns:\n        - '*'\n      allowed_actions:\n        - \"indices:admin/plugins/replication/index/setup/validate\"\n        - \"indices:data/write/plugins/replication/changes\"\n        - \"indices:admin/plugins/replication/index/start\"\n        - \"indices:admin/plugins/replication/index/pause\"\n        - \"indices:admin/plugins/replication/index/resume\"\n        - \"indices:admin/plugins/replication/index/stop\"\n        - \"indices:admin/plugins/replication/index/update\"\n        - \"indices:admin/plugins/replication/index/status_check\"","config.yml":'_meta:\n  type: "config"\n  config_version: "2"\nconfig:\n  dynamic:\n    http:\n      anonymous_auth_enabled: false\n    authc:\n      basic_internal_auth_domain:\n        http_enabled: true\n        transport_enabled: true\n        order: "4"\n        http_authenticator:\n          type: basic\n          challenge: true\n        authentication_backend:\n          type: intern'}}}},,,function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(44),r(70),r(20),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(3),r(44),r(70),r(20),r(4),r(73);var l=n(r(26)),u=n(r(64)),o=n(r(0)),i=n(r(1)),c=r(189),s=n(r(800)),f=n(r(1325)),d=n(r(1326)),p=function(e){var a=e.index,r=e.rule,n=e.tls,i=void 0===n?[]:n,p=e.projectDetail,m=e.onDelete,h=e.onEdit,v=i.find((function(e){return e.hosts&&e.hosts.includes(r.host)})),g=v?"https":"http",y=(0,u.default)(r.clusters)&&r.clusters.map((function(e){return{name:e}}));return o.default.createElement("div",{className:d.default.item},o.default.createElement("div",{className:d.default.texts},o.default.createElement(s.default,{icon:"earth",title:r.host,description:o.default.createElement("div",{className:d.default.description},o.default.createElement("span",null,t("PROTOCOL_VALUE",{value:g.toUpperCase()})),"https"===g&&o.default.createElement("span",null,t("CERTIFICATE_VALUE",{value:v.secretName})))}),(0,u.default)(y)&&o.default.createElement(s.default,{title:o.default.createElement(f.default,{clusters:y,clustersDetail:p.clusters}),description:t("CLUSTER")})),o.default.createElement("div",{className:d.default.paths},r.http.paths.map((function(e,a){return o.default.createElement("div",{key:"".concat(e.path,"-").concat(a),className:d.default.path},o.default.createElement(c.Columns,null,o.default.createElement(c.Column,null,o.default.createElement("span",null,t("PATH_VALUE",{value:e.path}))),o.default.createElement(c.Column,null,o.default.createElement("span",null,t("SERVICE_VALUE",{value:(0,l.default)(e,"backend.service.name")}))),o.default.createElement(c.Column,null,o.default.createElement("span",null,t("PORT_VALUE",{value:(0,l.default)(e,"backend.service.port.number")})))))}))),o.default.createElement("div",{className:"buttons"},o.default.createElement(c.Button,{type:"flat",icon:"trash",onClick:function(){return m(a)}}),o.default.createElement(c.Button,{type:"flat",icon:"pen",onClick:function(){return h(a)}})))};p.propTypes={rule:i.default.object};var m=p;a.default=m},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(10),a(20),a(51),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(10),a(20),a(51),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(317)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37)),f=a(189),d=n(a(326)),p=r(a(0)),m=a(56),h=a(61),v=n(a(1972));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(a,e);var t=g(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).renderItem=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=(0,d.default)(e.props.clustersDetail,"name"),u=e.props.children,o=n[t.name]||t;return p.default.createElement("span",{className:r?v.default.tagItem:"",title:(0,m.getDisplayNameNew)(o,!1),key:"".concat(o.name,"-").concat(a)},p.default.createElement(f.Tag,{key:o.name,type:r?"info":h.CLUSTER_GROUP_TAG_TYPE[o.group]},p.default.createElement(f.Icon,(0,l.default)({name:h.CLUSTER_PROVIDER_ICON[o.provider]||"kubernetes",size:16},"default"!==h.CLUSTER_GROUP_TAG_TYPE[o.group]||r?{}:{type:"light"})),u?u(o):(0,m.getDisplayNameNew)(o)))},e.renderItem1=function(t,a){return e.renderItem(t,a,!1)},e.renderTooltip=function(t,a){return e.renderItem(t,a,!0)},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props.clusters,t=void 0===e?[]:e,a=(0,d.default)(this.props.clustersDetail,"name"),r=t.filter((function(e){return a[e.name]})),n=r.slice(2),l=r.slice(0,2);return p.default.createElement("div",{className:v.default.wrapper},p.default.createElement("div",{className:v.default.tags},l.map(this.renderItem1),n.length?p.default.createElement(f.Tooltip,{content:p.default.createElement("div",{className:"flexbox items-center ".concat(v.default.tooltipContent)},n.map(this.renderTooltip))},p.default.createElement(f.Tag,{type:"primary"},r.length)):null,0===r.length&&"-"))}}]),a}(p.Component);t.default=y},function(e,t,a){e.exports={wrapper:"_284aGjeDc3Uk3LO7g2rowk",item:"my6nlJHVChE52IZiKWdVb",texts:"_1yy5gvLzkXqOotnVq-jQ6u",description:"_1tlfloLSiJeUMQ-FyCn8CE",clusters:"_1syXUJ7F5BYlpz5yEGJFbc",text:"rs7zBfbhTmwlfIFuDt9am",title:"_1gOz0zu0HbDowoy4JxPNfJ",add:"_2rqJgLlKvmtvwGzZG3jKXD",paths:"_3IlHyvAlhdaotlptF5rQ4w",path:"_3yf0E7_uPDFXwIFcT8Q_aV",error:"_2XVUGBf34mWkPMEhwt3zCO"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(70),r(88),r(20),r(194),r(14),r(9),r(4),r(190),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(70),r(88),r(20),r(194),r(29),r(14),r(9),r(4),r(190),r(21),r(18),r(43),r(11),r(73),r(7);var l=n(r(38));r(35);var u=n(r(39)),o=n(r(50)),i=n(r(25)),c=n(r(28)),s=n(r(74)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(26)),h=n(r(68)),v=n(r(862)),g=n(r(198)),y=n(r(67)),E=n(r(0)),b=n(r(1)),O=r(189),S=n(r(191)),C=n(r(798)),_=n(r(858)),k=r(56),R=n(r(438)),N=n(r(912)),D=n(r(1984)),T=n(r(1986)),P=n(r(1988)),w=n(r(2220)),I=n(r(2225)),M=n(r(2227));function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var j=function(e){(0,f.default)(n,e);var a,r=A(n);function n(e){var a;return(0,i.default)(this,n),(a=r.call(this,e)).handleOk=function(){var e,t=a.props.isFederated;if(e=a.state.isCodeMode&&(0,g.default)((0,m.default)((0,s.default)(a),"codeRef.current.getData"))?a.getFormDataFromCode(a.codeRef.current.getData()):a.state.formData,t){var r={},n=e,l=n.application,u=n.ingress,i=(0,o.default)(n,["application","ingress"]);r.Application=l,r.Ingress=u;var c=[];Object.keys(i).forEach((function(e){var t=i[e];t.Deployment&&(c=(0,m.default)(t.Deployment,"spec.overrides").map((function(e){return e.clusterName}))),r["".concat(e,"-workload")]=t.workload,r["".concat(e,"-service")]=t.service})),e=r,(0,v.default)(e,(function(e){var t=(0,m.default)(e,"spec.overrides",[]);!(0,y.default)(c)&&t.forEach((function(e,a){c.includes(e.clusterName)||t.splice(a,1)}));var a=(0,m.default)(e,"spec.placement.clusters",[]);return!(0,y.default)(c)&&a.forEach((function(e,t){c.includes(e.name)||a.splice(t,1)})),e}))}0===(0,m.default)(e,"Ingress.spec.template.spec.rules.length",0)&&delete e.Ingress,a.props.onOk(e)},a.handlePrev=function(){a.setState((function(e){var t=e.currentStep;return{currentStep:Math.max(0,t-1)}}))},a.handleNext=function(){var e=a.formRef.current;e&&e.validate((function(){a.setState((function(e){var t=e.currentStep;return{currentStep:Math.min(a.steps.length-1,t+1)}}))}))},a.handleModeChange=function(){a.setState((function(e){var r=e.isCodeMode,n=e.formData;return!r&&(0,g.default)((0,m.default)((0,s.default)(a),"resourcesFormRef.current.hasSubRoute"))&&a.resourcesFormRef.current.hasSubRoute()?S.default.warning(t("SAVE_FORM_TIP")):(r&&(0,g.default)((0,m.default)((0,s.default)(a),"codeRef.current.getData"))&&(n=a.getFormDataFromCode(a.codeRef.current.getData())),{isCodeMode:!r,formData:n})}))},a.handleAppLabelsChange=function(e){var t=a.state.formData,r=(t.application,t.ingress),n=(0,o.default)(t,["application","ingress"]);(0,k.mergeLabels)(r,e),Object.values(n).forEach((function(t){(0,k.mergeLabels)(t.service,e),(0,k.mergeLabels)(t.workload,e)}))},a.handleGovernanceChange=function(e){var t=a.props.isFederated,r=a.state.formData,n=(r.application,r.ingress,(0,o.default)(r,["application","ingress"]));a.setState({isGovernance:"true"===e}),Object.values(n).forEach((function(a){(0,h.default)(a.workload,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',e),(0,h.default)(a.service,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',e),(0,h.default)(a.workload,'spec.template.metadata.annotations["sidecar.istio.io/inject"]',e),t&&((0,k.updateFederatedAnnotations)(a.workload),(0,k.updateFederatedAnnotations)(a.service))}))},a.state={currentStep:0,formData:a.federatedWrapper({application:R.default.applications({namespace:e.namespace}),ingress:R.default.ingresses({namespace:e.namespace})}),isCodeMode:!1,isGovernance:!1},a.formRef=E.default.createRef(),a.codeRef=E.default.createRef(),a.gatewayStore=new N.default,a}return(0,c.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.isFederated?((0,h.default)(this.state.formData.application,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',"false"),this.setState({isGovernance:!1})):this.fetchData().then((function(){var t=e.props.sampleApp;t&&e.fetchSampleData(t)}))}},{key:"federatedWrapper",value:function(e){var t=this.props,a=t.isFederated,r=t.projectDetail;if(a){Object.keys(e).forEach((function(t){e[t]=R.default.federated({data:e[t],clusters:r.clusters.map((function(e){return e.name})),kind:e[t].kind})}));var n=(0,m.default)(e.application,"spec.template.metadata.labels",{});(0,h.default)(e.application,"metadata.labels",n)}return e}},{key:"setServicemeshValue",value:function(e){var t=this.props.isFederated,a=this.state.isGovernance,r=e.application,n=(e.ingress,(0,o.default)(e,["application","ingress"])),l=String(a);(0,h.default)(r,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',l),Object.values(n).forEach((function(e){(0,h.default)(e.workload,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',l),(0,h.default)(e.service,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',l),(0,h.default)(e.workload,'spec.template.metadata.annotations["sidecar.istio.io/inject"]',l),t&&((0,k.updateFederatedAnnotations)(e.workload),(0,k.updateFederatedAnnotations)(e.service))}))}},{key:"fetchSampleData",value:function(e){var t=this,a=this.props,r=a.namespace,n=a.store,l=this.state.gateway;n.fetchSampleData(e).then((function(e){var a=t.getFormDataFromCode(e);(0,h.default)(a.ingress,'metadata.annotations["nginx.ingress.kubernetes.io/upstream-vhost"]',"productpage.".concat(r,".svc.cluster.local")),(0,y.default)(l)?(0,h.default)(a.ingress,"spec.rules",[]):(0,h.default)(a.ingress,"spec.rules[0].host","productpage.".concat(r,".").concat(l.ingressIp,".nip.io")),t.setServicemeshValue(a),t.setState({formData:a})}))}},{key:"getFormDataFromCode",value:function(e){var t=this.props.namespace,a={};return e.forEach((function(e){if((0,h.default)(e,"metadata.namespace",t),-1!==e.kind.indexOf("Application"))a.application=e;else if(-1!==e.kind.indexOf("Service")){var r=(0,m.default)(e,"metadata.labels.app");(0,h.default)(a,"".concat(r,".service"),e)}else if(-1!==e.kind.indexOf("Ingress"))a.ingress=e;else{var n=(0,m.default)(e,"metadata.labels.app");(0,h.default)(a,"".concat(n,".workload"),e)}})),a}},{key:"fetchData",value:(a=(0,u.default)(l.default.mark((function e(){var t,a,r,n,u,o,i=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.cluster,r=t.namespace,n=function(){return i.gatewayStore.getNewGatewayByProject({namespace:r,cluster:a})},e.next=4,n();case 4:u=e.sent,o=!!this.serviceMeshEnable,(0,h.default)(this.state.formData.application,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',String(o)),this.setState({gateway:(0,m.default)(u,"[0]"),isGovernance:o});case 8:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"renderHeader",value:function(){var e=this.props.onCancel,a=this.state,r=a.currentStep,n=a.isCodeMode;return E.default.createElement("div",{className:M.default.header},E.default.createElement("div",{className:M.default.title},E.default.createElement(O.Icon,{name:"close",size:20,clickable:!0,onClick:e}),E.default.createElement("span",null),E.default.createElement(O.Icon,{name:"appcenter",size:20}),E.default.createElement("span",null,t("CREATE_COMPOSED_APP"))),!n&&E.default.createElement("div",{className:M.default.steps},E.default.createElement("div",null),E.default.createElement(D.default,{steps:this.steps,current:r})),E.default.createElement(_.default,{className:M.default.switch,text:t("EDIT_YAML"),onChange:this.handleModeChange,checked:n}),E.default.createElement("div",{className:M.default.headerBottom}))}},{key:"renderForm",value:function(){var e=this.props,t=e.cluster,a=e.namespace,r=e.store,n=e.isFederated,l=e.projectDetail,u=this.state,o=u.formData,i=u.gateway,c=u.currentStep,s=u.isGovernance,f=this.steps[c],d=f.component,p={store:r,cluster:t,namespace:a,formData:o,gateway:i,isGovernance:s,isFederated:n,projectDetail:l,serviceMeshEnable:this.serviceMeshEnable,onLabelsChange:this.handleAppLabelsChange,onGovernanceChange:this.handleGovernanceChange};return f.isForm?p.formRef=this.formRef:p.ref=this.formRef,E.default.createElement("div",{className:M.default.wrapper},E.default.createElement("div",{className:M.default.form},E.default.createElement(d,p)))}},{key:"renderCode",value:function(){var e=this.state.formData;return E.default.createElement(I.default,{ref:this.codeRef,formTemplate:e})}},{key:"renderFooter",value:function(){var e=this.props,a=e.onCancel,r=e.store,n=this.state,l=n.currentStep;if(n.isCodeMode)return E.default.createElement("div",{className:M.default.footer},E.default.createElement("div",{className:M.default.wrapper},E.default.createElement("div",{className:"text-right"},E.default.createElement(O.Button,{onClick:a},t("CANCEL")),E.default.createElement(O.Button,{type:"control",onClick:this.handleOk,loading:r.isSubmitting},t("CREATE")))));var u=this.steps.length-1;return E.default.createElement("div",{className:M.default.footer},E.default.createElement("div",{className:M.default.wrapper},E.default.createElement("div",{className:"text-right"},E.default.createElement(O.Button,{onClick:a},t("CANCEL")),l>0&&E.default.createElement(O.Button,{type:"control",onClick:this.handlePrev},t("PREVIOUS")),l<u?E.default.createElement(O.Button,{type:"control",onClick:this.handleNext},t("NEXT")):E.default.createElement(O.Button,{type:"control",onClick:this.handleOk,loading:r.isSubmitting},t("CREATE")))))}},{key:"render",value:function(){var e=this.props.visible,t=this.state.isCodeMode;return E.default.createElement(C.default,{className:M.default.modal,bodyClassName:M.default.body,visible:e,hideHeader:!0,hideFooter:!0,fullScreen:!0},this.renderHeader(),E.default.createElement("div",{className:M.default.content},t?this.renderCode():this.renderForm()),this.renderFooter())}},{key:"serviceMeshEnable",get:function(){return!!this.props.isFederated||globals.app.hasClusterModule(this.props.cluster,"servicemesh")}},{key:"steps",get:function(){return[{title:"BASIC_INFORMATION",component:T.default,required:!0,isForm:!0},{title:"SERVICE_SETTINGS",component:P.default,required:!0},{title:"ROUTE_SETTINGS",component:w.default,required:!0}]}}]),n}(E.default.Component);a.default=j,j.propTypes={namespace:b.default.string,visible:b.default.bool,onOk:b.default.func,onCancel:b.default.func,sampleApp:b.default.string},j.defaultProps={visible:!1,onOk:function(){},onCancel:function(){}}},function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(10),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(58)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=r(189),h=n(r(68)),v=n(r(244)),g=n(r(67)),y=n(r(798)),E=n(r(819)),b=n(r(1130)),O=n(r(319)),S=n(r(1136)),C=r(56),_=n(r(438)),k=n(r(2206));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var T=function(e){(0,s.default)(r,e);var a=D(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).handleTypeSelect=function(e){t.setState({type:e.currentTarget.dataset.value})},t.handleWorkloadModuleChange=function(e){t.setState({workloadModule:e})},t.workloadStore=new O.default,t.state={type:"",workloadModule:"deployments",groups:[{name:"SELECT_SERVICE_TYPE",description:"APP_SELECT_SERVICE_TYPE_DESC",options:[{icon:"backup",name:"STATELESS_SERVICE",value:"statelessservice"},{icon:"stateful-set",name:"STATEFUL_SERVICE",value:"statefulservice"}]}]},t}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){if(this.props.visible!==e.visible)if(this.props.visible){var t=this.props.detail||{},a="",r="deployments";t.StatefulSet?(a="statefulservice",r="statefulsets"):t.Deployment&&(a="statelessservice"),this.setState({type:a,workloadModule:r})}else this.setState({type:"",workloadModule:"deployments"})}},{key:"renderHeader",value:function(){return p.default.createElement("div",{className:k.default.header},p.default.createElement("div",{className:"h4 margin-b12"},t("CREATE_SERVICE")),p.default.createElement("p",null,t.html("APP_CREATE_SERVICE_DESC")),p.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/create-service.svg",alt:""}))}},{key:"renderGroups",value:function(){var e=this;return p.default.createElement("div",{className:k.default.groups},this.state.groups.map((function(a){return p.default.createElement("div",{key:a.name,className:k.default.group},p.default.createElement("div",{className:k.default.title},p.default.createElement("div",null,t(a.name)),p.default.createElement("p",null,t(a.description))),p.default.createElement("ul",null,a.options&&a.options.map((function(r){return p.default.createElement("li",{key:r.value||r,"data-value":r.value||r,"data-type":a.type,onClick:e.handleTypeSelect},p.default.createElement("div",null,p.default.createElement(m.Icon,{name:r.icon,size:48})),p.default.createElement("div",null,t(r.name||r)))}))))})))}},{key:"renderSubModal",value:function(e){var a,r=this.props,n=r.visible,u=r.onOk,i=r.onCancel,c=r.cluster,s=r.namespace,f=r.detail,d=r.isFederated,m=r.projectDetail,y=r.isSubmitting,O=r.components;switch(e){case"statelessservice":var k=(0,g.default)(f)?{Deployment:_.default.deployments({namespace:s}),Service:_.default.services({namespace:s})}:(0,v.default)(f,["Deployment","Service"]),R=(0,o.default)(S.default[e]);R[0]=N(N({},R[0]),{},{component:(0,C.withProps)(R[0].component,{noApp:!0,components:O})}),(0,g.default)(f)&&d&&Object.keys(k).forEach((function(e){k[e]=_.default.federated({data:k[e],clusters:m.clusters.map((function(e){return e.name})),kind:e})})),(0,h.default)(k,'Service.metadata.annotations["kubesphere.io/serviceType"]',e),this.workloadStore.setModule("deployments"),d&&R.push({title:"CLUSTER_DIFF",icon:"blue-green-deployment",component:(0,C.withProps)(b.default,{withService:!0})});var D=(0,g.default)(f)?{name:t("STATELESS_SERVICE")}:{title:t("EDIT_TITLE",{title:t("STATELESS_SERVICE")})};a=p.default.createElement(E.default,(0,l.default)({width:960,module:"deployments",store:this.workloadStore},D,{description:t("STATELESS_SERVICE_DESC"),visible:n,cluster:c,namespace:s,isFederated:d,projectDetail:m,steps:R,formTemplate:k,isSubmitting:y,onOk:u,onCancel:i,maskClosable:!1,okBtnText:(0,g.default)(f)?t("CREATE"):t("OK")}));break;case"statefulservice":var T=(0,g.default)(f)?{StatefulSet:_.default.statefulsets({namespace:s}),Service:_.default.services({namespace:s})}:(0,v.default)(f,["StatefulSet","Service"]),P=(0,o.default)(S.default[e]);P[0]=N(N({},P[0]),{},{component:(0,C.withProps)(P[0].component,{noApp:!0,components:O})}),d&&(0,g.default)(f)&&Object.keys(T).forEach((function(e){T[e]=_.default.federated({data:T[e],clusters:m.clusters.map((function(e){return e.name})),kind:e})})),(0,h.default)(T,'Service.metadata.annotations["kubesphere.io/serviceType"]',e),this.workloadStore.setModule("statefulsets"),d&&P.push({title:"CLUSTER_DIFF",icon:"blue-green-deployment",component:(0,C.withProps)(b.default,{withService:!0})});var w=(0,g.default)(f)?{name:t("STATEFUL_SERVICE")}:{title:t("EDIT_TITLE",{title:t("STATEFUL_SERVICE")})};a=p.default.createElement(E.default,(0,l.default)({width:960,module:"statefulsets",store:this.workloadStore},w,{description:t("STATEFUL_SERVICE_DESC"),visible:n,cluster:c,namespace:s,isFederated:d,projectDetail:m,steps:P,formTemplate:T,isSubmitting:y,onOk:u,onCancel:i,okBtnText:(0,g.default)(f)?t("CREATE"):t("OK")}))}return a}},{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,r=this.state.type;return r?this.renderSubModal(r):p.default.createElement(y.default,{bodyClassName:k.default.body,width:960,visible:t,onCancel:a,hideHeader:!0},this.renderHeader(),this.renderGroups())}}]),r}(p.default.Component);a.default=T},function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(3),a(10),a(44),a(6),a(20),a(14),a(8),a(13),a(9),a(4),a(190),a(18),a(30),a(11),a(71),a(79),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(44),a(6),a(20),a(27),a(141),a(29),a(14),a(120),a(33),a(16),a(8),a(13),a(9),a(4),a(190),a(18),a(43),a(30),a(11),a(71),a(79),a(7);var l=n(a(31)),u=n(a(58)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=n(a(26)),p=n(a(68)),m=n(a(119)),h=n(a(67)),v=n(a(850)),g=r(a(0)),y=n(a(5)),E=n(a(1990));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=function(e){(0,c.default)(a,e);var t=S(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={editContainer:""},e.showEdit=function(t){var a=e.props,r=a.onSelect,n=a.cluster;e.setState({editContainer:t.name},(function(){r(n)}))},e.handleEdit=function(t){var a=t.index,r=t.containerType,n=t.data,l=e.props,o=l.cluster,i=l.withService,c=l.formTemplate,s=l.onChange,f="spec.template.spec.".concat("init"===r?"init_containers":"containers",".").concat(a),m=[],g={};Object.keys(n).forEach((function(e){var t="".concat(f,".").concat(e);"pullSecret"===e?n[e]&&(g[n.name]=n.pullSecret):m.push({path:"/".concat(t.replace(/\./g,"/")),value:n[e]})}));var y=(0,d.default)(c,"spec.overrides",[]),E=y.find((function(e){return e.clusterName===o}));if(!(0,h.default)(g)){var b,S,C,_,k=null!==(b=null===(S=E.clusterOverrides.find((function(e){return"/spec/template/spec/imagePullSecrets"===e.path})))||void 0===S?void 0:S.value)&&void 0!==b?b:[],R=Object.values(g).map((function(e){return{name:e}})),N=[].concat((0,u.default)(k),(0,u.default)(R));m.push({path:"/spec/template/spec/imagePullSecrets".replace(/\n/g,""),value:N});var D=null!==(C=null===(_=E.clusterOverrides.find((function(e){return"/spec/template/metadata/annotations/'kubesphere.io/imagepullsecrets'"===e.path})))||void 0===_?void 0:_.value)&&void 0!==C?C:"{}",T=JSON.parse(D),P=JSON.stringify(O(O({},T),g));m.push({path:"/spec/template/metadata/annotations/'kubesphere.io/imagepullsecrets'".replace(/\n/g,""),value:P})}E?E.clusterOverrides=(0,v.default)([].concat(m,(0,u.default)(E.clusterOverrides||[])),"path"):y.push({clusterName:o,clusterOverrides:m}),(0,p.default)(c,"spec.overrides",y),i&&n.ports&&e.updateService(n),e.setState({editContainer:""}),s&&s()},e.updateService=function(t){var a=e.props,r=a.cluster,n=a.serviceTemplate,l=[];t.ports.forEach((function(e){e.servicePort&&l.push({name:e.name,protocol:e.protocol,port:e.servicePort,targetPort:e.containerPort})}));var o=[{path:"/spec/ports",value:l}],i=(0,d.default)(n,"spec.overrides",[]),c=i.find((function(e){return e.clusterName===r}));c?c.clusterOverrides=(0,v.default)([].concat(o,(0,u.default)(c.clusterOverrides||[])),"path"):i.push({clusterName:r,clusterOverrides:o}),(0,p.default)(n,"spec.overrides",i)},e.renderContainer=function(t,a,r){var n=e.props,u=n.children,o=n.selected,i=e.state.editContainer,c=e.getContainer({container:t,index:a,containerType:r});return g.default.createElement("div",{key:t.name,className:(0,y.default)(E.default.wrapper,(0,l.default)({},E.default.selected,o))},u(O(O({},e.props),{},{index:a,key:a,containerType:"worker",formData:c,isEdit:i===t.name,showEdit:e.showEdit,onEdit:e.handleEdit})))},e}return(0,i.default)(a,[{key:"getContainer",value:function(e){var t=e.index,a=e.container,r=e.containerType,n=this.props,l=n.cluster,u=n.formTemplate,o=(0,d.default)(u,"spec.overrides",[]).find((function(e){return e.clusterName===l}))||{},i=(0,m.default)(a),c="/spec/template/spec/".concat("init"===r?"init_containers":"containers","/").concat(t,"/");return o&&!(0,h.default)(o.clusterOverrides)&&o.clusterOverrides.forEach((function(e){if(e.path.startsWith(c)){var t=e.path.replace(c,"").replace(/\//g,".");(0,p.default)(i,t,e.value)}})),i}},{key:"render",value:function(){var e=this,t=this.props.formTemplate,a=(0,d.default)(t,"spec.template.spec.template.spec.containers",[]),r=(0,d.default)(t,"spec.template.spec.template.spec.init_containers",[]);return g.default.createElement(g.default.Fragment,null,a.map((function(t,a){return e.renderContainer(t,a,"worker")})),r.map((function(t,a){return e.renderContainer(t,a,"init")})))}}]),a}(g.Component);t.default=C},function(e,t,a){e.exports={dropContent:"_1dgWc_FlxZ0I2I8eO_mtsY",header:"_1eg7T1EUzEx9lO_Vk2smqx",listContent:"_1R7XJrTUSk0K11NbeSsvLQ",starContainer:"_4tmFCc6PQiPbAgn206MC8",actions:"_3F90TmEUEEPlTASxdMgZNV",info:"_2R3U9MOi9qgl_FL21JznCz",tabs:"_28RQBc6TkhuRe7tAIJCGmp",tab:"_2hTxWsg41px5hCSv1Wm99F",selected:"_2VkYzhd5Ow_BEjxkhOq3eX",search:"_1XQXLeI-z0GOUpjlyPkOfe",message:"KvW_BUlNf1lu0E8HSDczo",selectedContent:"_3KFGJfmozlVYx4gEvbu6dA",selectedImageInfo:"_3v0zkUOyV-JibpFOGMj7Xt",selectedInfo:"_25UPs6oZb2m0_CwkRBpmWK",icon:"_10xemcZ1Xi6n-LscTe8-8U",logo:"_2C8Gd9hCy9D14behvqpKSG",imageInfo:"_2-qLBNFfWh3DKt1NKsQZBH",emptyContent:"_1NipMFmAIiG0us8zcmeW3p",desc:"_2qpXEBvwkvD9MmvpqIxKu9",textConfirm:"_1EMGC0hNKltp9Gqej1THm9",registryFooter:"_1ohyELTkhVtaqqWwThH647",dropContent_hide:"_1trQN1nAMesw9gU4dm2GmW",dropDownIcon:"_2Ispz9PQoN4qvKuwb3ZVWB",clickable:"_3dHyyekpvmPUPtbo3xQG0Z",star:"_1SkfiEdBayGXiRRaBkwk7H",imageInput:"DhITaL97AQEJeR5vr14Je"}},function(e,t,a){e.exports={content:"_3wriWVsghyEeMHLsxqYuhC",radioListContent:"_6OcLzfJRUG_EEwKee4cRi",radioOnlyOneListContent:"_1vdnayTJXtlQIl5FjEbAXn",radioList:"_1U2J5xETOAh5sL0WjecCxJ",imageTagDetailItem:"_1yRt9fX0qMa0ara4u5hKhu",icon:"_2oschSYAXruRPq7qHwTSTX",tagName:"_3Q77ElyimDbKWMAq6wz-Qb"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var u=l(r(317)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=l(r(244)),m=l(r(957)),h=l(r(994)),v=l(r(2011));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(r,e);var a=g(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleSubmit=function(t){var a=e.props,r=a.index,n=a.containerType;(0,a.onEdit)({index:r,containerType:n,data:(0,p.default)(t,["ports"])})},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.formData,r=e.containerType,n=e.withService,l="init"!==r&&n,o=d.default.createElement(d.default.Fragment,null,d.default.createElement("div",null,"".concat(t("IMAGE"),": ").concat(a.image)),a.ports&&a.ports.map((function(e,a){return d.default.createElement("div",{key:a,className:v.default.port},d.default.createElement("span",null,"".concat(t("PROTOCOL"),": ").concat(e.protocol)),d.default.createElement("span",null,"".concat(t("NAME"),": ").concat(e.name)),d.default.createElement("span",null,"".concat(t("CONTAINER_PORT"),": ").concat(e.containerPort)),l&&d.default.createElement("span",null,"".concat(t("SERVICE_PORT"),": ").concat(e.servicePort)))})));return d.default.createElement(m.default,(0,u.default)({},this.props,{title:o,onOk:this.handleSubmit}),d.default.createElement(h.default,{withService:"init"!==r&&n}))}}]),r}(d.Component);a.default=y},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(98),r(14),r(4),r(18),r(30),r(11),r(69),r(71),r(79),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37));r(32),r(3),r(98),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69),r(71),r(79);var s=n(r(808)),f=n(r(163)),d=n(r(0)),p=r(189),m=n(r(805)),h=n(r(995)),v=r(61),g=n(r(2008));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){var t="HTTP",a=e.value,r=a.name,n=a.containerPort,l=e.index;if(!(0,f.default)(r)){var u=r.match(/^(\w+)-(.*)/);u&&(t=(u[1]||"HTTP").toUpperCase())}return{name:(0,f.default)(r)?"".concat(t.toLowerCase(),"-").concat(l):r,protocol:v.PROTOCOLS.some((function(e){return e.value===t}))?t:e.value.protocol,containerPort:n,propsValue:e.value}},b=function(e){(0,o.default)(r,e);var a=y(r);function r(e){var t;return(0,l.default)(this,r),(t=a.call(this,e)).triggerChange=(0,s.default)((function(){var e=t.state,a=e.name,r=e.protocol,n=e.containerPort;t.props.onChange({name:a,protocol:"UDP"===r?"UDP":"TCP",containerPort:n})}),300),t.handleNameChange=function(e,a){t.setState({name:a},(function(){return t.triggerChange()}))},t.handleProtocolChange=function(e){var a,r=t.state.name,n="".concat(t.state.protocol.toLowerCase(),"-"),l=t.props.index;a=r.startsWith(n)?"".concat(e.toLowerCase(),"-").concat(r.replace(n,"")):"".concat(e.toLowerCase(),"-").concat(l),t.setState({name:a,protocol:e},(function(){return t.triggerChange()}))},t.handleContainerPortChange=function(e){t.setState({containerPort:e},(function(){return t.triggerChange()}))},t.state=E(e),t}return(0,u.default)(r,[{key:"componentDidMount",value:function(){this.triggerChange()}},{key:"render",value:function(){var e=this.state,a=e.name,r=e.protocol,n=e.containerPort;return d.default.createElement("div",{className:g.default.wrapper},d.default.createElement(h.default,{prefix:d.default.createElement("div",{className:g.default.tip},d.default.createElement("span",null,t("PROTOCOL")),d.default.createElement(p.Tooltip,{content:t("ISTIO_PROTOCOL_TIP")},d.default.createElement(p.Icon,{name:"question"})))},d.default.createElement(p.Select,{name:"protocol",value:r,options:v.PROTOCOLS,defaultValue:"HTTP",onChange:this.handleProtocolChange})),d.default.createElement(h.default,{prefix:t("NAME")},d.default.createElement(p.Input,{name:"name",value:a,placeholder:t("REQUIRED"),onChange:this.handleNameChange})),d.default.createElement(h.default,{prefix:t("CONTAINER_PORT")},d.default.createElement(m.default,{name:"containerPort",min:1,max:65535,value:n,integer:!0,onChange:this.handleContainerPortChange})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.propsValue?E(e):null}}]),r}(d.default.Component);a.default=b,b.defaultProps={value:{},onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(98),r(14),r(4),r(18),r(30),r(11),r(69),r(71),r(79),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37));r(32),r(3),r(98),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69),r(71),r(79);var s=n(r(808)),f=n(r(163)),d=n(r(0)),p=r(189),m=n(r(805)),h=n(r(995)),v=r(61),g=n(r(2009));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){var t="HTTP",a=e.value,r=a.name,n=a.containerPort,l=a.servicePort,u=e.index;if(!(0,f.default)(r)){var o=r.match(/^(\w+)-(.*)/);o&&(t=(o[1]||"HTTP").toUpperCase())}return{name:(0,f.default)(r)?"".concat(t.toLowerCase(),"-").concat(u):r,protocol:v.PROTOCOLS.some((function(e){return e.value===t}))?t:e.value.protocol,containerPort:n,servicePort:l,propsValue:e.value}},b=function(e){(0,o.default)(r,e);var a=y(r);function r(e){var t;return(0,l.default)(this,r),(t=a.call(this,e)).triggerChange=(0,s.default)((function(){var e=t.state,a=e.name,r=e.protocol,n=e.containerPort,l=e.servicePort;t.props.onChange({name:a,protocol:"UDP"===r?"UDP":"TCP",containerPort:n,servicePort:l})}),300),t.handleNameChange=function(e,a){t.setState({name:a},(function(){return t.triggerChange()}))},t.handleProtocolChange=function(e){var a,r=t.state.name,n="".concat(t.state.protocol.toLowerCase(),"-"),l=t.props.index;a=r.startsWith(n)?"".concat(e.toLowerCase(),"-").concat(r.replace(n,"")):"".concat(e.toLowerCase(),"-").concat(l),t.setState({name:a,protocol:e},(function(){return t.triggerChange()}))},t.handleContainerPortChange=function(e){t.setState({containerPort:e},(function(){return t.triggerChange()}))},t.handleServicePortChange=function(e){t.setState({servicePort:e},(function(){return t.triggerChange()}))},t.state=E(e),t}return(0,u.default)(r,[{key:"render",value:function(){var e=this.state,a=e.name,r=e.protocol,n=e.containerPort,l=e.servicePort;return d.default.createElement("div",{className:g.default.wrapper},d.default.createElement(h.default,{prefix:d.default.createElement("div",{className:g.default.tip},d.default.createElement("span",null,t("PROTOCOL")),d.default.createElement(p.Tooltip,{content:t("ISTIO_PROTOCOL_TIP")},d.default.createElement(p.Icon,{name:"question"})))},d.default.createElement(p.Select,{name:"protocol",value:r,options:v.PROTOCOLS,defaultValue:"HTTP",onChange:this.handleProtocolChange})),d.default.createElement(h.default,{prefix:t("NAME")},d.default.createElement(p.Input,{name:"name",value:a,placeholder:t("REQUIRED"),onChange:this.handleNameChange})),d.default.createElement(h.default,{prefix:t("CONTAINER_PORT")},d.default.createElement(m.default,{name:"containerPort",min:1,max:65535,value:n,integer:!0,placeholder:t("REQUIRED"),onChange:this.handleContainerPortChange})),d.default.createElement(h.default,{prefix:t("SERVICE_PORT")},d.default.createElement(m.default,{name:"servicePort",min:1,max:65535,value:l,integer:!0,placeholder:t("REQUIRED"),onChange:this.handleServicePortChange})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value!==t.propsValue?E(e):null}}]),r}(d.default.Component);a.default=b,b.defaultProps={value:{},onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);r(3),r(66),r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(66),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var u,o=n(r(317)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=l(r(0)),m=r(243),h=n(r(957)),v=n(r(1134));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var y=(0,m.observer)(u=function(e){(0,s.default)(r,e);var a=g(r);function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleSubmit=function(t){var a=e.props,r=a.index;(0,a.onEdit)({index:r,data:t})},e}return(0,c.default)(r,[{key:"render",value:function(){var e=this.props,a=e.formData,r=e.clusters,n=e.namespace,l=p.default.createElement("span",null,"".concat(t("ENVIRONMENT_VARIABLE_PL"),": ").concat((a.env||[]).map((function(e){return e.name})).join(", ")||t("NONE")));return p.default.createElement(h.default,(0,o.default)({},this.props,{title:l,onOk:this.handleSubmit}),p.default.createElement(v.default,{checkable:!1,isFederated:!0,namespace:n,projectDetail:{clusters:r}}))}}]),r}(p.Component))||u;a.default=y},function(e,t,a){e.exports={wrapper:"_-4cD0WdpjLQRRfr3eATB5",desc:"_2trN64nTOrpOtASKkHhxbZ",extraBtn:"_3NUIXlnSX0odfiMD6xuinj",formError:"_1xwVkCYNchrNAw08m7njse",nameTip:"_3_TvkG3h8EIIY2xImC5li9",typeBox:"_1ct3Xc_GatVlbSJhR46WFq",textContent:"_3tiLSem7va-QAMUpYlyOLJ"}},function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(3),a(10),a(44),a(6),a(20),a(8),a(13),a(9),a(4),a(18),a(30),a(11),a(71),a(79),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(44),a(6),a(20),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(30),a(11),a(71),a(79),a(7);var l=n(a(31)),u=n(a(58)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=n(a(26)),p=n(a(68)),m=n(a(119)),h=n(a(67)),v=n(a(850)),g=r(a(0)),y=n(a(5)),E=n(a(2017));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=function(e){(0,c.default)(a,e);var t=S(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={editVolumeTemplate:""},e.showEdit=function(t){var a=e.props,r=a.onSelect,n=a.cluster;e.setState({editVolumeTemplate:(0,d.default)(t,"metadata.name")},(function(){r(n)}))},e.handleEdit=function(t){var a=t.index,r=t.data,n=e.props,l=n.cluster,o=n.formTemplate,i="spec.volumeClaimTemplates.".concat(a),c=[];Object.keys(r).forEach((function(e){var t="".concat(i,".").concat(e);(0,d.default)(o,"spec.template.".concat(t))!==r[e]&&c.push({path:"/".concat(t.replace(/\./g,"/")),value:r[e]})}));var s=(0,d.default)(o,"spec.overrides",[]),f=s.find((function(e){return e.clusterName===l}));f?f.clusterOverrides=(0,v.default)([].concat(c,(0,u.default)(f.clusterOverrides||[])),"path"):s.push({clusterName:l,clusterOverrides:c}),(0,p.default)(o,"spec.overrides",s),e.setState({editVolumeTemplate:""})},e.renderVolumeTemplates=function(t,a){var r=e.props,n=r.children,u=r.selected,o=e.state.editVolumeTemplate,i=e.getVolumeTemplate({vt:t,index:a}),c=(0,d.default)(t,"metadata.name");return g.default.createElement("div",{key:c,className:(0,y.default)(E.default.wrapper,(0,l.default)({},E.default.selected,u))},n(O(O({},e.props),{},{index:a,key:a,formData:i,isEdit:o===c,showEdit:e.showEdit,onEdit:e.handleEdit})))},e}return(0,i.default)(a,[{key:"getVolumeTemplate",value:function(e){var t=e.index,a=e.vt,r=this.props,n=r.cluster,l=r.formTemplate,u=(0,d.default)(l,"spec.overrides",[]).find((function(e){return e.clusterName===n}))||{},o=(0,m.default)(a),i="/spec/volumeClaimTemplates/".concat(t,"/");return u&&!(0,h.default)(u.clusterOverrides)&&u.clusterOverrides.forEach((function(e){if(e.path.startsWith(i)){var t=e.path.replace(i,"").replace(/\//g,".");(0,p.default)(o,t,e.value)}})),o}},{key:"render",value:function(){var e=this,t=this.props.formTemplate;return(0,d.default)(t,"spec.template.spec.volumeClaimTemplates",[]).map((function(t,a){return e.renderVolumeTemplates(t,a)}))}}]),a}(g.Component);t.default=C},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var u=l(r(317)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=l(r(26)),m=l(r(244)),h=l(r(996)),v=l(r(957));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(r,e);var a=g(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleSubmit=function(t){var a=e.props,r=a.index;(0,a.onEdit)({index:r,data:(0,m.default)(t,["spec"])})},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.cluster,r=e.namespace,n=e.formData;return d.default.createElement(v.default,(0,u.default)({},this.props,{title:t("STORAGE_CLASS_VALUE",{value:(0,p.default)(n,"spec.storageClassName")}),onOk:this.handleSubmit}),d.default.createElement("div",{className:"padding-12"},d.default.createElement(h.default,{cluster:a,namespace:r})))}}]),r}(d.Component);a.default=y},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(44),r(6),r(20),r(98),r(14),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(44),r(6),r(20),r(98),r(29),r(14),r(9),r(4),r(18),r(43),r(11),r(7);var l,u,o,i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(1)),h=r(243),v=r(189),g=n(r(26)),y=n(r(67)),E=n(r(811)),b=n(r(68)),O=n(r(827)),S=n(r(824)),C=n(r(841)),_=n(r(319));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var R=(0,h.observer)((o=u=function(e){(0,s.default)(r,e);var a=k(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).handleAffinityChange=function(e){var t=n.replicasPolicyOptions.find((function(t){return t.value===e}));(0,b.default)(n.props.data,"spec.template.spec.affinity",t.affinity),"custom"===e?(0,b.default)(n.props.data,"spec.template.spec.customMode",[{}]):delete n.props.data.spec.template.spec.customMode,n.setState({mode:e},(function(){n.props.formProps&&n.props.formProps.onChange()}))},n.handleChange=function(e){var t={};e.forEach((function(e){"preferredDuringSchedulingIgnoredDuringExecution"===e.type?t[e.policy]={preferredDuringSchedulingIgnoredDuringExecution:[{weight:100,podAffinityTerm:{labelSelector:{matchExpressions:[{key:"app",operator:"In",values:[e.target]}]},topologyKey:"kubernetes.io/hostname"}}]}:"requiredDuringSchedulingIgnoredDuringExecution"===e.type&&(t[e.policy]={requiredDuringSchedulingIgnoredDuringExecution:[{labelSelector:{matchExpressions:[{key:"app",operator:"In",values:[e.target]}]},topologyKey:"kubernetes.io/hostname"}]})})),(0,b.default)(n.props.data,"spec.template.spec.affinity",t)},n.checkItemValid=function(e){return e.policy&&e.type&&e.target},n.modeValidator=function(e,a,r){return a?a.some((function(e){return!n.checkItemValid(e)}))?(r({message:t("RULE_NOT_COMPLETE"),field:e.field}),void n.forceUpdate()):void r():r()},n.state={mode:"default"},n.store=new _.default(e.module),n}return(0,c.default)(r,[{key:"replicasPolicyOptions",get:function(){var e={preferredDuringSchedulingIgnoredDuringExecution:[{weight:100,podAffinityTerm:{labelSelector:{matchLabels:(0,g.default)(this.props.data,"spec.template.metadata.labels",{})},topologyKey:"kubernetes.io/hostname"}}]};return[{value:"default",label:t("DEFAULT_RULES"),affinity:{},description:t("DEFAULT_RULES_DESC")},{value:"decentralized",label:t("DECENTRALIZED_SCHEDULING"),affinity:{podAntiAffinity:e},description:t("DECENTRALIZED_SCHEDULING_DESC")},{value:"aggregation",label:t("CENTRALIZED_SCHEDULING"),affinity:{podAffinity:e},description:t("CENTRALIZED_SCHEDULING_DESC")},{value:"custom",label:t("CUSTOM_RULES"),affinity:{},description:t("CUSTOM_RULES_DESC")}]}},{key:"policys",get:function(){return[{label:t("SCHEDULE_WITH_TARGET"),value:"podAffinity"},{label:t("SCHEDULE_AWAY_FROM_TARGET"),value:"podAntiAffinity"}]}},{key:"types",get:function(){return[{label:t("MATCH_IF_POSSIBLE"),value:"preferredDuringSchedulingIgnoredDuringExecution"},{label:t("MUST_MATCH"),value:"requiredDuringSchedulingIgnoredDuringExecution"}]}}]),(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=this,t=(0,g.default)(this.props.data,"spec.template.spec.affinity",{});if((0,y.default)(t))this.setState({mode:"default"});else{var a=this.replicasPolicyOptions.find((function(e){return(0,E.default)(e.affinity,t)}));a?(this.setState({mode:a.value}),delete this.props.data.spec.template.spec.customMode):this.setState({mode:"custom"},(function(){var a=Object.keys(t).map((function(e){var a=Object.keys(t[e])[0];return{policy:e,type:a,target:(0,g.default)(t,"requiredDuringSchedulingIgnoredDuringExecution"===a?"[".concat(e,"][").concat(a,'][0]["labelSelector"]["matchExpressions"][0]["values"][0]'):"[".concat(e,"][").concat(a,'][0]["podAffinityTerm"]["labelSelector"]["matchExpressions"][0]["values"][0]'),"")}}));(0,b.default)(e.props.data,"spec.template.spec.customMode",a)}))}var r=this.props,n=r.cluster,l=r.namespace;this.store.fetchList({cluster:n,namespace:l,limit:1/0})}},{key:"renderAffinityParams",value:function(){var e=this.state.mode,a=this.replicasPolicyOptions,r=(0,g.default)(this.store,"list.data",[]).map((function(e){return{label:e.name,value:e.name}}));return p.default.createElement(p.default.Fragment,null,p.default.createElement(v.Form.Item,null,p.default.createElement(O.default,{value:e,options:a,onChange:this.handleAffinityChange,defaultValue:a[0].value})),"custom"===e&&p.default.createElement(v.Form.Item,{label:t("CUSTOM_RULES"),rules:[{validator:this.modeValidator,checkOnSubmit:!0}]},p.default.createElement(S.default,{name:"spec.template.spec.customMode",itemType:"object",addText:t("ADD"),checkItemValid:this.checkItemValid,onChange:this.handleChange},p.default.createElement(C.default,null,p.default.createElement(v.Select,{name:"policy",placeholder:t("TYPE"),options:this.policys}),p.default.createElement(v.Select,{name:"type",placeholder:t("STRATEGY"),options:this.types}),p.default.createElement(v.Select,{name:"target",placeholder:t("TARGET"),options:r,style:{marginLeft:20}})))))}},{key:"render",value:function(){var e=this.props.checkable;return p.default.createElement(v.Form.Group,{label:t("POD_SCHEDULING_RULES"),desc:t("POD_SCHEDULING_RULES_DESC"),keepDataWhenUnCheck:!0,checkable:e},this.renderAffinityParams())}}]),r}(p.default.Component),u.propTypes={data:m.default.object,checkable:m.default.bool,initial:m.default.bool},u.defaultProps={data:{},checkable:!1,initial:!1},l=o))||l;a.default=R},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(4),r(18),r(30),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(29),r(4),r(18),r(43),r(30),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(5)),p=n(r(67)),m=n(r(26)),h=r(189),v=n(r(2024)),g=n(r(2027));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){(0,o.default)(r,e);var a=y(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).state={showForm:!1},e.getProbeTypeText=function(e){return"httpGet"in e?"HTTP_REQUEST":"tcpSocket"in e?"TCP_PORT":"COMMAND"},e.showForm=function(){e.setState({showForm:!0})},e.hideForm=function(){e.setState({showForm:!1})},e.handleForm=function(t){(0,e.props.onChange)(t),e.hideForm()},e.handleDelete=function(){var t=e.props,a=t.onChange;t.deleteNoObject?a():a({})},e}return(0,u.default)(r,[{key:"renderProbeInfo",value:function(){var e=this.props.value;if("httpGet"in e)return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",null,s.default.createElement("strong",null,(0,m.default)(e,"httpGet.scheme","")),s.default.createElement("p",null,t("TYPE"))),s.default.createElement("div",null,s.default.createElement("strong",null,(0,m.default)(e,"httpGet.path","")),s.default.createElement("p",null,t("PATH"))),s.default.createElement("div",null,s.default.createElement("strong",null,(0,m.default)(e,"httpGet.port","")),s.default.createElement("p",null,t("PORT"))));if("tcpSocket"in e)return s.default.createElement("div",null,s.default.createElement("strong",null,(0,m.default)(e,"tcpSocket.port","")),s.default.createElement("p",null,t("PORT")));if("exec"in e){var a=(0,m.default)(e,"exec.command",[]);return s.default.createElement("div",null,s.default.createElement("strong",null,a[0],a.length>1&&" ..."),s.default.createElement("p",null,t("COMMANDS")))}return null}},{key:"renderProbeForm",value:function(){var e=this.props,t=e.probType,a=e.value,r=e.componentType;return s.default.createElement(v.default,{className:g.default.form,data:a,probType:t,onSave:this.handleForm,onCancel:this.hideForm,componentType:r})}},{key:"render",value:function(){var e=this.props,a=e.description,r=e.value,n=e.componentType,l=e.label;return this.state.showForm?s.default.createElement("div",{className:g.default.probe},this.renderProbeForm()):(0,p.default)(r)?s.default.createElement("div",{className:(0,d.default)(g.default.empty),onClick:this.showForm},s.default.createElement("div",null,l||t("ADD_PROBE")),s.default.createElement("p",{className:"text-secondary"},a)):s.default.createElement("div",{className:g.default.probe},s.default.createElement("div",{className:g.default.content},s.default.createElement(h.Icon,{name:"monitor",size:40}),s.default.createElement("div",null,s.default.createElement("strong",null,t(this.getProbeTypeText(r))),"heal"===n&&s.default.createElement("p",null,s.default.createElement("span",null,t("INITIAL_DELAY_TIMEOUT_VALUE",{delay:r.initialDelaySeconds||0,timeout:r.timeoutSeconds||0})))),this.renderProbeInfo()),s.default.createElement("div",{className:"buttons"},s.default.createElement(h.Button,{type:"flat",icon:"trash",onClick:this.handleDelete}),s.default.createElement(h.Button,{type:"flat",icon:"pen",onClick:this.showForm})))}}]),r}(s.default.Component);a.default=E,E.propTypes={name:f.default.string,label:f.default.string,value:f.default.object,onChange:f.default.func,onShowForm:f.default.func,deleteNoObject:f.default.bool},E.defaultProps={name:"",label:"",value:{},onChange:function(){},onShowForm:function(){},componentType:"heal",deleteNoObject:!1}},function(e,t,a){e.exports={wrapper:"_2qA0DfrVhnER8QvH0wQNVs",radioGroup:"lTdgbwVyGMyso1J2-ZyQQ",confirm:"_3750no6wmEKmoHmvmyPMsm",object:"_2y_cKPnzZxbXLF_dVafN1k"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(997)),p=n(r(805)),m=n(r(2033));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement("div",{className:"margin-b12"},s.default.createElement("div",{className:m.default.title},t("USER_AND_USER_GROUP")),s.default.createElement("div",{className:m.default.content},s.default.createElement(f.Form.Item,null,s.default.createElement(d.default,{name:"".concat(this.prefix,".runAsNonRoot"),title:t("RUN_AS_NON_ROOT"),description:t("RUN_AS_NON_ROOT_DESC")})),s.default.createElement("div",{className:"padding-12"},s.default.createElement(f.Columns,null,s.default.createElement(f.Column,null,s.default.createElement(f.Form.Item,{label:t("USER"),desc:t("RUN_AS_USER_DESC")},s.default.createElement(p.default,{name:"".concat(this.prefix,".runAsUser"),integer:!0}))),s.default.createElement(f.Column,null,s.default.createElement(f.Form.Item,{label:t("USER_GROUP"),desc:t("RUN_AS_USER_GROUP_DESC")},s.default.createElement(p.default,{name:"".concat(this.prefix,".runAsGroup"),integer:!0})))))))}},{key:"prefix",get:function(){return this.props.prefix||"securityContext"}}]),r}(s.default.Component);a.default=v},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(2034));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var m=function(e){(0,o.default)(r,e);var a=p(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement("div",{className:"margin-b12"},s.default.createElement("div",{className:d.default.title},t("SELINUX_CONTEXT")),s.default.createElement("div",{className:d.default.content},s.default.createElement(f.Columns,null,s.default.createElement(f.Column,null,s.default.createElement(f.Form.Item,{label:t("LEVEL")},s.default.createElement(f.Input,{name:"".concat(this.prefix,".seLinuxOptions.level")}))),s.default.createElement(f.Column,null,s.default.createElement(f.Form.Item,{label:t("ROLE")},s.default.createElement(f.Input,{name:"".concat(this.prefix,".seLinuxOptions.role")})))),s.default.createElement(f.Columns,null,s.default.createElement(f.Column,null,s.default.createElement(f.Form.Item,{label:t("TYPE")},s.default.createElement(f.Input,{name:"".concat(this.prefix,".seLinuxOptions.type")}))),s.default.createElement(f.Column,null,s.default.createElement(f.Form.Item,{label:t("USER")},s.default.createElement(f.Input,{name:"".concat(this.prefix,".seLinuxOptions.user")}))))))}},{key:"prefix",get:function(){return this.props.prefix||"securityContext"}}]),r}(s.default.Component);a.default=m},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(805));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var m=function(e){(0,o.default)(r,e);var a=p(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Form.Item,{label:t("TERMINATION_GRACEPERIOD_SECONDS")},s.default.createElement(d.default,{name:"".concat(this.prefix,"spec.terminationGracePeriodSeconds"),integer:!0,min:0,autoFocus:!0,defaultValue:30,style:{maxWidth:"100%"}})))}},{key:"prefix",get:function(){var e=this.props,t=e.isFederated;return e.prefix||(t?"spec.template.spec.template.":"spec.template.")}}]),r}(s.default.Component);a.default=m},,,function(e,t,a){e.exports={container:"_1BIHNvQ13o0zphM_GQJHXU",item:"_2eNoVZlmbPFGIf81Rct0bL",checkboxWrapper:"_311FvyLg8yzrYkj4WfkKnB",checkbox:"YWtk8EuLbQaSFZnxxOnfe",avatar:"VipxxR5SSLN7UAqDJHRzn",icon:"_2KRGTDUWFmYC5Nfw1Gt9LR",title:"_1KbiFncbGkEO_pfzW_C8tV",desc:"_3C20fvrExGm9fEdSiEHy4"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(70),r(20),r(14),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(70),r(20),r(29),r(14),r(4),r(18),r(43),r(11),r(73);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(5)),p=n(r(1)),m=n(r(828)),h=n(r(2080)),v=n(r(2081)),g=n(r(1145));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,i.default)(r,e);var a=y(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).handleAdd=function(t){"sidecar"===t?e.props.onShowSideCar():e.props.onShow()},e.handleEdit=function(t,a){"sidecar"===a?e.props.onShowSideCar(t):e.props.onShow(t)},e.handleDelete=function(t){var a=e.props,r=a.value,n=a.specTemplate,u=a.onChange,o=a.onDelete;"init"===t.type&&n.initContainers?(n.initContainers=n.initContainers.filter((function(e){return e.name!==t.name})),u((0,l.default)(r))):u(r.filter((function(e){return e.name!==t.name}))),o&&o(t.name)},e}return(0,o.default)(r,[{key:"renderQuotaCheck",value:function(){var e=this.props,t=e.value,a=e.replicas,r=this.props,n=r.specTemplate.initContainers,l=void 0===n?[]:n,u=r.leftQuota;return f.default.createElement(v.default,{className:"margin-b12",containers:t,initContainers:l,leftQuota:u,replicas:a})}},{key:"renderContainers",value:function(){var e=this,t=this.props,a=t.value,r=t.readOnlyList,n=t.isReadOnlyContainers;return a.map((function(t){return f.default.createElement(h.default,{container:t,key:t.name,onEdit:e.handleEdit,onDelete:e.handleDelete,readOnly:!!n||r.includes(t.name)})}))}},{key:"renderInitContainers",value:function(){var e=this,t=this.props.specTemplate.initContainers;return(void 0===t?[]:t).map((function(t){return f.default.createElement(h.default,{container:t,key:t.name,type:"init",onEdit:e.handleEdit,onDelete:e.handleDelete})}))}},{key:"renderAdd",value:function(){var e=this,a=this.props,r=a.value,n=a.specTemplate.initContainers,l=void 0===n?[]:n,u=a.module;return!globals.config.enableInjectSidecarSet||"deployments"!==u&&"daemonsets"!==u&&"statefulsets"!==u&&"clonesets"!==u?f.default.createElement(m.default.Add,{type:r.length<=0&&l.length<=0&&"empty",onClick:this.handleAdd,icon:"docker",title:t("ADD_CONTAINER"),description:t("ADD_CONTAINER_DESC")}):f.default.createElement("div",{className:g.default.addWrapper},f.default.createElement(m.default.Add,{type:r.length<=0&&l.length<=0&&"empty",onClick:this.handleAdd,icon:"docker",title:t("ADD_CONTAINER"),description:t("ADD_CONTAINER_DESC")}),f.default.createElement(m.default.Add,{type:r.length<=0&&l.length<=0&&"empty",onClick:function(){return e.handleAdd("sidecar")},icon:"docker",title:t("INJECT_SIDECAR_CONTAINER"),description:t("INJECT_SIDECAR_CONTAINER_DESC")}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.projectDetail,r=e.isShowAddContainer;return f.default.createElement("div",{className:(0,d.default)(g.default.wrapper,t)},a&&this.renderQuotaCheck(),this.renderInitContainers(),this.renderContainers(),r&&this.renderAdd())}}]),r}(f.default.Component);a.default=E,E.propTypes={className:p.default.string,name:p.default.string,value:p.default.array,onChange:p.default.func,onDelete:p.default.func,onShow:p.default.func,onShowSideCar:p.default.func,readOnlyList:p.default.array,specTemplate:p.default.object,isReadOnlyContainers:p.default.bool,isShowAddContainer:p.default.bool},E.defaultProps={className:"",name:"",value:[],readOnlyList:[],specTemplate:{},onChange:function(){},onShow:function(){},onShowSideCar:function(){},onDelete:function(){},isReadOnlyContainers:!1,isShowAddContainer:!0}},function(e,t,a){e.exports={item:"_1DlutFiUwvFNgAzcPZ4WfP",wrapper:"KgkgGaeI1CkW2eTagaPHg",icon:"gAwcKQWAlGXaXfRvTPJ6b",indicator:"W2G0FY4G-0C_7vNfPyGkk",texts:"_1kZJ1PDOvIkocxIfwTIlPf",text:"_1GFi6oSw_U06_FiFa5waZb",title:"_1c1_k_LDRPy9tH9wT2DfBd",description:"_1JlSLDV71q_5Fs1iTgXPg3",add:"O0lyv-qurRxi1vpLz9WT3",withIcon:"_1tlYdesMQZdigeRhHOFrwR",empty:"_1o2b1lrhC_fNG_3olp__64"}},function(e,t,a){e.exports={wrapper:"-XBu4b8O2xvI7sz8SdpZE",add:"_39NWTfrUc4MtPeYODxl5g6",list:"uWCXlTgRj640bCk0_flS7",mount:"_22--q6IUrTwpjWke9zshDr"}},function(e,t,a){e.exports={wrapper:"_19UhKk3-mi4ub-5oSlzpX6",add:"h5mILzyoJWeiI4KhywDGq",list:"_11RSctNAug762pT28Zt47a",mount:"_1M1f1DRCC8ZTvK-ac2EW6U"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(12),r(109),r(70),r(14),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(70),r(141),r(14),r(120),r(9),r(73);var u=l(r(317)),o=l(r(31)),i=l(r(50)),c=l(r(5)),s=l(r(1353)),f=l(r(800)),d=l(r(26)),p=l(r(1)),m=n(r(0)),h=r(56),v=r(439),g=l(r(2180)),y=function(e){var a,r=e.list,n=e.name,l=e.icon,p=e.type,y=e.isOutdated,E=e.hideColumns,b=void 0===E?[]:E,O=(0,i.default)(e,["list","name","icon","type","isOutdated","hideColumns"]),S=e.value,C=e.onChange;"array"===p&&(S=JSON.parse(null!==(a=S)&&void 0!==a?a:"[]")[0],C=function(t){e.onChange(JSON.stringify([t]))});return m.createElement(s.default,(0,u.default)({name:n,options:r,renderOption:function(e){var a,r=e.__empty,n=(0,v.getOverlayStatus)(e);return r?m.createElement("div",{key:"empty",className:(0,c.default)(g.default.option,g.default.empty)},m.createElement(f.default,{title:t("SELECT_POD_IP_POOL"),icon:l,description:t("MIGRATE_POD_IP_POOL_TIP")})):m.createElement("div",{key:e.name,className:(0,c.default)(g.default.option,(0,o.default)({},g.default.isOutdated,y))},m.createElement(f.default,{title:(0,h.getDisplayName)(e),icon:l,description:e.description||"-",ellipsis:!0}),m.createElement(f.default,{ellipsis:!0,title:(0,d.default)(e,"status.unallocated"),description:t("AVAILABLE_ADDRESSES")}),m.createElement(f.default,{ellipsis:!0,title:e.cidr,description:t("NETWORK_SEGMENT")}),!b.includes("blockSize")&&m.createElement(f.default,{title:null!==(a=e.blockSize)&&void 0!==a?a:"-",description:t("IPPOOL_BLOCK_SIZE")}),!y&&m.createElement(f.default,{ellipsis:!0,title:m.createElement("div",null,m.createElement("span",{className:"font-bold"},n.type),n.value&&m.createElement("span",{style:{marginLeft:"4px"}},"(",n.value,")")),description:t("IPPOOL_OVERLAY_MODE")}))}},O,{value:S,onChange:C}))},E=y;a.default=E,y.propTypes={list:p.default.array.isRequired,icon:p.default.string,name:p.default.string,value:p.default.string,onChange:p.default.func,type:p.default.string}},function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(10),a(44),a(20),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(10),a(44),a(20),a(29),a(4),a(18),a(43),a(11);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=a(189),f=r(a(5)),d=a(865),p=r(a(808)),m=r(a(67)),h=r(a(142)),v=r(a(163)),g=r(a(1)),y=r(a(0)),E=r(a(830)),b=r(a(2179));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var S=function(e){(0,o.default)(a,e);var t=O(a);function a(e){var r;return(0,l.default)(this,a),(r=t.call(this,e)).handleDOMClick=function(e){r.optionsRef&&r.optionsRef.current&&!r.optionsRef.current.contains(e.target)&&r.controlRef&&r.controlRef.current&&!r.controlRef.current.contains(e.target)&&r.setState({showOptions:!1})},r.triggerChange=(0,p.default)((function(){(0,r.props.onChange)(r.state.value)})),r.handleClick=function(e){r.setState({value:e,showOptions:!1},(function(){r.triggerChange()}))},r.toggleOptions=function(){r.setState((function(e){return{showOptions:!e.showOptions}}),(function(){document.removeEventListener("click",r.handleDOMClick),r.state.showOptions&&document.addEventListener("click",r.handleDOMClick)}))},r.state={value:(0,v.default)(e.value)?e.defaultValue:e.value,showOptions:!1},r.optionsRef=y.default.createRef(),r.controlRef=y.default.createRef(),r}return(0,u.default)(a,[{key:"componentDidUpdate",value:function(e,t){this.props.value!==t.value&&this.setState({value:this.props.value})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDOMClick)}},{key:"renderDetail",value:function(e){return e.map((function(e,t){return y.default.createElement("div",{key:t,className:b.default.text},y.default.createElement("div",null,e.label),e.description&&y.default.createElement("p",null,e.description))}))}},{key:"renderOption",value:function(e,t){var a=this,r=this.props.renderOption;return y.default.createElement("div",{key:e.uid||e.value,onClick:function(){return a.handleClick(e.value)},className:(0,f.default)(b.default.option,(0,n.default)({},b.default.selected,t),(0,n.default)({},b.default.withIcon,e.icon))},r?r(e):y.default.createElement(y.default.Fragment,null,this.renderIcon(e),y.default.createElement("div",{className:b.default.text},y.default.createElement("div",null,e.label),e.description&&y.default.createElement("p",null,e.description)),e.details&&this.renderDetail(e.details)))}},{key:"renderIcon",value:function(e){return e.icon?(0,h.default)(e.icon)?y.default.createElement(s.Icon,{className:b.default.leftIcon,name:e.icon,size:40,type:"dark"}):e.icon:null}},{key:"renderOptions",value:function(){var e=this,t=this.props,a=t.options,r=t.disabled,n=this.state,l=n.value,u=n.showOptions;if(r||!u)return null;if((0,m.default)(a))return y.default.createElement("div",{className:b.default.options,ref:this.optionsRef},y.default.createElement(d.Empty,null));var o=a.find((function(e){return(0,E.default)(e.value,l)}));return y.default.createElement("div",{className:b.default.options,ref:this.optionsRef},o&&this.renderOption(o,!0),a.filter((function(e){return!(0,E.default)(e.value,l)})).map((function(t){return e.renderOption(t)})))}},{key:"renderControl",value:function(){var e,t=this.props,a=t.placeholder,r=t.options,l=t.disabled,u=t.renderOption,o=this.state,i=o.value,c=o.showOptions,d=r.find((function(e){return(0,E.default)(e.value,i)}))||a||{__empty:!0};return y.default.createElement("div",{className:(0,f.default)(b.default.control,(e={},(0,n.default)(e,b.default.withIcon,d.icon),(0,n.default)(e,b.default.open,c),e)),ref:this.controlRef,onClick:this.toggleOptions},u?u(d):y.default.createElement(y.default.Fragment,null,this.renderIcon(d),y.default.createElement("div",{className:b.default.text},y.default.createElement("div",null,d.label),d.description&&y.default.createElement("p",null,d.description)),d.details&&this.renderDetail(d.details)),!l&&y.default.createElement(s.Icon,{className:b.default.rightIcon,name:"chevron-down",size:"small",clickable:!0}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.disabled;return y.default.createElement("div",{className:(0,f.default)(b.default.wrapper,(0,n.default)({},b.default.disabled,a),t)},this.renderControl(),this.renderOptions())}}]),a}(y.default.Component);t.default=S,S.propTypes={className:g.default.string,value:g.default.any,defaultValue:g.default.any,options:g.default.array.isRequired,onChange:g.default.func,renderOption:g.default.func},S.defaultProps={className:"",options:[],onChange:function(){}}},,,,function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(10),r(6),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(31)),p=n(r(26)),m=n(r(140)),h=n(r(163)),v=n(r(198)),g=n(r(0)),y=n(r(106)),E=n(r(1096)),b=r(243),O=n(r(1)),S=n(r(5)),C=r(189),_=n(r(826)),k=n(r(800)),R=n(r(1358));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}E.default.defaultStyles.overlay=T(T({},E.default.defaultStyles.overlay),{},{padding:0,minWidth:500,backgroundColor:"rgba(35, 45, 65, 0.7)",zIndex:2e3,overflow:"auto"}),E.default.defaultStyles.content=T(T({},(0,m.default)(E.default.defaultStyles.content,["top","left","right","bottom","padding"])),{},{width:744,position:"relative",margin:"0 auto"});var P=function(e){(0,c.default)(r,e);var a=N(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"renderTitle",value:function(){var e=this.props,t=e.icon,a=e.imageIcon,r=e.title,n=e.description,l=e.rightScreen?48:(0,h.default)(n)?20:40;return g.default.createElement("div",{className:R.default.title},a?g.default.createElement("label",{className:R.default.image},g.default.createElement(_.default,{src:a,iconLetter:a,iconSize:l})):t&&g.default.createElement(C.Icon,{name:t,size:l}),g.default.createElement(k.default,{title:r,description:n}))}},{key:"render",value:function(){var e,a=this.props,r=a.className,n=a.width,o=a.visible,i=a.children,c=a.hideHeader,s=a.hideFooter,f=a.onOk,p=a.onCancel,m=a.okText,h=a.cancelText,v=a.okButtonType,y=a.cancelButtonType,b=a.closable,O=a.operations,k=a.headerClassName,N=a.bodyClassName,D=a.footerClassName,T=a.fullScreen,P=a.rightScreen,w=a.maskClosable,I=a.isSubmitting,M=a.icon,A=a.imageIcon,j=a.disableSubmit,x=(0,u.default)(a,["className","width","visible","children","hideHeader","hideFooter","onOk","onCancel","okText","cancelText","okButtonType","cancelButtonType","closable","operations","headerClassName","bodyClassName","footerClassName","fullScreen","rightScreen","maskClosable","isSubmitting","icon","imageIcon","disableSubmit"]),L={content:{}},U=(M||A)&&P;return T||P||(L.content.width=n),g.default.createElement(E.default,(0,l.default)({className:(0,S.default)(R.default.modal,r,(e={},(0,d.default)(e,R.default.fullscreen,T),(0,d.default)(e,R.default.rightScreen,P),e)),style:L,isOpen:o,onRequestClose:p,ariaHideApp:!1,closeTimeoutMS:0,shouldCloseOnOverlayClick:w},x),!c&&g.default.createElement("div",{className:(0,S.default)(R.default.header,k)},this.renderTitle(),U&&g.default.createElement("div",{className:R.default.iconBg},A?g.default.createElement(_.default,{src:A,iconLetter:A,iconSize:200}):g.default.createElement(C.Icon,{name:M,size:200})),O,b&&g.default.createElement(C.Button,{className:R.default.close,icon:"close",iconType:"light",type:"control",onClick:p,"data-test":"modal-close"})),g.default.createElement("div",{className:(0,S.default)(R.default.body,N)},i),!s&&g.default.createElement("div",{className:(0,S.default)(R.default.footer,D)},p&&g.default.createElement(C.Button,{type:y,onClick:p,"data-test":"modal-cancel"},h||t("CANCEL")),f&&g.default.createElement(C.Button,{type:v,loading:I,disabled:j||I,onClick:f,"data-test":"modal-ok"},m||t("OK"))))}}]),r}(g.default.Component);a.default=P,P.propTypes={className:O.default.string,headerClassName:O.default.string,bodyClassName:O.default.string,footerClassName:O.default.string,icon:O.default.string,title:O.default.oneOfType([O.default.node,O.default.string]),description:O.default.oneOfType([O.default.node,O.default.string]),width:O.default.oneOfType([O.default.number,O.default.string]),visible:O.default.bool,okText:O.default.string,cancelText:O.default.string,okButtonType:O.default.string,cancelButtonType:O.default.string,onOk:O.default.func,onCancel:O.default.func,renderFooter:O.default.func,children:O.default.any,hideHeader:O.default.bool,hideFooter:O.default.bool,closable:O.default.bool,maskClosable:O.default.bool,fullScreen:O.default.bool,rightScreen:O.default.bool,disableSubmit:O.default.bool},P.defaultProps={className:"",width:600,visible:!1,hideHeader:!1,hideFooter:!1,closable:!0,maskClosable:!1,fullScreen:!1,rightScreen:!1,isSubmitting:!1,okButtonType:"control",cancelButtonType:"default",disableSubmit:!1},P.open=function(e){var t=document.createElement("div");document.body.appendChild(t),document.activeElement.blur();var a=function(){(0,v.default)(e.onCancel)&&e.onCancel(),P.close(t)},r=e.modal,n=(0,b.observer)((function(){return g.default.createElement(r,(0,l.default)({},(0,m.default)(e,"modal","onCancel"),{isSubmitting:(0,p.default)(e,"store.isSubmitting"),onCancel:a,visible:!0}))}));return y.default.render(g.default.createElement(n,null),t),t},P.close=function(e){y.default.unmountComponentAtNode(e)&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,a){e.exports={modal:"_3JH1v6x8jIRsM2nX9adQyN",header:"_4MzOTMU2cvWEwQr9z25V7",description:"_1yTmLDGsVlNUTQkYyEHrxg",title:"_1RX38A_DDUri5CZScWKl6o",close:"_2zb6pIDkpse35n_ccmL9MK",body:"_3lQbTZkkIbSxY2h-db6nzL",footer:"Nwh2RIcnTEYcU3Zz6F0HK",formFooter:"_3w3XgkEVBlVVT7FtgfRneB",formBody:"_3Mp2fROUxAmcCxUEdzdS-7",formWrapper:"_3orb61OAuSKCzsjUnwNocR",fullscreen:"_38FrAsAlIhto4XLnmQZHGm",rightScreen:"_2wbhf4zrC978F2o8yP5js9",image:"_25VvuuP1h-wXn7ihRD0dg5",iconBg:"VfaWro3GGol145rEwR1UG"}},,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(192),a(10),a(20),a(24),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(192),a(10),a(20),a(29),a(24),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(67)),p=r(a(163)),m=r(a(1)),h=r(a(5)),v=a(189);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(a,e);var t=g(a);function a(){return(0,u.default)(this,a),t.apply(this,arguments)}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=e.options,r=e.onChange,u=(0,l.default)(e,["value","options","onChange"]);return(0,d.default)(a)?null:f.default.createElement(v.RadioGroup,(0,n.default)({wrapClassName:(0,h.default)("radio-group-button",{"radio-with-badge":a.every((function(e){return!(0,p.default)(e.count)}))}),value:t,onChange:r},u),a.filter((function(e){return e&&!e.hidden})).map((function(e){return f.default.createElement(v.RadioButton,{key:e.value,value:e.value},e.label,!(0,p.default)(e.count)&&f.default.createElement(v.Badge,{status:e.value===t?"success":"default",count:Number(e.count)}))})))}}]),a}(f.default.Component);t.default=y,y.propTypes={options:m.default.array,value:m.default.any,onChange:m.default.func}},function(e,t,a){"use strict";a(16);var r=a(19);a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(14),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=a(1),p=r(a(458)),m=r(a(811)),h=a(189);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(e){(0,i.default)(a,e);var t=v(a);function a(e){var r;return(0,u.default)(this,a),(r=t.call(this,e)).handleChange=function(e){var t=r.props.onChange;r.setState({value:e}),t!==p.default&&t(e)},r.state={value:e.value||!1},r}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.onText,r=e.offText,u=(0,l.default)(e,["name","onText","offText"]),o=this.state.value;return f.default.createElement(h.Toggle,(0,n.default)({},u,{name:t,onText:a,offText:r,checked:o,onChange:this.handleChange}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.value;return"value"in e&&!(0,m.default)(e.value,a)?{value:e.value}:null}}]),a}(f.default.Component);t.default=g,g.propTypes={name:d.PropTypes.string,onText:d.PropTypes.string,offText:d.PropTypes.string,value:d.PropTypes.bool,onChange:d.PropTypes.func},g.defaultProps={onChange:p.default}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(6),a(36),a(66),a(20),a(327),a(193),a(99),a(4),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.percent,a=void 0===t?0:t,r=e.strokeColor,n=void 0===r?{"0%":"#55bc8a","70%":"#f5a623","100%":"#ca2621"}:r,c=e.trailColor,s=void 0===c?"#e3e9ef":c,f=e.bgColor,d=void 0===f?"#fff":f,p=(0,o.useState)("#108ee9"),m=(0,u.default)(p,2),h=m[0],v=m[1],g=(0,o.useState)(""),y=(0,u.default)(g,2),E=y[0],b=y[1],O="repeating-linear-gradient(\n    to right,\n    rgba(255, 255, 255, 0.1),\n    rgba(255, 255, 255, 0.1) 2px,\n    ".concat(d," 2px,\n    ").concat(d," 4px\n  )"),S="".concat(0!==a?a.toFixed(2):0,"%");return(0,o.useEffect)((function(){if("string"==typeof n&&v(n),"object"===(0,l.default)(n)&&!Array.isArray(n)){var e=Object.entries(n).map((function(e){var t=(0,u.default)(e,2),a=t[0],r=t[1];return"".concat(r," ").concat(a)})).join(","),t="linear-gradient(to right, ".concat(e,")");v(t)}}),[n]),(0,o.useEffect)((function(){var e=new Map;Object.entries(n).forEach((function(t){var a=(0,u.default)(t,2),r=a[0],n=a[1];e.set(parseInt(r,10),n)}));var t="";a<70&&(t=e.get(0)),a>=70&&a<90&&(t=e.get(70)),a>=90&&(t=e.get(100)),b(t)}),[a,n]),o.default.createElement("div",{className:i.default.progress},o.default.createElement("div",{className:i.default.line_box},o.default.createElement("div",{className:i.default.line_split_items,style:{background:O}}),o.default.createElement("div",{className:i.default.line_block_mask_items,style:{width:"".concat(100-a<0?0:100-a,"%"),background:s}}),o.default.createElement("div",{className:i.default.line_block_items,style:{background:h}})),o.default.createElement("span",{style:{color:E}},S))},a(3),a(6),a(121),a(36),a(66),a(20),a(327),a(193),a(99),a(4),a(321),a(46),a(7),a(40);var l=n(a(246)),u=n(a(97)),o=r(a(0)),i=n(a(2178))},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(192),a(6),a(36),a(4),a(21),a(18),a(11),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(192),a(6),a(36),a(27),a(29),a(4),a(21),a(18),a(43),a(11),a(46),a(7),a(40);var n=r(a(38));a(35);var l=r(a(39)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var d=function(e){(0,i.default)(a,e);var t=f(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).getActive=void 0,e.isActive=function(){var t=(0,l.default)(n.default.mark((function t(a){var r,l,u;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.clusters,l=[],r.forEach((function(t){l.push(request.get("".concat(e.getPath({cluster:t})).concat(e.apiVersion,"?name=bgpconfs.network.kubesphere.io"),{},{},(function(){return!1})))})),t.next=5,Promise.all(l);case 5:return u=t.sent,t.abrupt("return",u.every((function(e){return!!e})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,o.default)(a,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace,r="";return t&&(r+="/clusters/".concat(t)),a&&(r+="/namespaces/".concat(a)),r}},{key:"apiVersion",get:function(){return"/kapis/resources.kubesphere.io/v1alpha3/customresourcedefinitions"}}]),a}(r(a(49)).default);t.default=d},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(14),a(4),a(21),a(18),a(43),a(11);var n=r(a(38));a(35);var l=r(a(39)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=a(61);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var p=function(e){(0,i.default)(a,e);var t=d(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).module="edgenodes",e.getListUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/nodes").concat(t.dryRun?"?dryRun=All":"")},e.getResourceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"kapis/resources.kubesphere.io/v1alpha3".concat(e.getPath(t),"/nodes")},e.createEdgeNode=function(){var t=(0,l.default)(n.default.mark((function t(a){var r,l,u,o,i,c;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.cluster,l=a.name,u=a.ip,o=a.defaultTaint,i="kapis/kubeedge.kubesphere.io/v1beta1/".concat(e.getPath({cluster:r}),"/nodes/join"),t.next=4,request.get(i,{node_name:l,node_ip:u,add_default_taint:o},{},(function(e){return e}));case 4:return c=t.sent,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,o.default)(a,[{key:"apiVersion",get:function(){return f.API_VERSIONS.nodes||""}}]),a}(r(a(454)).default);t.default=p},function(e,t,a){e.exports={body:"_20KZWGrRjmRPP_JIbDc10b",footer:"_27w0UI5xapozSRbtunCqBZ",nodes:"_38qhgbAP2cKhs37vbwmci",item:"KyVlOg-pF3VGEh5pnnFdj",selected:"_12yploQohwiLpA0dhK-IV6",ring:"_1ppP-sUCzTYH9DgAkpnI0g",name:"_3vulsZhQIFxLsKFo47U2DA",taints:"_22nVB2_uPqlEF7ZiQy6sqT"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(36),r(66),r(20),r(98),r(14),r(99),r(9),r(4),r(190),r(21),r(18),r(11),r(46),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(36),r(66),r(20),r(98),r(29),r(14),r(99),r(9),r(4),r(190),r(21),r(18),r(43),r(11),r(46),r(40);var l=n(r(317)),u=n(r(97)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(808)),p=n(r(67)),m=n(r(0)),h=n(r(830)),v=r(189),g=n(r(829)),y=n(r(319)),E=r(56),b=n(r(2190)),O=n(r(2192));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=function(e){(0,c.default)(r,e);var a=S(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).fetchRelatedWorkloads=(0,d.default)((function(e){var a=e.value,r=e.cluster,n=e.namespace;if((0,p.default)(a)||Object.keys(a).some(p.default)||Object.values(a).some(p.default))t.setState({relatedDeployments:[],relatedDaemonSets:[],relatedStatefulSets:[]});else if((0,E.isValidLabel)(a)){var l=(0,E.joinSelector)(a);Promise.all([t.store.fetchListByK8s({cluster:r,namespace:n,labelSelector:l,module:"deployments"}),t.store.fetchListByK8s({cluster:r,namespace:n,labelSelector:l,module:"daemonsets"}),t.store.fetchListByK8s({cluster:r,namespace:n,labelSelector:l,module:"statefulsets"})]).then((function(e){var a=(0,u.default)(e,3),r=a[0],n=a[1],l=a[2];t.setState({relatedDeployments:r,relatedDaemonSets:n,relatedStatefulSets:l})}))}}),500),t.handleWorkloadSelect=function(e){var a=t.props.onChange;a&&a(e)},t.handleCancel=function(){t.setState({visible:!1})},t.store=new y.default,t.state={relatedDeployments:[],relatedDaemonSets:[],relatedStatefulSets:[]},(0,p.default)(e.value)||t.fetchRelatedWorkloads(e),t}return(0,i.default)(r,[{key:"componentDidUpdate",value:function(e){(0,h.default)(e.value,this.props.value)||this.fetchRelatedWorkloads(this.props)}},{key:"renderRelatedTips",value:function(){var e=this.props.value,a=this.state,r=a.relatedDeployments,n=a.relatedDaemonSets,l=a.relatedStatefulSets,o=r.length+n.length+l.length;if((0,p.default)(e))return null;if(0===o){var i=t("NO_WORKLOAD_MATCH_SELECTOR");return m.default.createElement(v.Alert,{className:O.default.alert,message:i,type:"warning"})}var c=Object.entries(e).map((function(e){var t=(0,u.default)(e,2),a=t[0],r=t[1];return"".concat(a,"=").concat(r)})).join(", "),s=1===o?t("WORKLOADS_MATCH_SELECTOR_SI",{selector:c,count:o}):t("WORKLOADS_MATCH_SELECTOR_PL",{selector:c,count:o}),f=m.default.createElement("div",null,m.default.createElement("p",null,t("TOTAL_WORKLOADS_VALUE",{count:o})),r.map((function(e){var a=e.name;return m.default.createElement("p",{key:"deploy-".concat(a)},t("DEPLOYMENTS_VALUE",{value:a}))})),n.map((function(e){var a=e.name;return m.default.createElement("p",{key:"ds-".concat(a)},t("STATEFULSETS_VALUE",{value:a}))})),l.map((function(e){var a=e.name;return m.default.createElement("p",{key:"sts-".concat(a)},t("STATEFULSETS_VALUE",{value:a}))}))),d=m.default.createElement("div",null,m.default.createElement("p",{className:"inline-block"},s)," ",m.default.createElement(v.Tooltip,{content:f,trigger:"click"},m.default.createElement("a",{className:"text-green"},t("VIEW_DETAILS"))));return m.default.createElement(v.Alert,{className:O.default.alert,message:d,type:"warning"})}},{key:"renderWorkloadSelectForm",value:function(){var e=this.props,t=e.cluster,a=e.namespace;return m.default.createElement(b.default,{cluster:t,namespace:a,onSelect:this.handleWorkloadSelect,onCancel:this.handleCancel})}},{key:"render",value:function(){var e=this.state.visible;return m.default.createElement("div",{className:O.default.wrapper},this.renderRelatedTips(),m.default.createElement(g.default,(0,l.default)({},this.props,{controlled:!0})),m.default.createElement(v.Popper,{className:O.default.popper,trigger:"click",visible:e,placement:"right",content:this.renderWorkloadSelectForm(),closeAfterClick:!1},m.default.createElement(v.Button,{className:O.default.workload},t("SPECIFY_WORKLOAD"))))}}]),r}(m.default.Component);a.default=C},function(e,t,a){e.exports={body:"_2MhD2VJyGZ1OnJ2KFe2d23",footer:"_2V8DBKRPjuX7w6AAHpKTfP",workloads:"_1hcCNTwhogb3zYNVUYkdWE",item:"_3-pknnNZ1yrdvtQZk8621N",selected:"_1j4HTHlVC5ELuR7GNArbbV",ring:"_1DMV7CsdVMuAxQ4xSvTJ5I",name:"_3VnHSneXzn9c_lC_mtzDzq"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(824)),h=n(r(2196));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var g=function(e){(0,c.default)(r,e);var a=v(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.value,r=void 0===a?[]:a,n=e.onChange,o=e.options,i=(0,u.default)(e,["value","onChange","options"]);return d.default.createElement(m.default,(0,l.default)({value:r,onChange:n,addText:t("ADD_ENVIRONMENT_VARIABLE")},i),d.default.createElement(h.default,{options:o}))}}]),r}(d.default.Component);a.default=g,g.propTypes={value:p.default.array,onChange:p.default.func},g.defaultProps={name:"",value:[],onChange:function(){}}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=a(189);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var m=function(e){(0,i.default)(a,e);var t=p(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).handleChange=function(t,a){var r=e.props.onChange;r&&r(t&&"true"===t,a)},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this.props,t=e.value,a=(e.onChange,(0,l.default)(e,["value","onChange"]));return f.default.createElement(d.Select,(0,n.default)({value:String(t),onChange:this.handleChange},a))}}]),a}(f.default.Component);t.default=m,m.defaultProps={options:[{label:"true",value:"true"},{label:"false",value:"false"}]}},function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(44),r(6),r(70),r(20),r(87),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(44),r(6),r(70),r(20),r(27),r(87),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(26)),p=n(r(68)),m=n(r(827)),h=r(189),v=n(r(203)),g=n(r(2197));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var O=function(e){(0,i.default)(r,e);var a=b(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).getDefaultValue=function(){var t=e.props.builderTemplate;return e.isB2i?(0,d.default)(e.containerList[0],"builderImage",""):(0,d.default)(t.find((function(t){return(0,d.default)(t,"spec.codeFramework")===e.languageType})),"spec.defaultBaseImage","")},e.handleTemplateChange=function(t){var a=e.props.formTemplate,r=e.containerList.find((function(e){return e.builderImage===t}))||{};Object.keys(r).forEach((function(e){["environment","docUrl","description"].includes(e)||(0,p.default)(a,"spec.config.".concat(e),r[e])})),e.props.onEnvironmentChange(r)},e}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e){this.props.loading===e.loading||this.props.loading||this.handleTemplateChange(this.getDefaultValue())}},{key:"getOptions",value:function(e){var t="en"===(0,v.default)("lang")?"EN":"CN";return(0,d.default)(e,"spec.containerInfo",[]).map((function(a){return E(E({},a),{},{type:(0,d.default)(e,"spec.codeFramework",""),description:(0,d.default)(e,"metadata.annotations.description".concat(t),"")||(0,d.default)(e,"spec.description",""),environment:(0,d.default)(e,"spec.environment"),docUrl:(0,d.default)(e,'metadata.annotations["devops.kubesphere.io/s2i-template-url"]',"")})}))}},{key:"getTemplateOptions",value:function(){return this.containerList.map((function(e){return{icon:e.type,value:e.builderImage,label:e.builderImage,description:e.description}}))}},{key:"render",value:function(){return this.props.loading?f.default.createElement(h.Form.Item,null,f.default.createElement(h.Loading,{className:g.default.loading})):f.default.createElement(h.Form.Item,{rules:[{required:!0,message:t("PARAM_REQUIRED")}],label:t("BUILD_ENVIRONMENT"),className:g.default.form},f.default.createElement(m.default,{name:"spec.config.builderImage",defaultValue:this.getDefaultValue(),options:this.getTemplateOptions(),onChange:this.handleTemplateChange}))}},{key:"isB2i",get:function(){return"b2i"===(0,d.default)(this.props.formTemplate,'metadata.labels["s2i-type.kubesphere.io"]')}},{key:"languageType",get:function(){return(0,d.default)(this.props.formTemplate,"metadata.annotations.languageType")}},{key:"containerList",get:function(){var e=this,t=this.props.builderTemplate;return this.isB2i?t.reduce((function(t,a){return(0,d.default)(a,'metadata.labels["binary-type.kubesphere.io"]')===e.languageType?t.concat(e.getOptions(a)):t}),[]):t.reduce((function(t,a){return(0,d.default)(a,"spec.codeFramework")===e.languageType?t.concat(e.getOptions(a)):t}),[])}}]),r}(f.default.PureComponent);a.default=O,O.defaultProps={builderTemplate:[],onEnvironmentChange:function(){}}},,function(e,t,a){e.exports={item:"_3B6M7jS8yJCJ_db80218Cx",clusters:"yJ5ZeNZrCegufTZ2ZaNKw",icon:"_2lO-9i_JS9eqsIVBPkua-p",texts:"_2YWJAWgI61nIhCS4EYsPi0",text:"_1n80KtncC2AozhPD0jNrLe",title:"GB0KMFlNq6OL-c4Ax-46B",description:"_2JZg6RuX8VztZ-BRkF5XIn",add:"_3QePSiOdhFNLnuISgc5M-b",error:"_1MSBTkDbGWnDCrv3uPORJW",overrides:"_3-XUgSp20r6pfRrzMwEO-I"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(10),a(70),a(20),a(4),a(18),a(11),a(73),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(10),a(70),a(20),a(29),a(4),a(18),a(43),a(11),a(73);var n=r(a(31)),l=r(a(58)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(1)),p=r(a(5)),m=a(189),h=r(a(2545));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(e){(0,i.default)(a,e);var t=v(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(t){var a=t.currentTarget.dataset.value,r=e.props,n=r.value,u=r.onChange;n.includes(a)?u(n.filter((function(e){return e!==a}))):u([].concat((0,l.default)(n),[a]))},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.options,r=t.value;return f.default.createElement("ul",{className:h.default.wrapper},a.map((function(t){return f.default.createElement("li",{className:(0,p.default)((0,n.default)({},h.default.select,r.includes(t.value))),key:t.value,"data-value":t.value,onClick:e.handleClick},t.icon&&f.default.createElement(m.Icon,{name:t.icon,size:24}),t.label)})))}}]),a}(f.default.Component);t.default=g,g.propTypes={options:d.default.array,value:d.default.array,onChange:d.default.func},g.defaultProps={options:[],value:[],onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(2546));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var m=function(e){(0,o.default)(r,e);var a=p(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).handleUp=function(){var t=e.props,a=t.value,r=t.onChange;r&&r(a+1)},e.handleDown=function(){var t=e.props,a=t.value,r=t.onChange;r&&r(Math.max(a-1,1))},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.value,r=e.onChange;return s.default.createElement("div",{className:d.default.wrapper},s.default.createElement("span",{className:d.default.value},a),s.default.createElement("span",{className:d.default.text},s.default.createElement("p",null,s.default.createElement("strong",null,t(1===a?"REPLICA":"REPLICA_PL"))),s.default.createElement("p",null,t("GRAYSCALE_REPLICAS_DESC"))),r&&s.default.createElement("span",{className:d.default.buttons},s.default.createElement(f.Icon,{name:"chevron-up",size:24,onClick:this.handleUp}),s.default.createElement(f.Icon,{name:"chevron-down",size:24,onClick:this.handleDown})))}}]),r}(s.default.Component);a.default=m},,,,,,,function(e,t,a){e.exports={content:"_33UAj8NNyxGlt0XrGjXxDG",container:"_39DHzVANM8BB28BDsjbPDz",tabs:"_1In4WG1eFP8TEpfe2io2n9",active:"vbsTPs6KAl0ma_1Gu0kmT",icon:"_3hCslx0LRjpwUZYHuRm8w2",updated:"_5AdLQjJkeWRoQAcJmG5Tm",form:"_3fv66aOwusgZPt6_7XcUhb",formActions:"_3b9paAt5DebzD_VqB7AD0T",formWrapper:"_3XmPpYsksWGsE4Y8Us31Zo",footer:"VsyyYvKWuTWldOg79WKyW",confirm:"_3s_Vwl-cr6v1rKwl_tgu"}},,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(25)),l=a(56),u=r(a(26)),o=r(a(1001)),i=r(a(2652));t.default=function e(t){var a=this;(0,n.default)(this,e),this.store=null,this.setStore=function(e){a.store=e},this.isCalico=function(e){var t,a,r,n=null!==(t=null===(a=window.parent)||void 0===a?void 0:a.globals)&&void 0!==t?t:window.globals,o=(null==n||null===(r=n.app)||void 0===r?void 0:r.isMultiCluster)?(0,u.default)(n,"clusterConfig.".concat(e,".ksVersion")):(0,u.default)(n,"ksConfig.ksVersion");return(0,l.compareVersion)(o,"3.4.1")>=0},this.isOutdated=function(e){var t,a,r,n=null!==(t=null===(a=window.parent)||void 0===a?void 0:a.globals)&&void 0!==t?t:window.globals;if(!(null==n||null===(r=n.app)||void 0===r?void 0:r.isMultiCluster))return!1;var o=(0,u.default)(n,"clusterConfig.".concat(e,".ksVersion"));return(0,l.compareVersion)(o,"3.4.0")<0},this.getStoreByCluster=function(e){return a.isCalico(e)?i.default:o.default},this.setStoreByCluster=function(e){var t=a.getStoreByCluster(e);a.setStore(new t)},t&&(this.store=t)}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(21),a(200),a(7),a(110),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(3),a(10),a(6),a(20),a(27),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(200),a(7),a(110);var n=r(a(38)),l=r(a(31)),u=r(a(50));a(35);var o,i,c,s=r(a(39)),f=r(a(62)),d=r(a(25)),p=r(a(28)),m=r(a(45)),h=(r(a(63)),r(a(26))),v=r(a(68)),g=a(17),y=r(a(92));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=(o=function(){function e(t){var a=this,r=t.module,n=t.kind,l=t.apiVersion;(0,d.default)(this,e),(0,f.default)(this,"list",i,this),this.getListUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(a.apiVersion).concat(a.getPath(e),"/").concat(a.module)},this.getDetailUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(a.getListUrl(e),"/").concat(e.name)},(0,f.default)(this,"submitting",c,this),this.module=r,this.kind=n,this.apiVersion=l}var t,a;return(0,p.default)(e,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace,r="";return t&&(r+="/klusters/".concat(t)),a&&(r+="/namespaces/".concat(a)),r}},{key:"fetchList",value:(a=(0,s.default)(n.default.mark((function e(){var t,a,r,l,o,i,c,s,f,d,p=this,m=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},a=t.cluster,r=t.namespace,l=t.page,o=void 0===l?this.list.page:l,i=t.name,c=(0,u.default)(t,["cluster","namespace","page","name"]),this.list.isLoading=!0,(s=c).limit?this.list.limit=s.limit:s.limit=this.list.limit,this.list.continues[o]&&(s.continue=this.list.continues[o]),i&&(s.fieldSelector="metadata.name=".concat(i)),e.next=8,request.get(this.getListUrl({cluster:a,namespace:r}),s);case 8:return f=e.sent,d=f.items.map((function(e){return b({cluster:a,namespace:r},p.mapper(e))})),this.list.continues[Number(o)+1]=f.metadata.continue,1===o&&(this.list.total=d.length+(f.metadata.remainingItemCount||0)),(0,g.extendObservable)(this.list,{data:d,page:Number(o),name:i}),this.list.isLoading=!1,e.abrupt("return",this.list);case 15:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"update",value:(t=(0,s.default)(n.default.mark((function e(t,a){var r,l;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get(this.getDetailUrl(t));case 2:return r=e.sent,(l=(0,h.default)(r,"metadata.resourceVersion"))&&(0,v.default)(a,"metadata.resourceVersion",l),e.abrupt("return",this.submitting(request.put(this.getDetailUrl(t),a)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"patch",value:function(e,t){return this.submitting(request.patch(this.getDetailUrl(e),t))}},{key:"delete",value:function(e){return this.submitting(request.delete(this.getDetailUrl(e)))}},{key:"mapper",get:function(){return y.default.customresourcedefinitions}}]),e}(),i=(0,m.default)(o.prototype,"list",[g.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],page:1,limit:10,total:0,continues:{1:""},isLoading:!0}}}),c=(0,m.default)(o.prototype,"submitting",[g.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){return e.isSubmitting=!0,setTimeout((function(){t.catch((function(){})).finally((function(){e.isSubmitting=!1}))}),500),t}}}),(0,m.default)(o.prototype,"fetchList",[g.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchList"),o.prototype),(0,m.default)(o.prototype,"update",[g.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),(0,m.default)(o.prototype,"patch",[g.action],Object.getOwnPropertyDescriptor(o.prototype,"patch"),o.prototype),(0,m.default)(o.prototype,"delete",[g.action],Object.getOwnPropertyDescriptor(o.prototype,"delete"),o.prototype),o);t.default=O},,,,,,,,,,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(9),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(141),r(29),r(120),r(9),r(4),r(18),r(43),r(30),r(11),r(71);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=r(189),m=r(893),h=n(r(503)),v=n(r(838)),g=n(r(2741));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,i.default)(r,e);var a=y(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).DEFAULT_PREVIEW_FILE="values.yaml",e.state={selectFile:e.defaultSelectFile,mode:"yaml"},e.changeMode=function(t){e.setState({mode:t})},e.changeSelectFile=function(t){e.setState({selectFile:t})},e.handleDownload=function(){var t=e.state,a=t.mode,r=t.selectFile,n=e.props.files[r];"yaml"===a?e.downloadAsYaml(n):"json"===a&&e.downloadAsJSON(n)},e}return(0,o.default)(r,[{key:"downloadAsJSON",value:function(e){var t=this.state.selectFile.replace(/yaml$/,"json"),a="";try{a=JSON.stringify(h.default.safeLoad(e),null,2)}catch(e){a=e}this.saveAs(a,t)}},{key:"downloadAsYaml",value:function(e){var t=this.state.selectFile;this.saveAs(e,t)}},{key:"saveAs",value:function(e,t){var a=new Blob([e],{type:"text/plain;charset=utf-8"});(0,m.saveAs)(a,t)}},{key:"renderFileSelect",value:function(){return f.default.createElement(p.Select,{defaultValue:this.state.selectFile,onChange:this.changeSelectFile,options:this.fileOptions})}},{key:"renderOverlayBtns",value:function(){return this.props.hideOverlayBtns?null:f.default.createElement("div",{className:g.default.overlayTools},f.default.createElement(p.Icon,{className:g.default.download,name:"download",size:20,color:{primary:"#fff"},onClick:this.handleDownload,clickable:!0,changeable:!0}))}},{key:"renderToolbar",value:function(){var e=this.props,a=e.type;return e.hideToolbar?null:f.default.createElement("div",{className:g.default.toolbar},"selectFiles"===a&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:g.default.icon},f.default.createElement(p.Icon,{name:"coding",size:20}),f.default.createElement("span",null,t("CHART_FILES"))),this.renderFileSelect()),"values.yaml"===a&&f.default.createElement("div",{className:g.default.icon},f.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/helm.svg",alt:""}),f.default.createElement("span",null,"Values.yaml")))}},{key:"renderPreviewContent",value:function(){var e=this.props.editorOptions,t=this.state,a=t.mode,r=t.selectFile;return f.default.createElement(v.default,(0,l.default)({mode:a,value:this.props.files[r]},e))}},{key:"render",value:function(){return this.state.selectFile?f.default.createElement("div",{className:g.default.wrapper},this.renderToolbar(),f.default.createElement("div",{className:g.default.edit},this.renderOverlayBtns(),this.renderPreviewContent())):f.default.createElement("p",null,t("NO_APP_CHART_FILE_FOUND"))}},{key:"fileOptions",get:function(){var e=this.props.files,t=void 0===e?{}:e;return Object.keys(t).map((function(e){return{label:e,value:e}}))}},{key:"defaultSelectFile",get:function(){var e=this.props.files,t=(void 0===e?{}:e)[this.DEFAULT_PREVIEW_FILE],a=this.fileOptions.length?this.fileOptions[0].value:"";return t?this.DEFAULT_PREVIEW_FILE:a}}]),r}(f.default.Component);a.default=E,E.propTypes={files:d.default.object,type:d.default.oneOf(["selectFiles","values.yaml"]),editorOptions:d.default.object,hideToolbar:d.default.bool,hideOverlayBtns:d.default.bool},E.defaultProps={files:{},type:"selectFiles",editorOptions:{},hideToolbar:!1,hideOverlayBtns:!1}},,,function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(12),r(109),r(70),r(20),r(14),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(70),r(20),r(29),r(14),r(4),r(21),r(18),r(43),r(11),r(73);var u=l(r(317)),o=l(r(50)),i=l(r(31)),c=l(r(38));r(35);var s=l(r(39)),f=l(r(25)),d=l(r(28)),p=l(r(41)),m=l(r(42)),h=l(r(37)),v=n(r(0)),g=l(r(1)),y=l(r(5)),E=r(189),b=l(r(191)),O=l(r(798)),S=l(r(1185)),C=l(r(2781)),_=l(r(887)),k=l(r(2783)),R=l(r(2784));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var D=function(e){(0,p.default)(r,e);var a=N(r);function r(e){var n;return(0,f.default)(this,r),(n=a.call(this,e)).reset=function(){n.setState({canCreate:!1,checkStatus:"init"})},n.changeCheckStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n.setState({checkStatus:e.status,resultInfo:e})},n.changeIcon=function(e){n.setState({icon:e})},n.onCancel=function(){n.props.onCancel(),n.reset()},n.createApp=(0,s.default)(c.default.mark((function e(){var t,a,r,l,u,o,i,s,f;return c.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.props,a=t.type,r=t.onOk,(l=n.state.canCreate)?(u=n.state,o=u.icon,i=u.resultInfo,s=o||i.icon,f={version_type:"helm",name:i.name,base64Str:i.base64Str,icon:s},n.fileStore.uploadPackage(a,f,r).then((function(){n.reset()}))):n.setState({canCreate:!l});case 3:case"end":return e.stop()}}),e)}))),n.handleSubmit=function(){var e=n.props,a=e.appId,r=e.workspace,l=e.type,u=e.onOk,o=n.state.resultInfo;if("success"!==n.state.checkStatus)return b.default.error({content:"".concat(t("UPLOAD_PACKAGE_OK_NOTE"))}),!1;if("CREATE_APP"===l)n.createApp();else{var i={type:"helm",app_id:a,workspace:r,base64Str:o.base64Str};n.fileStore.uploadPackage(l,i,u).then((function(){n.setState({checkStatus:"init"})}))}},n.fileStore=new _.default,n.state={checkStatus:"init",canCreate:!1,resultInfo:{},icon:""},n}return(0,d.default)(r,[{key:"renderCheckFiles",value:function(){var e=this.props.errorFiles;return v.default.createElement("div",null,v.default.createElement("div",{className:R.default.checkFiles},v.default.createElement("ul",null,k.default.map((function(a){return v.default.createElement("li",{key:a.name,className:(0,y.default)((0,i.default)({},R.default.error,e.includes(a.name)))},v.default.createElement("span",{className:R.default.name},a.name),v.default.createElement("div",{className:R.default.description},"#  ",a.isOptional&&v.default.createElement("span",null,"[",t("OPTIONAL"),"]  "),t(a.description)))}))),"success"!==this.state.checkStatus&&v.default.createElement("div",{className:R.default.configMask})))}},{key:"render",value:function(){var e=this.props,t=e.appId,a=(0,o.default)(e,["appId"]),r=this.state,n=r.canCreate,l=r.resultInfo;return v.default.createElement(O.default,(0,u.default)({width:960,bodyClassName:R.default.body},a,{onOk:this.handleSubmit,onCancel:this.onCancel,disableSubmit:!l.name}),v.default.createElement("div",{className:R.default.content},v.default.createElement("div",{className:R.default.helmIcon},v.default.createElement(E.Icon,{name:"helm",size:60})),v.default.createElement(S.default,{className:(0,y.default)(R.default.upload,(0,i.default)({},R.default.canCreate,n)),canCreate:n,changeCheckStatus:this.changeCheckStatus,fileStore:this.fileStore,appId:t}),n?v.default.createElement(C.default,{createInfo:l,uploadIcon:this.changeIcon,fileStore:this.fileStore}):this.renderCheckFiles()))}}]),r}(v.Component);a.default=D,D.propTypes={detail:g.default.object,visible:g.default.bool,isSubmitting:g.default.bool,errorFiles:g.default.array,appId:g.default.string,type:g.default.string,onOk:g.default.func,onCancel:g.default.func},D.defaultProps={visible:!1,isSubmitting:!1,errorFiles:[],type:"CREATE_APP",appId:"",onOk:function(){},onCancel:function(){}}},,function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(189),p=n(r(798)),m=n(r(2796));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).handleOk=function(){e.props.onOk()},e}return(0,u.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.icon,r=e.title,n=e.description;return s.default.createElement("div",{className:m.default.title},s.default.createElement(d.Icon,{name:a||"question",size:n?40:32}),n?s.default.createElement("div",{className:m.default.description},s.default.createElement("h3",null,r||t("APP_NOTE")),s.default.createElement("small",null,n)):s.default.createElement("div",{className:m.default.name},r||t("APP_NOTE")))}},{key:"render",value:function(){var e=this.props,a=e.visible,r=e.onCancel,n=e.content,l=e.isSubmitting;return s.default.createElement(p.default,{width:504,bodyClassName:m.default.modalBody,visible:a,isSubmitting:l,hideHeader:!0,hideFooter:!0},s.default.createElement("div",{className:m.default.body},this.renderTitle(),s.default.createElement("div",{className:m.default.content},n)),s.default.createElement("div",{className:m.default.footer},s.default.createElement(d.Button,{onClick:r},t("CANCEL")),s.default.createElement(d.Button,{type:"control",disabled:l,loading:l,onClick:this.handleOk},t("OK"))))}}]),r}(s.default.Component);a.default=v,v.propTypes={icon:f.default.string,title:f.default.string,description:f.default.string,desc:f.default.oneOfType([f.default.string,f.default.node]),visible:f.default.bool,isSubmitting:f.default.bool,onOk:f.default.func,onCancel:f.default.func},v.defaultProps={icon:"",title:"",description:"",content:"",visible:!1,isSubmitting:!1,onOk:function(){},onCancel:function(){}}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(141),a(29),a(14),a(120),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(30),a(11),a(71),a(991),a(7);var n=r(a(38)),l=r(a(58)),u=r(a(31)),o=r(a(50));a(35);var i,c=r(a(39)),s=r(a(25)),f=r(a(28)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45)),v=r(a(26)),g=r(a(67)),y=r(a(68)),E=a(17),b=r(a(2825)),O=a(2826),S=a(815);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var R=(i=function(e){(0,d.default)(r,e);var t,a=k(r);function r(){return(0,s.default)(this,r),a.apply(this,arguments)}return(0,f.default)(r,[{key:"fetchList",value:(t=(0,c.default)(n.default.mark((function e(){var t,a,r,u,i,c,s,f,d,p,m,h,g,y=this,E=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.length>0&&void 0!==E[0]?E[0]:{},a=t.cluster,t.workspace,r=t.namespace,u=t.more,i=t.id,c=(0,o.default)(t,["cluster","workspace","namespace","more","id"]),this.list.isLoading=!0,c.sortBy||void 0!==c.ascending||(c.sortBy="createTime"),c.limit!==1/0&&-1!==c.limit||(c.limit=-1,c.page=1),s=this.getFilterParams(c),f=s.labelSelector,d=(0,o.default)(s,["labelSelector"]),p=f,f?p+=",app_instance=".concat(i):p="app_instance=".concat(i),c.limit=c.limit||10,e.next=10,request.get(this.getResourceUrl({cluster:a,namespace:r}),_(_({},d),{},{labelSelector:p}));case 10:return m=e.sent,h=((0,v.default)(m,"items")||[]).map((function(e){return _({cluster:a,namespace:r},y.mapper(e))})),g=m.totalItems||m.items.length,this.list.update(_(_({data:u?[].concat((0,l.default)(this.list.data),(0,l.default)(h)):h,total:g},c),{},{limit:Number(c.limit)||10,page:Number(c.page)||1,isLoading:!1},this.list.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",h);case 15:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,y.default)(e,"metadata.name","".concat(t.cluster_id,"-").concat(e.metadata.name)),this.submitting(request.post(this.getListUrl(_(_({},t),{},{k8sOpt:!0})),e))}},{key:"createDefaultAlert",value:function(e,t){var a=t.name,r=t.namespace,n=t.cluster,l={};function u(e){return e=e.replaceAll("namespaceName",r).replaceAll("clusterId",a),JSON.parse(e)}switch(e){case S.RadonDBAppId.RedisCluster:case S.RadonDBAppId.RedisSentinel:l=u(JSON.stringify(O.redisAlertYaml));break;case S.RadonDBAppId.OpenSearch:l=u(JSON.stringify(O.openSearchAlertYaml));break;case S.RadonDBAppId.Kafka:l=u(JSON.stringify(O.kafkaAlertYaml));break;case S.RadonDBAppId.PostgreSQL:l=u(JSON.stringify(O.pgAlertYaml));break;case S.RadonDBAppId.MySQL:l=u(JSON.stringify(O.MySQLAlertYaml));break;default:l={}}if(!(0,g.default)(l))return this.submitting(request.post(this.getListUrl({cluster:n,namespace:r,name:a,k8sOpt:!0}),l))}}]),r}(b.default),(0,h.default)(i.prototype,"fetchList",[E.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchList"),i.prototype),(0,h.default)(i.prototype,"create",[E.action],Object.getOwnPropertyDescriptor(i.prototype,"create"),i.prototype),(0,h.default)(i.prototype,"createDefaultAlert",[E.action],Object.getOwnPropertyDescriptor(i.prototype,"createDefaultAlert"),i.prototype),i);t.default=R},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(10),r(20),r(14),r(4),r(18),r(30),r(11),r(139),r(817),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(10),r(121),r(20),r(29),r(14),r(4),r(18),r(43),r(11),r(817);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(5)),p=n(r(245)),m=n(r(26)),h=r(56),v=n(r(932)),g=n(r(2833)),y=n(r(2835));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var b=function(e){(0,o.default)(r,e);var a=E(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"filterImages",value:function(e){return"string"==typeof e?e.split(",").map((function(e){return e.trim()})).filter(Boolean):Array.isArray(e)?e:[]}},{key:"renderVersionTable",value:function(){var e=this.props.versions,a=(0,m.default)(globals.user,"lang")||(0,h.getBrowserLang)();return s.default.createElement("table",{className:y.default.versions},s.default.createElement("thead",null,s.default.createElement("tr",null,s.default.createElement("th",null,t("VERSION_NUMBER")),s.default.createElement("th",null,t("UPDATE_LOG")))),s.default.createElement("tbody",null,e.map((function(e){var t=e.name,r=e.description,n=void 0===r?"-":r,l=e.status_time,u=e.version_id;return s.default.createElement("tr",{key:u},s.default.createElement("td",null,s.default.createElement("p",{className:y.default.name},t),s.default.createElement("p",{className:y.default.date},(0,p.default)(l).format("YYYY-MM-DD"))),s.default.createElement("td",null,s.default.createElement("pre",{className:y.default.desc},(0,m.default)(e,"description_".concat(a),n))))}))))}},{key:"renderAppDeployAgreement",value:function(){var e=this.props,a=e.isCheck,r=e.onChange,n=t.html("APP_DEPLOY_AGREEMENT_2");return s.default.createElement("div",{className:y.default.agree},s.default.createElement("p",null,t("APP_DEPLOY_AGREEMENT_1")),s.default.createElement("p",null,(0,h.htmlLinkControl)(n)),s.default.createElement("div",{className:"margin-t12"},s.default.createElement(Checkbox,{checked:a,onChange:r},t("APP_DEPLOY_AGREEMENT_CHEKC"))))}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.app,n=r.abstraction,l=r.screenshots;return s.default.createElement("div",{className:(0,d.default)(y.default.appInfo,a)},s.default.createElement("div",null,s.default.createElement("h3",{className:y.default.title},t("APP_INTRODUCTION")),s.default.createElement(v.default,{source:n||t("NONE")})),s.default.createElement("div",null,s.default.createElement("h3",{className:y.default.title},t("APP_SCREENSHOTS")),s.default.createElement(g.default,{images:this.filterImages(l)})),s.default.createElement("div",null,s.default.createElement("h3",{className:y.default.title},t("APP_VERSIONS_TITLE")),this.renderVersionTable()))}}]),r}(s.default.PureComponent);a.default=b,b.propTypes={className:f.default.string,app:f.default.object.isRequired,versions:f.default.array},b.defaultProps={app:{},versions:[]}},,,,,,,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(97)),u=r(a(0)),o=a(189),i=n(a(5)),c=n(a(1191)),s=function(e){var t=e.src,a=e.style,r=e.className,n=(0,u.useState)(!0),s=(0,l.default)(n,2),f=s[0],d=s[1];return u.default.createElement("div",{className:(0,i.default)(r,c.default.loadingImage)},f&&u.default.createElement(o.Loading,{className:c.default.loading}),u.default.createElement("img",{style:a,src:t,alt:"",onLoad:function(){return d(!1)}}))};t.default=s},,,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(44),a(6),a(36),a(20),a(98),a(14),a(24),a(8),a(13),a(9),a(4),a(21),a(18),a(11),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(44),a(6),a(36),a(20),a(27),a(98),a(141),a(29),a(14),a(120),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(46),a(7),a(40);var n=r(a(58)),l=r(a(38)),u=r(a(31));a(35);var o,i,c,s=r(a(39)),f=r(a(50)),d=r(a(62)),p=r(a(25)),m=r(a(28)),h=r(a(74)),v=r(a(41)),g=r(a(42)),y=r(a(37)),E=r(a(45)),b=(r(a(63)),a(17)),O=r(a(26)),S=r(a(68)),C=r(a(119)),_=r(a(1011)),k=a(1480),R=r(a(438));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,y.default)(e);if(t){var n=(0,y.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,g.default)(this,a)}}var P=(o=function(e){(0,v.default)(E,e);var t,a,r,u,o,g,y=T(E);function E(){var e;(0,p.default)(this,E);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=y.call.apply(y,[this].concat(a))).module="groups",(0,d.default)(e,"treeData",i,(0,h.default)(e)),(0,d.default)(e,"rowTreeData",c,(0,h.default)(e)),e.getResourceUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"kapis/iam.kubesphere.io/v1beta1".concat(e.getPath(t),"/groups")},e.getDetailUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.getResourceUrl(t),"/").concat(t.name)},e.getWatchListUrl=function(t){var a=t.workspace,r=(0,f.default)(t,["workspace"]);return"apis/iam.kubesphere.io/v1beta1/watch".concat(e.getPath(r),"/groups?labelSelector=kubesphere.io/workspace=").concat(a)},e}return(0,m.default)(E,[{key:"getPath",value:function(e){var t=e.cluster,a=e.workspace,r=e.namespace,n=e.devops,l="";return t&&(l+="/klusters/".concat(t)),r?"".concat(l,"/namespaces/").concat(r):n?"".concat(l,"/devops/").concat(n):a?"".concat(l,"/workspaces/").concat(a):l}},{key:"fetchGroup",value:(g=(0,s.default)(l.default.mark((function e(){var t,a,r,n,u,o=this,i=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},a=t.workspace,r=(0,f.default)(t,["workspace"]),this.isLoading=!0,r.sortBy="createTime",r.limit=-1,e.next=6,request.get(this.getResourceUrl(D({workspace:a},r)));case 6:n=e.sent,u=(0,O.default)(n,"items",[]).map((function(e){return D({},o.mapper(e))})),this.total=(0,_.default)(u),this.treeData=[{key:"root",title:a,group_id:"root",group_name:a,path:[a],children:(0,k.formatTreeData)(u,a)}],this.rowTreeData=(0,k.flattenTreeData)(this.treeData),this.isLoading=!1,this.list.update(D(D({data:u,total:n.totalItems||0},r),{},{limit:Number(r.limit)||10,page:Number(r.page)||1,isLoading:!1}));case 13:case"end":return e.stop()}}),e,this)}))),function(){return g.apply(this,arguments)})},{key:"create",value:function(e,t){var a=(0,O.default)(e,'metadata.annotations["kubesphere.io/project-roles"]',[]),r=(0,O.default)(e,'metadata.annotations["kubesphere.io/devops-roles"]',[]);return(0,S.default)(e,'metadata.annotations["kubesphere.io/project-roles"]',JSON.stringify(a)),(0,S.default)(e,'metadata.annotations["kubesphere.io/devops-roles"]',JSON.stringify(r)),this.submitting(request.post(this.getResourceUrl(t),e))}},{key:"createGroup",value:(o=(0,s.default)(l.default.mark((function e(t,a){var r,u,o,i,c,s,d,p=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.create((0,C.default)(t),a);case 2:return r=(0,O.default)(t,"metadata.name"),u=(0,O.default)(t,'metadata.annotations["kubesphere.io/workspace-role"]'),o=(0,O.default)(t,'metadata.annotations["kubesphere.io/project-roles"]',[]),i=(0,O.default)(t,'metadata.annotations["kubesphere.io/devops-roles"]',[]),c=R.default.workspacerolebinding({name:r,role:u}),s=[this.addWorksapceRoleBinding(c,a)],(d=[].concat((0,n.default)(o),(0,n.default)(i))).length>0&&d.forEach((function(e){var t=e.role,n=(0,f.default)(e,["role"]);if(t){var l=R.default.rolebinding(D(D({name:r,role:t},n),{},{workspace:null==a?void 0:a.workspace}));s.push(p.addRolebindings(l,D({},n)))}})),e.abrupt("return",this.submitting(Promise.all(s)));case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"update",value:(u=(0,s.default)(l.default.mark((function e(t,a,r){var u,o,i,c,s,f,d,p,m,h,v,g,y,E;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=(0,O.default)(t,"metadata.name"),o=(0,C.default)(a),i=(0,O.default)(t,'metadata.annotations["kubesphere.io/alias-name"]'),c=(0,O.default)(t,'metadata.annotations["kubesphere.io/workspace-role"]'),s=(0,O.default)(t,'metadata.annotations["kubesphere.io/project-roles"]',[]),f=(0,O.default)(t,'metadata.annotations["kubesphere.io/devops-roles"]',[]),(0,S.default)(o,'metadata.annotations["kubesphere.io/alias-name"]',i),(0,S.default)(o,'metadata.annotations["kubesphere.io/workspace-role"]',c),(0,S.default)(o,'metadata.annotations["kubesphere.io/project-roles"]',JSON.stringify(s)),(0,S.default)(o,'metadata.annotations["kubesphere.io/devops-roles"]',JSON.stringify(f)),d=[request.patch(this.getDetailUrl(D(D({},r),{},{name:u})),o)],p=(0,O.default)(a,'metadata.annotations["kubesphere.io/workspace-role"]'),c===p){e.next=19;break}return e.next=15,this.getWorksapceRoleBinding(u,r);case 15:return m=e.sent,e.next=18,this.deleteWorksapceRoleBinding((0,O.default)(m,"items[0].metadata.name"),r);case 18:d.push(this.addWorksapceRoleBinding(R.default.workspacerolebinding({name:u,role:c}),r));case 19:return h=(0,O.default)(a,'metadata.annotations["kubesphere.io/project-roles"]'),v=(0,O.default)(a,'metadata.annotations["kubesphere.io/devops-roles"]'),g=[].concat((0,n.default)(s),(0,n.default)(f)),y=[].concat((0,n.default)(h),(0,n.default)(v)),(E=this.getUpdateRolebindsRequests(g,y,t)).length>0&&d.push(E),e.abrupt("return",this.submitting(Promise.all(d)));case 26:case"end":return e.stop()}}),e,this)}))),function(e,t,a){return u.apply(this,arguments)})},{key:"getUpdateRolebindsRequests",value:function(e,t,a){var r=this,n=(0,O.default)(a,"metadata.name"),l=(0,O.default)(a,'metadata.labels["kubesphere.io/workspace"]',""),u=[];return e.forEach((function(e){var a=e.role,o=e.namespace,i=e.cluster;t.find((function(e){return e.cluster===i&&e.namespace===o&&e.role===a}))||u.push(r.addRolebindings(R.default.rolebinding({name:n,role:a,namespace:o,workspace:l}),{cluster:i,namespace:o}))})),t.forEach((function(t){var a=t.namespace,n=t.cluster,l=t.role,o=t.name;e.find((function(e){return e.cluster===n&&e.namespace===a&&e.role===l}))||u.push(r.deleteRolebindings(o,{cluster:n,namespace:a}))})),u}},{key:"checkName",value:(r=(0,s.default)(l.default.mark((function e(t){var a,r,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=(0,f.default)(t,["name"]),e.next=3,request.get("".concat(this.getResourceUrl(r)),{name:a});case 3:if(!(n=e.sent).items||!n.items.some((function(e){return(0,O.default)(e,"metadata.generateName")===a}))){e.next=6;break}return e.abrupt("return",{exist:!0});case 6:return e.abrupt("return",{exist:!1});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"addGroupBinding",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.userList,r=t.group,n=t.workspace,l=null==a?void 0:a.map((function(a){var l=R.default.addGroupBinding({group:r,user:a,workspace:n});return request.post("".concat(e.apiVersion).concat(e.getPath(t),"/groupbindings"),l)}));return this.submitting(Promise.all(l))}},{key:"deleteGroupBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.delete("".concat(this.apiVersion).concat(this.getPath(t),"/groupbindings/").concat(e))}},{key:"addWorksapceRoleBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.post("".concat(this.apiVersion).concat(this.getPath(t),"/workspacerolebindings"),e)}},{key:"deleteWorksapceRoleBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.delete("".concat(this.apiVersion).concat(this.getPath(t),"/workspacerolebindings/").concat(e))}},{key:"addRolebindings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.post("".concat(this.apiVersion).concat(this.getPath(t),"/rolebindings"),e)}},{key:"deleteRolebindings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.delete("".concat(this.apiVersion).concat(this.getPath(t),"/rolebindings/").concat(e))}},{key:"getGroupBinding",value:function(e){var t=e.group,a=e.user,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.get("".concat(this.apiVersion).concat(this.getPath(r),"/groupbindings"),{labelSelector:"iam.kubesphere.io/group-ref=".concat(t,",iam.kubesphere.io/user-ref=").concat(a)})}},{key:"getWorksapceRoleBinding",value:(a=(0,s.default)(l.default.mark((function e(t,a){var r,n,u,o,i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.cluster,n=a.workspace,u=a.namespace,o=(0,f.default)(a,["cluster","workspace","namespace"]),i=o,t&&(i.labelSelector="iam.kubesphere.io/group-ref=".concat(t)),e.next=5,request.get("".concat(this.apiVersion).concat(this.getPath({cluster:r,workspace:n,namespace:u}),"/workspacerolebindings"),i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"getRoleBinding",value:(t=(0,s.default)(l.default.mark((function e(t){var a,r,n=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,request.get("".concat(this.apiVersion).concat(this.getPath(a),"/rolebindings"),{labelSelector:"iam.kubesphere.io/group-ref=".concat(t)});case 3:return r=e.sent,e.abrupt("return",(0,O.default)(r,"items",[]));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"fetchRoleBinding",value:function(e,t){var a=this,r=t.clusters,n=(0,f.default)(t,["clusters"]),l=[];return r.length>0?r.forEach((function(t){l.push(a.getRoleBinding(e,D({cluster:t},n)))})):l.push(this.getRoleBinding(e,D({},n))),Promise.all(l)}},{key:"deleteGroup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return request.delete("".concat(this.apiVersion).concat(this.getPath(t),"/groups/").concat(e))}},{key:"apiVersion",get:function(){return"kapis/iam.kubesphere.io/v1beta1"}}]),E}(r(a(49)).default),i=(0,E.default)(o.prototype,"treeData",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=(0,E.default)(o.prototype,"rowTreeData",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,E.default)(o.prototype,"fetchGroup",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchGroup"),o.prototype),(0,E.default)(o.prototype,"create",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"create"),o.prototype),(0,E.default)(o.prototype,"createGroup",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"createGroup"),o.prototype),(0,E.default)(o.prototype,"update",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),(0,E.default)(o.prototype,"checkName",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"checkName"),o.prototype),(0,E.default)(o.prototype,"addGroupBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"addGroupBinding"),o.prototype),(0,E.default)(o.prototype,"deleteGroupBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"deleteGroupBinding"),o.prototype),(0,E.default)(o.prototype,"addWorksapceRoleBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"addWorksapceRoleBinding"),o.prototype),(0,E.default)(o.prototype,"deleteWorksapceRoleBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"deleteWorksapceRoleBinding"),o.prototype),(0,E.default)(o.prototype,"addRolebindings",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"addRolebindings"),o.prototype),(0,E.default)(o.prototype,"deleteRolebindings",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"deleteRolebindings"),o.prototype),(0,E.default)(o.prototype,"getGroupBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"getGroupBinding"),o.prototype),(0,E.default)(o.prototype,"getWorksapceRoleBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"getWorksapceRoleBinding"),o.prototype),(0,E.default)(o.prototype,"getRoleBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"getRoleBinding"),o.prototype),(0,E.default)(o.prototype,"fetchRoleBinding",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchRoleBinding"),o.prototype),(0,E.default)(o.prototype,"deleteGroup",[b.action],Object.getOwnPropertyDescriptor(o.prototype,"deleteGroup"),o.prototype),o);t.default=P},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(10),a(6),a(20),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.getBreadCrumbData=t.flattenTreeData=t.formatTreeData=void 0;var n=r(a(58));a(3),a(10),a(6),a(20),a(860),a(4),a(7);t.formatTreeData=function(e,t){return null==e?void 0:e.map((function(a){var r=a;return r.children=[],r.path=[t,r.group_name],r.parent_id=a.parent_id||"root",e.forEach((function(e){r.group_id===e.parent_id&&(e.parent_name=r.group_name,e.path=[].concat((0,n.default)(r.path),[e.group_name]),r.children=[].concat((0,n.default)(r.children),[e]))})),"root"===r.parent_id?(r.parent_name=t,r):null})).filter((function(e){return e}))};t.flattenTreeData=function(e){var t={};return e.map((function e(a){var r;if(a.group_id&&(t[a.group_id]=a),(null==a||null===(r=a.children)||void 0===r?void 0:r.length)>0)return a.children.map((function(t){return e(t)}))})),t};t.getBreadCrumbData=function(e,t){for(var a=[],r=t[e];r;)a.unshift(r),r=t[r.parent_id];return a}},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(20),r(29),r(14),r(4),r(21),r(18),r(43),r(11);var l=n(r(38));r(35);var u,o,i,c=n(r(39)),s=n(r(62)),f=n(r(25)),d=n(r(28)),p=n(r(74)),m=n(r(41)),h=n(r(42)),v=n(r(37)),g=n(r(45)),y=(n(r(63)),n(r(0))),E=r(243),b=n(r(5)),O=n(r(26)),S=n(r(827)),C=n(r(3155)),_=n(r(1508)),k=n(r(1509)),R=n(r(1510)),N=n(r(448)),D=r(56),T=r(61),P=r(17),w=n(r(3158));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var M=(0,k.default)(u=(0,E.observer)((o=function(e){(0,m.default)(n,e);var a,r=I(n);function n(){var e;(0,f.default)(this,n);for(var t=arguments.length,a=new Array(t),u=0;u<t;u++)a[u]=arguments[u];return(e=r.call.apply(r,[this].concat(a))).state={cluster:e.props.cluster||""},e.store=new R.default,e.clusterStore=new N.default,e.terminalRef=y.default.createRef(),(0,s.default)(e,"url",i,(0,p.default)(e)),e.handleClusterChange=function(t){e.setState({cluster:t},(function(){e.getKubeWebUrl(t)}))},e.onTipsToggle=function(){var t=e.terminalRef.current;t&&t.resizeTerminal()},e.getKubeWebUrl=function(){var t=(0,c.default)(l.default.mark((function t(a){return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.store.fetchKubeCtl({cluster:a});case 2:return t.next=4,e.store.kubeWebsocketUrl();case 4:e.url=t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return(0,d.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:(a=(0,c.default)(l.default.mark((function e(){var t,a=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.nodename){e.next=4;break}return this.store.setNodename(this.props.nodename),this.getKubeWebUrl(this.props.cluster),e.abrupt("return");case 4:if(globals.app.isMultiCluster){e.next=7;break}return this.getKubeWebUrl(),e.abrupt("return");case 7:if(t=this.props.cluster){e.next=15;break}return e.next=11,this.clusterStore.fetchListByK8s();case 11:t=(0,O.default)(this.clusters,"[0].value"),this.setState({cluster:t},(function(){a.getKubeWebUrl(t)})),e.next=16;break;case 15:this.getKubeWebUrl(t);case 16:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){return y.default.createElement(_.default,{wrapperClassName:w.default.kubectl,onToggleTip:this.onTipsToggle,localStorageKey:"kubectl-doc",article:this.renderTerminal(),tips:this.renderTips(),onToggle:this.onTipsToggle})}},{key:"renderTips",value:function(){var e=t.html("KUBECTL_TIP");return y.default.createElement("div",null,!this.props.cluster&&globals.app.isMultiCluster&&!this.props.isEdgeNode&&y.default.createElement(S.default,{searchable:!0,options:this.clusters,value:this.state.cluster,onChange:this.handleClusterChange}),y.default.createElement("div",{className:(0,b.default)("markdown-body",w.default.doc)},(0,D.learnMoreTip)(e)))}},{key:"renderTerminal",value:function(){var e=this.props.isEdgeNode;return y.default.createElement("div",{className:(0,b.default)(w.default.pane,w.default.terminal)},y.default.createElement(C.default,{isLoading:this.store.kubectl.isLoading,url:this.url,ref:this.terminalRef,isEdgeNode:e}))}},{key:"clusters",get:function(){return this.clusterStore.list.data.filter((function(e){return e.isReady})).map((function(e){return{label:e.name,value:e.name,icon:T.CLUSTER_PROVIDER_ICON[e.provider]||"kubernetes",version:(0,O.default)(e,"configz.ksVersion"),description:e.provider}}))}}]),n}(y.default.Component),i=(0,g.default)(o.prototype,"url",[P.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=o))||u)||u;a.default=M},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(26)),d=n(r(5)),p=r(189),m=n(r(3156));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).state={visible:"false"!==localStorage.getItem(e.localStorageKey)},e.toggleHelpDoc=function(t){localStorage.setItem(e.localStorageKey,String(t)),e.setState({visible:t},(function(){e.props.onToggle&&e.props.onToggle(t)}))},e.showHelpDoc=function(){e.toggleHelpDoc(!0)},e.hideHelpDoc=function(){e.toggleHelpDoc(!1)},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.wrapperClassName,r=e.article,n=e.tips,l=this.state.visible;return s.default.createElement("div",{className:(0,d.default)(m.default.wrapper,a)},r,l?s.default.createElement("div",{className:m.default.helpDoc},s.default.createElement("div",{className:m.default.doc},n),s.default.createElement("div",{className:m.default.hiddenBtn,onClick:this.hideHelpDoc},t("HIDE_HELP_INFORMATION"))):s.default.createElement("div",{className:m.default.openHelpButton,onClick:this.showHelpDoc},s.default.createElement(p.Icon,{name:"question",size:24})))}},{key:"localStorageKey",get:function(){return"".concat((0,f.default)(globals,"user.username"),"-").concat(this.props.localStorageKey)}}]),r}(s.default.Component);a.default=v},function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(a){(0,i.default)(c,a);var r=h(c);function c(){return(0,u.default)(this,c),r.apply(this,arguments)}return(0,o.default)(c,[{key:"pageClose",value:function(){window.opener=null,window.open("","_self",""),window.close()}},{key:"render",value:function(){var a=this.props,r=a.title,u=a.onCancel,o=a.icon,i=a.description,c=(0,l.default)(a,["title","onCancel","icon","description"]);return f.default.createElement(d.default,{visible:!0,fullScreen:!0,hideFooter:!0,title:r,icon:o,description:i,onCancel:u,className:m.default.container,headerClassName:m.default.header,bodyClassName:(0,p.default)(m.default.body,m.default.fullScreen)},f.default.createElement(e,(0,n.default)({onCancel:t.isSinglePage?this.pageClose:u},c)))}}]),c}(f.default.Component);return a},a(12),a(109),a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(50)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(798)),p=r(a(5)),m=r(a(3157));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(8),a(13),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(3),a(10),a(6),a(27),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(7);var n=r(a(31)),l=r(a(38));a(35);var u,o,i,c,s,f=r(a(39)),d=r(a(62)),p=r(a(25)),m=r(a(28)),h=r(a(45)),v=(r(a(63)),a(17)),g=r(a(26)),y=r(a(872));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=(u=function(){function e(t){var a=this;(0,p.default)(this,e),this.username=(0,g.default)(globals,"user.username",""),(0,d.default)(this,"kubectl",o,this),(0,d.default)(this,"kubeconfig",i,this),(0,d.default)(this,"connected",c,this),(0,d.default)(this,"setNodename",s,this),this.reject=function(e){a.kubectl.isLoading=!1,window.onunhandledrejection(e)},(0,y.default)(this.kubectl,t)}var t,a,r;return(0,m.default)(e,[{key:"getClusterPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster;return t?"/klusters/".concat(t):""}},{key:"kubeWebsocketUrl",value:(r=(0,f.default)(l.default.mark((function e(){var t,a,r,n,u,o,i,c;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.kubectl,a=t.cluster,r=t.namespace,n=t.nodename,u=t.pod,o=t.container,i=t.shell,c=void 0===i?"sh":i,!n){e.next=3;break}return e.abrupt("return","kapis/terminal.kubesphere.io/v1alpha2".concat(this.getClusterPath({cluster:a}),"/nodes/").concat(n,"/exec"));case 3:return e.next=5,request.get("kapis/terminal.kubesphere.io/v1alpha2".concat(this.getClusterPath({cluster:a}),"/namespaces/").concat(r,"/pods/").concat(u,"/exec?container=").concat(o,"&shell=").concat(c),null,null,(function(e){return 404!==e.status}));case 5:if(e.sent){e.next=8;break}return e.abrupt("return","kapis/terminal.kubesphere.io/v1alpha2".concat(this.getClusterPath({cluster:a}),"/namespaces/").concat(r,"/pods/").concat(u,"?container=").concat(o,"&shell=").concat(c));case 8:return e.abrupt("return","kapis/terminal.kubesphere.io/v1alpha2".concat(this.getClusterPath({cluster:a}),"/namespaces/").concat(r,"/pods/").concat(u,"/exec?container=").concat(o,"&shell=").concat(c));case 9:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"fetchKubeCtl",value:(a=(0,f.default)(l.default.mark((function e(t){var a;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.cluster,this.kubectl.isLoading=!0,this.kubectl=b(b({},this.kubectl),{},{cluster:a,isLoading:!1});case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchKubeConfig",value:(t=(0,f.default)(l.default.mark((function e(t){var a;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get("kapis/resources.kubesphere.io/v1alpha2".concat(this.getClusterPath(t),"/users/").concat(this.username,"/kubeconfig"));case 2:a=e.sent,this.kubeconfig=a;case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"connect",value:function(){this.connected=!0}},{key:"disconnect",value:function(){this.connected=!1}}]),e}(),o=(0,h.default)(u.prototype,"kubectl",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{cluster:"",namespace:"",pod:"",container:"",nodename:"",shell:"bash",isLoading:!0}}}),i=(0,h.default)(u.prototype,"kubeconfig",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=(0,h.default)(u.prototype,"connected",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,h.default)(u.prototype,"fetchKubeCtl",[v.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchKubeCtl"),u.prototype),s=(0,h.default)(u.prototype,"setNodename",[v.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.kubectl.nodename=t}}}),(0,h.default)(u.prototype,"fetchKubeConfig",[v.action],Object.getOwnPropertyDescriptor(u.prototype,"fetchKubeConfig"),u.prototype),(0,h.default)(u.prototype,"connect",[v.action],Object.getOwnPropertyDescriptor(u.prototype,"connect"),u.prototype),(0,h.default)(u.prototype,"disconnect",[v.action],Object.getOwnPropertyDescriptor(u.prototype,"disconnect"),u.prototype),u);t.default=O},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(243),p=n(r(5)),m=r(893),h=n(r(1509)),v=n(r(1508)),g=r(189),y=n(r(838)),E=n(r(26)),b=r(56),O=n(r(1510)),S=n(r(3159));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var _=(0,h.default)(l=(0,d.observer)(l=function(e){(0,i.default)(r,e);var a=C(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).store=new O.default,e.handleDownload=function(){var t=e.store.kubeconfig,a=new Blob([t],{type:"text/plain;charset=utf-8"});(0,m.saveAs)(a,"kubeconfig.yaml")},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){var e=(0,E.default)(this.props,"match.params",{});this.store.fetchKubeConfig(e)}},{key:"render",value:function(){return f.default.createElement(v.default,{wrapperClassName:S.default.kubectl,localStorageKey:"kubectl-config",article:this.renderConfig(),tips:this.renderTips(),onToggle:this.onTipsToggle})}},{key:"renderConfig",value:function(){return f.default.createElement("div",{className:(0,p.default)(S.default.pane,S.default.terminal)},f.default.createElement("div",{className:S.default.download,onClick:this.handleDownload},f.default.createElement(g.Icon,{name:"download",size:20,type:"light"}),t("DOWNLOAD")),f.default.createElement(y.default,{value:this.store.kubeconfig,options:{readOnly:!0}}))}},{key:"renderTips",value:function(){var e=t.html("KUBECONFIG_TIP");return f.default.createElement("div",{className:(0,p.default)("markdown-body",S.default.tipWrapper)},(0,b.learnMoreTip)(e))}}]),r}(f.default.Component))||l)||l;a.default=_},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(29),r(4),r(18),r(43),r(11);var l,u,o,i,c,s=n(r(317)),f=n(r(62)),d=n(r(25)),p=n(r(28)),m=n(r(74)),h=n(r(41)),v=n(r(42)),g=n(r(37)),y=n(r(45)),E=(n(r(63)),n(r(0))),b=r(243),O=r(17),S=n(r(67)),C=n(r(68)),_=n(r(844)),k=r(189),R=n(r(3160)),N=n(r(3161)),D=n(r(3163)),T=r(891);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,g.default)(e);if(t){var n=(0,g.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,v.default)(this,a)}}var w=(0,b.observer)((u=function(e){(0,h.default)(r,e);var a=P(r);function r(){var e;(0,d.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return e=a.call.apply(a,[this].concat(l)),(0,f.default)(e,"type",o,(0,m.default)(e)),(0,f.default)(e,"nav",i,(0,m.default)(e)),e.renderEmpty=function(){return E.default.createElement("div",{className:R.default.empty},E.default.createElement(_.default,{className:R.default.empty__Container,title:t("USER_DASHBOARD_EMPTY_TITLE"),desc:t("USER_DASHBOARD_EMPTY_DESC")}))},e.contentConfig=function(){return{home:{Component:N.default,props:{handleSelected:e.handleSelected}},detail:{Component:D.default,props:{handleBack:e.handleBack}},empty:{Component:e.renderEmpty}}},(0,f.default)(e,"handleSelected",c,(0,m.default)(e)),e.handleBack=function(){e.isWorkspace&&e.isCluster&&(e.type=void 0)},e.renderContent=function(){var t=e.contentConfig();if(!e.type){var a=T.CARD_CONFIG;return e.isCluster&&!e.isWorkspace?(a=T.CARD_CONFIG.filter((function(e){return"cluster"===e.type})),e.type="cluster",t.detail):e.isWorkspace&&!e.isCluster?(0,S.default)(globals.user.workspaces)?t.empty:(a=T.CARD_CONFIG.filter((function(e){return"workspaces"===e.type})),e.type="workspaces",t.detail):(globals.app.enableAppStore||(a=T.CARD_CONFIG.filter((function(e){return"openpitrix"!==e.type}))),(0,C.default)(t,"home.props.cardConfigRule",a),t.home)}return t.detail},e.renderTitle=function(){return E.default.createElement("div",null,E.default.createElement(k.Icon,{size:20,name:"wallet",style:{marginRight:7}}),E.default.createElement("span",{style:{fontSize:12,fontWeight:600,lineHeight:"20px",height:"20px"}},t("RESOURCE_CONSUMPTION_STATISTICS")))},e}return(0,p.default)(r,[{key:"render",value:function(){var e=this.renderContent(),t=e.Component,a=e.props;return E.default.createElement("div",{className:R.default.bill,style:{padding:"20px"}},E.default.createElement(t,(0,s.default)({type:this.type},a)))}},{key:"isWorkspace",get:function(){return globals.app.hasPermission({module:"workspaces",action:"view"})||!(0,S.default)(globals.user.workspaces)}},{key:"isCluster",get:function(){return globals.app.hasPermission({module:"clusters",action:"view"})}}]),r}(E.default.Component),o=(0,y.default)(u.prototype,"type",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=(0,y.default)(u.prototype,"nav",[O.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=(0,y.default)(u.prototype,"handleSelected",[O.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.type=t}}}),l=u))||l;a.default=w},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(70),a(36),a(20),a(51),a(98),a(8),a(13),a(9),a(4),a(190),a(18),a(11),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(70),a(36),a(20),a(27),a(51),a(98),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(190),a(21),a(18),a(43),a(11),a(7),a(40);var n=r(a(38));a(35);var l,u,o,i,c=r(a(39)),s=r(a(31)),f=r(a(50)),d=r(a(62)),p=r(a(25)),m=r(a(28)),h=r(a(74)),v=r(a(41)),g=r(a(42)),y=r(a(37)),E=r(a(45)),b=(r(a(63)),r(a(64))),O=r(a(67)),S=r(a(26)),C=r(a(872)),_=a(17),k=a(1071),R=a(891),N=a(61),D=a(909);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,y.default)(e);if(t){var n=(0,y.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,g.default)(this,a)}}var I=(l=function(e){(0,v.default)(r,e);var t,a=w(r);function r(){var e;(0,p.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).module="meter",(0,d.default)(e,"isLoading",u,(0,h.default)(e)),(0,d.default)(e,"data",o,(0,h.default)(e)),e.tenantUrl=function(e){var t=e.cluster;return globals.app.isMultiCluster&&t?"kapis/clusters/".concat(t,"/tenant.kubesphere.io/v1alpha2"):"kapis/tenant.kubesphere.io/v1beta1"},e.getApi=function(t){var a=t.module,r=(0,f.default)(t,["module"]);return"".concat(e.apiVersion).concat(e.getPaths(P({module:a},r)))},e.getTenantApi=function(t){t.module;var a=(0,f.default)(t,["module"]);return"".concat(e.tenantUrl({cluster:a.cluster}),"/metering")},e.getExportParams=function(e){e.cluster;var t=e.workspaces,a=e.namespaces,r=(e.applications,e.services,e.deployments),n=e.statefulsets,l=e.daemonsets,u=e.pods,o=e.nodes,i=e.isTime,c=e.start,s=e.end,d=e.step,p=e.module,m=e.meters,h=e.resources,v=(0,f.default)(e,["cluster","workspaces","namespaces","applications","services","deployments","statefulsets","daemonsets","pods","nodes","isTime","start","end","step","module","meters","resources"]),g=(0,C.default)(P({},v),(0,k.handleLevelParams)({module:p}),(0,k.getTimeParams)({isTime:i,start:c,end:s,step:d}),(0,k.getMetricsFilters)({module:p,meters:m}),(0,k.getResourceFilters)({module:p,resources:h}),(0,k.handleWorkloadToKind)({deployments:r,statefulsets:n,daemonsets:l}),(0,k.handleNodeParams)({nodes:o,pods:u,resources:h}));return v.operation||delete g.resources_filter,g.namespace=a,g.workspace=t,g},e.getParams=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.start,r=t.end,n=t.step,l=void 0===n?"1h":n,u=t.resources,o=void 0===u?[]:u,i=t.meters,c=void 0===i?[]:i,s=t.module,d=t.isTime,p=void 0!==d&&d,m=t.deployments,h=t.statefulsets,v=t.daemonsets,g=t.nodes,y=t.pods,E=(0,f.default)(t,["start","end","step","resources","meters","module","isTime","deployments","statefulsets","daemonsets","nodes","pods"]),b=(0,C.default)(P({},E),(0,k.getTimeParams)({start:a,end:r,step:l,isTime:p}),(0,k.getMetricsFilters)({module:s,meters:c}),(0,k.getResourceFilters)({module:s,resources:o}),(0,k.handleWorkloadToKind)({deployments:m,statefulsets:h,daemonsets:v}),(0,k.handleNodeParams)({nodes:g,pods:y,resources:o,module:s}));return e.setParams(b)},e.setParams=function(e){return e},e.getResource=function(e){var t=e.cluster,a=e.workspaces,r=e.namespaces,n=e.applications,l=e.openpitrixs,u=e.services,o=e.deployments,i=e.statefulsets,c=e.daemonsets,s=e.nodes,f=e.pods,d={cluster:t,namespaces:r,workspaces:a};return f?P({pods:f,nodes:s||void 0},d):s?P({nodes:s},d):o||i||c?P({deployments:o,statefulsets:i,daemonsets:c},d):u?P({services:u},d):l?P({openpitrixs:l},d):n?P({applications:n},d):d},e.setOneSourceAllMeterByType=function(e,t){var a=e.data,r=e.metric_name,n=(0,S.default)(a,"result.0",{});return P({type:r,module:R.RESOURCES_METER_TYPE[t]},n)},e.getOneSourceAllMeterData=function(e,t,a){return t.start&&(e.start=1e3*t.start),t.end&&(e.end=1e3*t.end),t.step&&(e.step=(0,D.getTimeStr)(t.step)),e.values=(0,k.fillEmptyMeterValue)({start:t.start,end:t.end,step:t.step.slice(0,-1)},e.values),(0,k.handleValueByUnit)(e,a)},e.handleAllMeterData=function(t,a,r){var n=t.results.map((function(t){if(t.data.result){var n=e.setOneSourceAllMeterByType(t,r);return e.getOneSourceAllMeterData(n,a,r)}return!1}));return(0,k.handleSortBySourceType)(n)},e.handleOneMeterData=function(e,t){var a=e.results[0],r=(0,S.default)(a,"data.result",[]),n=(0,S.default)(a,"metric_name",""),l=[];return(0,O.default)(r)||(l=r.map((function(e){return e=P({type:n,module:R.RESOURCES_METER_TYPE[t]},e),(0,k.handleValueByUnit)(e,t)}))),l},(0,d.default)(e,"fetchPrice",i,(0,h.default)(e)),e}return(0,m.default)(r,[{key:"getPaths",value:function(e){var t=e.cluster,a=e.workspaces,r=e.namespaces,n=e.applications,l=e.services,u=e.deployments,o=e.statefulsets,i=e.openpitrixs,c=e.daemonsets,s=e.pods,f=e.nodes,d=e.module,p="";return t&&(p+="cluster"===d?"/cluster":""),a&&(p+="/workspaces/".concat(a)),(r||"namespaces"===d)&&(p+="namespaces"===d?"/namespaces":"/namespaces/".concat(r)),n&&(p+="/applications"),i&&!l&&(p+="/openpitrixs"),l&&(p+="/services"),!s&&(u||o||c)&&(p+="/workloads"),f&&!s&&(p+="/nodes"),f&&s&&(p+="/nodes/".concat(f)),s&&(p+="/pods"),p}},{key:"fetchMeter",value:(t=(0,c.default)(n.default.mark((function e(){var t,a,r,l,u,o,i,c,s,d,p,m,h,v,g,y,E,S,C,_,R,N=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=N.length>0&&void 0!==N[0]?N[0]:{},a=t.cluster,r=t.workspaces,l=t.namespaces,u=t.openpitrixs,o=t.applications,i=t.services,c=t.deployments,s=t.statefulsets,d=t.daemonsets,p=t.pods,m=t.nodes,h=(0,f.default)(t,["cluster","workspaces","namespaces","openpitrixs","applications","services","deployments","statefulsets","daemonsets","pods","nodes"]),this.isLoading=!0,v="",g={},this.cluster=a,y=this.getResource({cluster:a,workspaces:r,namespaces:l,openpitrixs:u,applications:o,services:i,deployments:c,statefulsets:s,daemonsets:d,pods:p,nodes:m}),g=h.operation?this.getExportParams(P(P({},y),h)):this.getParams(P({deployments:c,statefulsets:s,daemonsets:d,pods:p,nodes:m},h)),"namespaces"===h.module?(v=this.getTenantApi(P({module:h.module},y)),E=y.workspaces&&y.namespaces?{workspaces:y.workspaces}:{},g=P(P(P({},g),E),(0,k.handleLevelParams)({module:h.module}))):v=this.getApi(P({module:h.module},y)),"openpitrixs"===h.module&&(g.cluster=this.cluster),e.next=11,request.get(v,g,{},(function(){return[]}));case 11:if(S=e.sent,this.isLoading=!1,!h.operation){e.next=15;break}return e.abrupt("return",S);case 15:if((0,O.default)(S)||!(0,b.default)(S.results)){e.next=24;break}if(C=h.module,"all"!==h.meters){e.next=21;break}return _=this.handleAllMeterData(S,g,C),this.data=_,e.abrupt("return",_);case 21:return R=this.handleOneMeterData(S,C),this.data=R,e.abrupt("return",R);case 24:return this.data=[],e.abrupt("return",[]);case 26:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return globals.app.isMultiCluster&&this.cluster?"kapis/clusters/".concat(this.cluster,"/metering.kubesphere.io/v1alpha1"):"kapis/metering.kubesphere.io/v1alpha1"}}]),r}(r(a(49)).default),u=(0,E.default)(l.prototype,"isLoading",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=(0,E.default)(l.prototype,"data",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,E.default)(l.prototype,"fetchMeter",[_.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchMeter"),l.prototype),i=(0,E.default)(l.prototype,"fetchPrice",[_.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,c.default)(n.default.mark((function t(a){var r,l,u,o;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.cluster,l="".concat(e.tenantUrl({cluster:r}),"/metering/price"),t.next=4,request.get(l,{},{},(function(){}));case 4:if(!(u=t.sent)||(0,O.default)(u)){t.next=13;break}if(!Object.values(u).some((function(e){return"number"==typeof e&&e<0}))&&""!==u.currency){t.next=9;break}return t.abrupt("return",{cluster:r});case 9:return o={},Object.keys(u).forEach((function(e){!["currency","retention_day"].includes(e)&&u[e]>0&&(o[R.FEE_CONFIG[e]]=u[e])})),(0,O.default)(o)||(o.currency=u.currency,o.retention_day=(0,S.default)(u,"retention_day","7d"),o.cluster=r||(0,S.default)(N.DEFAULT_CLUSTER,"metadata.name")),t.abrupt("return",o);case 13:return t.abrupt("return",{cluster:r});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),l);t.default=I},,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"ReactComponent",(function(){return g}));var r=a(317),n=a.n(r),l=a(0),u=a.n(l),o=u.a.createElement("path",{transform:"matrix(.86603 -.5 0 1 9.11 14.822)",stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8",d:"M0 0h18.294v18.431H0z"}),i=u.a.createElement("path",{d:"M40.797 33.116l-15.843 9.147L8.91 32.999M9.004 14.452l16.142 9.835",stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8"}),c=u.a.createElement("mask",{id:"a",fill:"#fff"},u.a.createElement("rect",{width:10.297,height:10.297,rx:.6})),s=u.a.createElement("rect",{width:10.297,height:10.297,rx:.6,transform:"matrix(-.86603 -.5 0 1 15.146 27.033)",fill:"url(#paint0_linear_14176_514037)",stroke:"#119E8F",strokeWidth:3.6,mask:"url(#a)"}),f=u.a.createElement("path",{d:"M24.853 24.114l-.047 18.54",stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8"}),d=u.a.createElement("mask",{id:"b",fill:"#fff"},u.a.createElement("rect",{width:20.352,height:20.352,rx:.6})),p=u.a.createElement("rect",{width:20.352,height:20.352,rx:.6,transform:"matrix(-.86603 -.5 0 1 41.77 14.376)",fill:"url(#paint1_linear_14176_514037)",stroke:"#119E8F",strokeWidth:3.6,mask:"url(#b)"}),m=u.a.createElement("circle",{cx:9.15,cy:14.702,r:1.537,fill:"url(#paint2_linear_14176_514037)"}),h=u.a.createElement("circle",{cx:24.953,cy:42.263,r:1.537,fill:"url(#paint3_linear_14176_514037)"}),v=u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"paint0_linear_14176_514037",x1:5.149,y1:10.297,x2:5.149,y2:-.236,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"})),u.a.createElement("linearGradient",{id:"paint1_linear_14176_514037",x1:10.176,y1:20.352,x2:10.176,y2:-.466,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"})),u.a.createElement("linearGradient",{id:"paint2_linear_14176_514037",x1:8.21,y1:14.054,x2:8.21,y2:16.239,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"})),u.a.createElement("linearGradient",{id:"paint3_linear_14176_514037",x1:24.013,y1:41.615,x2:24.013,y2:43.8,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"}))),g=function(e){return u.a.createElement("svg",n()({viewBox:"0 0 48 48",fill:"none",width:"1em",height:"1em"},e),o,i,c,s,f,d,p,m,h,v)};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxyZWN0IHdpZHRoPSIxOC4yOTQiIGhlaWdodD0iMTguNDMxMiIgdHJhbnNmb3JtPSJtYXRyaXgoMC44NjYwMjUgLTAuNSAyLjIwMzA1ZS0wOCAxIDkuMTEwMDQgMTQuODIxOCkiCiAgICAgICAgICBzdHJva2U9IiNBNUVBRTMiIHN0cm9rZS13aWR0aD0iMC42IiBzdHJva2UtZGFzaGFycmF5PSIxLjggMS44Ii8+CiAgICA8cGF0aCBkPSJNNDAuNzk2OCAzMy4xMTU2TDI0Ljk1MzggNDIuMjYyNkw4LjkwOTY1IDMyLjk5OTUiIHN0cm9rZT0iI0E1RUFFMyIgc3Ryb2tlLXdpZHRoPSIwLjYiCiAgICAgICAgICBzdHJva2UtZGFzaGFycmF5PSIxLjggMS44Ii8+CiAgICA8cGF0aCBkPSJNOS4wMDM3MyAxNC40NTE3TDI1LjE0NTggMjQuMjg3MSIgc3Ryb2tlPSIjQTVFQUUzIiBzdHJva2Utd2lkdGg9IjAuNiIgc3Ryb2tlLWRhc2hhcnJheT0iMS44IDEuOCIvPgogICAgPG1hc2sgaWQ9InBhdGgtNC1pbnNpZGUtMV8xNDE3Nl81MTQwMzciIGZpbGw9IndoaXRlIj4KICAgICAgICA8cmVjdCB3aWR0aD0iMTAuMjk3MiIgaGVpZ2h0PSIxMC4yOTcyIiByeD0iMC42Ii8+CiAgICA8L21hc2s+CiAgICA8cmVjdCB3aWR0aD0iMTAuMjk3MiIgaGVpZ2h0PSIxMC4yOTcyIiByeD0iMC42IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC44NjYwMjUgLTAuNSAtMi4yMDMwNWUtMDggMSAxNS4xNDY1IDI3LjAzMzIpIgogICAgICAgICAgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzE0MTc2XzUxNDAzNykiIHN0cm9rZT0iIzExOUU4RiIgc3Ryb2tlLXdpZHRoPSIzLjYiCiAgICAgICAgICBtYXNrPSJ1cmwoI3BhdGgtNC1pbnNpZGUtMV8xNDE3Nl81MTQwMzcpIi8+CiAgICA8cGF0aCBkPSJNMjQuODUzMyAyNC4xMTM4TDI0LjgwNjUgNDIuNjU0OCIgc3Ryb2tlPSIjQTVFQUUzIiBzdHJva2Utd2lkdGg9IjAuNiIgc3Ryb2tlLWRhc2hhcnJheT0iMS44IDEuOCIvPgogICAgPG1hc2sgaWQ9InBhdGgtNi1pbnNpZGUtMl8xNDE3Nl81MTQwMzciIGZpbGw9IndoaXRlIj4KICAgICAgICA8cmVjdCB3aWR0aD0iMjAuMzUxNyIgaGVpZ2h0PSIyMC4zNTE3IiByeD0iMC42Ii8+CiAgICA8L21hc2s+CiAgICA8cmVjdCB3aWR0aD0iMjAuMzUxNyIgaGVpZ2h0PSIyMC4zNTE3IiByeD0iMC42IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC44NjYwMjUgLTAuNSAtMi4yMDMwNWUtMDggMSA0MS43NzA4IDE0LjM3NTcpIgogICAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzE0MTc2XzUxNDAzNykiIHN0cm9rZT0iIzExOUU4RiIgc3Ryb2tlLXdpZHRoPSIzLjYiCiAgICAgICAgICBtYXNrPSJ1cmwoI3BhdGgtNi1pbnNpZGUtMl8xNDE3Nl81MTQwMzcpIi8+CiAgICA8Y2lyY2xlIGN4PSI5LjE1MDE2IiBjeT0iMTQuNzAxOSIgcj0iMS41Mzc0IiBmaWxsPSJ1cmwoI3BhaW50Ml9saW5lYXJfMTQxNzZfNTE0MDM3KSIvPgogICAgPGNpcmNsZSBjeD0iMjQuOTUzNSIgY3k9IjQyLjI2MjciIHI9IjEuNTM3NCIgZmlsbD0idXJsKCNwYWludDNfbGluZWFyXzE0MTc2XzUxNDAzNykiLz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8xNDE3Nl81MTQwMzciIHgxPSI1LjE0ODY0IiB5MT0iMTAuMjk3MiIgeDI9IjUuMTQ4NjQiIHkyPSItMC4yMzU5NTMiCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzE2RDJCRiIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IndoaXRlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXJfMTQxNzZfNTE0MDM3IiB4MT0iMTAuMTc1OSIgeTE9IjIwLjM1MTYiIHgyPSIxMC4xNzU5IiB5Mj0iLTAuNDY2MzQxIgogICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxNkQyQkYiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSJ3aGl0ZSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzE0MTc2XzUxNDAzNyIgeDE9IjguMjA5NTkiIHkxPSIxNC4wNTQzIiB4Mj0iOC4yMDk1OSIgeTI9IjE2LjIzOTMiCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzM2RDZDNCIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxNUJFQUMiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQzX2xpbmVhcl8xNDE3Nl81MTQwMzciIHgxPSIyNC4wMTMiIHkxPSI0MS42MTUxIiB4Mj0iMjQuMDEzIiB5Mj0iNDMuODAwMSIKICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzZENkM0Ii8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE1QkVBQyIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICA8L2RlZnM+Cjwvc3ZnPgo="},function(e,t,a){"use strict";a.r(t),a.d(t,"ReactComponent",(function(){return h}));var r=a(317),n=a.n(r),l=a(0),u=a.n(l),o=u.a.createElement("path",{d:"M38.498 18.155L9.618 34.682M9.66 18.155l28.88 16.527M24.1 10.815v30.89",stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8"}),i=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.407 21.99l5.336-3.192-3.348-1.906-5.37 3.134.787.457-.79-.458v5.813l3.385 1.88V21.99z",fill:"url(#paint0_linear_14176_514054)"}),c=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.458 21.675l-5.335-3.192 3.348-1.906 5.37 3.134-.128.074.13-.075v5.813l-3.385 1.88v-5.728z",fill:"url(#paint1_linear_14176_514054)"}),s=u.a.createElement("path",{d:"M9.618 17.935L24 9.853l14.383 8.082v16.073L24 42 9.618 34.008V17.935z",stroke:"#119E8F",strokeWidth:1.8,strokeLinejoin:"round"}),f=u.a.createElement("path",{d:"M6.989 25.504l8.003 4.47-.035 8.856-8.003-4.47.035-8.856z",fill:"url(#paint2_linear_14176_514054)",stroke:"#119E8F",strokeWidth:1.5}),d=u.a.createElement("path",{d:"M41.011 25.504l-8.003 4.47.035 8.856 8.003-4.47-.035-8.856z",fill:"url(#paint3_linear_14176_514054)",stroke:"#119E8F",strokeWidth:1.5}),p=u.a.createElement("path",{d:"M24.055 5.68l8.992 5.021-8.902 5.016-8.992-5.021 8.902-5.016z",fill:"url(#paint4_linear_14176_514054)",stroke:"#119E8F",strokeWidth:1.5}),m=u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"paint0_linear_14176_514054",x1:14.714,y1:20.025,x2:14.714,y2:27.717,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"})),u.a.createElement("linearGradient",{id:"paint1_linear_14176_514054",x1:35.186,y1:22.251,x2:35.186,y2:27.717,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"})),u.a.createElement("linearGradient",{id:"paint2_linear_14176_514054",x1:10.973,y1:40.105,x2:10.973,y2:23.865,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"})),u.a.createElement("linearGradient",{id:"paint3_linear_14176_514054",x1:37.027,y1:40.105,x2:37.027,y2:23.865,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"})),u.a.createElement("linearGradient",{id:"paint4_linear_14176_514054",x1:24.1,y1:16.577,x2:24.1,y2:4.55,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"}))),h=function(e){return u.a.createElement("svg",n()({viewBox:"0 0 48 48",fill:"none",width:"1em",height:"1em"},e),o,i,c,s,f,d,p,m)};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik0zOC40OTg0IDE4LjE1NUw5LjYxODE2IDM0LjY4MjQiIHN0cm9rZT0iI0E1RUFFMyIgc3Ryb2tlLXdpZHRoPSIwLjYiIHN0cm9rZS1kYXNoYXJyYXk9IjEuOCAxLjgiLz4KICAgIDxwYXRoIGQ9Ik05LjY1OTc2IDE4LjE1NUwzOC41NCAzNC42ODI0IiBzdHJva2U9IiNBNUVBRTMiIHN0cm9rZS13aWR0aD0iMC42IiBzdHJva2UtZGFzaGFycmF5PSIxLjggMS44Ii8+CiAgICA8cGF0aCBkPSJNMjQuMTAwMiAxMC44MTUyVjQxLjcwNTMiIHN0cm9rZT0iI0E1RUFFMyIgc3Ryb2tlLXdpZHRoPSIwLjYiIHN0cm9rZS1kYXNoYXJyYXk9IjEuOCAxLjgiLz4KICAgIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIgogICAgICAgICAgZD0iTTE2LjQwNjkgMjEuOTkwNkwyMS43NDI2IDE4Ljc5OEwxOC4zOTUxIDE2Ljg5MjNMMTMuMDI0OSAyMC4wMjU4TDEzLjgxMTggMjAuNDgzTDEzLjAyMTggMjAuMDI0OVYyNS44Mzc3TDE2LjQwNjUgMjcuNzE3NVYyMS45OTA0TDE2LjQwNjkgMjEuOTkwNloiCiAgICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMTQxNzZfNTE0MDU0KSIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCiAgICAgICAgICBkPSJNMzIuNDU3NyAyMS42NzQ3TDI3LjEyMyAxOC40ODI4TDMwLjQ3MDUgMTYuNTc3MUwzNS44NDA4IDE5LjcxMDZMMzUuNzEzNCAxOS43ODQ2TDM1Ljg0MjQgMTkuNzA5OFYyNS41MjI2TDMyLjQ1NzcgMjcuNDAyNFYyMS42NzQ3WiIKICAgICAgICAgIGZpbGw9InVybCgjcGFpbnQxX2xpbmVhcl8xNDE3Nl81MTQwNTQpIi8+CiAgICA8cGF0aCBkPSJNOS42MTgxNiAxNy45MzQ3TDI0LjAwMDUgOS44NTMwM0wzOC4zODI4IDE3LjkzNDdWMzQuMDA4MUwyNC4wMDA1IDQyTDkuNjE4MTYgMzQuMDA4MVYxNy45MzQ3WiIKICAgICAgICAgIHN0cm9rZT0iIzExOUU4RiIgc3Ryb2tlLXdpZHRoPSIxLjgiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICAgIDxwYXRoIGQ9Ik02Ljk4ODk2IDI1LjUwNDFMMTQuOTkyNCAyOS45NzM4TDE0Ljk1NzQgMzguODMwM0w2Ljk1Mzg5IDM0LjM2MDVMNi45ODg5NiAyNS41MDQxWiIKICAgICAgICAgIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8xNDE3Nl81MTQwNTQpIiBzdHJva2U9IiMxMTlFOEYiIHN0cm9rZS13aWR0aD0iMS41Ii8+CiAgICA8cGF0aCBkPSJNNDEuMDExIDI1LjUwNDFMMzMuMDA3NiAyOS45NzM4TDMzLjA0MjYgMzguODMwM0w0MS4wNDYxIDM0LjM2MDVMNDEuMDExIDI1LjUwNDFaIgogICAgICAgICAgZmlsbD0idXJsKCNwYWludDNfbGluZWFyXzE0MTc2XzUxNDA1NCkiIHN0cm9rZT0iIzExOUU4RiIgc3Ryb2tlLXdpZHRoPSIxLjUiLz4KICAgIDxwYXRoIGQ9Ik0yNC4wNTU0IDUuNjc5NzdMMzMuMDQ3MiAxMC43MDE1TDI0LjE0NDkgMTUuNzE3NEwxNS4xNTMxIDEwLjY5NTdMMjQuMDU1NCA1LjY3OTc3WiIKICAgICAgICAgIGZpbGw9InVybCgjcGFpbnQ0X2xpbmVhcl8xNDE3Nl81MTQwNTQpIiBzdHJva2U9IiMxMTlFOEYiIHN0cm9rZS13aWR0aD0iMS41Ii8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTQxNzZfNTE0MDU0IiB4MT0iMTQuNzE0NSIgeTE9IjIwLjAyNDgiIHgyPSIxNC43MTQ1IiB5Mj0iMjcuNzE3NCIKICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzZENkM0Ii8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE1QkVBQyIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzE0MTc2XzUxNDA1NCIgeDE9IjM1LjE4NTkiIHkxPSIyMi4yNTA5IiB4Mj0iMzUuMTg1OSIgeTI9IjI3LjcxNzQiCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzM2RDZDNCIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxNUJFQUMiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8xNDE3Nl81MTQwNTQiIHgxPSIxMC45NzMyIiB5MT0iNDAuMTA1MyIgeDI9IjEwLjk3MzIiIHkyPSIyMy44NjUyIgogICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxNkQyQkYiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSJ3aGl0ZSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDNfbGluZWFyXzE0MTc2XzUxNDA1NCIgeDE9IjM3LjAyNjgiIHkxPSI0MC4xMDUzIiB4Mj0iMzcuMDI2OCIgeTI9IjIzLjg2NTIiCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzE2RDJCRiIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IndoaXRlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50NF9saW5lYXJfMTQxNzZfNTE0MDU0IiB4MT0iMjQuMTAwMiIgeTE9IjE2LjU3NzMiIHgyPSIyNC4xMDAyIiB5Mj0iNC41NTA0MSIKICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMTZEMkJGIi8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0id2hpdGUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgo8L3N2Zz4K"},function(e,t,a){"use strict";a.r(t),a.d(t,"ReactComponent",(function(){return S}));var r=a(317),n=a.n(r),l=a(0),u=a.n(l),o=u.a.createElement("ellipse",{cx:24,cy:25.753,rx:15.209,ry:8.969,stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8"}),i=u.a.createElement("path",{d:"M24.001 8.084v32.191",stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8"}),c=u.a.createElement("ellipse",{cx:24,cy:33.196,rx:15.209,ry:8.969,stroke:"#A5EAE3",strokeWidth:.6,strokeDasharray:"1.8 1.8"}),s=u.a.createElement("mask",{id:"a",fill:"#fff"},u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.27 31.989c-.168-.522-.898-.425-1.126.073-1.757 3.83-7.423 6.633-14.141 6.633-6.72 0-12.385-2.804-14.141-6.633-.229-.499-.958-.596-1.126-.074a5.361 5.361 0 00-.26 1.644c0 4.953 6.952 8.968 15.527 8.968s15.526-4.015 15.526-8.968c0-.561-.09-1.11-.26-1.643z"})),f=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.27 31.989c-.168-.522-.898-.425-1.126.073-1.757 3.83-7.423 6.633-14.141 6.633-6.72 0-12.385-2.804-14.141-6.633-.229-.499-.958-.596-1.126-.074a5.361 5.361 0 00-.26 1.644c0 4.953 6.952 8.968 15.527 8.968s15.526-4.015 15.526-8.968c0-.561-.09-1.11-.26-1.643z",fill:"url(#paint0_linear_14176_514100)"}),d=u.a.createElement("path",{d:"M38.144 32.062l-1.09-.5 1.09.5zm1.125-.073l-1.143.366 1.143-.366zm-2.216-.427c-.724 1.58-2.32 3.067-4.635 4.169-2.299 1.095-5.216 1.764-8.415 1.764v2.4c3.52 0 6.794-.734 9.447-1.997 2.638-1.257 4.752-3.086 5.784-5.335l-2.18-1.001zm-13.05 5.933c-3.2 0-6.117-.669-8.416-1.764-2.314-1.103-3.91-2.59-4.635-4.17l-2.181 1c1.032 2.251 3.146 4.08 5.784 5.337 2.653 1.263 5.928 1.997 9.448 1.997v-2.4zM9.676 33.632c0-.433.069-.859.203-1.277l-2.286-.733a6.562 6.562 0 00-.317 2.01h2.4zM24.003 41.4c-4.116 0-7.782-.966-10.379-2.466-2.628-1.518-3.948-3.436-3.948-5.302h-2.4c0 3.086 2.156 5.653 5.148 7.38 3.022 1.747 7.119 2.788 11.579 2.788v-2.4zm14.326-7.768c0 1.866-1.32 3.784-3.948 5.302-2.596 1.5-6.263 2.466-10.378 2.466v2.4c4.46 0 8.556-1.041 11.579-2.787 2.99-1.728 5.147-4.295 5.147-7.381h-2.4zm-.203-1.277c.134.419.203.844.203 1.277h2.4c0-.69-.11-1.363-.317-2.01l-2.286.733zm-27.174-.793a1.928 1.928 0 00-1.566-1.115c-.687-.063-1.507.284-1.793 1.175l2.286.733a.716.716 0 01-.713.482.472.472 0 01-.395-.275l2.181-1zm28.282 1a.472.472 0 01-.395.276.717.717 0 01-.713-.483l2.286-.732c-.286-.891-1.105-1.238-1.792-1.175a1.928 1.928 0 00-1.567 1.114l2.181 1z",fill:"#119E8F",mask:"url(#a)"}),p=u.a.createElement("mask",{id:"b",fill:"#fff"},u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.27 24.71c-.168-.522-.897-.425-1.126.073-1.756 3.83-7.422 6.633-14.141 6.633s-12.385-2.803-14.141-6.633c-.229-.498-.958-.595-1.125-.073a5.362 5.362 0 00-.26 1.643c0 4.953 6.951 8.969 15.526 8.969s15.526-4.016 15.526-8.969c0-.561-.089-1.11-.26-1.643z"})),m=u.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.27 24.71c-.168-.522-.897-.425-1.126.073-1.756 3.83-7.422 6.633-14.141 6.633s-12.385-2.803-14.141-6.633c-.229-.498-.958-.595-1.125-.073a5.362 5.362 0 00-.26 1.643c0 4.953 6.951 8.969 15.526 8.969s15.526-4.016 15.526-8.969c0-.561-.089-1.11-.26-1.643z",fill:"url(#paint1_linear_14176_514100)"}),h=u.a.createElement("path",{d:"M38.144 24.783l-1.09-.5 1.09.5zm1.125-.073l-1.142.366 1.142-.366zm-2.216-.427c-.724 1.58-2.32 3.067-4.635 4.17-2.299 1.095-5.216 1.763-8.415 1.763v2.4c3.52 0 6.795-.733 9.448-1.997 2.637-1.256 4.752-3.085 5.784-5.335l-2.182-1zm-13.05 5.933c-3.2 0-6.116-.669-8.415-1.764-2.315-1.102-3.911-2.59-4.635-4.169l-2.182 1c1.032 2.25 3.147 4.08 5.784 5.336 2.653 1.264 5.928 1.997 9.448 1.997v-2.4zM9.677 26.353c0-.432.068-.858.202-1.277l-2.285-.732a6.561 6.561 0 00-.317 2.009h2.4zm14.326 7.769c-4.115 0-7.782-.966-10.379-2.466-2.628-1.518-3.947-3.436-3.947-5.303h-2.4c0 3.087 2.156 5.653 5.147 7.381 3.023 1.746 7.12 2.788 11.579 2.788v-2.4zm14.326-7.769c0 1.867-1.32 3.785-3.947 5.303-2.597 1.5-6.264 2.466-10.379 2.466v2.4c4.46 0 8.556-1.042 11.579-2.788 2.991-1.728 5.147-4.294 5.147-7.381h-2.4zm-.202-1.277c.134.419.202.845.202 1.277h2.4c0-.69-.11-1.363-.317-2.01l-2.285.733zm-27.174-.793a1.928 1.928 0 00-1.567-1.114c-.687-.063-1.507.284-1.792 1.175l2.285.732a.716.716 0 01-.712.483.472.472 0 01-.396-.275l2.182-1zm28.282 1a.472.472 0 01-.395.276.716.716 0 01-.713-.483l2.285-.732c-.285-.891-1.105-1.238-1.792-1.175a1.928 1.928 0 00-1.567 1.114l2.182 1z",fill:"#119E8F",mask:"url(#b)"}),v=u.a.createElement("path",{d:"M38.626 16.1c0 2.02-1.424 4.019-4.098 5.563-2.65 1.531-6.37 2.507-10.528 2.507s-7.879-.976-10.529-2.507c-2.673-1.544-4.098-3.543-4.098-5.562 0-2.02 1.425-4.018 4.098-5.563 2.65-1.53 6.37-2.506 10.529-2.506 4.158 0 7.878.975 10.528 2.506 2.674 1.544 4.098 3.543 4.098 5.563z",stroke:"#119E8F",strokeWidth:1.8}),g=u.a.createElement("circle",{cx:9.29,cy:16.101,r:2.097,fill:"url(#paint2_linear_14176_514100)"}),y=u.a.createElement("circle",{cx:24.003,cy:24.704,r:2.097,fill:"url(#paint3_linear_14176_514100)"}),E=u.a.createElement("circle",{cx:24.003,cy:7.498,r:2.097,fill:"url(#paint4_linear_14176_514100)"}),b=u.a.createElement("circle",{cx:38.711,cy:16.101,r:2.097,fill:"url(#paint5_linear_14176_514100)"}),O=u.a.createElement("defs",null,u.a.createElement("linearGradient",{id:"paint0_linear_14176_514100",x1:24.003,y1:42.6,x2:24.003,y2:31.763,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"})),u.a.createElement("linearGradient",{id:"paint1_linear_14176_514100",x1:24.003,y1:35.322,x2:24.003,y2:24.484,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#16D2BF"}),u.a.createElement("stop",{offset:1,stopColor:"#fff"})),u.a.createElement("linearGradient",{id:"paint2_linear_14176_514100",x1:8.007,y1:15.217,x2:8.007,y2:18.198,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"})),u.a.createElement("linearGradient",{id:"paint3_linear_14176_514100",x1:22.719,y1:23.82,x2:22.719,y2:26.801,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"})),u.a.createElement("linearGradient",{id:"paint4_linear_14176_514100",x1:22.719,y1:6.614,x2:22.719,y2:9.595,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"})),u.a.createElement("linearGradient",{id:"paint5_linear_14176_514100",x1:37.427,y1:15.217,x2:37.427,y2:18.198,gradientUnits:"userSpaceOnUse"},u.a.createElement("stop",{stopColor:"#36D6C4"}),u.a.createElement("stop",{offset:1,stopColor:"#15BEAC"}))),S=function(e){return u.a.createElement("svg",n()({viewBox:"0 0 48 48",fill:"none",width:"1em",height:"1em"},e),o,i,c,s,f,d,p,m,h,v,g,y,E,b,O)};t.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxlbGxpcHNlIGN4PSIyNCIgY3k9IjI1Ljc1MzEiIHJ4PSIxNS4yMDkzIiByeT0iOC45Njg5MSIgc3Ryb2tlPSIjQTVFQUUzIiBzdHJva2Utd2lkdGg9IjAuNiIKICAgICAgICAgICAgIHN0cm9rZS1kYXNoYXJyYXk9IjEuOCAxLjgiLz4KICAgIDxwYXRoIGQ9Ik0yNC4wMDEzIDguMDgzOThMMjQuMDAxNiA0MC4yNzUiIHN0cm9rZT0iI0E1RUFFMyIgc3Ryb2tlLXdpZHRoPSIwLjYiIHN0cm9rZS1kYXNoYXJyYXk9IjEuOCAxLjgiLz4KICAgIDxlbGxpcHNlIGN4PSIyNCIgY3k9IjMzLjE5NTUiIHJ4PSIxNS4yMDkzIiByeT0iOC45Njg5MSIgc3Ryb2tlPSIjQTVFQUUzIiBzdHJva2Utd2lkdGg9IjAuNiIKICAgICAgICAgICAgIHN0cm9rZS1kYXNoYXJyYXk9IjEuOCAxLjgiLz4KICAgIDxtYXNrIGlkPSJwYXRoLTQtaW5zaWRlLTFfMTQxNzZfNTE0MTAwIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCiAgICAgICAgICAgICAgZD0iTTM5LjI2OTEgMzEuOTg5QzM5LjEwMTggMzEuNDY2OSAzOC4zNzI0IDMxLjU2MzkgMzguMTQzOCAzMi4wNjIzQzM2LjM4NzQgMzUuODkxMyAzMC43MjE0IDM4LjY5NDcgMjQuMDAyOCAzOC42OTQ3QzE3LjI4MzkgMzguNjk0NyAxMS42MTc2IDM1Ljg5MSA5Ljg2MTU2IDMyLjA2MTdDOS42MzMwMSAzMS41NjMzIDguOTAzNTYgMzEuNDY2MiA4LjczNjIxIDMxLjk4ODNDOC41NjU0NiAzMi41MjEgOC40NzYyMSAzMy4wNzAyIDguNDc2MjEgMzMuNjMxNUM4LjQ3NjIxIDM4LjU4NDkgMTUuNDI3NiA0Mi42MDA0IDI0LjAwMjUgNDIuNjAwNEMzMi41Nzc1IDQyLjYwMDQgMzkuNTI4OSAzOC41ODQ5IDM5LjUyODkgMzMuNjMxNUMzOS41Mjg5IDMzLjA3MDUgMzkuNDM5NyAzMi41MjE1IDM5LjI2OTEgMzEuOTg5WiIvPgogICAgPC9tYXNrPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCiAgICAgICAgICBkPSJNMzkuMjY5MSAzMS45ODlDMzkuMTAxOCAzMS40NjY5IDM4LjM3MjQgMzEuNTYzOSAzOC4xNDM4IDMyLjA2MjNDMzYuMzg3NCAzNS44OTEzIDMwLjcyMTQgMzguNjk0NyAyNC4wMDI4IDM4LjY5NDdDMTcuMjgzOSAzOC42OTQ3IDExLjYxNzYgMzUuODkxIDkuODYxNTYgMzIuMDYxN0M5LjYzMzAxIDMxLjU2MzMgOC45MDM1NiAzMS40NjYyIDguNzM2MjEgMzEuOTg4M0M4LjU2NTQ2IDMyLjUyMSA4LjQ3NjIxIDMzLjA3MDIgOC40NzYyMSAzMy42MzE1QzguNDc2MjEgMzguNTg0OSAxNS40Mjc2IDQyLjYwMDQgMjQuMDAyNSA0Mi42MDA0QzMyLjU3NzUgNDIuNjAwNCAzOS41Mjg5IDM4LjU4NDkgMzkuNTI4OSAzMy42MzE1QzM5LjUyODkgMzMuMDcwNSAzOS40Mzk3IDMyLjUyMTUgMzkuMjY5MSAzMS45ODlaIgogICAgICAgICAgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzE0MTc2XzUxNDEwMCkiLz4KICAgIDxwYXRoIGQ9Ik0zOC4xNDM4IDMyLjA2MjNMMzcuMDUzMSAzMS41NjJMMzguMTQzOCAzMi4wNjIzWk0zOS4yNjkxIDMxLjk4OUwzOC4xMjYzIDMyLjM1NTJMMzkuMjY5MSAzMS45ODlaTTM3LjA1MzEgMzEuNTYyQzM2LjMyODcgMzMuMTQxMSAzNC43MzIzIDM0LjYyODUgMzIuNDE4IDM1LjczMUMzMC4xMTkxIDM2LjgyNjIgMjcuMjAxOCAzNy40OTQ3IDI0LjAwMjggMzcuNDk0N1YzOS44OTQ3QzI3LjUyMjQgMzkuODk0NyAzMC43OTc0IDM5LjE2MTUgMzMuNDUwMiAzNy44OTc3QzM2LjA4NzcgMzYuNjQxMyAzOC4yMDI1IDM0LjgxMjUgMzkuMjM0NSAzMi41NjI2TDM3LjA1MzEgMzEuNTYyWk0yNC4wMDI4IDM3LjQ5NDdDMjAuODAzNiAzNy40OTQ3IDE3Ljg4NjIgMzYuODI2MSAxNS41ODcyIDM1LjczMDlDMTMuMjcyOSAzNC42MjgzIDExLjY3NjUgMzMuMTQwNyAxMC45NTIzIDMxLjU2MTVMOC43NzA3OCAzMi41NjE5QzkuODAyNjEgMzQuODEyIDExLjkxNzQgMzYuNjQwOSAxNC41NTUgMzcuODk3NUMxNy4yMDc5IDM5LjE2MTQgMjAuNDgzMSAzOS44OTQ3IDI0LjAwMjggMzkuODk0N1YzNy40OTQ3Wk05LjY3NjIxIDMzLjYzMTVDOS42NzYyMSAzMy4xOTkyIDkuNzQ0NzEgMzIuNzczNCA5Ljg3ODk0IDMyLjM1NDZMNy41OTM0NyAzMS42MjJDNy4zODYyMiAzMi4yNjg2IDcuMjc2MjEgMzIuOTQxMyA3LjI3NjIxIDMzLjYzMTVIOS42NzYyMVpNMjQuMDAyNSA0MS40MDA0QzE5Ljg4NzQgNDEuNDAwNCAxNi4yMjA2IDQwLjQzNDMgMTMuNjI0IDM4LjkzNDRDMTAuOTk1OSAzNy40MTYyIDkuNjc2MjEgMzUuNDk4MyA5LjY3NjIxIDMzLjYzMTVINy4yNzYyMUM3LjI3NjIxIDM2LjcxODEgOS40MzIyNSAzOS4yODQ2IDEyLjQyMzUgNDEuMDEyNkMxNS40NDY0IDQyLjc1ODcgMTkuNTQyOCA0My44MDA0IDI0LjAwMjUgNDMuODAwNFY0MS40MDA0Wk0zOC4zMjg5IDMzLjYzMTVDMzguMzI4OSAzNS40OTgzIDM3LjAwOTIgMzcuNDE2MiAzNC4zODExIDM4LjkzNDRDMzEuNzg0NSA0MC40MzQzIDI4LjExNzcgNDEuNDAwNCAyNC4wMDI1IDQxLjQwMDRWNDMuODAwNEMyOC40NjIzIDQzLjgwMDQgMzIuNTU4NyA0Mi43NTg3IDM1LjU4MTYgNDEuMDEyNkMzOC41NzI4IDM5LjI4NDYgNDAuNzI4OSAzNi43MTgxIDQwLjcyODkgMzMuNjMxNUgzOC4zMjg5Wk0zOC4xMjYzIDMyLjM1NTJDMzguMjYwNCAzMi43NzM4IDM4LjMyODkgMzMuMTk5NCAzOC4zMjg5IDMzLjYzMTVINDAuNzI4OUM0MC43Mjg5IDMyLjk0MTYgNDAuNjE5IDMyLjI2OTIgNDAuNDExOSAzMS42MjI5TDM4LjEyNjMgMzIuMzU1MlpNMTAuOTUyMyAzMS41NjE1QzEwLjY0OSAzMC45IDEwLjAyMDkgMzAuNTA1NyA5LjM4NTc2IDMwLjQ0NzNDOC42OTg5NCAzMC4zODQyIDcuODc5MTMgMzAuNzMwOCA3LjU5MzQ3IDMxLjYyMkw5Ljg3ODk0IDMyLjM1NDZDOS44MzQ5OCAzMi40OTE3IDkuNzI5NjUgMzIuNjQyNyA5LjU2MTgzIDMyLjc0MkM5LjQwNzg3IDMyLjgzMzIgOS4yNjE3MyAzMi44NDYxIDkuMTY2MTIgMzIuODM3M0M4Ljk5NDY5IDMyLjgyMTUgOC44NDU1OSAzMi43MjUgOC43NzA3OCAzMi41NjE5TDEwLjk1MjMgMzEuNTYxNVpNMzkuMjM0NSAzMi41NjI2QzM5LjE1OTcgMzIuNzI1NyAzOS4wMTA2IDMyLjgyMjIgMzguODM5MSAzMi44Mzc5QzM4Ljc0MzUgMzIuODQ2NyAzOC41OTc0IDMyLjgzMzggMzguNDQzNCAzMi43NDI2QzM4LjI3NTYgMzIuNjQzMyAzOC4xNzAzIDMyLjQ5MjMgMzguMTI2MyAzMi4zNTUyTDQwLjQxMTkgMzEuNjIyOUM0MC4xMjY0IDMwLjczMTYgMzkuMzA2NiAzMC4zODQ5IDM4LjYxOTggMzAuNDQ4QzM3Ljk4NDYgMzAuNTA2MyAzNy4zNTY1IDMwLjkwMDUgMzcuMDUzMSAzMS41NjJMMzkuMjM0NSAzMi41NjI2WiIKICAgICAgICAgIGZpbGw9IiMxMTlFOEYiIG1hc2s9InVybCgjcGF0aC00LWluc2lkZS0xXzE0MTc2XzUxNDEwMCkiLz4KICAgIDxtYXNrIGlkPSJwYXRoLTYtaW5zaWRlLTJfMTQxNzZfNTE0MTAwIiBmaWxsPSJ3aGl0ZSI+CiAgICAgICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCiAgICAgICAgICAgICAgZD0iTTM5LjI2OTQgMjQuNzEwMUMzOS4xMDIxIDI0LjE4OCAzOC4zNzI3IDI0LjI4NTEgMzguMTQ0MSAyNC43ODM0QzM2LjM4NzkgMjguNjEyNiAzMC43MjE3IDMxLjQxNiAyNC4wMDMgMzEuNDE2QzE3LjI4NDMgMzEuNDE2IDExLjYxODEgMjguNjEyNiA5Ljg2MTkgMjQuNzgzM0M5LjYzMzM0IDI0LjI4NDkgOC45MDM5IDI0LjE4NzkgOC43MzY1NiAyNC43MUM4LjU2NTg2IDI1LjI0MjYgOC40NzY2NCAyNS43OTE4IDguNDc2NjQgMjYuMzUzQzguNDc2NjQgMzEuMzA2NCAxNS40MjggMzUuMzIxOSAyNC4wMDMgMzUuMzIxOUMzMi41Nzc5IDM1LjMyMTkgMzkuNTI5MyAzMS4zMDY0IDM5LjUyOTMgMjYuMzUzQzM5LjUyOTMgMjUuNzkxOCAzOS40NDAxIDI1LjI0MjcgMzkuMjY5NCAyNC43MTAxWiIvPgogICAgPC9tYXNrPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCiAgICAgICAgICBkPSJNMzkuMjY5NCAyNC43MTAxQzM5LjEwMjEgMjQuMTg4IDM4LjM3MjcgMjQuMjg1MSAzOC4xNDQxIDI0Ljc4MzRDMzYuMzg3OSAyOC42MTI2IDMwLjcyMTcgMzEuNDE2IDI0LjAwMyAzMS40MTZDMTcuMjg0MyAzMS40MTYgMTEuNjE4MSAyOC42MTI2IDkuODYxOSAyNC43ODMzQzkuNjMzMzQgMjQuMjg0OSA4LjkwMzkgMjQuMTg3OSA4LjczNjU2IDI0LjcxQzguNTY1ODYgMjUuMjQyNiA4LjQ3NjY0IDI1Ljc5MTggOC40NzY2NCAyNi4zNTNDOC40NzY2NCAzMS4zMDY0IDE1LjQyOCAzNS4zMjE5IDI0LjAwMyAzNS4zMjE5QzMyLjU3NzkgMzUuMzIxOSAzOS41MjkzIDMxLjMwNjQgMzkuNTI5MyAyNi4zNTNDMzkuNTI5MyAyNS43OTE4IDM5LjQ0MDEgMjUuMjQyNyAzOS4yNjk0IDI0LjcxMDFaIgogICAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzE0MTc2XzUxNDEwMCkiLz4KICAgIDxwYXRoIGQ9Ik0zOC4xNDQxIDI0Ljc4MzRMMzcuMDUzMyAyNC4yODMyTDM4LjE0NDEgMjQuNzgzNFpNMzkuMjY5NCAyNC43MTAxTDM4LjEyNjcgMjUuMDc2M0wzOS4yNjk0IDI0LjcxMDFaTTM3LjA1MzMgMjQuMjgzMkMzNi4zMjkxIDI1Ljg2MjMgMzQuNzMyNyAyNy4zNDk4IDMyLjQxODQgMjguNDUyM0MzMC4xMTk0IDI5LjU0NzUgMjcuMjAyMSAzMC4yMTYgMjQuMDAzIDMwLjIxNlYzMi42MTZDMjcuNTIyNiAzMi42MTYgMzAuNzk3NyAzMS44ODI4IDMzLjQ1MDYgMzAuNjE5QzM2LjA4ODEgMjkuMzYyNSAzOC4yMDI5IDI3LjUzMzcgMzkuMjM0OCAyNS4yODM3TDM3LjA1MzMgMjQuMjgzMlpNMjQuMDAzIDMwLjIxNkMyMC44MDM5IDMwLjIxNiAxNy44ODY2IDI5LjU0NzUgMTUuNTg3NiAyOC40NTIzQzEzLjI3MzMgMjcuMzQ5OCAxMS42NzY5IDI1Ljg2MjMgMTAuOTUyNyAyNC4yODMxTDguNzcxMTQgMjUuMjgzNkM5LjgwMzA2IDI3LjUzMzYgMTEuOTE3OSAyOS4zNjI1IDE0LjU1NTQgMzAuNjE5QzE3LjIwODMgMzEuODgyOCAyMC40ODM0IDMyLjYxNiAyNC4wMDMgMzIuNjE2VjMwLjIxNlpNOS42NzY2NCAyNi4zNTNDOS42NzY2NCAyNS45MjA3IDkuNzQ1MTEgMjUuNDk1IDkuODc5MzEgMjUuMDc2Mkw3LjU5MzgyIDI0LjM0MzhDNy4zODY2MSAyNC45OTAzIDcuMjc2NjQgMjUuNjYyOSA3LjI3NjY0IDI2LjM1M0g5LjY3NjY0Wk0yNC4wMDMgMzQuMTIxOUMxOS44ODc4IDM0LjEyMTkgMTYuMjIxIDMzLjE1NTggMTMuNjI0NCAzMS42NTU5QzEwLjk5NjMgMzAuMTM3NyA5LjY3NjY0IDI4LjIxOTggOS42NzY2NCAyNi4zNTNINy4yNzY2NEM3LjI3NjY0IDI5LjQzOTYgOS40MzI2OCAzMi4wMDYxIDEyLjQyNCAzMy43MzQxQzE1LjQ0NjggMzUuNDgwMiAxOS41NDMyIDM2LjUyMTkgMjQuMDAzIDM2LjUyMTlWMzQuMTIxOVpNMzguMzI5MyAyNi4zNTNDMzguMzI5MyAyOC4yMTk4IDM3LjAwOTcgMzAuMTM3NyAzNC4zODE1IDMxLjY1NTlDMzEuNzg0OSAzMy4xNTU4IDI4LjExODIgMzQuMTIxOSAyNC4wMDMgMzQuMTIxOVYzNi41MjE5QzI4LjQ2MjggMzYuNTIxOSAzMi41NTkyIDM1LjQ4MDIgMzUuNTgyIDMzLjczNDFDMzguNTczMyAzMi4wMDYxIDQwLjcyOTMgMjkuNDM5NiA0MC43MjkzIDI2LjM1M0gzOC4zMjkzWk0zOC4xMjY3IDI1LjA3NjNDMzguMjYwOCAyNS40OTUgMzguMzI5MyAyNS45MjA4IDM4LjMyOTMgMjYuMzUzSDQwLjcyOTNDNDAuNzI5MyAyNS42NjI5IDQwLjYxOTQgMjQuOTkwNCA0MC40MTIyIDI0LjM0MzlMMzguMTI2NyAyNS4wNzYzWk0xMC45NTI3IDI0LjI4MzFDMTAuNjQ5MyAyMy42MjE2IDEwLjAyMTIgMjMuMjI3NCA5LjM4NjAzIDIzLjE2OUM4LjY5OTIxIDIzLjEwNTkgNy44Nzk0MyAyMy40NTI2IDcuNTkzODIgMjQuMzQzOEw5Ljg3OTMxIDI1LjA3NjJDOS44MzUzNiAyNS4yMTM0IDkuNzMwMDQgMjUuMzY0MyA5LjU2MjIyIDI1LjQ2MzdDOS40MDgyNyAyNS41NTQ4IDkuMjYyMTIgMjUuNTY3NyA5LjE2NjUxIDI1LjU1ODlDOC45OTUwNyAyNS41NDMyIDguODQ1OTYgMjUuNDQ2NyA4Ljc3MTE0IDI1LjI4MzZMMTAuOTUyNyAyNC4yODMxWk0zOS4yMzQ4IDI1LjI4MzdDMzkuMTYgMjUuNDQ2OCAzOS4wMTA5IDI1LjU0MzMgMzguODM5NSAyNS41NTkxQzM4Ljc0MzkgMjUuNTY3OSAzOC41OTc3IDI1LjU1NSAzOC40NDM3IDI1LjQ2MzhDMzguMjc1OSAyNS4zNjQ0IDM4LjE3MDYgMjUuMjEzNSAzOC4xMjY3IDI1LjA3NjNMNDAuNDEyMiAyNC4zNDM5QzQwLjEyNjYgMjMuNDUyNyAzOS4zMDY4IDIzLjEwNjEgMzguNjIgMjMuMTY5MUMzNy45ODQ5IDIzLjIyNzUgMzcuMzU2NyAyMy42MjE3IDM3LjA1MzMgMjQuMjgzMkwzOS4yMzQ4IDI1LjI4MzdaIgogICAgICAgICAgZmlsbD0iIzExOUU4RiIgbWFzaz0idXJsKCNwYXRoLTYtaW5zaWRlLTJfMTQxNzZfNTE0MTAwKSIvPgogICAgPHBhdGggZD0iTTM4LjYyNjIgMTYuMTAwN0MzOC42MjYyIDE4LjEyIDM3LjIwMiAyMC4xMTkgMzQuNTI4NCAyMS42NjM0QzMxLjg3ODUgMjMuMTk0MSAyOC4xNTgxIDI0LjE2OTcgMjMuOTk5OCAyNC4xNjk3QzE5Ljg0MTYgMjQuMTY5NyAxNi4xMjExIDIzLjE5NDEgMTMuNDcxMiAyMS42NjM0QzEwLjc5NzcgMjAuMTE5IDkuMzczNSAxOC4xMiA5LjM3MzUgMTYuMTAwN0M5LjM3MzUgMTQuMDgxNSAxMC43OTc3IDEyLjA4MjUgMTMuNDcxMiAxMC41MzgxQzE2LjEyMTEgOS4wMDczNiAxOS44NDE2IDguMDMxODQgMjMuOTk5OCA4LjAzMTg0QzI4LjE1ODEgOC4wMzE4NCAzMS44Nzg1IDkuMDA3MzYgMzQuNTI4NCAxMC41MzgxQzM3LjIwMiAxMi4wODI1IDM4LjYyNjIgMTQuMDgxNSAzOC42MjYyIDE2LjEwMDdaIgogICAgICAgICAgc3Ryb2tlPSIjMTE5RThGIiBzdHJva2Utd2lkdGg9IjEuOCIvPgogICAgPGNpcmNsZSBjeD0iOS4yODk4IiBjeT0iMTYuMTAwOCIgcj0iMi4wOTc0MiIgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzE0MTc2XzUxNDEwMCkiLz4KICAgIDxjaXJjbGUgY3g9IjI0LjAwMjUiIGN5PSIyNC43MDM5IiByPSIyLjA5NzQyIiBmaWxsPSJ1cmwoI3BhaW50M19saW5lYXJfMTQxNzZfNTE0MTAwKSIvPgogICAgPGNpcmNsZSBjeD0iMjQuMDAyNSIgY3k9IjcuNDk3NTciIHI9IjIuMDk3NDIiIGZpbGw9InVybCgjcGFpbnQ0X2xpbmVhcl8xNDE3Nl81MTQxMDApIi8+CiAgICA8Y2lyY2xlIGN4PSIzOC43MTA2IiBjeT0iMTYuMTAwOCIgcj0iMi4wOTc0MiIgZmlsbD0idXJsKCNwYWludDVfbGluZWFyXzE0MTc2XzUxNDEwMCkiLz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQwX2xpbmVhcl8xNDE3Nl81MTQxMDAiIHgxPSIyNC4wMDI2IiB5MT0iNDIuNjAwMiIgeDI9IjI0LjAwMjYiIHkyPSIzMS43NjI2IgogICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxNkQyQkYiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSJ3aGl0ZSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzE0MTc2XzUxNDEwMCIgeDE9IjI0LjAwMyIgeTE9IjM1LjMyMTkiIHgyPSIyNC4wMDMiIHkyPSIyNC40ODQzIgogICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxNkQyQkYiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSJ3aGl0ZSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzE0MTc2XzUxNDEwMCIgeDE9IjguMDA2NjIiIHkxPSIxNS4yMTczIiB4Mj0iOC4wMDY2MiIgeTI9IjE4LjE5ODMiCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzM2RDZDNCIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxNUJFQUMiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQzX2xpbmVhcl8xNDE3Nl81MTQxMDAiIHgxPSIyMi43MTkzIiB5MT0iMjMuODIwMyIgeDI9IjIyLjcxOTMiIHkyPSIyNi44MDEzIgogICAgICAgICAgICAgICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMzNkQ2QzQiLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjMTVCRUFDIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50NF9saW5lYXJfMTQxNzZfNTE0MTAwIiB4MT0iMjIuNzE5MyIgeTE9IjYuNjE0MDMiIHgyPSIyMi43MTkzIiB5Mj0iOS41OTQ5OSIKICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMzZENkM0Ii8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE1QkVBQyIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDVfbGluZWFyXzE0MTc2XzUxNDEwMCIgeDE9IjM3LjQyNzQiIHkxPSIxNS4yMTczIiB4Mj0iMzcuNDI3NCIgeTI9IjE4LjE5ODMiCiAgICAgICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzM2RDZDNCIvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMxNUJFQUMiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgo8L3N2Zz4K"},,,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(97)),u=r(a(0)),o=n(a(5)),i=n(a(3349)),c=function(e){var t=e.content,a=e.className,r=e.percent,n=(0,u.useRef)(),c=(0,u.useState)(!1),s=(0,l.default)(c,2),f=s[0],d=s[1],p=(0,u.useState)({x:0,y:0}),m=(0,l.default)(p,2),h=m[0],v=m[1];return u.default.createElement("div",{ref:n,className:(0,o.default)(i.default.background,a),onMouseMove:function(e){if(f){var t=n.current.getBoundingClientRect(),a=e.clientX-t.x,r=e.clientY-t.y;v({x:a+20,y:r})}},onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},u.default.createElement("div",{className:i.default.percent,style:{width:"".concat(r,"%")}}),f&&u.default.createElement("div",{style:{left:h.x,top:h.y},className:i.default.tooltip},t))};t.default=c},,,,function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(6),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(6),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(69),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(38));r(35);var i=n(r(39)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=r(17),v=r(243),g=n(r(67)),y=r(189),E=r(56),b=r(804),O=n(r(319)),S=n(r(834)),C=n(r(3419));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var N=function(e){(0,f.default)(r,e);var a=R(r);function r(e){var n;return(0,c.default)(this,r),(n=a.call(this,e)).fetchData=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params,e.next=3,n.store.fetchDetail(t);case 3:case"end":return e.stop()}}),e)}))),n.getOperations=function(){var e,a,r=n.props.match.params.cluster,l=null===(e=globals.clusterConfig)||void 0===e||null===(a=e[r])||void 0===a?void 0:a.k8sVersion;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return n.trigger("resource.baseinfo.edit",{type:n.name,detail:(0,h.toJS)(n.store.detail),success:n.fetchData})}},{key:"rollBack",icon:"timed-task",text:t("ROLL_BACK"),action:"edit",onClick:function(){return n.trigger("workload.revision.rollback",{detail:n.store.detail,success:n.fetchData})}},{key:"editConfigTemplate",icon:"storage",text:t("EDIT_SETTINGS"),action:"edit",onClick:function(){return n.trigger("workload.template.edit",k(k({detail:n.store.detail},n.props.match.params),{},{success:n.fetchData,supportGpuSelect:!0,rootStore:n.props.rootStore}))}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return n.trigger("resource.yaml.edit",{detail:n.store.detail,success:n.fetchData})}},{key:"redeploy",icon:"restart",text:t("RECREATE"),action:"edit",onClick:function(){return n.trigger("workload.redeploy",{module:n.module,detail:n.store.detail})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(){return n.trigger("workload.delete",{type:n.name,detail:n.store.detail,success:function(){return n.routing.push(n.listUrl)},k8sVersion:l})}}]},n.getAttrs=function(){var e=(0,h.toJS)(n.store.detail),a=n.props.match.params,r=a.cluster,l=a.namespace;if(!(0,g.default)(e))return[{name:t("CLUSTER"),value:(0,E.showNameAndAlias)(r,"cluster")},{name:t("PROJECT"),value:(0,E.showNameAndAlias)(l,"project")},{name:t("APP"),value:e.app},{name:t("CREATION_TIME_TCAP"),value:(0,E.getLocalTime)(e.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("UPDATE_TIME_TCAP"),value:(0,E.getLocalTime)(e.updateTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:e.creator}]},n.store=new O.default(n.module),n}return(0,s.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return m.default.createElement(y.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,E.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("DEPLOYMENT_PL"),url:this.listUrl}]};return m.default.createElement(S.default,(0,l.default)({stores:e},a,{routes:this.routes,watch:!0}))}},{key:"module",get:function(){return"deployments"}},{key:"name",get:function(){return"DEPLOYMENT"}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster,r=e.namespace;return t?"/".concat(t,"/clusters/").concat(a,"/projects/").concat(r,"/").concat(this.module):"/clusters/".concat(a,"/").concat(this.module)}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}},{key:"routes",get:function(){return(0,C.default)(this.props.match.path)}}]),r}(m.default.Component),D=(0,v.inject)("rootStore")((0,v.observer)((0,b.trigger)(N)));a.default=D;var T=N;a.Component=T},function(e,t,a){e.exports={wrapper:"Sj6_fE9di3qvKP6OJV0A5",headerIcon:"_1v1YPUqQcdobw1VPwYe3Fx",up:"_1ByWYA8ZLfuUCjkagVIl2h",header:"_3DH25-YZL5pHTEA7zwpRdM",hasIcon:"HcnaY-YrANRBGHBpWBP61",isOpen:"Zp2uG-sq3zYPoAqOw6EtR",headerTitle:"_2MHo0pP8kMPr8E1kWPy2O1",content:"_2ghtx1RHGVHONyGuRnisP0",contentAttributeItem:"_1MrL6a8G04uvC8VMqmD7ji",contentAttributes:"bj3j-q_eIzZ_7VO1n8xNA",contentTags:"_2BDOcN7zdLx8Ihy90-8juD",contentTag:"_1Shq9of5uy7k8Nz-7mgWOm",contentTitle:"_2_O0ijkgoyOCRWL7Huzje1",contentAnnotation:"_2Kdk-HhTjeiu9d7bxyok8c"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(189),p=n(r(801)),m=n(r(807)),h=n(r(3420));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(r,e);var a=v(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).getColumns=function(){return[{title:t("TYPE"),dataIndex:"type",width:"10%",render:function(e){return s.default.createElement(m.default,{type:e,name:t("EVENT_".concat(e.toUpperCase()))})}},{title:t("REASON"),dataIndex:"reason",width:"16%"},{title:t("EVENT_AGE"),dataIndex:"age",width:"16%"},{title:t("SOURCE"),dataIndex:"from",width:"18%"},{title:t("MESSAGE"),dataIndex:"message"}]},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.data,r=e.loading;return s.default.createElement(p.default,{title:t("EVENT_PL")},s.default.createElement(d.Table,{className:h.default.table,dataSource:a,columns:this.getColumns(),loading:r}))}}]),r}(s.default.Component);g.propTypes={data:f.default.array,loading:f.default.bool};var y=g;a.default=y},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(36),a(20),a(14),a(8),a(13),a(9),a(4),a(21),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(3),a(10),a(6),a(36),a(20),a(27),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(46),a(7),a(40);var n=r(a(38)),l=r(a(31)),u=r(a(58));a(35);var o,i,c,s=r(a(39)),f=r(a(62)),d=r(a(25)),p=r(a(28)),m=r(a(45)),h=(r(a(63)),a(17)),v=r(a(26)),g=r(a(839)),y=a(324);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O=(o=function(){function e(){(0,d.default)(this,e),(0,f.default)(this,"list",i,this),(0,f.default)(this,"variables",c,this)}var t,a;return(0,p.default)(e,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace,r="";return t&&(r+="/klusters/".concat(t)),a&&(r+="/namespaces/".concat(a)),r}},{key:"fetchList",value:(a=(0,s.default)(n.default.mark((function e(t){var a,r,l,o,i,c,s,f,d=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,l=t.containers,o=void 0===l?[]:l,i=t.initContainers,c=void 0===i?[]:i,this.list.isLoading=!0,o=(0,g.default)(o)?[]:o,c=(0,g.default)(c)?[]:c,s=[].concat((0,u.default)(c.map((function(e){return b(b({},e),{},{type:"init"})}))),(0,u.default)(o.map((function(e){return b(b({},e),{},{type:"work"})})))),e.next=7,Promise.all(s.map((function(e){return e.cluster=a,e.namespace=r,d.fetchVariables(e)})));case 7:f=e.sent,this.list={data:f,isLoading:!1};case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchVariables",value:(t=(0,s.default)(n.default.mark((function e(t){var a,r,l,u,o,i,c,s=this;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.variables.isLoading=!0,a=t.cluster,r=t.namespace,l=t.env,u=[],o=[],(void 0===l?[]:l).forEach((function(e){if("valueFrom"in e){var t=e.valueFrom,n=t.secretKeyRef,l=t.configMapKeyRef;n&&(o.push({name:e.name,key:n.key}),u.push(request.get("api/v1".concat(s.getPath({cluster:a,namespace:r}),"/secrets/").concat(n.name)))),l&&(o.push({name:e.name,key:l.key}),u.push(request.get("api/v1".concat(s.getPath({cluster:a,namespace:r}),"/configmaps/").concat(l.name))))}else o.push(e),u.push(e.value||"")})),e.next=7,Promise.all(u);case 7:return i=e.sent,c=o.map((function(e,t){var a=i[t];return"Secret"===a.kind&&e.key?{name:e.name,value:(0,y.safeAtob)((0,v.default)(a.data,e.key,""))}:"ConfigMap"===a.kind&&e.key?{name:e.name,value:(0,v.default)(a.data,e.key,"")}:b({value:""},e)})),this.variables={data:c,isLoading:!1},t.variables=c,e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),i=(0,m.default)(o.prototype,"list",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],isLoading:!0}}}),c=(0,m.default)(o.prototype,"variables",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],isLoading:!0}}}),(0,m.default)(o.prototype,"fetchList",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchList"),o.prototype),(0,m.default)(o.prototype,"fetchVariables",[h.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchVariables"),o.prototype),o);t.default=O},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(70),r(20),r(14),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(70),r(20),r(29),r(14),r(4),r(18),r(43),r(11),r(73);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(67)),h=r(189),v=n(r(823)),g=n(r(3421));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=["password","secret"],b=function(e){(0,i.default)(r,e);var a=y(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={isExpand:e.props.expand,defaultExpand:e.props.expand},e.handleHideValue=function(e){var t=e.toLowerCase(),a=!1;return E.forEach((function(e){t.includes(e)&&(a=!0)})),a},e.handleExpand=function(){e.setState({isExpand:!e.state.isExpand})},e}return(0,o.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.detail,r=a.type,n=a.name,l=e.icon;return f.default.createElement("div",{className:g.default.title},f.default.createElement(h.Icon,{name:l||"docker",size:20}),r?"init"===r?t("INIT_CONTAINER_VALUE",{value:n}):t("CONTAINER_VALUE",{value:n}):n)}},{key:"renderOperations",value:function(){return f.default.createElement("div",{className:g.default.arrow},f.default.createElement(h.Icon,{name:"caret-down",size:12,type:"light"}))}},{key:"renderContent",value:function(){var e=this,t=this.props.detail.variables;return(0,m.default)(t)?null:f.default.createElement("div",{className:g.default.content,onClick:function(e){e.stopPropagation()}},f.default.createElement("ul",{className:g.default.variables},t.map((function(t){var a=t.name,r=t.value,n=e.handleHideValue(a)?"******":r;return f.default.createElement("li",{key:a},f.default.createElement("div",{className:g.default.name},a),f.default.createElement("div",null,n))}))))}},{key:"render",value:function(){var e=this.props,a=e.loading,r=e.emptyText;return f.default.createElement(v.default,{className:(0,p.default)(g.default.main,(0,l.default)({},g.default.expanded,this.state.isExpand)),title:this.renderTitle(),operations:this.renderOperations(),empty:r||t("EMPTY_WRAPPER",{resource:t("ENVIRONMENT_VARIABLE")}),loading:a,onClick:this.handleExpand},this.renderContent())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.expand!==t.defaultExpand?{isExpand:e.expand,defaultExpand:e.expand}:null}}]),r}(f.default.Component);a.default=b,b.propTypes={className:d.default.string,detail:d.default.object,expand:d.default.bool,loading:d.default.bool},b.defaultProps={detail:{},expand:!1,loading:!0}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(10),r(36),r(20),r(98),r(9),r(4),r(18),r(143),r(30),r(11),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(10),r(36),r(20),r(98),r(29),r(9),r(4),r(18),r(43),r(143),r(251),r(30),r(252),r(195),r(11),r(40);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=l(r(801)),p=l(r(67)),m=l(r(3423));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,i.default)(r,e);var a=h(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.annotations,n=void 0===r?[]:r,l=e.hiddenKeys,u=void 0===l?[]:l,o=Object.keys(n).filter((function(e){return!u.some((function(t){return new RegExp(t).test(e)}))}));return(0,p.default)(o)?null:f.default.createElement(d.default,{className:a,title:t("ANNOTATION_PL")},f.default.createElement("ul",{className:m.default.values},o.map((function(e){return f.default.createElement("li",{key:e},f.default.createElement("span",{className:m.default.title},e),f.default.createElement("span",null,String(n[e])))}))))}}]),r}(f.Component);a.default=v},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(36),a(66),a(20),a(14),a(138),a(99),a(8),a(13),a(9),a(4),a(190),a(21),a(18),a(11),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(121),a(36),a(66),a(20),a(27),a(29),a(14),a(138),a(33),a(16),a(99),a(8),a(13),a(9),a(4),a(190),a(21),a(18),a(43),a(11),a(46),a(7),a(40);var n=r(a(50)),l=r(a(31)),u=r(a(97)),o=r(a(38));a(35);var i,c,s,f,d,p,m,h=r(a(39)),v=r(a(62)),g=r(a(25)),y=r(a(28)),E=r(a(74)),b=r(a(41)),O=r(a(42)),S=r(a(37)),C=r(a(45)),_=(r(a(63)),a(17)),k=a(56),R=a(803),N=r(a(68)),D=r(a(847));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,S.default)(e);if(t){var n=(0,S.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,O.default)(this,a)}}var I=["clusters_count","clusters_node_count","clusters_namespace_count","clusters_pod_count","clusters_deployment_count","clusters_statefulset_count","clusters_daemonset_count","clusters_job_count","clusters_cronjob_count","clusters_pvc_count","clusters_service_count","clusters_ingresses_count"],M=["clusters_alerts_critical_total","clusters_alerts_warning_total","clusters_alerts_error_total","clusters_alerts_total","clusters_alerts_firing_total","clusters_alerts_pending_total","clusters_alerts_info_total"],A=[{cpu:["clusters_cpu_usage","clusters_cpu_utilisation","clusters_pod_cpu_requests_total","clusters_pod_cpu_limits_total","cluster_namespace_quota_cpu_requests_hard_total","cluster_namespace_quota_cpu_limits_hard_total","clusters_cpu_total"]},{memory:["clusters_memory_usage_wo_cache","clusters_memory_utilisation","clusters_pod_memory_requests_total","clusters_pod_memory_limits_total","cluster_namespace_quota_memory_requests_hard_total","cluster_namespace_quota_memory_limits_hard_total","clusters_memory_total"]},{gpu:["clusters_gpu_usage","clusters_gpu_total","clusters_gpu_utilization"]},{gpu_memory:["clusters_gpu_memory_utilization","clusters_gpu_memory_usage","clusters_gpu_memory_total"]},{pod:["clusters_pod_count","clusters_pod_utilisation","clusters_pod_quota"]},{disk:["clusters_disk_size_usage","clusters_disk_size_utilisation","clusters_disk_size_capacity"]}],j=["clusters_kubesphere_clusterrole_total","clusters_kubesphere_user_total"],x=(i=function(e){(0,b.default)(S,e);var t,a,r,l,i,O=w(S);function S(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,g.default)(this,S),e=O.call(this,t),(0,v.default)(e,"baseResourcesSummary",c,(0,E.default)(e)),(0,v.default)(e,"monitorData",s,(0,E.default)(e)),(0,v.default)(e,"roleAndMember",f,(0,E.default)(e)),(0,v.default)(e,"alertData",d,(0,E.default)(e)),(0,v.default)(e,"PodData",p,(0,E.default)(e)),(0,v.default)(e,"clusters",m,(0,E.default)(e)),e.getApi=function(t){var a=t.namespace,r=t.workspace,n=t.component,l=t.container,u=t.nodeName,o=t.persistentvolumeclaim,i=t.pvc,c=t.pod,s=t.workload;return n?"".concat(e.apiVersion,"/component_metrics"):c?"".concat(e.apiVersion,"/pod_metrics"):l?"".concat(e.apiVersion,"/container_metrics"):u?"".concat(e.apiVersion,"/node_metrics"):o||i?"".concat(e.apiVersion,"/persistentvolumeclaim_metrics"):s?"".concat(e.apiVersion,"/workload_metrics"):a?"".concat(e.apiVersion,"/namespace_metrics"):r?"".concat(e.apiVersion,"/workspace_metrics"):globals.app.isMultiCluster&&e.clusters?"".concat(e.apiVersion,"/cluster_metrics"):e.apiVersion},Object.keys(t).forEach((function(a){(0,N.default)((0,E.default)(e),a,t[a])})),e}return(0,y.default)(S,[{key:"setClusters",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.clusters=Array.isArray(e)?e:[]}},{key:"getBaseResourcesSummary",value:(i=(0,h.default)(o.default.mark((function e(){var t,a,r,n,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.clusters.map((function(e){return e.name})).join("|"),a=I.join("|"),r=this.getApi({}),this.baseResourcesSummary.isLoading=!0,e.next=6,(0,k.to)(request.get(r,{resources_filter:t,metrics_filter:a}));case 6:return n=e.sent,l=this.getResult(n),u=(0,R.getLastMonitoringData)(l),this.baseResourcesSummary.isLoading=!1,this.baseResourcesSummary.data=u,e.abrupt("return",u);case 12:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"fetchAllMetricsData",value:(l=(0,h.default)(o.default.mark((function e(){var t,a,r,n=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],A.forEach((function(e){var a,r=null===(a=n.clusters.map((function(e){return e.name})))||void 0===a?void 0:a.join("|"),l=Object.values(e)[0].join("|"),u=n.getApi({});t.push((0,k.to)(request.get(u,{resources_filter:r,metrics_filter:l})))})),this.monitorData.isLoading=!0,e.next=5,Promise.all(t);case 5:return a=e.sent,r=a.map((function(e,t){var a=(0,R.getLastMonitoringData)(n.getResult(e)),r=A.map((function(e){return Object.keys(e)[0]})),l={};return Object.entries(a).forEach((function(e){var t,a,r=(0,u.default)(e,2),n=r[0],o=r[1];l[n]=null!==(t=null==o||null===(a=o.value)||void 0===a?void 0:a[1])&&void 0!==t?t:0})),{resource:r[t],data:l}})),this.monitorData={isLoading:!1,data:r},e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"fetchAlertData",value:(r=(0,h.default)(o.default.mark((function e(t){var a,r,n,l,u,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign({},t),r=this.clusters.map((function(e){return e.name})),this.alertData.isLoading=!0,n=this.getParams(P({metrics:M,resources:r},a)),l=this.getApi({}),e.next=7,(0,k.to)(request.get(l,n));case 7:u=e.sent,i=this.getResult(u),this.alertData={isLoading:!1,data:i};case 10:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchPodData",value:(a=(0,h.default)(o.default.mark((function e(t){var a,r,l,u,i,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.fillZero,r=(0,n.default)(t,["fillZero"]),l=this.getParams(r),u=this.getApi({}),this.PodData.isLoading=!0,e.next=6,(0,k.to)(request.get(u,l));case 6:i=e.sent,c=this.getResult(i),this.PodData={isLoading:!1,data:a?(0,R.fillEmptyMetrics)(l,c):c};case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchRoleAndMember",value:(t=(0,h.default)(o.default.mark((function e(){var t,a,r,n,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.clusters.map((function(e){return e.name})).join("|"),a=j.join("|"),r=this.getApi({}),this.roleAndMember.isLoading=!1,e.next=6,(0,k.to)(request.get(r,{resources_filter:t,metrics_filter:a}));case 6:n=e.sent,l=this.getResult(n),u=(0,R.getLastMonitoringData)(l),this.roleAndMember.isLoading=!1,this.roleAndMember.data=u;case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"kapis/monitoring.kubesphere.io/v1beta1"}}]),S}(D.default),c=(0,C.default)(i.prototype,"baseResourcesSummary",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!0,data:{}}}}),s=(0,C.default)(i.prototype,"monitorData",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),f=(0,C.default)(i.prototype,"roleAndMember",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],isLoading:!0}}}),d=(0,C.default)(i.prototype,"alertData",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),p=(0,C.default)(i.prototype,"PodData",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{isLoading:!1,data:[]}}}),m=(0,C.default)(i.prototype,"clusters",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,C.default)(i.prototype,"setClusters",[_.action],Object.getOwnPropertyDescriptor(i.prototype,"setClusters"),i.prototype),(0,C.default)(i.prototype,"getBaseResourcesSummary",[_.action],Object.getOwnPropertyDescriptor(i.prototype,"getBaseResourcesSummary"),i.prototype),(0,C.default)(i.prototype,"fetchAllMetricsData",[_.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchAllMetricsData"),i.prototype),(0,C.default)(i.prototype,"fetchAlertData",[_.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchAlertData"),i.prototype),(0,C.default)(i.prototype,"fetchPodData",[_.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchPodData"),i.prototype),(0,C.default)(i.prototype,"fetchRoleAndMember",[_.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchRoleAndMember"),i.prototype),i);t.default=x},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(66),r(20),r(14),r(4),r(18),r(30),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(66),r(20),r(29),r(14),r(4),r(18),r(43),r(30),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(437),m=n(r(1)),h=n(r(5)),v=n(r(67)),g=n(r(163)),y=r(189),E=n(r(863)),b=r(461),O=r(439),S=n(r(3425)),C=n(r(1545));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var k=function(e){(0,c.default)(r,e);var a=_(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).state={showContainerLog:!1},e.getLink=function(t){return"".concat(e.props.prefix,"/containers/").concat(t)},e.handleOpenTerminal=function(){var t=e.props,a=t.cluster,r=t.podName,n=e.props.detail,l=n.namespace,u=n.name,o="/terminal/cluster/".concat(a,"/projects/").concat(l,"/pods/").concat(r,"/containers/").concat(u);window.open(o,"Connecting ".concat(u),(0,b.createCenterWindowOpt)({width:1200,height:800,scrollbars:1,resizable:1}))},e.showContainerLog=function(){e.setState({showContainerLog:!0})},e.hideContainerLog=function(){e.setState({showContainerLog:!1})},e.renderLife=function(){var a=e.props.detail.lifecycle,r=a.preStop,n=a.postStart;return a?d.default.createElement("div",{className:C.default.probe},e.renderProbeRecord({probe:n,title:t("POSTSTART_ACTION"),tagType:"primary",noTime:!0}),e.renderProbeRecord({probe:r,title:t("PRESTOP_ACTION"),tagType:"warning",noTime:!0})):null},e}return(0,i.default)(r,[{key:"renderProbe",value:function(){var e=this.props.detail,a=e.livenessProbe,r=e.readinessProbe,n=e.startupProbe;return a||r||n?d.default.createElement("div",{className:C.default.probe},this.renderProbeRecord({probe:r,title:t("READINESS_PROBE"),tagType:"primary"}),this.renderProbeRecord({probe:a,title:t("LIVENESS_PROBE"),tagType:"warning"}),this.renderProbeRecord({probe:n,title:t("STARTUP_PROBE"),tagType:"info"})):null}},{key:"renderProbeRecord",value:function(e){var a=e.probe,r=e.title,n=e.tagType,l=e.noTime,u=void 0!==l&&l;if(!a)return null;var o,i,c=a.initialDelaySeconds||0,s=a.timeoutSeconds||0;if("httpGet"in a){var f=a.httpGet,p=f.path,m=f.port,h=f.scheme;o="HTTP_REQUEST",i="GET ".concat(p," on port ").concat(m," (").concat(h,")")}else if("tcpSocket"in a)o="TCP_PORT",i="Open socket on port ".concat(a.tcpSocket.port," (TCP)");else{var v=a.exec.command;o="COMMAND",i=(void 0===v?[]:v).join(" ")}return d.default.createElement("div",{className:C.default.probeItem},d.default.createElement("div",null,d.default.createElement(y.Tag,{type:n},r),d.default.createElement("span",{className:C.default.probeType},t(o)),d.default.createElement("br",null),!u&&d.default.createElement("span",{className:C.default.probeTime},t("INITIAL_DELAY_TIMEOUT_VALUE",{delay:c,timeout:s}))),d.default.createElement("p",null,i))}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.detail,n=e.isCreating,o=e.prefix,i=e.podName,c=e.cluster,s=e.isInit,f=e.onContainerClick,m=e.hideLink,b=void 0!==m&&m,_=(0,u.default)(e,["className","detail","isCreating","prefix","podName","cluster","isInit","onContainerClick","hideLink"]),k=this.state.showContainerLog,R=this.getLink(r.name),N=(0,O.getContainerStatus)(r),D=N.status,T=N.reason,P=r.livenessProbe||r.readinessProbe||r.startupProbe,w=r.lifecycle&&!(0,v.default)(r.lifecycle);return d.default.createElement("div",(0,l.default)({className:(0,h.default)(C.default.item,a)},_),d.default.createElement("div",{className:C.default.icon},d.default.createElement(y.Icon,{name:"docker",size:40}),!(0,g.default)(r.ready)&&d.default.createElement(E.default,{className:C.default.indicator,type:D,flicker:!0})),d.default.createElement("div",{className:(0,h.default)(C.default.text,C.default.name)},d.default.createElement("div",null,o&&"terminated"!==D&&!b?d.default.createElement(p.Link,{to:R},d.default.createElement("span",{onClick:f},r.name)):d.default.createElement("span",{className:C.default.noLink},r.name),o&&!n&&d.default.createElement(y.Tooltip,{content:t("CONTAINER_LOGS")},d.default.createElement(y.Icon,{className:"margin-l8",name:"log",size:16,clickable:!0,onClick:this.showContainerLog})),"running"===D&&o&&this.canViewTerminal&&d.default.createElement(y.Tooltip,{content:t("TERMINAL")},d.default.createElement(y.Icon,{className:"margin-l8",name:"terminal",size:16,clickable:!0,onClick:this.handleOpenTerminal})),s&&d.default.createElement(y.Tag,{className:"margin-l8",type:"warning"},t("INIT_CONTAINER")),P&&d.default.createElement(y.Tooltip,{content:this.renderProbe()},d.default.createElement(y.Tag,{className:"margin-l8"},t("PROBE_PL"))),w&&d.default.createElement(y.Tooltip,{content:this.renderLife()},d.default.createElement(y.Tag,{color:"#55BC8A",className:"margin-l8"},t("HOOK_PL")))),T?d.default.createElement("p",null,t(T)):d.default.createElement("p",null,t("IMAGE_VALUE",{value:r.image}))),d.default.createElement("div",{className:C.default.text},d.default.createElement("div",null,(0,g.default)(D)?"-":t(D.toUpperCase())),d.default.createElement("p",null,t("STATUS"))),d.default.createElement("div",{className:C.default.text},d.default.createElement("div",null,(0,g.default)(r.restartCount)?"-":r.restartCount),d.default.createElement("p",null,(0,g.default)(r.restartCount)||1!==r.restartCount?t("RESTART_PL"):t("RESTART"))),d.default.createElement("div",{className:C.default.text},d.default.createElement("div",null,(0,v.default)(r.ports)?"-":r.ports.map((function(e){return"".concat(e.containerPort,"/").concat(e.protocol)})).join(", ")),d.default.createElement("p",null,(0,v.default)(r.ports)||1!==r.ports.length?t("PORT_PL"):t("PORT"))),d.default.createElement(S.default,{visible:k,podName:i,container:r,cluster:c,onCancel:this.hideContainerLog}))}},{key:"canViewTerminal",get:function(){var e=this.props,t=e.cluster,a=e.hideterminal,r=this.props.detail.namespace;return!a&&globals.app.hasPermission({module:"pods",project:r,action:"edit",cluster:t})}}]),r}(d.default.Component);a.default=k,k.propTypes={className:m.default.string,prefix:m.default.string,detail:m.default.object,podName:m.default.string,isCreating:m.default.bool},k.defaultProps={prefix:"",detail:{},isCreating:!1}},function(e,t,a){e.exports={wrapper:"QpFfgb7JJ7HRNLfqWCXji",item:"_2Ls9YLPpw8lkrD3lNui_GK",icon:"_38CQvuXRNm-XbTdpOmjFCM",indicator:"_3O2Bu_ul1hd0RWHSc0uyYY",text:"_2sD8JpjsJvGHwUybEZWCex",name:"_1Sivzw33_5Gsqakv7IJdNz",probeItem:"_1KcpnN-7kCl_NT5wZuH3zy",probeType:"si5bO7SNMAMGa-Y28HKrr",probeTime:"_2ZEFKQF67O0DnJj3L3PcxT",noLink:"_3TsdKO2ShBqmPwtineCIMt"}},function(e,t,a){e.exports={main:"_1mP4Qf6JdvK0Zws9GzHH_m",header:"_38YMa1McIH2a3XFjNFm0Qv",search:"_2iBh5XNyrUQs_npRhRtu-N",actions:"SOTGp48SZ36hInD3GvDqW",body:"_1E1bcvmD960HViEUNPWIj-",footer:"_2wm_WVdZeY_H8Dthsg7qEZ",item:"DfokFLfXy9QDbluhfn4mC",expanded:"_1Upgy-BC2S8CbTT7SwXJsD",arrow:"_2oh1nTH5L2f2z2s_G_Eu6J",itemMain:"_37pJP5bk2g9FqBysuK4mh5",content:"_1QXeIqcQeKMp8jjbDJUQ9R",text:"_1eubB8Mc7lqOuhCmWiSLto",monitors:"XtUDQAWv16NYrbCMYx11z",itemExtra:"_2qw5HNgGsizb6Yt_fColhG",icon:"_2khy6lzSeTcSnB9QLHOBd3",indicator:"_1nnELAL1b4Y_7-IdgMTmJG",statusTip:"_1IQ9UXag7Oj8C5vl685TuJ",charts:"JZvd7sINr_-hgLfx-_Qm3",podip:"_2yAbsvJ0HwjDLmoJoLfek2",ipTip:"_3FpDrLOumpuGj3VMwTeY9-",containers:"_2Vbw0pvM32OD13r9WIDwjd",loading:"_2_wICcLc7ldhJDkDX3UntK",empty:"_26YNgZC9m7cd39OC8YZlxM",cluster:"_1DOCSy9WSCVCd5lDQ942Uu"}},function(e,a,r){"use strict";r(16);var n=r(19);r(14),r(24),r(4),r(18),r(11),r(110),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37));r(32),r(29),r(14),r(24),r(4),r(18),r(43),r(11),r(110);var s=n(r(0)),f=n(r(1)),d=n(r(5)),p=n(r(1051)),m=r(820),h=n(r(3430)),v=n(r(1548));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){return Number(e||0)},E=function(e){(0,o.default)(r,e);var a=g(r);function r(e){var t;(0,l.default)(this,r),(t=a.call(this,e)).showConfirm=function(){t.setState({showConfirm:!0},(function(){t.startTimer()}))},t.hideConfirm=function(){t.setState({showConfirm:!1},(function(){t.stopTimer()}))},t.handleCancel=function(){t.setState({desire:t.props.desire},(function(){t.hideConfirm()}))},t.handleConfirm=function(){t.props.onScale(t.state.desire),t.hideConfirm()},t.handleScale=function(e){e>=0&&t.setState({desire:e,seconds:5},(function(){t.showConfirm()}))},t.updateTime=function(){var e=t.state.seconds;t.timer=setTimeout((function(){e>0?t.setState({seconds:e-1},(function(){t.updateTime()})):(t.handleConfirm(),t.handleCancel())}),1e3)},t.startTimer=function(){t.timer&&t.stopTimer(),t.updateTime()},t.stopTimer=function(){clearTimeout(t.timer),t.timer=null};var n=y(e.desire);return t.state={prevPropDesire:n,desire:n,seconds:5,showConfirm:!1},t}return(0,u.default)(r,[{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"renderScaleOperation",value:function(){if(!this.props.onScale)return null;var e=this.state.desire;return s.default.createElement("div",{className:v.default.scale},s.default.createElement(h.default,{value:e,onChange:this.handleScale}))}},{key:"render",value:function(){var e=this.props,a=e.theme,r=e.className,n=e.name,l=e.current,u=this.state,o=u.showConfirm,i=u.seconds,c=u.desire,f=t(n),h=t("REPLICAS_CURRENT"),g=t("REPLICAS_DESIRED");return s.default.createElement("div",{className:(0,d.default)(v.default.card,r,v.default[a])},s.default.createElement("img",{className:v.default.cardImg,src:"/extensions-static/ks-console-embed/dist/v3dist/assets/banner-icon-1.svg"}),s.default.createElement("div",{className:v.default.chart},s.default.createElement(m.SimpleCircle,{theme:a,title:f,legend:[h,g],value:l,total:c})),s.default.createElement("div",{className:v.default.status},s.default.createElement("div",{className:v.default.title},f),s.default.createElement("div",{className:v.default.detail},s.default.createElement("p",null,s.default.createElement("label",null,g,":")," ",c),s.default.createElement("p",null,s.default.createElement("label",null,h,":")," ",l))),this.renderScaleOperation(),s.default.createElement(p.default,{visible:o,width:400,title:t("ADJUST_REPLICAS"),content:t.html("REPLICAS_SCALE_NOTIFY_CONTENT",{num:c}),cancelText:t("REPLICAS_SCALE_NOTIFY_CANCEL"),confirmText:t("REPLICAS_SCALE_NOTIFY_CONFIRM",{seconds:i}),onCancel:this.handleCancel,onConfirm:this.handleConfirm}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.desire!==t.prevPropDesire){var a=y(e.desire);return{prevPropDesire:a,desire:a}}return null}}]),r}(s.default.Component);a.default=E,E.propTypes={theme:f.default.string,className:f.default.string,name:f.default.string,current:f.default.number,desire:f.default.number,onScale:f.default.func},E.defaultProps={theme:"dark",name:"REPLICA_PL",current:0,desire:0,onScale:null}},function(e,t,a){e.exports={card:"_1c8ZZJMInbKhNSrY7LtWOz",cardImg:"_2qWxZcMVoJcyTOmp888Qza",dark:"TGr9GCblFo2j_1lfxKdqy",status:"_3XPNv-eRTc_sRrHrDOGDN_",title:"_1Pjqebw9E-Ge5JTqdWweF9",detail:"_1XLvvOKXnflr9NmFv3HM_S",scale:"_1d_O-hnlw9YGlAqNVrW-Sl",control:"nB11JF3vqmggYgl2OHs6s",add:"_2CqxRZ0d1OYdLPjbX03KEK",substract:"_2oexUYxDtB2oVt85gxb8yu"}},function(e,t,a){e.exports={logContainer:"_2bPpJA94l-RyZOyRbjENrM",title:"_1e1_E7xie5w_hppm1LIgSZ",builderSelector:"_2qowcESuT9kmoK7enz5NOI",icon:"_3swHDfiS90QRAWqxRgv4Xw",noneLogDesc:"_2USfiSziwn36bQFEDdxt19",running:"_1QDO-cklO54JfNi3pfh5U8",rotate:"_1Ut0AdFDAAK29Q2sVx4kSM",failed:"_2PhKayJM_cv-avOySIoKM-",unknow:"_1U7K-MS0M-X-097gFQDhAn",successful:"_3Fqsco2IMj-fabpd1-oASz"}},,,function(e,a,r){"use strict";r(12),r(10),r(6),r(27),r(33),r(16),r(8),r(13),r(9),r(7);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(317)),o=n(r(50)),i=n(r(25)),c=n(r(28)),s=n(r(74)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=n(r(1)),v=r(975),g=r(189),y=n(r(798)),E=n(r(26)),b=r(803),O=n(r(3453));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var k=function(e){(0,f.default)(r,e);var a=_(r);function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleChange=function(t){var a=(0,E.default)(e.props,"updateMonitorOptions",!1);e.params=t,a&&e.props.updateMonitorOptions(t);var r=!t.start&&!t.end&&e.props.enableAutoRefresh;e.setState({enableAutoRefresh:r,autoRefresh:!1},(function(){(0,b.stopAutoRefresh)((0,s.default)(e)),e.fetchData()}))},e}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){this.props.visible&&this.props.visible!==e.visible&&(this.initParams(this.props),this.props.onFetch(this.params))}},{key:"componentDidMount",value:function(){this.props.visible&&this.props.onFetch(this.params)}},{key:"init",value:function(){this.initParams(this.props)}},{key:"renderCustomActions",value:function(){var e=this.props.onCancel;return m.default.createElement(g.Button,{className:O.default.button,onClick:e},m.default.createElement(g.Icon,{type:"light",name:"close",size:20}))}},{key:"renderHeader",value:function(){var e=this.props,a=e.icon,r=e.title;return m.default.createElement("div",{className:O.default.header},m.default.createElement("div",{className:O.default.title},m.default.createElement(g.Icon,{name:a||"monitor",size:16}),r||t("MONITORING")),this.renderOperations())}},{key:"renderContent",value:function(){var e=v.Controller.prototype.renderContent.call(this);return m.default.createElement("div",{className:O.default.content},e)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=(e.onFetch,(0,o.default)(e,["loading","onFetch"]));return m.default.createElement(y.default,(0,u.default)({width:1162,bodyClassName:O.default.body,icon:"monitor",onOk:this.handleSubmit,hideHeader:!0,hideFooter:!0,fullScreen:!0},a),this.renderHeader(),m.default.createElement(g.Loading,{spinning:t},this.renderContent()))}}]),r}(v.Controller);a.default=k,k.propTypes=C(C({},v.Controller.propTypes),{},{onCancel:h.default.func}),k.defaultProps=C(C({},v.Controller.defaultProps),{},{times:100,step:"5m",onCancel:function(){}})},function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(6),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(6),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(69),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(38));r(35);var i,c=n(r(39)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(0)),v=r(17),g=r(243),y=n(r(67)),E=r(189),b=r(56),O=r(804),S=n(r(319)),C=n(r(834)),_=n(r(3457));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var D=(0,g.inject)("rootStore")(i=(0,g.observer)(i=(0,O.trigger)(i=function(e){(0,d.default)(r,e);var a=N(r);function r(){var e;(0,s.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).store=new S.default(e.module),e.fetchData=(0,c.default)(o.default.mark((function t(){var a;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params,t.next=3,e.store.fetchDetail(a);case 3:case"end":return t.stop()}}),t)}))),e.getOperations=function(){var a,r,n=e.props.match.params.cluster,l=null===(a=globals.clusterConfig)||void 0===a||null===(r=a[n])||void 0===r?void 0:r.k8sVersion;return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,v.toJS)(e.store.detail),success:e.fetchData})}},{key:"rollBack",icon:"timed-task",text:t("ROLL_BACK"),action:"edit",onClick:function(){return e.trigger("workload.revision.rollback",{detail:e.store.detail,success:e.fetchData})}},{key:"editService",show:e.store.detail.spec.serviceName,icon:"network-router",text:t("EDIT_SERVICE"),action:"edit",onClick:function(){return e.trigger("workload.service.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"editConfigTemplate",icon:"storage",text:t("EDIT_SETTINGS"),action:"edit",onClick:function(){return e.trigger("workload.template.edit",R(R({detail:e.store.detail},e.props.match.params),{},{success:e.fetchData,rootStore:e.props.rootStore}))}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"redeploy",icon:"restart",text:t("RECREATE"),action:"edit",onClick:function(){return e.trigger("workload.redeploy",{module:e.module,detail:e.store.detail,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(){return e.trigger("workload.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)},k8sVersion:l})}}]},e.getAttrs=function(){var a=(0,v.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,y.default)(a))return[{name:t("CLUSTER"),value:(0,b.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,b.showNameAndAlias)(l,"project")},{name:t("APP"),value:a.app},{name:t("CREATION_TIME_TCAP"),value:(0,b.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]},e}return(0,f.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return h.default.createElement(E.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,b.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("STATEFULSET_PL"),url:this.listUrl}]};return h.default.createElement(C.default,(0,l.default)({stores:e},a,{routes:(0,_.default)(this.props.match.path),watch:!0}))}},{key:"module",get:function(){return"statefulsets"}},{key:"name",get:function(){return"STATEFULSET"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster,r=e.namespace;return t?"/".concat(t,"/clusters/").concat(a,"/projects/").concat(r,"/").concat(this.module):"/clusters/".concat(a,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),r}(h.default.Component))||i)||i)||i;a.default=D},function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(6),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(6),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=r(243),h=n(r(67)),v=r(189),g=r(56),y=r(804),E=n(r(319)),b=n(r(834)),O=n(r(3458));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var k=function(e){(0,c.default)(r,e);var a=_(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).store=new E.default("daemonsets"),e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:e.store.detail,success:e.fetchData})}},{key:"rollBack",icon:"timed-task",text:t("ROLL_BACK"),action:"edit",onClick:function(){return e.trigger("workload.revision.rollback",{detail:e.store.detail,success:e.fetchData})}},{key:"editConfigTemplate",icon:"storage",text:t("EDIT_SETTINGS"),action:"edit",onClick:function(){return e.trigger("workload.template.edit",C(C({detail:e.store.detail},e.props.match.params),{},{success:e.fetchData,rootStore:e.props.rootStore}))}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"redeploy",icon:"restart",text:t("RECREATE"),action:"edit",onClick:function(){return e.trigger("workload.redeploy",{module:e.module,detail:e.store.detail,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(){return e.trigger("workload.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var a=(0,p.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,h.default)(a))return[{name:t("CLUSTER"),value:(0,g.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,g.showNameAndAlias)(l,"project")},{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]},e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return d.default.createElement(v.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,g.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("DAEMONSET_PL"),url:this.listUrl}]};return d.default.createElement(b.default,(0,l.default)({stores:e},a,{routes:(0,O.default)(this.props.match.path),watch:!0}))}},{key:"module",get:function(){return"daemonsets"}},{key:"name",get:function(){return"DAEMONSET"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster,r=e.namespace;return t?"/".concat(t,"/clusters/").concat(a,"/projects/").concat(r,"/").concat(this.module):"/clusters/".concat(a,"/").concat(this.module)}}]),r}(d.default.Component),R=(0,m.inject)("rootStore")((0,m.observer)((0,y.trigger)(k)));a.default=R;var N=k;a.Component=N},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(17),p=r(243),m=r(189),h=r(56),v=r(439),g=r(804),y=n(r(319)),E=n(r(1556)),b=n(r(1557)),O=n(r(834)),S=n(r(3460));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var _=function(e){(0,i.default)(r,e);var a=C(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).store=new y.default(e.module),e.resourceStore=new b.default(e.module),e.recordStore=new E.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,d.toJS)(e.store.detail),success:e.fetchData})}},{key:"rerun",icon:"refresh",text:t("RERUN"),action:"edit",onClick:e.handleRerun},{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,readOnly:!0})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.handleRerun=function(){var t=e.store.detail;e.store.rerun(t).then((function(){e.fetchData()}))},e.getAttrs=function(){var a=e.props.match.params,r=a.cluster,n=a.namespace,l=(0,d.toJS)(e.store.detail),u=l.spec,o=void 0===u?{}:u,i=(0,v.getJobStatus)(l);return[{name:t("CLUSTER"),value:(0,h.showNameAndAlias)(r,"cluster")},{name:t("PROJECT"),value:(0,h.showNameAndAlias)(n,"project")},{name:t("STATUS"),value:t(i)},{name:t("MAXIMUM_RETRIES"),value:o.backoffLimit},{name:t("COMPLETE_PODS"),value:o.completions},{name:t("PARALLEL_PODS"),value:o.parallelism},{name:t("MAXIMUM_DURATION"),value:o.activeDeadlineSeconds},{name:t("CREATION_TIME_TCAP"),value:(0,h.getLocalTime)(l.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:l.creator}]},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store,resourceStore:this.resourceStore,recordStore:this.recordStore};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(m.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,h.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("".concat(this.name,"_PL")),url:this.listUrl}]};return f.default.createElement(O.default,(0,l.default)({stores:e},a,{routes:(0,S.default)(this.props.match.path)}))}},{key:"module",get:function(){return"jobs"}},{key:"name",get:function(){return"JOB"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster;return t?"/workspaces/".concat(t,"/jobs"):"/clusters/".concat(a,"/").concat(this.module)}}]),r}(f.default.Component),k=(0,p.inject)("rootStore")((0,p.observer)((0,g.trigger)(_)));a.default=k;var R=_;a.Component=R},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(99),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(14),a(33),a(16),a(99),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(97)),u=r(a(38)),o=r(a(50));a(35);var i,c,s=r(a(39)),f=r(a(62)),d=r(a(25)),p=r(a(28)),m=r(a(74)),h=r(a(41)),v=r(a(42)),g=r(a(37)),y=r(a(45)),E=(r(a(63)),a(17)),b=r(a(67)),O=r(a(26)),S=a(56);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,g.default)(e);if(t){var n=(0,g.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,v.default)(this,a)}}var R=(i=function(e){(0,h.default)(n,e);var t,a,r=k(n);function n(){var e;return(0,d.default)(this,n),e=r.call(this),(0,f.default)(e,"excute",c,(0,m.default)(e)),e.module="jobs",e}return(0,p.default)(n,[{key:"fetchListByK8s",value:(a=(0,s.default)(u.default.mark((function e(t){var a,r,n,l,i,c;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,n=t.selector,l=(0,o.default)(t,["cluster","namespace","selector"]),this.list.isLoading=!0,(0,b.default)(n)||(l.labelSelector=(0,S.joinSelector)(n)),e.next=5,request.get("apis/batch/v1".concat(this.getPath({cluster:a,namespace:r}),"/").concat(this.module),l);case 5:return i=e.sent,c=i.items||[],this.list.update({data:c.map(this.mapper),total:c.length,isLoading:!1,selectedRowKeys:[]}),e.abrupt("return",c);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchExcuteRecords",value:(t=(0,s.default)(u.default.mark((function e(t){var a,r,n,o;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.excute.isLoading=!0,e.next=3,request.get("apis/batch/v1".concat(this.getPath(t),"/").concat(this.module,"/").concat(t.name));case 3:a=e.sent,r=this.mapper(a),n=[];try{o=JSON.parse((0,O.default)(r,"annotations.revisions",{})),n=Object.entries(o).map((function(e){var t=(0,l.default)(e,2),a=t[0];return _(_({},t[1]),{},{id:a})}))}catch(e){}this.excute={data:n,total:n.length||0,isLoading:!1};case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"apis/kubesphere.io/v1alpha1"}}]),n}(r(a(49)).default),c=(0,y.default)(i.prototype,"excute",[E.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{data:[],page:1,limit:10,total:0,isLoading:!0}}}),(0,y.default)(i.prototype,"fetchListByK8s",[E.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchListByK8s"),i.prototype),(0,y.default)(i.prototype,"fetchExcuteRecords",[E.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchExcuteRecords"),i.prototype),i);t.default=R},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(14),a(8),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(3),a(14),a(8),a(4),a(21);var n=r(a(38));a(35);var l,u,o,i,c=r(a(39)),s=r(a(62)),f=r(a(25)),d=r(a(28)),p=r(a(45)),m=(r(a(63)),a(17)),h=a(56),v=r(a(92)),g=(l=function(){function e(){var t=this;(0,f.default)(this,e),(0,s.default)(this,"isExistService",u,this),(0,s.default)(this,"service",o,this),(0,s.default)(this,"isLoading",i,this),this.getServiceUrl=function(e){var a=e.name,r=e.cluster,n=e.namespace;return"api/v".concat(t.getPath({cluster:r,namespace:n}),"/services/").concat(a)}}var t,a;return(0,d.default)(e,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace,r="";return t&&(r+="/klusters/".concat(t)),a&&(r+="/namespaces/".concat(a)),r}},{key:"checkService",value:(a=(0,c.default)(n.default.mark((function e(t){var a,r,l,u;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.name,r=t.cluster,l=t.namespace,a&&l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,request.get(this.getServiceUrl({name:a,cluster:r,namespace:l}),{},{headers:{"x-check-exist":!0}});case 5:u=e.sent,this.isExistService=u.exist;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"fetchService",value:(t=(0,c.default)(n.default.mark((function e(t){var a,r,l,u;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,r=t.cluster,l=t.namespace,this.isLoading=!0,e.next=4,(0,h.to)(request.get(this.getServiceUrl({name:a,cluster:r,namespace:l})));case 4:u=e.sent,this.service=v.default.services(u),this.isLoading=!1;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),u=(0,p.default)(l.prototype,"isExistService",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=(0,p.default)(l.prototype,"service",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=(0,p.default)(l.prototype,"isLoading",[m.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),(0,p.default)(l.prototype,"checkService",[m.action],Object.getOwnPropertyDescriptor(l.prototype,"checkService"),l.prototype),(0,p.default)(l.prototype,"fetchService",[m.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchService"),l.prototype),l);t.default=g},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(27),r(29),r(14),r(4),r(21),r(18),r(43),r(30),r(11),r(69);var l=n(r(317)),u=n(r(38));r(35);var o=n(r(39)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=r(17),h=r(243),v=n(r(26)),g=n(r(67)),y=r(189),E=r(56),b=r(439),O=r(804),S=n(r(319)),C=n(r(834)),_=n(r(3464));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var R=function(e){(0,s.default)(f,e);var a,r,n=k(f);function f(){var e;(0,i.default)(this,f);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=n.call.apply(n,[this].concat(r))).state={k8sVersion:""},e.store=new S.default(e.module),e.fetchData=function(){e.store.fetchDetail(e.props.match.params,e.state.k8sVersion)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,m.toJS)(e.store.detail),success:e.fetchData,k8sVersion:e.state.k8sVersion})}},{key:"start",icon:"start",text:t("START"),action:"edit",onClick:function(){return e.handleSwitch(!0)},show:e.store.detail.suspend},{key:"pause",icon:"stop",text:t("PAUSE"),action:"edit",onClick:function(){return e.handleSwitch(!1)},show:!e.store.detail.suspend},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData,k8sVersion:e.state.k8sVersion})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)},k8sVersion:e.state.k8sVersion})}}]},e.handleSwitch=function(t){e.store.switch(e.store.detail,t,e.state.k8sVersion).then((function(){e.fetchData()}))},e.getAttrs=function(){var a=e.store.detail,r=a.spec,n=void 0===r?{}:r,l=(0,b.getCronJobStatus)(a),u=e.props.match.params,o=u.cluster,i=u.namespace;if(!(0,g.default)(a))return[{name:t("CLUSTER"),value:(0,E.showNameAndAlias)(o,"cluster")},{name:t("PROJECT"),value:(0,E.showNameAndAlias)(i,"project")},{name:t("STATUS"),value:t(l)},{name:t("SCHEDULE"),value:n.schedule},{name:t("MAXIMUM_DELAY"),value:n.startingDeadlineSeconds},{name:t("SUCCESSFUL_JOBS_RETAINED"),value:n.successfulJobsHistoryLimit},{name:t("FAILED_JOBS_RETAINED"),value:n.failedJobsHistoryLimit},{name:t("CONCURRENCY_POLICY"),value:"Allow"===n.concurrencyPolicy?t("RUN_JOBS_CONCURRENTLY"):"Forbid"===n.concurrencyPolicy?t("SKIP_NEW_JOB"):t("SKIP_OLD_JOB")},{name:t("CREATION_TIME_TCAP"),value:(0,E.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]},e}return(0,c.default)(f,[{key:"fetchK8sVersion",value:(r=(0,o.default)(u.default.mark((function e(t){var a,r,n;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="kapis/version",globals.ksConfig.multicluster&&(a="kapis/clusters/".concat(t,"/version")),e.next=4,request.get(a);case 4:r=e.sent,n=(0,v.default)(r,"kubernetes.gitVersion"),this.setState({k8sVersion:n});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:(a=(0,o.default)(u.default.mark((function e(){var t;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchK8sVersion(null===(t=globals)||void 0===t?void 0:t.currentCluster);case 2:return e.next=4,this.fetchData();case 4:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return p.default.createElement(y.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,E.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("".concat(this.name,"_PL")),url:this.listUrl}]};return p.default.createElement(C.default,(0,l.default)({stores:e},a,{routes:(0,_.default)(this.props.match.path)}))}},{key:"module",get:function(){return"cronjobs"}},{key:"name",get:function(){return"CRONJOB"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster;return t?"/workspaces/".concat(t,"/cronjobs"):"/clusters/".concat(a,"/").concat(this.module)}}]),f}(p.default.Component),N=(0,h.inject)("rootStore")((0,h.observer)((0,O.trigger)(R)));a.default=N;var D=R;a.Component=D},function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(6),r(66),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(6),r(66),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=n(r(26)),h=n(r(67)),v=r(189),g=r(243),y=r(56),E=r(804),b=r(61),O=n(r(325)),S=n(r(1157)),C=n(r(834)),_=n(r(3467));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var D=function(e){(0,c.default)(r,e);var a=N(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).store=new O.default,e.serviceMonitorStore=new S.default,e.fetchData=function(){var t=e.props.match.params;e.store.fetchDetail(t),e.store.fetchEndpoints(t)},e.fetchServiceMonitors=function(){var t=e.store.detail,a=t.cluster,r=t.namespace,n=t.labels;!(0,h.default)(n)&&globals.app.hasClusterModule(a,"whizard-monitoring")&&e.serviceMonitorStore.fetchListByK8s({cluster:a,namespace:r,labelSelector:(0,y.joinSelector)(n)})},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:e.store.detail,success:e.fetchData})}},{key:"editService",icon:"network-router",text:t("EDIT_SERVICE"),action:"edit",onClick:function(){return e.trigger("service.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"editGateway",icon:"ip",text:t("EDIT_EXTERNAL_ACCESS"),action:"edit",show:e.store.detail.type===b.SERVICE_TYPES.VirtualIP,onClick:function(){return e.trigger("service.gateway.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"serviceMonitor",icon:"linechart",text:t("EDIT_MONITORING_EXPORTER"),action:"edit",show:globals.app.hasClusterModule(e.props.match.params.cluster,"whizard-monitoring"),onClick:function(){return e.trigger("service.monitor.edit",R(R({},e.props.match.params),{},{detail:e.store.detail,success:e.fetchServiceMonitors}))}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",onClick:function(){return e.trigger("service.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var a=(0,p.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,h.default)(a)){var u;"ExternalName"===a.type?u=a.externalName:"LoadBalancer"===a.specType?u=a.loadBalancerIngress.join("\r\n"):a.externalIPs&&(u=a.externalIPs.join("\r\n"));var o=(0,m.default)(a,'annotations["kubesphere.io/serviceType"]',"");return[{name:t("CLUSTER"),value:(0,y.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,y.showNameAndAlias)(l,"project")},{name:t("TYPE"),value:d.default.createElement("span",null,o?t("SERVICE_TYPE_".concat(o.toUpperCase())):t("CUSTOM_SERVICE"),d.default.createElement("span",{className:"text-desc"}," (",t(a.type),")"))},{name:t("APP"),value:a.app},{name:t("VIRTUAL_IP_ADDRESS"),value:a.clusterIP},{name:t("EXTERNAL_IP_ADDRESS"),value:u},{name:t("SESSION_AFFINITY"),value:"None"===a.sessionAffinity?t("DISABLED"):t("ENABLED")},{name:t("SELECTOR"),value:(0,y.joinSelector)(a.selector)},{name:t("DNS"),value:e.renderDNS()},{name:t("ENDPOINT"),value:e.renderEndpoints()},{name:t("CREATION_TIME_TCAP"),value:(0,y.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]}},e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"renderDNS",value:function(){var e=this.store,t=e.detail,a=e.workloads,r=e.pods;return a.isLoading||"statefulsets"!==a.type||r.isLoading||0===r.data.length?"".concat(t.name,".").concat(t.namespace):r.data.map((function(e){return d.default.createElement("p",{key:e.uid},e.name,".",t.name,".",t.namespace)}))}},{key:"renderEndpoints",value:function(){if("Headless(ExternalName)"===this.store.detail.type)return null;var e=this.store.endpoints,t=e.isLoading,a=e.data;if(t)return d.default.createElement(v.Loading,{size:12});if(0===a.length)return"-";var r=[];return a.forEach((function(e){e.addresses.forEach((function(t){e.ports.forEach((function(e){t.ip&&e.port&&r.push("".concat(t.ip,":").concat(e.port))}))}))})),r.map((function(e,t){return d.default.createElement("p",{key:t},e)}))}},{key:"render",value:function(){var e={detailStore:this.store,serviceMonitorStore:this.serviceMonitorStore};if(this.store.isLoading&&!this.store.detail.name)return d.default.createElement(v.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,y.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("".concat(this.name,"_PL")),url:this.listUrl}]};return d.default.createElement(C.default,(0,l.default)({stores:e},a,{routes:(0,_.default)(this.props.match.path)}))}},{key:"module",get:function(){return"services"}},{key:"name",get:function(){return"SERVICE"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster;return t?"/workspaces/".concat(t,"/").concat(this.module):"/clusters/".concat(a,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),r}(d.default.Component),T=(0,g.inject)("rootStore")((0,g.observer)((0,E.trigger)(D)));a.default=T;var P=D;a.Component=P},function(e,t,a){e.exports={content:"_2ZwGdPpxAhTzLkxSVThCmZ",item:"_1ObwvAEb1U4k8T2gv7yvsU",empty:"KMh3PEpKo6Jg0Ucbgyq00"}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(66),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(66),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(17),p=r(243),m=n(r(67)),h=r(189),v=r(56),g=r(804),y=n(r(464)),E=n(r(834)),b=n(r(3473));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,i.default)(r,e);var a=O(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).store=new y.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,d.toJS)(e.store.detail),success:e.fetchData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:(0,d.toJS)(e.store.detail),success:e.fetchData})}},{key:"editRules",icon:"firewall",text:t("EDIT_ROUTING_RULES"),action:"edit",onClick:function(){return e.trigger("router.rules.edit",{namespace:e.props.match.params.namespace,detail:(0,d.toJS)(e.store.detail),success:e.fetchData})}},{key:"editAnnotations",icon:"firewall",text:t("EDIT_ANNOTATIONS"),action:"edit",onClick:function(){return e.trigger("router.annotations.edit",{detail:(0,d.toJS)(e.store.detail),success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var a=(0,d.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,m.default)(a))return[{name:t("CLUSTER"),value:(0,v.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,v.showNameAndAlias)(l,"project")},{name:t("APP"),value:a.app},{name:t("GATEWAY_ADDRESS_TCAP"),value:a.loadBalancerIngress.join("\r\n")},{name:t("CREATION_TIME_TCAP"),value:(0,v.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(h.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,v.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("".concat(this.name,"_PL")),url:this.listUrl}]};return f.default.createElement(E.default,(0,l.default)({stores:e},a,{routes:(0,b.default)(this.props.match.path)}))}},{key:"module",get:function(){return"ingresses"}},{key:"name",get:function(){return"ROUTE"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster;return t?"/workspaces/".concat(t,"/ingresses"):"/clusters/".concat(a,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),r}(f.default.Component),C=(0,p.inject)("rootStore")((0,p.observer)((0,g.trigger)(S)));a.default=C;var _=S;a.Component=_},function(e,t,a){e.exports={ports:"z2EiKOPaSXkGmpQpoE-H_",card:"_3Q35ZuHxAjDj669cnT2Khd",content:"_1YLdx1Yt-6gMzruD-S8Bot",title:"_1Smdy_zt_LHm1hSRt0Eef-",path:"xGHTWxqXrFVtpy7Zwr6vD",access:"YE_7nvMY_-UKJNrL4GkGh",tip:"Tjbb2yi464EU4fTNJAmIL"}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(10),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l,u=n(r(317)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=n(r(67)),h=r(189),v=r(243),g=r(56),y=r(804),E=r(61),b=n(r(447)),O=n(r(834)),S=n(r(3478));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var _=(0,v.inject)("rootStore")(l=(0,v.observer)(l=(0,y.trigger)(l=function(e){(0,c.default)(r,e);var a=C(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).store=new b.default,e.showSetDefault=function(e){return"kubernetes.io/dockerconfigjson"===e.type&&!e.isDefault},e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,p.toJS)(e.store.detail),success:e.fetchData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"editSecret",icon:"pen",text:t("EDIT_SETTINGS"),action:"edit",onClick:function(){return e.trigger("secret.edit",{detail:e.store.detail,success:e.fetchData})}},e.showSetDefault(e.store.detail)?{key:"default",icon:"star",text:t("SET_AS_DEFAULT"),action:"edit",onClick:function(){e.trigger("secret.default",{detail:e.store.detail,cluster:e.props.match.params.cluster,success:function(){e.fetchData()}})}}:void 0,{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}].filter(Boolean)},e.getAttrs=function(){var a=(0,p.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,m.default)(a)){var u="kubernetes.io/dockerconfigjson"===e.store.detail.type?[{name:t("DEFAULT_IMAGE_REGISTRY_TCAP"),value:e.showSetDefault(e.store.detail)?t("NO"):t("YES")}]:[];return[].concat(u,[{name:t("CLUSTER"),value:(0,g.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,g.showNameAndAlias)(l,"project")},{name:t("TYPE"),value:t(E.SECRET_TYPES[a.type]||a.type)},{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]).filter(Boolean)}},e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return d.default.createElement(h.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,g.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("SECRET_PL"),url:this.listUrl}]};return d.default.createElement(O.default,(0,u.default)({stores:e},a,{routes:(0,S.default)(this.props.match.path)}))}},{key:"module",get:function(){return"secrets"}},{key:"name",get:function(){return"SECRET"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=(0,p.toJS)(this.store.detail).isFedManaged,t=this.props.match.params,a=t.workspace,r=t.cluster,n=t.namespace;return a?e?"/".concat(a,"/federatedprojects/").concat(n,"/").concat(this.module):"/workspaces/".concat(a,"/").concat(this.module):"/clusters/".concat(r,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),r}(d.default.Component))||l)||l)||l;a.default=_},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l,u=n(r(317)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=r(243),h=n(r(67)),v=r(189),g=r(56),y=r(804),E=n(r(476)),b=n(r(834)),O=n(r(3481));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=(0,m.inject)("rootStore")(l=(0,m.observer)(l=(0,y.trigger)(l=function(e){(0,c.default)(r,e);var a=S(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).store=new E.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,p.toJS)(e.store.detail),success:e.fetchData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"editConfigMap",icon:"pen",text:t("EDIT_SETTINGS"),action:"edit",onClick:function(){return e.trigger("configmap.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var a=(0,p.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,h.default)(a))return[{name:t("CLUSTER"),value:(0,g.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,g.showNameAndAlias)(l,"project")},{name:t("CREATION_TIME_TCAP"),value:(0,g.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]},e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading)return d.default.createElement(v.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,g.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("CONFIGMAP_PL"),url:this.listUrl}]};return d.default.createElement(b.default,(0,u.default)({stores:e},a,{routes:(0,O.default)(this.props.match.path)}))}},{key:"module",get:function(){return"configmaps"}},{key:"name",get:function(){return"CONFIGMAP"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=(0,p.toJS)(this.store.detail).isFedManaged,t=this.props.match.params,a=t.workspace,r=t.cluster,n=t.namespace;return a?e?"/".concat(a,"/federatedprojects/").concat(n,"/").concat(this.module):"/workspaces/".concat(a,"/").concat(this.module):"/clusters/".concat(r,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),r}(d.default.Component))||l)||l)||l;a.default=C},function(e,a,r){"use strict";var n=r(19);r(12),r(109),r(3),r(10),r(6),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(10),r(6),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(7);var l,u=n(r(317)),o=n(r(31)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=r(17),h=r(243),v=n(r(67)),g=r(189),y=r(56),E=r(804),b=n(r(488)),O=n(r(834)),S=n(r(3484));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var R=(0,h.inject)("rootStore")(l=(0,h.observer)(l=(0,E.trigger)(l=function(e){(0,s.default)(r,e);var a=k(r);function r(){var e;(0,i.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).store=new b.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("serviceaccount.edit",_({type:e.name,detail:(0,m.toJS)(e.store.detail),success:e.fetchData},e.props.match.params))}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"modifyServiceAccountRole",icon:"pen",text:t("CHANGE_ROLE"),action:"edit",onClick:function(){return e.trigger("serviceaccount.role.edit",_({detail:e.store.detail,success:e.fetchData},e.props.match.params))}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var a=(0,m.toJS)(e.store.detail),r=e.props.match.params,n=r.cluster,l=r.namespace;if(!(0,v.default)(a))return[{name:t("CLUSTER"),value:(0,y.showNameAndAlias)(n,"cluster")},{name:t("PROJECT"),value:(0,y.showNameAndAlias)(l,"project")},{name:t("ROLE"),value:a.role},{name:t("CREATION_TIME_TCAP"),value:(0,y.getLocalTime)(a.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:a.creator}]},e}return(0,c.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading)return p.default.createElement(g.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,y.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.isFedManaged?[]:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("SERVICE_ACCOUNT_PL"),url:this.listUrl}]};return p.default.createElement(O.default,(0,u.default)({stores:e},a,{routes:(0,S.default)(this.props.match.path)}))}},{key:"module",get:function(){return"serviceaccounts"}},{key:"name",get:function(){return"SERVICE_ACCOUNT"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e=(0,m.toJS)(this.store.detail).isFedManaged,t=this.props.match.params,a=t.workspace,r=t.cluster,n=t.namespace;return a?e?"/".concat(a,"/federatedprojects/").concat(n,"/").concat(this.module):"/workspaces/".concat(a,"/").concat(this.module):"/clusters/".concat(r,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}}]),r}(p.default.Component))||l)||l)||l;a.default=R},function(e,t,a){e.exports={secretWrapper:"_2w2dYzN4wuGp_wajpcdrcB",title:"_2NnR7nZbdx5sVyDkdr_G-f",defaultWrapper:"_2s4vOIBr8xBPyb5h4ilFgc",configWrapper:"_2R-aXaN8GH_Hz7c1wmLJre",codeEditor:"_1LuBGW3lud3xrU-Jon909o",ops:"Iwmqd8wJBrfmpDxheVZbw",split:"rtimVCShoOZggbnsmeQzP"}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(70),r(51),r(14),r(4),r(18),r(30),r(11),r(73),r(69),r(79),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(70),r(27),r(51),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(73),r(69),r(79);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(26)),p=n(r(67)),m=r(243),h=r(189),v=r(56),g=r(804),y=n(r(452)),E=n(r(834)),b=n(r(3487));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,i.default)(r,e);var a=O(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).store=new y.default,e.fetchData=function(){var t=e.props.match.params,a=t.cluster,r=t.namespace,n=t.podName;e.store.fetchDetail({cluster:a,namespace:r,name:n})},e.getOperations=function(){return[{key:"viewYaml",icon:"eye",text:t("VIEW_YAML"),action:"view",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,readOnly:!0})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:e.store.detail,success:function(){return e.routing.push(e.listUrl)}})}}]},e.getAttrs=function(){var a=e.props.match.params,r=a.cluster,n=a.namespace,l=e.store.detail,u=void 0===l?{}:l;if((0,p.default)(u))return null;var o=u.podStatus,i=o.status,c=o.restarts;return[{name:t("CLUSTER"),value:(0,v.showNameAndAlias)(r,"cluster")},{name:t("PROJECT"),value:(0,v.showNameAndAlias)(n,"project")},{name:t("APP"),value:u.app},{name:t("STATUS"),value:t(i)},{name:t("POD_IP_ADDRESS"),value:u.podIp},{name:t("NODE_NAME"),value:u.node},{name:t("NODE_IP_ADDRESS"),value:u.nodeIp},{name:t("RESTART_PL"),value:c},{name:t("QOS_CLASS"),value:(0,d.default)(u,"status.qosClass")},{name:t("CREATION_TIME_TCAP"),value:(0,v.getLocalTime)(u.createTime).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:u.creator}]},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(h.Loading,{className:"ks-page-loading"});var a={module:this.module,name:(0,v.getDisplayName)(this.store.detail),desc:this.store.detail.description,operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("POD_PL"),url:this.listUrl}]};return f.default.createElement(E.default,(0,l.default)({stores:e},a,{routes:(0,b.default)(this.props.match.path)}))}},{key:"module",get:function(){return"pods"}},{key:"name",get:function(){return"POD"}},{key:"routing",get:function(){return this.props.rootStore.routing}},{key:"listUrl",get:function(){var e,t,a=this.props.match.params,r=a.workspace,n=a.cluster,l=localStorage.getItem("pod-detail-referrer"),u=null!==(e=window.parent.globals.config.webPrefix)&&void 0!==e?e:"";return u&&(null===(t=l)||void 0===t?void 0:t.startsWith(u))&&(l=l.slice(u.length)),l?l.includes("consolev3")?l.slice("".concat(u,"/consolev3").length):l:r?"/workspaces/".concat(r,"/pods"):"/clusters/".concat(n,"/").concat(this.module)}}]),r}(f.default.Component),C=(0,m.inject)("rootStore")((0,m.observer)((0,g.trigger)(S)));a.default=C;var _=S;a.Component=_},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(7);var l,u,o,i=n(r(31)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=n(r(1)),v=n(r(67)),g=r(243),y=n(r(801)),E=n(r(3490)),b=n(r(1569));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var _=(0,g.inject)("projectStore")((o=u=function(e){(0,f.default)(r,e);var a=C(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).getVolumeMounts=function(t){var a=e.props.containers,r=[];return a.forEach((function(e){(0,v.default)(e.volumeMounts)||e.volumeMounts.forEach((function(a){a.name===t.mountName&&r.push(S(S({},a),{},{containerName:e.name,accessMode:a.readOnly?"read-only":"read-write"}))}))})),r},e}return(0,s.default)(r,[{key:"renderContent",value:function(){var e=this,t=this.props,a=t.volumes,r=t.match;return(0,v.default)(a)?null:a.map((function(t,a){return t.volumeMounts=e.getVolumeMounts(t),m.default.createElement(E.default,{key:a,volume:t,match:r,isMultiProject:e.isMultiProject})}))}},{key:"render",value:function(){var e=this.props.className,a=this.props.title||t("VOLUME_PL");return m.default.createElement(y.default,{className:e,title:a},m.default.createElement("div",{className:b.default.wrapper},this.renderContent()))}},{key:"isMultiProject",get:function(){return this.props.projectStore.detail.isFedManaged}}]),r}(m.default.Component),u.propTypes={className:h.default.string,title:h.default.string,volumes:h.default.array,containers:h.default.array,loading:h.default.bool},u.defaultProps={volumes:[],containers:[],loading:!0},l=o))||l;a.default=_},function(e,t,a){e.exports={wrapper:"_3WmhEG-d3vk4S7uvmlKEK2",mount:"_1k5hKVyDTa6Ri6opeSMPSV",title:"_1sZylEGWneZrTTlPkPSqjX"}},function(e,t,a){e.exports={wrapper:"_29HrZi7B6nepJRA-j04euE",info:"_14NS-RQ6mOfs6zBQ3HySK2",condition:"_3ieGvneFe2nLuN-V-U9qlD",header:"PidKbuMUyOakF0P5ZZoc9",content:"ln9lZ0lhR7sEfH923BAeo",status:"_17JmAbiTz2SgqjjHXqD_YS",requests:"_2hqgO2JzuEYvMmZb5s3TC6",text:"_3fM1y3c5wZIR5tjTDuMLaE",nodes:"_2AoDeFbWjHT3VCxl-nSNVm",chart:"fGLJu8LN4Ey-s6nZdgpi8",chartWrapper:"_2AJnGB-ARgyppudS3lbQsm",podRequests:"_3GtjATOBmdQ3zx7Nk_hlFi"}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(88),a(20),a(14),a(99),a(8),a(13),a(9),a(4),a(190),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.default=void 0,a(12),a(32),a(10),a(6),a(88),a(20),a(27),a(29),a(14),a(33),a(16),a(99),a(8),a(13),a(9),a(4),a(190),a(18),a(43),a(11),a(7);var n=r(a(97)),l=r(a(317)),u=r(a(31)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(0)),p=a(243),m=r(a(26)),h=r(a(67)),v=a(803),g=a(56),y=r(a(1019)),E=r(a(1214)),b=a(820),O=a(975);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var _={cpu_usage:"pod_cpu_usage",memory_usage:"pod_memory_usage_wo_cache",gpu_usage:"pod_gpu_usage",gpu_memory_usage:"pod_gpu_memory_usage",net_transmitted:"pod_net_bytes_transmitted",net_received:"pod_net_bytes_received"},k={Deployment:"deployment",StatefulSet:"statefulset",DaemonSet:"daemonset"},R=function(e){(0,c.default)(a,e);var t=C(a);function a(e){var r;(0,o.default)(this,a),(r=t.call(this,e)).fetchData=function(e){var t=r.store.detail,a=t.cluster,n=t.namespace,l=t.name;r.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({cluster:a,namespace:n,pod:l,metrics:Object.values((0,g.hideGPUByLicense)(_,a))},e))},r.getMonitoringCfgs=function(){return[{type:"cpu",title:"CPU_USAGE",unitType:"cpu",legend:["USAGE"],data:(0,m.default)(r.metrics,"".concat(_.cpu_usage,".data.result"))},{type:"memory",title:"MEMORY_USAGE",unitType:"memory",legend:["USAGE"],data:(0,m.default)(r.metrics,"".concat(_.memory_usage,".data.result"))},{type:"gpu",title:"GPU_USAGE",unitType:"gpu",legend:["USAGE"],data:(0,m.default)(r.metrics,"".concat(_.gpu_usage,".data.result"))},{type:"gpu_memory",title:"GPU_MEMORY_USAGE",unitType:"memory",legend:["USAGE"],data:(0,m.default)(r.metrics,"".concat(_.gpu_memory_usage,".data.result"))},{type:"bandwidth",title:"OUTBOUND_TRAFFIC",unitType:"bandwidth",legend:["OUTBOUND"],data:(0,m.default)(r.metrics,"".concat(_.net_transmitted,".data.result"))},{type:"bandwidth",title:"INBOUND_TRAFFIC",unitType:"bandwidth",legend:["INBOUND"],data:(0,m.default)(r.metrics,"".concat(_.net_received,".data.result"))}]};var n=(0,m.default)(r.props.rootStore,"routing.location.pathname","").indexOf("observability")>-1;return r.monitorStore=n?new E.default:new y.default,r}return(0,i.default)(a,[{key:"render",value:function(){var e=this,t=this.store.detail,a=t.createTime,r=t.cluster,n=this.monitorStore,u=n.isLoading,o=n.isRefreshing,i=(0,g.hideGPUByLicense)(this.getMonitoringCfgs(),r);return d.default.createElement(O.Controller,{createTime:a,onFetch:this.fetchData,loading:u,refreshing:o,isEmpty:(0,h.default)(this.metrics)},i.map((function(t){t.data=(0,h.default)(t.data)?[{values:(0,v.getZeroValues)()}]:t.data,t.legend=t.data.map((function(){return t.legend})),t.workload_kind=e.monitoringModule;var a=(0,v.getAreaChartOps)(t);return d.default.createElement(b.SimpleArea,(0,l.default)({key:t.title,width:"100%"},a))})))}},{key:"store",get:function(){return this.props.detailStore}},{key:"monitoringModule",get:function(){var e;return null!==(e=k[this.store.detail.ownerKind])&&void 0!==e?e:this.store.detail.ownerKind}},{key:"metrics",get:function(){var e={};return Object.entries(this.monitorStore.data).forEach((function(t){var a=(0,n.default)(t,2),r=a[0],l=a[1];(0,m.default)(l,"data.result")&&(e["".concat(r)]=l)})),e}}]),a}(d.default.Component),N=(0,p.inject)("rootStore","detailStore")((0,p.observer)(R));t.default=N;var D=R;t.Component=D},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(66),r(20),r(14),r(9),r(4),r(18),r(30),r(11),r(111),r(69),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(32),r(3),r(66),r(20),r(29),r(14),r(9),r(4),r(321),r(18),r(43),r(30),r(11),r(111),r(69),r(71);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(67)),p=r(243),m=r(189),h=r(56),v=r(804),g=r(461),y=n(r(1043)),E=n(r(834)),b=n(r(3493));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,i.default)(r,e);var a=O(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).store=new y.default,e.fetchData=function(){e.store.fetchDetail(e.props.match.params)},e.getOperations=function(){return[{key:"terminal",type:"control",text:t("TERMINAL"),action:"edit",onClick:e.handleOpenTerminal}]},e.getResourceInfo=function(a){var r=e.store.detail.resources,n=(void 0===r?{}:r)[a];return n&&Object.keys(n).map((function(e){var a="cpu"===e&&n[e].endsWith("m")?parseInt(n[e],10)/1e3:n[e];return t("".concat(e.toUpperCase().replace(/[^A-Z]/g,"_"),"_VALUE"),{value:a})})).join("/")},e.getAttrs=function(){var a=e.props.match.params,r=a.cluster,n=a.namespace,l=e.store.detail,u=void 0===l?{}:l;if((0,d.default)(u))return null;var o,i=u.state?Object.keys(u.state)[0]:"";return o="Always"===u.imagePullPolicy?t("IMAGE_PULL_POLICY_ALWAYS"):"IfNotPresent"===u.imagePullPolicy?t("IMAGE_PULL_POLICY_IFNOTPRESENT"):"Never"===u.imagePullPolicy?t("IMAGE_PULL_POLICY_NEVER"):u.imagePullPolicy,[{name:t("CLUSTER"),value:(0,h.showNameAndAlias)(r,"cluster")},{name:t("PROJECT"),value:(0,h.showNameAndAlias)(n,"project")},{name:t("APP"),value:u.app},{name:t("STATUS"),value:t(i)},{name:t("IMAGE"),value:u.image},{name:t("IMAGE_ID"),value:u.imageID},{name:t("PORT"),value:e.ports},{name:t("COMMAND"),value:e.command},{name:t("RESOURCE_REQUESTS"),value:e.getResourceInfo("requests")},{name:t("RESOURCE_LIMITS"),value:e.getResourceInfo("limits")},{name:t("IMAGE_PULL_POLICY"),value:o},{name:t("RESTART_PL"),value:u.restartCount}]},e.handleOpenTerminal=function(){var t=e.props.match.params,a=t.cluster,r=t.namespace,n=t.podName,l=t.containerName,u="/terminal/cluster/".concat(a,"/projects/").concat(r,"/pods/").concat(n,"/containers/").concat(l);window.open(u,"Connecting ".concat(l),(0,g.createCenterWindowOpt)({width:1200,height:800,scrollbars:1,resizable:1}))},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return f.default.createElement(m.Loading,{className:"ks-page-loading"});var a={module:this.module,authKey:this.authKey,name:(0,h.getDisplayName)(this.store.detail),desc:t("CONTAINER_DETAILS_PAGE_SCAP"),operations:this.getOperations(),attrs:this.getAttrs(),breadcrumbs:[{label:t("CONTAINER_PL"),url:this.listUrl}]};return f.default.createElement(E.default,(0,l.default)({stores:e},a,{routes:(0,b.default)(this.props.match.path)}))}},{key:"name",get:function(){return"CONTAINER"}},{key:"authKey",get:function(){return"pods"}},{key:"listUrl",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster,r=e.namespace,n=e.podName;return"".concat(t?"/".concat(t):"","/clusters/").concat(a,"/projects/").concat(r,"/pods/").concat(n)}},{key:"ports",get:function(){var e=this.store.detail.ports,t=void 0===e?[]:e;return(0,d.default)(t)?"-":t.map((function(e){return"".concat(e.name?"".concat(e.name,":"):"").concat(e.containerPort||"None","/").concat(e.protocol)})).join(" ")}},{key:"command",get:function(){var e=this.store.detail.command,t=void 0===e?[]:e;return(0,d.default)(t)?"-":t.join(" ")}}]),r}(f.default.Component),C=(0,p.observer)((0,v.trigger)(S));a.default=C;var _=S;a.Component=_},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(41)),u=r(a(42)),o=r(a(37));function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,o.default)(e);if(t){var n=(0,o.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,u.default)(this,a)}}var c=function(e){(0,l.default)(a,e);var t=i(a);function a(){var e;(0,n.default)(this,a);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).resourceName="container",e.getApi=function(){return"".concat(e.apiVersion,"/container_metrics")},e}return a}(r(a(847)).default);t.default=c},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(109),r(32),r(3),r(27),r(29),r(14),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(69);var l=n(r(317)),u=n(r(38));r(35);var o,i,c=n(r(39)),s=n(r(62)),f=n(r(25)),d=n(r(28)),p=n(r(74)),m=n(r(41)),h=n(r(42)),v=n(r(37)),g=n(r(45)),y=(n(r(63)),n(r(0))),E=n(r(26)),b=n(r(67)),O=n(r(163)),S=r(17),C=r(243),_=r(189),k=n(r(807)),R=r(56),N=r(804),D=n(r(451)),T=n(r(453)),P=n(r(834)),w=n(r(3501));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,v.default)(e);if(t){var n=(0,v.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,h.default)(this,a)}}var M=(o=function(e){(0,m.default)(r,e);var a=I(r);function r(){var e;(0,f.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).store=new D.default,e.storageclass=new T.default,(0,s.default)(e,"ksVersion",i,(0,p.default)(e)),e.getDisAllowToDo=function(t){try{var a=(0,S.toJS)(e.storageclass).detail.annotations[t],r="Pending"===e.store.detail.phase;return!(!(0,O.default)(a)&&!r)||!JSON.parse(a)}catch(e){return!0}},e.fetchData=(0,c.default)(u.default.mark((function t(){var a,r,n;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.match.params,r=a.cluster,t.next=4,e.store.fetchDetail(e.props.match.params);case 4:return n=e.store.detail.storageClassName,t.next=7,e.storageclass.fetchDetail({cluster:r,name:n});case 7:return t.next=9,e.store.getKsVersion(a);case 9:e.ksVersion=t.sent;case 10:case"end":return t.stop()}}),t)}))),e.getOperations=function(){return[{key:"edit",icon:"pen",text:t("EDIT_INFORMATION"),action:"edit",onClick:function(){return e.trigger("resource.baseinfo.edit",{type:e.name,detail:(0,S.toJS)(e.store.detail),success:e.fetchData})}},{key:"editYaml",icon:"pen",text:t("EDIT_YAML"),action:"edit",onClick:function(){return e.trigger("resource.yaml.edit",{detail:e.store.detail,success:e.fetchData})}},{key:"clone",type:"control",text:t("CLONE"),icon:"copy",action:"create",disabled:e.disableClone,onClick:function(){e.trigger("volume.clone",{})}},{key:"snapshot",type:"control",text:t("CREATE_SNAPSHOT"),icon:"copy",action:"create",disabled:e.disableSnapshot,show:!e.disableSnapshot,onClick:function(){var t,a=e.props.match.params.cluster;e.trigger("volume.create.snapshot",{detail:e.store.detail,cluster:a,provisioner:null===(t=e.storageclass.detail)||void 0===t?void 0:t.provisioner})}},{key:"expand",text:t("EXPAND"),icon:"scaling",action:"edit",disabled:e.allowExpand,onClick:function(){var t=e.store,a=t.detail,r=t.isSubmitting,n=(0,S.toJS)(a._originData),l=e.storageclass.getStorageSizeConfig();e.trigger("volume.expand",{isExpanding:r,detail:n,max:l.max,min:l.min,step:l.step})}},{key:"delete",icon:"trash",text:t("DELETE"),action:"delete",type:"danger",onClick:function(){return e.trigger("resource.delete",{type:e.name,detail:(0,S.toJS)(e.store.detail),success:e.returnTolist})}}]},e.getAttrs=function(){var a=e.store.detail,r=void 0===a?{}:a,n=r.createTime,l=r.creator,u=r.phase,o=r.capacity,i=r.namespace,c=r.accessMode,s=void 0===c?"-":c;if((0,b.default)(r))return null;var f=r.storageClassName||(0,E.default)(r,"annotations['volume.beta.kubernetes.io/storage-class']");return[{name:t("PROJECT"),value:(0,R.showNameAndAlias)(i,"project")},{name:t("STATUS"),value:y.default.createElement("div",null,y.default.createElement(k.default,{type:u,name:t("VOLUME_STATUS_".concat(u.toUpperCase()))}))},{name:t("CAPACITY"),value:"".concat((0,R.memoryFormat)(o,"Gi"),"Gi")},{name:t("ACCESS_MODE_TCAP"),value:s},{name:t("STORAGE_CLASS"),value:f},{name:t("PROVISIONER"),value:(0,E.default)(r,"annotations['volume.beta.kubernetes.io/storage-provisioner']","-")},{name:t("PERSISTENT_VOLUME"),value:(0,E.default)(r,"_originData.spec.volumeName","")},{name:t("CREATION_TIME_TCAP"),value:(0,R.getLocalTime)(n).format("YYYY-MM-DD HH:mm:ss")},{name:t("CREATOR"),value:l}]},e.returnTolist=function(){e.props.rootStore.routing.push(e.listUrl)},e}return(0,d.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e={detailStore:this.store};if(this.store.isLoading&&!this.store.detail.name)return y.default.createElement(_.Loading,{className:"ks-page-loading"});var a={module:this.module,authKey:this.authKey,name:(0,R.getDisplayName)(this.store.detail),desc:this.store.detail.description,attrs:this.getAttrs(),operations:this.getOperations(),icon:"storage",breadcrumbs:[{label:t("PERSISTENT_VOLUME_CLAIM_PL"),url:this.listUrl}]};return y.default.createElement(P.default,(0,l.default)({stores:e},a,{routes:(0,w.default)(this.props.match.path)}))}},{key:"name",get:function(){return"PERSISTENT_VOLUME_CLAIM"}},{key:"module",get:function(){return"volumes"}},{key:"authKey",get:function(){return"persistentvolumeclaims"}},{key:"listUrl",get:function(){var e=(0,S.toJS)(this.store.detail).isFedManaged,t=this.props.match.params,a=t.workspace,r=t.cluster,n=t.namespace;return a?e?"/".concat(a,"/federatedprojects/").concat(n,"/").concat(this.module):"/".concat(a,"/clusters/").concat(r,"/projects/").concat(n,"/").concat(this.module):"/clusters/".concat(r,"/").concat(this.module)}},{key:"isFedManaged",get:function(){return this.store.detail.isFedManaged}},{key:"disableClone",get:function(){return this.getDisAllowToDo("storageclass.kubesphere.io/allow-clone")}},{key:"disableSnapshot",get:function(){return(0,R.compareVersion)("".concat(this.ksVersion),"v3.3")<0||this.getDisAllowToDo("storageclass.kubesphere.io/allow-snapshot")||!globals.app.hasKSModule("storage-utils")}},{key:"allowExpand",get:function(){var e=(0,E.default)(this.storageclass.detail,"allowVolumeExpansion",!1);return!!("Pending"===this.store.detail.phase)||!e}}]),r}(y.default.Component),i=(0,g.default)(o.prototype,"ksVersion",[S.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o),A=(0,C.inject)("rootStore")((0,C.observer)((0,N.trigger)(M)));a.default=A;var j=M;a.Component=j},function(e,t,a){"use strict";a(16);var r=a(19);a(24),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(24),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=a(56),d=a(803),p=r(a(3539)),m=r(a(3540));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.title,r=e.metrics,l=e.showDay,u=(0,d.getAreaChartOps)({title:a,unitType:t,legend:["VALUE"],data:r,xFormatter:function(e){return(0,f.getLocalTime)(1e3*Number(e)).format(l?"MM-DD HH:mm":"HH:mm")}});return s.default.createElement("div",{className:m.default.wrapper},s.default.createElement("div",{className:m.default.chartWrapper},s.default.createElement("div",{className:m.default.title},a),s.default.createElement("div",{className:m.default.chart},s.default.createElement(p.default,(0,n.default)({width:"100%",height:120,bgColor:"transparent"},u)))))}}]),a}(s.default.Component);t.default=v},function(e,a,r){"use strict";r(16);var n=r(19);r(10),r(98),r(9),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(10),r(98),r(29),r(9),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(444)),d=n(r(67)),p=n(r(0)),m=r(189),h=n(r(801)),v=r(56),g=n(r(3552));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){(0,o.default)(r,e);var a=y(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.detail,a=(0,v.cpuFormat)((0,s.default)(e,"limit.default.cpu")),r=(0,v.cpuFormat)((0,s.default)(e,"limit.defaultRequest.cpu")),n=(0,v.memoryFormat)((0,s.default)(e,"limit.default.memory")),l=(0,v.memoryFormat)((0,s.default)(e,"limit.defaultRequest.memory")),u=globals.config.supportGpuType,o=(0,s.default)(e,"limit.defaultRequest",{}),i=u.filter((function(e){return Object.keys(o).some((function(t){return(0,f.default)(t,e)}))})),c=(0,d.default)(i)?{}:{value:o["".concat(i[0])],type:i};return p.default.createElement(h.default,{title:t("DEFAULT_CONTAINER_QUOTA_PL")},p.default.createElement("div",{className:g.default.content},p.default.createElement("div",{className:g.default.contentItem},p.default.createElement(m.Icon,{name:"cpu",size:40}),p.default.createElement("div",{className:g.default.item},p.default.createElement("div",null,r?t("CPU_REQUEST_CORE",{value:r}):t("NO_REQUEST_TCAP")),p.default.createElement("p",null,t("CPU_REQUEST_LOW"))),p.default.createElement("div",{className:g.default.item},p.default.createElement("div",null,a?t("CPU_LIMIT_CORE",{value:a}):t("NO_LIMIT_TCAP")),p.default.createElement("p",null,t("CPU_LIMIT_LOW")))),p.default.createElement("div",{className:g.default.contentItem},p.default.createElement(m.Icon,{name:"memory",size:40}),p.default.createElement("div",{className:g.default.item},p.default.createElement("div",null,l?t("MEMORY_REQUEST_MIB",{value:l}):t("NO_REQUEST_TCAP")),p.default.createElement("p",null,t("MEMORY_REQUEST_SCAP"))),p.default.createElement("div",{className:g.default.item},p.default.createElement("div",null,n?t("MEMORY_LIMIT_MIB",{value:n}):t("NO_LIMIT_TCAP")),p.default.createElement("p",null,t("MEMORY_LIMIT_SCAP")))),p.default.createElement("div",{className:g.default.contentItem},p.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/GPU.svg",size:48}),p.default.createElement("div",{className:g.default.item},p.default.createElement("div",null,c.value?c.type:t("NONE")),p.default.createElement("p",null,t("GPU_TYPE_SCAP"))),p.default.createElement("div",{className:g.default.item},p.default.createElement("div",null,c.value?c.value:t("NO_LIMIT_TCAP")),p.default.createElement("p",null,t("GPU_LIMIT_SCAP"))))))}}]),r}(p.default.Component);a.default=E},function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(10),r(44),r(6),r(70),r(88),r(20),r(14),r(99),r(8),r(13),r(9),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.detail,r=e.relateStorageClass,n=void 0===r?[]:r,l=e.allStorageClass,S=void 0===l?[]:l,C=e.storageClassResource,_=void 0===C?[]:C,k=(0,c.useState)([]),R=(0,i.default)(k,2),N=R[0],D=R[1];return(0,c.useEffect)((function(){if(a.used){var e=Object.entries(m.QUOTAS_MAP).map((function(e){var t=(0,i.default)(e,2);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({label:t[0]},t[1])}));Object.entries(a.used).forEach((function(t){var a=(0,i.default)(t,1)[0],r=e.find((function(e){return e.name===a}));(0,f.default)(r)&&e.push({label:a,name:a})}));var t=e.filter((function(e){return!e.name.includes(O[0])&&!e.name.includes(O[1])}));D(t)}}),[a]),c.default.createElement(h.default,{className:E.default.wrapper,title:t("PROJECT_QUOTA_PL")},N.map((function(e){var t=e.label,r=e.name;return c.default.createElement(y.default,{key:t,name:t,total:(0,s.default)(a,'hard["'.concat(r,'"]')),used:(0,s.default)(a,'used["'.concat(r,'"]'),0),left:(0,s.default)(a,'left["'.concat(r,'"]'))})})),_.map((function(e){var t=-1!==e.name.indexOf("requests.storage"),a=e.used,r=e.total;return t&&(0,d.default)(e.used)&&(a=(0,p.memoryFormat)(e.used,"Gi")),t&&(0,d.default)(e.total)&&(r=(0,p.memoryFormat)(e.total,"Gi")),c.default.createElement(g.default,(0,u.default)({iconName:"storage"},e,{used:a,total:r}))})),!(0,f.default)(n)&&Object.entries(n).map((function(e){var t=(0,i.default)(e,2),a=t[0],r=t[1];return c.default.createElement(v.default,{key:a,name:a,data:r,allStorageClass:S})})))},r(12),r(10),r(44),r(6),r(70),r(88),r(20),r(27),r(14),r(33),r(16),r(99),r(8),r(13),r(9),r(4),r(73),r(7);var u=l(r(317)),o=l(r(31)),i=l(r(97)),c=n(r(0)),s=l(r(26)),f=l(r(67)),d=l(r(142)),p=r(56),m=r(61),h=l(r(801)),v=l(r(1578)),g=l(r(1579)),y=l(r(3555)),E=l(r(3557));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var O=["requests.storage","persistentvolumeclaims"]},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(88),r(20),r(98),r(14),r(24),r(193),r(30),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(88),r(20),r(98),r(14),r(24),r(193),r(4);var u=l(r(31)),o=l(r(97)),i=n(r(0)),c=r(189),s=l(r(5)),f=l(r(999)),d=r(56),p=l(r(3553)),m=function(e){var a=(0,i.useState)(!1),r=(0,o.default)(a,2),n=r[0],l=r[1];return i.default.createElement("div",{className:p.default.card,onClick:function(){return l(!n)}},i.default.createElement("div",{className:p.default.Head},i.default.createElement(c.Icon,{name:"database",size:40}),i.default.createElement("div",{className:p.default.item},i.default.createElement("p",{className:p.default.title},"storageclass.storage.k8s.io/requests.storage"===e.name?t("STORAGE_RELATED_RESOURCE_LIMIT"):t("STORAGE_RELATED_RESOURCE")),i.default.createElement("p",{className:p.default.desc},t("RESOURCE_TYPE"))),i.default.createElement("div",{className:p.default.item},i.default.createElement("p",{className:p.default.title},e.allStorageClass.length),i.default.createElement("p",{className:p.default.desc},t("TOTAL_STORAGE_CLASS"))),i.default.createElement("div",{className:p.default.item},i.default.createElement("p",{className:p.default.title},e.data.length),i.default.createElement("p",{className:p.default.desc},t("LIMITED_STORAGE_CLASS"))),i.default.createElement("div",{className:(0,s.default)(p.default.icon,(0,u.default)({},p.default.open,n))},e.data.length>0&&i.default.createElement(c.Icon,{name:"chevron-down",size:20}))),n&&e.data.length>0&&i.default.createElement("ul",{className:p.default.List},e.data.map((function(a){var r=-1!==e.name.indexOf("requests.storage"),n=a.name.split(".")[0],l=0;l=r?Number((0,d.memoryFormat)(a.used,"Gi"))/Number((0,d.memoryFormat)(a.total,"Gi")):Number(a.used,"Gi")/Number(a.total,"Gi"),l=Math.min(Math.max(l,0),1);var u=e.allStorageClass.some((function(e){return e.name===n&&e.default})),o=(0,d.memoryFormat)(a.used,"Gi");return o=isNaN(o)?0:o,i.default.createElement("div",{className:p.default.inline,key:n},i.default.createElement(c.Icon,{name:"database",size:40}),i.default.createElement("div",{className:p.default.item},i.default.createElement("p",{className:p.default.title},n,u&&i.default.createElement("span",{className:p.default.default},t("DEFAULT"))),i.default.createElement("p",{className:p.default.desc},t("NAME"))),i.default.createElement("div",{className:p.default.item},i.default.createElement("p",{className:p.default.title},r?"".concat(o," Gi"):a.used),i.default.createElement("p",{className:p.default.desc},t("USED"))),i.default.createElement("div",{className:p.default.item},i.default.createElement("p",{className:p.default.title},r?"".concat((0,d.memoryFormat)(a.total,"Gi")," Gi"):a.total),i.default.createElement("p",{className:p.default.desc},t("RELATED_RESOURCE_QUOTA"))),i.default.createElement("div",{className:p.default.barItem},i.default.createElement("div",{className:p.default.title},t("USAGE")),i.default.createElement(f.default,{value:Math.min(l,1),className:p.default.bar,rightText:a.total?"":t("NO_LIMIT"),text:t("USED_PERCENT",{percent:Number((100*l).toFixed(2))})})))}))))};a.default=m},function(e,a,r){"use strict";r(16);var n=r(19);r(88),r(14),r(24),r(193),r(30),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(88),r(14),r(24),r(193),r(30),r(71);var l=n(r(0)),u=n(r(163)),o=r(189),i=n(r(999)),c=r(56),s=r(61),f=n(r(3554)),d=function(e){var a=e.name,r=e.total,n=e.used,d=-1!==a.indexOf("requests.storage"),p=0;"limits.cpu"===a||"requests.cpu"===a?r&&(p=Number((0,c.cpuFormat)(n))/Number((0,c.cpuFormat)(r)),n="".concat((0,c.cpuFormat)(n)," Core"),r="".concat((0,c.cpuFormat)(r)," Core")):"limits.memory"===a||"requests.memory"===a?r&&(p=Number((0,c.memoryFormat)(n))/Number((0,c.memoryFormat)(r)),n="".concat((0,c.memoryFormat)(n,"Gi")," Gi"),r="".concat((0,c.memoryFormat)(r,"Gi")," Gi")):r&&(p=Number(n)/Number(r)),p=Math.min(Math.max(p,0),1);var m=a.indexOf("gpu")>-1?"gpu":a,h="gpu"===m?"".concat(m,".limit"):m;return l.default.createElement("div",{className:f.default.quota},l.default.createElement(o.Icon,{name:s.ICON_TYPES[m]||"resource",size:40}),l.default.createElement("div",{className:f.default.item},l.default.createElement("div",null,t(h.replace(/[. ]/g,"_").toUpperCase())),l.default.createElement("p",null,t("RESOURCE_TYPE_SCAP"))),l.default.createElement("div",{className:f.default.item},l.default.createElement("div",null,n," ",d&&"Gi"),l.default.createElement("p",null,t("USED"))),l.default.createElement("div",{className:f.default.item},l.default.createElement("div",null,(0,u.default)(r)?t("NO_LIMIT"):d?"".concat(r," Gi"):r),l.default.createElement("p",null,t("RESOURCE_LIMIT"))),l.default.createElement("div",{className:f.default.item,style:{flex:3}},l.default.createElement("div",null,t("USAGE")),l.default.createElement(i.default,{value:Math.min(p,1),className:f.default.bar,rightText:r?"":t("NO_LIMIT"),text:t("USED_PERCENT",{percent:Number((100*p).toFixed(2))})})))};a.default=d},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(70),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(73),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(70),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(73),a(7);var n=r(a(38));a(35);var l,u,o=r(a(39)),i=r(a(31)),c=r(a(62)),s=r(a(25)),f=r(a(28)),d=r(a(74)),p=r(a(41)),m=r(a(42)),h=r(a(37)),v=r(a(45)),g=(r(a(63)),r(a(67))),y=r(a(26)),E=r(a(119)),b=a(17),O=a(61),S=a(56);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var R=(l=function(e){(0,p.default)(i,e);var t,a,r,l=k(i);function i(){var e;(0,s.default)(this,i);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=l.call.apply(l,[this].concat(a))).module="licenses",(0,c.default)(e,"licenseInfo",u,(0,d.default)(e)),e.handleLicenseInfo=function(e){var t=!1,a=!1,r=!1,n=!1,l=(0,E.default)(e),u=(0,y.default)(l,"violation.type"),o=(0,y.default)(l,"licenseType"),i=(0,y.default)(l,"maEndTime"),c=(0,y.default)(l,"serverTime"),s=i?(0,S.getLocalTime)(i).format("x"):(0,S.getLocalTime)((0,y.default)(l,"endTime",new Date)).format("x"),f=c?(0,S.getLocalTime)(c).format("x"):(new Date).getTime(),d="subscription"===o?(0,S.getLocalTime)((0,y.default)(l,"endTime",new Date)).format("x"):s,p=d-f>=0?(d-f)/86400/1e3:d-f,m=p>=0?p>=0&&p<1?Math.ceil(p):Math.floor(p):d-f;return O.LICENSE_UNAUTHORIZED_STATUS_MAP.includes(u)?a=!0:"Time expired"===u&&"subscription"===o?r=!0:O.LICENSE_OVERLIMIT_STATUS_MAP.includes(u)?t=!0:(m>0&&m<=30||m<=0&&"subscription"!==o)&&(n=!0),_({showLicenseTip:O.STATUS_MAPPER.includes(u),isExpired:r,isUnAuthorized:a,isOverLimit:t,unExpired:n,dueDate:m},l)},e}return(0,f.default)(i,[{key:"getUrl",value:function(e){var t=e.name;return"".concat(this.apiVersion,"/").concat(this.module,"/").concat(t)}},{key:"fetchLicense",value:(r=(0,o.default)(n.default.mark((function e(){var t,a;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,request.get(this.getUrl({name:"ks-license"}),{},{},(function(){return{}}));case 3:return a=e.sent,(0,g.default)(a)||(t=_({},this.mapper(a))),this.licenseInfo=this.handleLicenseInfo(t),e.abrupt("return",(0,b.toJS)(this.licenseInfo));case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"updateLicense",value:(a=(0,o.default)(n.default.mark((function e(t){var a;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:t},e.abrupt("return",this.submitting(request.put(this.getUrl({name:"ks-license"}),a)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"invalidLicense",value:(t=(0,o.default)(n.default.mark((function e(t){var a;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:t},e.abrupt("return",this.submitting(request.put("".concat(this.getUrl({name:"ks-license"}),"?validate=true"),a)));case 2:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(r(a(49)).default),u=(0,v.default)(l.prototype,"licenseInfo",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,v.default)(l.prototype,"fetchLicense",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"fetchLicense"),l.prototype),(0,v.default)(l.prototype,"updateLicense",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"updateLicense"),l.prototype),(0,v.default)(l.prototype,"invalidLicense",[b.action],Object.getOwnPropertyDescriptor(l.prototype,"invalidLicense"),l.prototype),l);t.default=R},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={letter:"MtAEvDDok76bC5n6BMeYs",img:"_1p0huC_MiGExAG5cffowO-"}},function(e,t,a){e.exports={wrapper:"_1XkdSSXdX86U8l_DnkJPqJ",text:"awHbyBWcJ6ZsY7PX_d-UQ",ellipsis:"_3zTrKZJ2zDD4H30HDygv9k",icon:"_2nWo_V38K9qDtgmudAI-ai",clickable:"_16dsw4IFfxE-j09HQTBZtZ"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=r(189),v=n(r(1249)),g=n(r(1253));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){(0,c.default)(r,e);var a=y(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.formRef,r=e.data,n=e.children,o=e.hideFooter,i=e.onCancel,c=e.onOk,s=e.cancelText,f=e.okText,p=e.isSubmitting,y=e.bodyClassName,E=e.formClassName,b=e.disableOk,O=(0,u.default)(e,["formRef","data","children","hideFooter","onCancel","onOk","cancelText","okText","isSubmitting","bodyClassName","formClassName","disableOk"]);return d.default.createElement(v.default,(0,l.default)({},O,{bodyClassName:(0,m.default)(g.default.formBody,y),onCancel:i,hideFooter:!0}),d.default.createElement(h.Form,{ref:a,data:r,onSubmit:c},d.default.createElement("div",{className:(0,m.default)(g.default.formWrapper,E)},n),!o&&d.default.createElement("div",{className:g.default.formFooter},d.default.createElement(h.Button,{type:"default",onClick:i,"data-test":"modal-cancel"},s||t("CANCEL")),d.default.createElement(h.Button,{type:"control",htmlType:"submit",loading:p,disabled:b||p,"data-test":"modal-ok"},f||t("OK")))))}}]),r}(d.default.Component);a.default=E,E.propTypes={data:p.default.object,isSubmitting:p.default.bool}},function(e,t,a){e.exports={modalBody:"_2emSCCZW7Any6zY9sbt0dh",body:"_3zk4pcFFwHI55jC3hhKShH",content:"_2AVQmoTGa5M_aaHwB5m25A",closeIcon:"_3ZNMNqX719F5uyujlsIEEX",footer:"Pv1Crv3p0hsWafBqva7XY"}},function(e,t,a){e.exports={wrapper:"_2WgnPoNTBlYxMadUOp6X6F",primary:"_1N_xYp5Mlw_vRt2GBQPG3_",control:"_1GBzD41XmCACAyrxXIpA2g",switch:"obdQdmNh6a9AylYbpxZXo",inner:"_24C6iSzaC5OhGiAjheEbHW",on:"u9GufWWwHgs1SY_uAQQuU",disabled:"_2MD8-ccizgfYBdMPKkj0Zv"}},function(e,a,r){"use strict";var n=r(19);r(12),r(192),r(10),r(6),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(192),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=r(189),p=n(r(1098)),m=n(r(840)),h=n(r(26)),v=n(r(67)),g=n(r(859)),y=n(r(1)),E=n(r(0)),b=n(r(1713));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var _=function(e){(0,c.default)(r,e);var a=C(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).hasSubRoute=function(){return!(0,v.default)(t.state.subRoute)},t.getCurrentStep=function(){return t.state.currentStep},t.handleCreate=function(){var e=t.formRef.current,a=t.props,r=a.onOk,n=a.formTemplate;e&&e.validate((function(){t.setState({subRoute:{}}),r(n)}))},t.setSteps=function(e){t.setState({steps:e})},t.setCurrentStep=function(e){t.setState({currentStep:e})},t.handleNext=(0,g.default)((function(){var e=t.formRef.current,a=t.state.steps.length;e&&e.validate((function(){t.setState({currentStep:Math.min(t.state.currentStep+1,a-1),subRoute:{}})}))}),300),t.handlePrev=function(){t.setState((function(e){var t=e.currentStep,a=e.subRoute,r=t;return a&&a.onCancel?(a.onCancel(),a={}):r=Math.max(t-1,0),{currentStep:r,subRoute:a}}))},t.handleSubFormSave=function(){var e=t.state.subRoute;e&&e.onSave&&e.onSave((function(){t.setState({subRoute:{}})}))},t.handleSubFormCancel=function(){var e=t.state.subRoute;e&&e.onCancel&&(e.onCancel(),t.setState({subRoute:{}}))},t.registerSubRoute=function(e,a){t.setState({subRoute:{onSave:e,onCancel:a}})},t.resetSubRoute=function(){t.setState({subRoute:{}})},t.handleBupButtonProps=function(e){t.setState({buttonProps:S(S({},t.state.buttonProps),e)})},t.state={currentStep:e.currentStep||0,subRoute:{},steps:e.steps,buttonProps:{ok:{},cancel:{},prev:{},next:{}}},t.formRef=E.default.createRef(),t}return(0,i.default)(r,[{key:"getChildContext",value:function(){return{registerSubRoute:this.registerSubRoute,resetSubRoute:this.resetSubRoute,setSteps:this.setSteps,setCurrentStep:this.setCurrentStep}}}]),(0,i.default)(r,[{key:"renderTabs",value:function(){var e=this.state,t=e.steps,a=e.currentStep;return t.length<2?null:E.default.createElement("div",{className:b.default.tabs},E.default.createElement(p.default,{steps:t,current:a}))}},{key:"renderContent",value:function(){var e=this.state,t=e.steps,a=e.currentStep,r=this.props.contentWidth,n=(0,h.default)(t,"[".concat(a,"].component"));return n?E.default.createElement("div",{className:b.default.contentWrapper},E.default.createElement("div",{className:b.default.content,style:{width:r||920}},E.default.createElement(n,(0,l.default)({formRef:this.formRef},this.props,{setButtonProps:this.handleBupButtonProps})))):null}},{key:"renderFooter",value:function(){var e=this.state,a=e.subRoute,r=e.steps,n=e.currentStep,u=e.buttonProps,o=this.props,i=o.onCancel,c=o.okBtnText,s=o.isSubmitting,f=r.every((function(e,t){return!e.required||n>=t})),p=n<r.length-1;return E.default.createElement("div",{className:b.default.footer},E.default.createElement(d.Button,(0,l.default)({onClick:i},u.cancel),t("CANCEL")),n?E.default.createElement(d.Button,(0,l.default)({type:"default",onClick:this.handlePrev},u.prev,{"data-test":"modal-previous"}),t("PREVIOUS")):null,p&&E.default.createElement(d.Button,(0,l.default)({type:"control",onClick:this.handleNext,disabled:!(0,v.default)(a)},u.next,{"data-test":"modal-next"}),t("NEXT")),f&&E.default.createElement(d.Button,(0,l.default)({type:"control",onClick:this.handleCreate,loading:s,disabled:s||!(0,v.default)(a)},u.ok,{"data-test":"modal-create"}),c||t("CREATE")))}},{key:"renderSaveBar",value:function(){var e=this.state.subRoute;return(0,v.default)(e)?null:E.default.createElement(m.default,{className:b.default.confirm,onOk:this.handleSubFormSave,onCancel:this.handleSubFormCancel})}},{key:"render",value:function(){return E.default.createElement("div",null,this.renderTabs(),this.renderContent(),this.renderSaveBar(),this.renderFooter())}}]),r}(E.default.Component);a.default=_,_.propTypes={module:y.default.string,type:y.default.string,store:y.default.object,steps:y.default.array,formTemplate:y.default.object,isSubmitting:y.default.bool,onOk:y.default.func,cluster:y.default.string},_.defaultProps={isSubmitting:!1,onOk:function(){}},_.childContextTypes={registerSubRoute:y.default.func,resetSubRoute:y.default.func,setSteps:y.default.func,setCurrentStep:y.default.func}},function(e,t,a){e.exports={steps:"_20tu9Im8llwpkfYXE9v21z",current:"_1e9CQ4LFKTf9trCn_VkMn1",icon:"_2dYVWsIIhurO4I-dcia1IO",finished:"_1LtH163s_fJpBvWtiKM1BK",text:"_1M_oER16TdMn2TVYWNZKBZ"}},function(e,t,a){e.exports={wrapper:"_2fjYJjhcvyIc3JLLe1Ct4e",button:"_3qDgwlVfeUh5aEmbTduK9V"}},function(e,t,a){e.exports={contentWrapper:"_329ovSzDebriZxCIhAIHCK",content:"_3_cNKfUSBkggfQ-mB-8bYV",footer:"_21RObYlJsAzHOse3vvb8GV",confirm:"lZGldm7Q9fbsiCykT1t7J"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(189),p=n(r(861)),m=n(r(1720));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(e){var t;return(0,l.default)(this,r),(t=a.call(this,e)).handleCreate=function(){(0,t.props.onOk)(t.getData())},t.editor=s.default.createRef(),t}return(0,u.default)(r,[{key:"getData",value:function(){return this.editor.current.getData()}},{key:"render",value:function(){var e=this.props,a=e.formTemplate,r=e.onCancel,n=e.isSubmitting;return s.default.createElement("div",null,s.default.createElement("div",{className:m.default.wrapper},s.default.createElement(p.default,{ref:this.editor,value:a})),s.default.createElement("div",{className:m.default.footer},s.default.createElement(d.Button,{onClick:r},t("CANCEL")),s.default.createElement(d.Button,{type:"control",onClick:this.handleCreate,loading:n,disabled:n},t("CREATE"))))}}]),r}(s.default.Component);a.default=v,v.propTypes={formTemplate:f.default.object,onOk:f.default.func,isSubmitting:f.default.bool},v.defaultProps={onOk:function(){},isSubmitting:!1}},,,,function(e,t,a){e.exports={editor:"yWmws6GM1w410lGHUw2R8"}},function(e,t,a){e.exports={mode:"UHsOLJqEhb-QI90OcqQvo",fileList:"_14VKg2XDHFE6ZJn0z0xTd1",header:"jyc24SDm2s_aNKNrMIpN8",title:"_24W_oS2sZ6FfgcMbcD7gdn",operations:"_27RDWpoGsR9u22k3FNethc",active:"_3lXDBArwOVU3eo0WmTHjpj",edit:"eJjYooLb0r2DCPIXynep-",ops:"i7pQSYfcIVOUu3nV-rmwA",split:"Dk2pfFgr1VcYX4ILWJFC1"}},function(e,t,a){e.exports={wrapper:"_3T0Z5BCP3J3gU7R1ZHf4fy",tabs:"VSwshzPhLFbo6eNswlRGd",tabItem:"_2hwHf9p4VHwC30H-hytu0t",selected:"_1_eWyJlFEga28LyR0aw69n",content:"_3OD9iJs8KUAXl9xoH5L0pK",footer:"_2uFK64wsRTZswYHR5EKeZc"}},function(e,t,a){e.exports={body:"_1JLVg2YqjnWIaC2phuJ4cq",switch:"_3fdkyuHufrCO5KJ9Mm1MCx",close:"Ip-IgPTXRNcOSPzOhgo6z"}},,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(189),m=n(r(841)),h=n(r(1255));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var g=function(e){(0,c.default)(r,e);var a=v(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleChange=function(t){var a=e.props,r=a.index;(0,a.onChange)(r,t)},e.handleDelete=function(){var t=e.props,a=t.index;(0,t.onDelete)(a)},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.readOnly,r=(e.onDelete,e.onChange,e.keyProps),n=void 0===r?{}:r,o=e.valueProps,i=void 0===o?{}:o,c=(0,u.default)(e,["readOnly","onDelete","onChange","keyProps","valueProps"]),s=n.component,f=void 0===s?p.Input:s,v=(0,u.default)(n,["component"]),g=i.component,y=void 0===g?p.Input:g,E=(0,u.default)(i,["component"]);return d.default.createElement("div",{className:h.default.item},d.default.createElement(m.default,(0,l.default)({},c,{onChange:this.handleChange}),d.default.createElement(f,(0,l.default)({name:"key",placeholder:t("KEY"),readOnly:a},v)),d.default.createElement(y,(0,l.default)({name:"value",placeholder:t("VALUE"),readOnly:a},E))),!a&&d.default.createElement(p.Button,{type:"flat",icon:"trash",className:h.default.delete,onClick:this.handleDelete}))}}]),r}(d.default.Component);a.default=g},function(e,t,a){e.exports={wrapper:"_1w8ePIkY1x3KCnbo42anXD",item:"_1-AS8QgEx-PsQqXbvDNtiP"}},,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(10),a(6),a(27),a(33),a(16),a(8),a(13),a(9),a(4),a(7);var l=n(a(31)),u=n(a(97)),o=r(a(0)),i=a(189),c=n(a(1262));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e){var t=e.component,a=e.index,r=e.value,n=e.arrayValue,l=e.onChange,s=e.onDelete,d=(0,o.useState)(""),p=(0,u.default)(d,2),m=p[0],h=p[1],v=o.default.cloneElement(t,f(f({},t.props),{},{index:a,value:r,onChange:l,arrayValue:n,handleKeyError:function(e){var t,a=null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"";h(a)}}));return o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:c.default.item},v,o.default.createElement(i.Button,{type:"flat",icon:"trash",className:c.default.delete,onClick:s})),""!==m&&o.default.createElement("div",{className:c.default.errorText},m))};t.default=d},,,,,,,function(e,t,a){e.exports={withUnit:"_2d32hkfOO3cYnvAM-MUswq",unit:"_29q45C0afPynal54hwpQfk",buttonWrapper:"Xtv_UB0AENviuvA8Y0gqH",iconUp:"_3YXrySn0XAnhuGzYYrXWeS",iconDown:"_3MtBoqy8WlB29Jb0N9EU1X"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={reason:"_3JDYKrJKhc0_3ccKRTWjbm",condition:"_3QACUKLP4siIkBKdrDW-kH",title:"mzPe8sBOFqw47SGIKPrZW",warning:"ZLc6bv2hKoXfyrevZ2_Ny",error:"HaXzDca7Adqyw5TSX98wt"}},function(e,t,a){e.exports={icon:"xKWloJZ3Pd_PqEaOhl-hT",draft:"_1FxWEU9OOeyTB0kLav72OJ","pending-review":"_2Kgn9QUrQjnMa1DT569nzn","to-be-reviewed":"_3VPGTkZ0kt7VAgF_zap1kx",registering:"_7FkF93kEWAJRkvTtbK4B5",creating:"pAHvZ_RG-pNI_6jkgCeVQ",success:"c57Xl7U2RVqCR7373K4Mb",succeeded:"_1uovlfp6-KF3gEuBuD0MtN",successful:"_14_7RfNWDb4dY6DUEHBcWK",ready:"_2pGjni5nxEU2vEXd5c8x0U",running:"Uef3KaucYEHmxp8kPnl0B",jobrunning:"_38McoUrLPjp-IxlLnUBiEc",active:"_3XNjuuBbvzt53nhrQm-HXj",normal:"_2ra4URWQKS0vxDB4xFYkP-",bound:"NH3CoWdb2O7APR1Sr1c4R",available:"_3dQlBzY-nYntydG9AX_n8V",healthy:"_1o0ijVE-hpfungNxCaztkt",ok:"_1ohxQxwBnkzQG-fZ-j0AJK",working:"_3vbpc3X5L0xtx4UKf_c81L",passed:"_2QJx0oRr3eDpXINTTxA3h7",published:"_26qlXB1G0tFvhUEXtW6VXQ",flicker:"_39HvsLhXibByaMtJ27WhHs",updating:"_3FVXsrClHBDhThI2PxJQYN",upgrading:"kBsjZOQ5i-t3E8e8f_YQc",syncing:"_3RR_2LauQUw9iB0u7_CR9K",building:"_2S5WEGfe2WUT5bji7Nor0B",notrunning:"_1KIbMexH4zSZn9G0zxeGeq",warning:"_6DP37Rv8RsDF7M97fNBOe",waiting:"_34DVpCiM7-LcMXfWSqZR4m",terminating:"_1Ot7k0fjOVvC3D2tNAa93i",released:"_2WmS-sodO7CDopJqPb7sjM",unfinished:"_2Dzk48MF3g0R_BPCEzKcGO",firing:"_2ikw1FbRijNp-VAqeBfZRK",major:"_1kFY7fBc18HVILwtcQmc_i",deleting:"_1L69rMVhNP91YKutMw-AVP",unkown:"sGWVKOHL75adFCSXXdUoH","in-review":"_1HugNUnbiDYQC0VzKzaTcU",deleted:"_3nDdouuEwZUxX2UB90wfmS",error:"_2lZZhetVUZXtG33CrDhb_l",lost:"_3ZCL2CITd4Xxi3Q8iFPQBQ",unschedulable:"OEaAUOBaw8aPhRh-AOvLf",registerfail:"_3jsWOK7bD-HE07g7Oq9Kbf",failed:"_3okAXA7dSs8qB0I83qrEwE",critical:"_1FlFRJJbuB_m4fm1lZbEGJ",rejected:"_1UjeFbT-g4hmr_4MOZUIQt",stopped:"bPGnPwhyY8-Jo2cZZZOdz",disabled:"_1bvTVaQo96kB6ZN5th8QxM",pending:"_2AunMDgw00EAwgZqzui_f_",unknown:"BZvybize4dddT7i4yAkK2",draining:"_2NLYGsCnxwt_PK6UK301R7",unready:"_2r1cncqVBdGqR7Dzrs8k0m",terminated:"_2H0QXOJ6mC1KDfv1nAP6k6",completed:"_21L69zF1m7TdkP-yQNhb6V",minor:"YrT7AztFXvf8WmH3vtwu8",unmanaged:"_1USSsIy-vFUMgFDQXWYeCy",dead:"i8ghS5D_07_EmXcDbaIfB",paused:"_35GVxD7s5Me3ssTcHpu1XA",inactive:"_1Vxh_5eb2cf7P32zp73e7p",suspended:"_3W95J2HteD5RPT_yAIHj1m"}},function(e,t,a){e.exports={wrapper:"_1zRhmhoqa7hKxIDHXtcQBl",icon:"_3zzcn1sJsd8OE2-UlVh5Dt",indicator:"_3_FKNd25UQ1SrtjwfzQsQa",title:"_2EJdDmBbkeOhXJGYqE2ODn",name:"iC7sVV_ohn78d_o-bnIsG",description:"_121vxZTmC4ekgLxeINz_qj",ellipsis:"_2D4Gh4G0EV2qp97eGpO8pA",isExpired:"cAV_fM4HAoL_7N476HQ-8",light:"aSm0o7OnDBr1lwEbEO6Qv",large:"_2oqSS3OkMT7aMTmyO3QDYQ",small:"ThqV9yofYHAOd-P_wF-3F"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(20),r(51),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(51),r(29),r(14),r(4),r(18),r(43),r(11);var u=l(r(97)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=l(r(1)),m=r(189),h=l(r(5)),v=l(r(1270)),g=l(r(1781));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){(0,c.default)(r,e);var a=y(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).renderBadge=function(e){return 0===e.length?null:d.createElement(m.Tooltip,{placement:"top",appendToBody:!0,content:d.createElement("div",null,d.createElement("div",null,t("TAG_PL")),d.createElement("div",{className:g.default.clusterTags},e.map((function(e){return d.createElement(v.default,{label:e.label,value:e.value,key:e.name,name:e.name,isTooltipContent:!0})}))))},d.createElement("div",{className:g.default.clusterTagBadge},e.length))},n.state={},n}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,t=e.data,a=void 0===t?[]:t,r=e.empty,n=void 0===r?null:r,l=e.className;if(!a.length)return n;var o=(0,u.default)(a,2),i=o[0],c=o[1];return d.createElement("div",{className:(0,h.default)(g.default.clusterTagGroup,l)},d.createElement(v.default,{label:i.label,value:i.value,name:i.name}),c&&d.createElement(v.default,{label:c.label,value:c.value,name:c.name}),this.renderBadge(a.slice(2)))}}]),r}(d.Component);a.default=E,E.propTypes={data:p.default.array.isRequired,empty:p.default.string||p.default.node}},function(e,t,a){e.exports={clusterTagItem:"_1Q7rwPOhBP9jpE1scnut6x",widthAuto:"_1iwFaLEvI9T6zsLlm3NWlG",value:"u6uS4fhlcySlTOFIPdqCk",label:"_87mgRCx8MOXgJ8rULXPjp"}},function(e,t,a){e.exports={clusterTags:"CcPncW5maLpzZvqskDkjT",clusterTagGroup:"_3xp0pO3VIF5DziKwwF9VQl",clusterTagBadge:"_2fanZ0SjwMsi2lF0bCsr3y"}},function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(3),r(10),r(44),r(6),r(36),r(20),r(51),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(328),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(36),r(20),r(27),r(51),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(328),r(46),r(469),r(470),r(471),r(472),r(473),r(474),r(475),r(7),r(40);var u=l(r(31)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=l(r(58)),p=l(r(1274)),m=n(r(0)),h=l(r(1)),v=r(189),g=l(r(1783)),y=l(r(26)),E=l(r(811)),b=l(r(850)),O=r(905),S=l(r(1784));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var R=function(e){var a=e.value;return(0,b.default)(a,"name").length===a.length?{Ok:!0,value:a}:{Ok:!1,message:t("HAS_SAME_TAG")}};function N(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var n=a,l=e;do{var u=n,o=(0,p.default)(u),i=o[0],c=o.slice(1);if(!l.Ok)return l;l=i(l),n=c}while(n.length);return l}var D=function(e){(0,c.default)(r,e);var a=k(r);function r(e){var n;(0,o.default)(this,r),(n=a.call(this,e)).handleDelete=function(e){var t=n.state.value,a=(void 0===t?[]:t).filter((function(t){return t.name!==e.name}));n.setState({value:a}),n.props.onChange(a)},n.handleClick=function(){var e=n.props,a=e.onChange,r=e.tags,l=void 0===r?[]:r,u=e.tagsGroup,o=n.state,i=o.value,c=void 0===i?[]:i,s=o.message,f=n.formRef.current.getData();n.formRef.current.validate((function(){var e,r,o=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=a.map((function(e){return function(a){var r,n,l;return(null!==(r=e.tags)&&void 0!==r?r:[]).length>=5||new Set((null!==(n=e.tags)&&void 0!==n?n:[]).concat(a.value).map((function(e){return e.name}))).size>5?{Ok:!1,message:t.html("CLUSTER_MAX_TAGS_DESC",{cluster:e.name})}:(0,g.default)(a.value,null!==(l=e.tags)&&void 0!==l?l:[],(function(e,t){return e.name===t.name})).length?a:{Ok:!1,message:t.html("HAS_SAME_TAG")}}}));return N.apply(void 0,[{Ok:!0,value:e},R].concat((0,d.default)(r)))}([].concat((0,d.default)(c),[_(_({},f),{},{value:null===(e=u[f.label])||void 0===e||null===(r=e.find((function(e){return e.id===f.name})))||void 0===r?void 0:r.value})]),l);o.Ok||(0,E.default)(s,o.message)||n.setState({message:o.message}),o.Ok&&(o=o.value,n.setState({value:o,message:""}),a&&a(o))}))},n.handleLabelChange=function(e){n.setState({k:e,v:""})};var l=e.value||[];return n.formRef=m.createRef(),n.state={value:l,k:void 0,v:void 0},n}return(0,i.default)(r,[{key:"componentDidUpdate",value:function(e,t){t.message===this.state.message&&this.state.message&&this.setState({message:""})}},{key:"render",value:function(){var e=this,a=this.state,r=a.value,n=void 0===r?[]:r,l=a.k,u=a.v,o=a.message,i=this.props,c=i.onAddTags,s=i.defaultValue,f=i.tagsGroup,d=f[l]||[],p=Object.keys(f);return m.createElement("div",{className:S.default.wrapper},m.createElement(v.Form,{ref:this.formRef},m.createElement("div",{className:S.default.addContainer},m.createElement(v.Form.Item,{rules:[{required:!0,message:t("EMPTY_TAG_LABEL_DESC")}]},m.createElement(v.Select,{defaultValue:l,name:"label",placeholder:t("KEY"),options:p.map((function(e){return{label:e,value:e}})),onChange:this.handleLabelChange})),m.createElement(v.Form.Item,{rules:[{required:!0,message:t("EMPTY_TAG_VALUE_DESC")}]},m.createElement(v.Select,{defaultValue:u,name:"name",onChange:function(t){e.setState({v:t})},placeholder:t("VALUE"),options:d.map((function(e){return{label:e.value,value:e.id}}))})),(null!=n?n:[]).length>=5?m.createElement(v.Tooltip,{content:t("CLUSTER_MAX_TAGS_DESC")},m.createElement("div",null,m.createElement(v.Button,{disabled:!0},t("ADD")))):m.createElement(v.Button,{onClick:this.handleClick},t("ADD"))),o&&m.createElement("span",{className:"form-item-error margin-t8 inline-block"},o)),m.createElement("div",{className:S.default.title},t("HAS_ADD_TAGS")),m.createElement("div",{className:S.default.tags},n.map((function(t){return m.createElement(O.ClusterTagItem,{label:t.label,value:t.value,name:t.name,key:t.name,onDelete:s.find((function(e){return e.name===t.name}))?void 0:e.handleDelete})}))),"platform-admin"===(0,y.default)(window,"globals.user.globalrole","")&&m.createElement("div",{className:S.default.footer},m.createElement("span",null,t("CLUSTER_TAG_ADD_HELP"))," ",m.createElement("span",{onClick:c,className:S.default.action},t("CREATE_TAGS"))))}}]),r}(m.Component);a.default=D,D.propTypes={value:h.default.array,defaultValue:h.default.array,onChange:h.default.func,tagsGroup:h.default.object.isRequired,onAddTags:h.default.func,tags:h.default.array}},,function(e,t,a){e.exports={wrapper:"_1nxmlNUOXDLQhexMk3xnhN",addContainer:"_183GQn1S0N9yB4yWFUBaqx",title:"_24gI1L4pZoVwd6MV72rRRM",tags:"_1QjI7AUfMY3w_Ull_93-SC",footer:"zFqrx4HhkwBbkvyYfrbi1",action:"Vaa_9_FeE4sVQqojNsuGH"}},,,,,,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(20),r(9),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(20),r(29),r(9),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(449)),m=n(r(5)),h=r(61),v=n(r(879)),g=n(r(851)),y=n(r(852)),E=n(r(925)),b=n(r(853)),O=n(r(871)),S=n(r(1833));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var _=function(e){(0,i.default)(r,e);var a=C(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.renderTitle;return r?r():f.default.createElement("div",{className:S.default.title},"".concat(t(a)," ").concat(this.lastValue))}},{key:"renderArea",value:function(){var e=this.props,t=e.unit,a=e.areaColors,r=e.renderArea;return r?r():this.series.map((function(e,r){var n=h.COLORS_MAP[a[r]];return f.default.createElement(v.default,{key:e,dataKey:e,stroke:n,fillOpacity:"0.1",fill:n,unit:t})}))}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,r=e.bgColor,n=e.xKey,u=e.data,o=e.darkMode;return f.default.createElement("div",{className:(0,m.default)(S.default.chart,(0,l.default)({},S.default.dark,o)),style:{width:t,height:a,background:r}},this.renderTitle(),f.default.createElement(b.default,{width:"100%",height:"100%",debounce:1},f.default.createElement(E.default,{data:u,margin:{top:30,left:0,right:0,bottom:0}},f.default.createElement(y.default,{dataKey:n,hide:!0}),f.default.createElement(g.default,{wrapperStyle:{zIndex:1e3},cursor:{stroke:h.COLORS_MAP.dark,strokeDasharray:"3,2",strokeWidth:2},content:f.default.createElement(O.default,null)}),this.renderArea())))}},{key:"series",get:function(){var e=this.props,t=e.xKey,a=e.data;return Object.keys(a[0]||{}).filter((function(e){return e!==t}))}},{key:"lastValue",get:function(){var e=this.props,t=e.unit,a=e.data,r=this.series;return 1===r.length?"".concat((0,p.default)(a)[r[0]]," ").concat(t):""}}]),r}(f.default.Component);a.default=_,_.propTypes={width:d.default.oneOfType([d.default.string,d.default.number]),height:d.default.oneOfType([d.default.string,d.default.number]),title:d.default.string,xKey:d.default.string,unit:d.default.string,data:d.default.array,bgColor:d.default.string,areaColors:d.default.array,renderTitle:d.default.func,renderArea:d.default.func,darkMode:d.default.bool},_.defaultProps={width:180,height:56,title:"Title",xKey:"time",unit:"",bgColor:h.COLORS_MAP.lightest,areaColors:["green","blue","yellow","red"],data:[],darkMode:!1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={tooltip:"_2o-FPsZWo_tejfulidLyXN",label:"_14UOFErBhWS51I2ueymzb1",item:"_1ZRF-l-daK6mBpxVp4rWVy"}},function(e,t,a){e.exports={chart:"_1sjDK5GdPxFAEmfUxCI1LV",title:"_2xqrjvSLAex97qiOzpHRqy",dark:"jzlxuWnFI3sN_bACtVOG0"}},function(e,a,r){"use strict";r(16);var n=r(19);r(10),r(20),r(9),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(10),r(20),r(29),r(9),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(26)),p=n(r(449)),m=n(r(67)),h=r(61),v=n(r(879)),g=n(r(851)),y=n(r(852)),E=n(r(925)),b=n(r(853)),O=n(r(871)),S=r(56),C=r(189),_=n(r(1835));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var R=function(e){(0,o.default)(r,e);var a=k(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"renderFilters",value:function(){var e=this.props.filters;return e?s.default.createElement("div",{className:_.default.filters,onClick:function(e){e.stopPropagation()}},s.default.createElement(C.Select,e)):null}},{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.unit,n=e.renderTitle;if(!e.noTitle){if(n)return n();var l=(0,S.coreUnitTS)(this.lastValue,r);return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:_.default.title},s.default.createElement("span",null,s.default.createElement("strong",null,this.lastValue)," ",t(l)),1===this.lastValue||r?t(a):t("".concat(a,"_PL"))),this.renderFilters())}}},{key:"renderArea",value:function(){var e=this.props,t=e.unit,a=e.areaColors,r=e.renderArea;return r?r():this.series.map((function(e,r){var n=h.COLORS_MAP[a[r]];return s.default.createElement(v.default,{key:e,dataKey:e,stroke:n,fillOpacity:"0.1",fill:n,unit:t})}))}},{key:"render",value:function(){var e=this.props,a=e.width,r=e.height,n=e.xKey,l=e.data,u=e.top;return s.default.createElement("div",{className:_.default.chart,style:{width:a,height:r}},this.renderTitle(),(0,m.default)(l)?s.default.createElement("p",{className:_.default.noData},t("NO_DATA")):s.default.createElement(b.default,{width:"100%",height:"100%",debounce:1},s.default.createElement(E.default,{data:l,margin:{top:u,left:4,right:4,bottom:4}},s.default.createElement(y.default,{dataKey:n,hide:!0}),s.default.createElement(g.default,{wrapperStyle:{zIndex:1e3},cursor:{stroke:h.COLORS_MAP.dark,strokeDasharray:"3,2",strokeWidth:2},content:s.default.createElement(O.default,null)}),this.renderArea())))}},{key:"series",get:function(){var e=this.props,t=e.xKey,a=e.data;return Object.keys(a[0]||{}).filter((function(e){return e!==t}))}},{key:"lastValue",get:function(){var e,t,a=this.props.data,r=(0,d.default)(this.series,[0],"");return null!==(e=null===(t=(0,p.default)(a))||void 0===t?void 0:t[r])&&void 0!==e?e:0}}]),r}(s.default.Component);a.default=R,R.propTypes={width:f.default.oneOfType([f.default.string,f.default.number]),height:f.default.oneOfType([f.default.string,f.default.number]),title:f.default.string,xKey:f.default.string,unit:f.default.string,data:f.default.array,areaColors:f.default.array,renderTitle:f.default.func,renderArea:f.default.func,top:f.default.number},R.defaultProps={width:280,height:100,title:"Title",xKey:"time",unit:"",areaColors:["green","blue","yellow","red","orange"],data:[],top:45}},function(e,t,a){e.exports={chart:"_2JJzTXT7f7IRE6NiIfNZwA",noData:"_3G18zHWAx-cv-EtIKep5u5",filters:"_1SpSoOfPZcy-3qfjpvHrTK",title:"_3hk5WanipERYCfYDNf8FS9"}},function(e,a,r){"use strict";r(16);var n=r(19);r(70),r(20),r(4),r(18),r(143),r(30),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(70),r(20),r(27),r(29),r(4),r(18),r(43),r(143),r(251),r(30),r(252),r(195),r(11),r(73);var l=n(r(317)),u=n(r(58)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=n(r(811)),v=n(r(67)),g=n(r(884)),y=r(61),E=n(r(1292)),b=n(r(895)),O=n(r(879)),S=n(r(851)),C=n(r(883)),_=n(r(852)),k=n(r(882)),R=n(r(907)),N=n(r(925)),D=n(r(853)),T=n(r(987)),P=n(r(871)),w=r(988),I=n(r(1839));function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var A=function(e){(0,c.default)(r,e);var a=M(r);function r(e){var n;(0,o.default)(this,r),(n=a.call(this,e)).handleLegendClick=function(e,t){var a=(0,u.default)(n.state.activeSeries);a.includes(t)?(0,g.default)(a,(function(e){return e===t})):a.push(t),n.setState({activeSeries:a})},n.tickFormatter=function(e){return e<=0?"":e>1e5?"".concat(Math.round(e/1e3),"k"):e},n.getAlertLabel=function(){var e=n.props,a=e.unit,r=e.alert;return"core"===a?t("VALUE_CORES",{value:r.value}):t("VALUE_UNIT",{value:r.value,unit:a})};var l=(0,w.getActiveSeries)(e);return n.state={series:l,activeSeries:l},n}return(0,i.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.unit,n=e.renderTitle,l=n?n():(0,v.default)(r)?t(a):t("TITLE_UNIT",{title:t(a),unit:r});return d.default.createElement("div",{className:I.default.title},l)}},{key:"renderCustomTooltip",value:function(){var e=this.props,t=e.renderTooltip,a=e.isTranslate,r=e.alert;return t?t():d.default.createElement(P.default,{alert:r,isTranslate:a})}},{key:"renderLegend",value:function(){return d.default.createElement(k.default,{wrapperStyle:{top:0,left:"auto",right:0,width:"80%",zIndex:100},content:d.default.createElement(T.default,{isTranslate:this.props.isTranslate,showAll:this.props.showAll,extraLegend:this.props.extraLegend,activeSeries:this.state.activeSeries,onClick:this.handleLegendClick})})}},{key:"renderArea",value:function(){var e=this.props,t=e.unit,a=e.areaColors,r=e.yAxisId,n=this.state,u=n.series,o=n.activeSeries;return u.map((function(e,n){var u=a[n],i=y.COLORS_MAP[u]||u,c={fill:i,fillOpacity:.1};return new RegExp("^".concat(r)).test(e)&&(c.yAxisId=r),d.default.createElement(O.default,(0,l.default)({key:e,dataKey:e,stroke:i,activeDot:d.default.createElement(b.default,{r:4,stroke:"#fff",strokeWidth:1,fill:i,fillOpacity:1}),unit:t,hide:!o.includes(e),connectNulls:!0},c))}))}},{key:"render",value:function(){var e=this.props,a=e.theme,r=e.width,n=e.height,u=e.xKey,o=e.data,i=e.alert,c=e.xAxis,s=e.yAxis,f=e.yAxisId,p=e.showReferenceLabel,h=e.referenceLineColor,g=(0,m.default)(I.default.chart,"chart","chart-".concat(a));return d.default.createElement("div",{className:g,style:{width:r,height:n}},this.renderTitle(),(0,v.default)(o)?d.default.createElement("p",{className:I.default.noData},t("NO_DATA")):d.default.createElement(D.default,{width:r,height:n,debounce:1},d.default.createElement(N.default,{data:o,margin:{top:42,bottom:-20,left:13,right:13}},d.default.createElement(R.default,{stroke:"#d8dee5",strokeDasharray:"2 2",vertical:!1}),d.default.createElement(_.default,(0,l.default)({height:40,dataKey:u,axisLine:!1,tickLine:!1,interval:"preserveStartEnd",minTickGap:60,tickMargin:12},c)),d.default.createElement(C.default,(0,l.default)({width:45,axisLine:!1,tickLine:!1,tickFormatter:this.tickFormatter},s)),f&&d.default.createElement(C.default,(0,l.default)({width:45,axisLine:!1,tickLine:!1,yAxisId:f,orientation:"right",tickFormatter:this.tickFormatter},s)),d.default.createElement(S.default,{wrapperStyle:{zIndex:9999},content:this.renderCustomTooltip()}),this.renderLegend(),this.renderArea(),!(0,v.default)(i)&&d.default.createElement(E.default,{y:i.value,label:p?this.getAlertLabel():void 0,stroke:y.COLORS_MAP[h],strokeDasharray:"3,2",isFront:!0}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=(0,w.getActiveSeries)(e);return(0,h.default)(a,t.series)?null:{series:a,activeSeries:a}}}]),r}(d.default.Component);a.default=A,A.propTypes={theme:p.default.oneOf(["light","dark"]),width:p.default.oneOfType([p.default.string,p.default.number]),height:p.default.oneOfType([p.default.string,p.default.number]),title:p.default.string,xKey:p.default.string,unit:p.default.string,data:p.default.array,bgColor:p.default.string,areaColors:p.default.array,renderTitle:p.default.func,renderTooltip:p.default.func,showReferenceLabel:p.default.bool,referenceLineColor:p.default.string},A.defaultProps={theme:"light",width:"100%",height:200,title:"Title",xKey:"time",unit:"",showAll:!1,bgColor:y.COLORS_MAP.lightest,areaColors:["green","blue","yellow","red","darkestGreen","darkestBlue","darkestYellow","darkestRed","lightestGreen","lightestBlue","lightestYellow","lightestRed"],data:[],showReferenceLabel:!0,referenceLineColor:"red"}},,function(e,t,a){e.exports={legend:"_1XlEXrqD889UqrbxHe-xEK",hide:"_23CvRZz1mMETc8Jy-6Img-",item:"_2baEObAQ1E-zKBmLZq7s1k",inactive:"_25hh9t3akE-oo7U9r1Ixur"}},function(e,t,a){e.exports={chart:"_2HFgq9kor6lheR0Vhq4sCI",noData:"_2qhnE0KRQA256rWeRH5z2W",title:"_2ArqqbIO8eulO-vuy6Ulu2"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(70),r(20),r(51),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(70),r(20),r(27),r(51),r(29),r(4),r(18),r(43),r(11),r(73);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(67)),h=n(r(884)),v=r(61),g=n(r(895)),y=n(r(879)),E=n(r(851)),b=n(r(883)),O=n(r(852)),S=n(r(882)),C=n(r(907)),_=n(r(925)),k=n(r(853)),R=n(r(987)),N=n(r(871)),D=r(988),T=r(803),P=n(r(1841));function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var I=function(e){(0,i.default)(r,e);var a=w(r);function r(e){var t;(0,u.default)(this,r),(t=a.call(this,e)).handleLegendClick=function(e,a){var r=(0,l.default)(t.state.activeSeries);r.includes(a)?(0,h.default)(r,(function(e){return e===a})):r.push(a),t.setState({activeSeries:r})};var n=(0,D.getActiveSeries)(e);return t.state={series:n.slice(0,e.maxSeries),activeSeries:n.slice(0,e.maxActiveSeries)},t}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e){if(e.data.length!==this.props.data.length||e.id!==this.props.id){var t=(0,D.getActiveSeries)(this.props);this.setState({series:t.slice(0,this.props.maxSeries),activeSeries:t.slice(0,this.props.maxActiveSeries)})}}},{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.unit,n=e.renderTitle,l=n?n():(0,m.default)(r)?t(a):"".concat(t(a)," (").concat(t(r),")");return f.default.createElement("div",{className:P.default.title},l)}},{key:"renderCustomTooltip",value:function(){var e=this.props,t=e.renderTooltip,a=e.tailText;return t?t():f.default.createElement(N.default,{tailText:a})}},{key:"renderLegend",value:function(){return f.default.createElement(S.default,{wrapperStyle:{zIndex:100,left:24},content:f.default.createElement(R.default,{className:P.default.legend,activeSeries:this.state.activeSeries,showAll:!0,onClick:this.handleLegendClick})})}},{key:"renderArea",value:function(){var e=this.props,t=e.unit,a=e.areaColors,r=e.renderArea,n=this.state,l=n.series,u=n.activeSeries;return r?r():l.map((function(e,r){var n=a[r],l=v.COLORS_MAP[n]||n;return f.default.createElement(y.default,{key:e,dataKey:e,stroke:l,fill:"url(#".concat(n,"-area)"),activeDot:f.default.createElement(g.default,{r:4,stroke:"#fff",strokeWidth:1,fill:l,fillOpacity:1}),unit:t,hide:!u.includes(e)})}))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.width,r=e.height,n=e.xKey,l=e.data,u=(0,p.default)(P.default.chart,"chart","chart-".concat(t));return f.default.createElement("div",{className:u,style:{width:a,height:r}},this.renderTitle(),f.default.createElement(k.default,{debounce:1},f.default.createElement(_.default,{data:l,margin:{top:50,bottom:0,left:0,right:25}},f.default.createElement(C.default,{stroke:"#d8dee5",strokeDasharray:"2 3",vertical:!1}),f.default.createElement(O.default,{dataKey:n,axisLine:!1,tickLine:!1}),f.default.createElement(b.default,{width:60,axisLine:!1,tickLine:!1,tickFormatter:function(e){return e<=0?"":(0,T.getSuitableValue)(e,"number")}}),f.default.createElement(E.default,{wrapperStyle:{zIndex:101,pointerEvents:"auto"},cursor:{stroke:v.COLORS_MAP["dark"===t?"lightest":"dark"],strokeDasharray:"3,2",strokeWidth:2},content:this.renderCustomTooltip()}),this.renderLegend(),this.renderArea())))}}]),r}(f.default.Component);a.default=I,I.propTypes={theme:d.default.oneOf(["light","dark"]),width:d.default.oneOfType([d.default.string,d.default.number]),height:d.default.oneOfType([d.default.string,d.default.number]),title:d.default.string,xKey:d.default.string,unit:d.default.string,data:d.default.array,maxSeries:d.default.number,maxActiveSeries:d.default.number,areaColors:d.default.array,renderTitle:d.default.func,renderTooltip:d.default.func,renderArea:d.default.func,id:d.default.string},I.defaultProps={theme:"light",width:"100%",height:220,title:"Title",xKey:"time",maxSeries:50,maxActiveSeries:6,unit:"",areaColors:["green","blue","yellow","red","darkestGreen","darkestBlue","darkestYellow","darkestRed","lightestGreen","lightestBlue","lightestYellow","lightestRed"],data:[],id:""}},function(e,t,a){e.exports={chart:"DMLRKPRlM-592oxpl01Ux",title:"_2ndg87suV5PGHdzT74mCy1",legend:"KRlAbphv7IhurquDMCYe6"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(70),r(20),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(70),r(20),r(27),r(29),r(4),r(18),r(43),r(11),r(73);var l=n(r(317)),u=n(r(58)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=n(r(67)),v=n(r(811)),g=n(r(884)),y=r(61),E=n(r(895)),b=n(r(879)),O=n(r(851)),S=n(r(883)),C=n(r(852)),_=n(r(882)),k=n(r(907)),R=n(r(925)),N=n(r(853)),D=n(r(987)),T=n(r(871)),P=r(988),w=n(r(1843));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var M=function(e){(0,c.default)(r,e);var a=I(r);function r(e){var t;(0,o.default)(this,r),(t=a.call(this,e)).handleLegendClick=function(e,a){var r=(0,u.default)(t.state.activeSeries);r.includes(a)?(0,g.default)(r,(function(e){return e===a})):r.push(a),t.setState({activeSeries:r})};var n=(0,P.getActiveSeries)(e);return t.state={series:n,activeSeries:n},t}return(0,i.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.unit,n=e.renderTitle,l=n?n():(0,h.default)(r)?t(a):"".concat(t(a)," (").concat(t(r),")");return d.default.createElement("div",{className:w.default.title},l)}},{key:"renderLegend",value:function(){return d.default.createElement(_.default,{wrapperStyle:{top:0,left:"auto",right:0,width:"70%",zIndex:1001},content:d.default.createElement(D.default,{activeSeries:this.state.activeSeries,onClick:this.handleLegendClick})})}},{key:"renderArea",value:function(){var e=this.props,t=e.unit,a=e.areaColors,r=e.renderArea,n=this.state,u=n.series,o=n.activeSeries;return r?r():u.map((function(e,r){var n=a[r],i=y.COLORS_MAP[n]||n,c=!o.includes(e),s={key:e,dataKey:e,stroke:i,activeDot:d.default.createElement(E.default,{r:4,stroke:"#fff",strokeWidth:1,fill:i,fillOpacity:1}),unit:t,hide:c};return r===u.length-1?d.default.createElement(b.default,(0,l.default)({},s,{strokeDasharray:"3, 2",fillOpacity:0})):d.default.createElement(b.default,(0,l.default)({},s,{strokeWidth:0,fill:i,fillOpacity:.7}))}))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.width,r=e.height,n=e.xKey,l=e.data,u=(0,m.default)(w.default.chart,"chart","chart-".concat(t));return d.default.createElement("div",{className:u,style:{width:a,height:r}},this.renderTitle(),d.default.createElement(N.default,{width:"100%",height:"100%",debounce:1},d.default.createElement(R.default,{data:l,margin:{top:50,bottom:-20,left:0,right:20}},d.default.createElement(k.default,{stroke:"#d8dee5",strokeDasharray:"2 3",vertical:!1}),d.default.createElement(C.default,{dataKey:n,axisLine:!1,tickLine:!1}),d.default.createElement(S.default,{width:45,axisLine:!1,tickLine:!1,tickFormatter:function(e){return e>0?e:""}}),d.default.createElement(O.default,{wrapperStyle:{zIndex:1e3},cursor:{stroke:y.COLORS_MAP["dark"===t?"lightest":"dark"],strokeDasharray:"3,2",strokeWidth:2},content:d.default.createElement(T.default,null)}),this.renderLegend(),this.renderArea())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=(0,P.getActiveSeries)(e);return(0,v.default)(a,t.series)?null:{series:a,activeSeries:a}}}]),r}(d.default.Component);a.default=M,M.propTypes={theme:p.default.oneOf(["light","dark"]),width:p.default.oneOfType([p.default.string,p.default.number]),height:p.default.oneOfType([p.default.string,p.default.number]),title:p.default.string,xKey:p.default.string,unit:p.default.string,data:p.default.array,areaColors:p.default.array,renderTitle:p.default.func,renderArea:p.default.func},M.defaultProps={theme:"light",width:"100%",height:200,title:"Title",xKey:"time",unit:"",areaColors:["lighterRed","lightestYellow","blue","dark"],data:[]}},function(e,t,a){e.exports={chart:"_3h-t0hKcP-Ao4nr8At-NOt",title:"m7sH_qo102jJOrFsmprfd"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(70),r(20),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(70),r(20),r(27),r(29),r(4),r(18),r(43),r(11),r(73);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(67)),h=n(r(811)),v=n(r(884)),g=r(61),y=n(r(950)),E=n(r(851)),b=n(r(883)),O=n(r(852)),S=n(r(882)),C=n(r(907)),_=n(r(1108)),k=n(r(853)),R=n(r(987)),N=n(r(871)),D=r(988),T=n(r(1845));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var w=function(e){(0,i.default)(r,e);var a=P(r);function r(e){var t;(0,u.default)(this,r),(t=a.call(this,e)).handleLegendClick=function(e,a){var r=(0,l.default)(t.state.activeSeries);r.includes(a)?(0,v.default)(r,(function(e){return e===a})):r.push(a),t.setState({activeSeries:r})};var n=(0,D.getActiveSeries)(e);return t.state={series:n,activeSeries:n},t}return(0,o.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.unit,n=e.renderTitle,l=n?n():(0,m.default)(r)?t(a):"".concat(t(a)," (").concat(r,")");return f.default.createElement("div",{className:T.default.title},l)}},{key:"renderLegend",value:function(){return f.default.createElement(S.default,{wrapperStyle:{top:0,left:"auto",right:0,width:"70%",zIndex:1001},content:f.default.createElement(R.default,{activeSeries:this.state.activeSeries,onClick:this.handleLegendClick})})}},{key:"renderBar",value:function(){var e=this,t=this.props,a=t.unit,r=t.areaColors,n=t.renderBar;return n?n():this.series.map((function(t,n){var l=r[n],u=g.COLORS_MAP[l]||l;return f.default.createElement(y.default,{key:t,dataKey:t,stroke:u,fill:"url(#".concat(l,"-area)"),unit:a,hide:!e.state.activeSeries.includes(t)})}))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.width,r=e.height,n=e.xKey,l=e.data,u=(0,p.default)(T.default.chart,"chart","chart-".concat(t));return f.default.createElement("div",{className:u,style:{width:a,height:r}},this.renderTitle(),f.default.createElement(k.default,{width:"100%",height:"100%",debounce:1},f.default.createElement(_.default,{data:l,margin:{top:50,bottom:-20,left:0,right:20}},f.default.createElement(C.default,{stroke:"#d8dee5",strokeDasharray:"2 3",vertical:!1}),f.default.createElement(O.default,{dataKey:n,axisLine:!1,tickLine:!1}),f.default.createElement(b.default,{width:45,axisLine:!1,tickLine:!1,tickFormatter:function(e){return e>0?e:""}}),f.default.createElement(E.default,{wrapperStyle:{zIndex:1e3},cursor:"dark"===t?{fill:g.COLORS_MAP.lightest,fillOpacity:.2}:{fill:g.COLORS_MAP.grey},content:f.default.createElement(N.default,null)}),this.renderLegend(),this.renderBar())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=(0,D.getActiveSeries)(e);return(0,h.default)(a,t.series)?null:{series:a,activeSeries:a}}}]),r}(f.default.Component);a.default=w,w.propTypes={theme:d.default.oneOf(["light","dark"]),width:d.default.oneOfType([d.default.string,d.default.number]),height:d.default.oneOfType([d.default.string,d.default.number]),title:d.default.string,xKey:d.default.string,unit:d.default.string,data:d.default.array,areaColors:d.default.array,renderTitle:d.default.func,renderBar:d.default.func},w.defaultProps={theme:"light",width:"100%",height:200,title:"Title",xKey:"time",unit:"",areaColors:["green","blue","yellow"],data:[]}},function(e,t,a){e.exports={chart:"_12oj79UOFmAu5q6GiNUsq2",title:"_1cs-znnZFCTeUErbjSD6Ed"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(70),r(20),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(70),r(20),r(27),r(29),r(4),r(18),r(43),r(11),r(73);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(67)),h=n(r(811)),v=n(r(884)),g=r(61);r(1109);var y=n(r(950)),E=n(r(851)),b=n(r(883)),O=n(r(852)),S=n(r(882)),C=n(r(907)),_=n(r(1108)),k=n(r(853)),R=n(r(987)),N=n(r(871)),D=r(988),T=n(r(1897));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var w=function(e){(0,i.default)(r,e);var a=P(r);function r(e){var t;(0,u.default)(this,r),(t=a.call(this,e)).getBarSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length<=20?20:8},t.handleLegendClick=function(e,a){var r=(0,l.default)(t.state.activeSeries);r.includes(a)?(0,v.default)(r,(function(e){return e===a})):r.push(a),t.setState({activeSeries:r})};var n=(0,D.getActiveSeries)(e);return t.state={series:n,activeSeries:n},t}return(0,o.default)(r,[{key:"renderTitle",value:function(){var e=this.props,a=e.title,r=e.unit,n=e.renderTitle,l=n?n():(0,m.default)(r)?t(a):"".concat(t(a)," (").concat(r,")");return f.default.createElement("div",{className:T.default.title},l)}},{key:"renderLegend",value:function(){return f.default.createElement(S.default,{wrapperStyle:{top:0,left:"auto",right:0,width:"70%",zIndex:1001},content:f.default.createElement(R.default,{activeSeries:this.state.activeSeries,onClick:this.handleLegendClick})})}},{key:"renderBar",value:function(){var e=this,t=this.props,a=t.unit,r=t.areaColors,n=t.renderBar,l=this.state,u=l.series,o=l.activeSeries;return n?n():u.map((function(t,n){var l=r[n],u=g.COLORS_MAP[l]||l,i=e.getBarSize(e.series),c=0===n?[0,0,2,2]:n===e.series.length-1?[2,2,0,0]:null;return f.default.createElement(y.default,{key:t,dataKey:t,stackId:"series",barSize:i,stroke:u,strokeWidth:0,fill:u,radius:c,unit:a,hide:!o.includes(t)})}))}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.width,r=e.height,n=e.xKey,l=e.data,u=(0,p.default)(T.default.chart,"chart","chart-".concat(t));return f.default.createElement("div",{className:u,style:{width:a,height:r}},this.renderTitle(),f.default.createElement(k.default,{width:"100%",height:"100%",debounce:1},f.default.createElement(_.default,{data:l,margin:{top:50,bottom:-20,left:0,right:20}},f.default.createElement(C.default,{stroke:"#d8dee5",strokeDasharray:"2 3",vertical:!1}),f.default.createElement(O.default,{dataKey:n,axisLine:!1,tickLine:!1}),f.default.createElement(b.default,{width:45,axisLine:!1,tickLine:!1,tickFormatter:function(e){return e>0?e:""}}),f.default.createElement(E.default,{wrapperStyle:{zIndex:1e3},cursor:"dark"===t?{fill:g.COLORS_MAP.lightest,fillOpacity:.2}:{fill:g.COLORS_MAP.grey},content:f.default.createElement(N.default,null)}),this.renderLegend(),this.renderBar())))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=(0,D.getActiveSeries)(e);return(0,h.default)(a,t.series)?null:{series:a,activeSeries:a}}}]),r}(f.default.Component);a.default=w,w.propTypes={theme:d.default.oneOf(["light","dark"]),width:d.default.oneOfType([d.default.string,d.default.number]),height:d.default.oneOfType([d.default.string,d.default.number]),title:d.default.string,xKey:d.default.string,unit:d.default.string,data:d.default.array,areaColors:d.default.array,renderTitle:d.default.func,renderBar:d.default.func},w.defaultProps={theme:"light",width:"100%",height:200,title:"Title",xKey:"time",unit:"",areaColors:["green","blue","yellow"],data:[]}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={chart:"_23-9y13KSLTiB9ATkXvt6C",title:"_2tAARTBPZ1UnWw3S1J1rbq"}},function(e,a,r){"use strict";var n=r(19);r(12),r(837),r(10),r(6),r(20),r(193),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(837),r(10),r(6),r(20),r(27),r(29),r(193),r(33),r(16),r(8),r(13),r(9),r(4),r(440),r(18),r(43),r(11),r(7);var l=n(r(58)),u=n(r(31)),o=n(r(317)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(1)),h=n(r(5)),v=n(r(26)),g=n(r(67)),y=r(803);r(1109);var E=n(r(882)),b=n(r(851)),O=n(r(1032)),S=n(r(990)),C=n(r(1037)),_=n(r(853)),k=n(r(1899));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var T=function(e){(0,s.default)(r,e);var a=D(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).getRate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return n.total?(n.value/n.total*100).toFixed(e):0},n.getPrimaryColor=function(e){var t=e||{},a=t.areaColors,r=t.active,l=t.showRate,u=t.fixedColor,o=t.rateNum,i=n.getRate(o),c=(0,v.default)(a,[0],"#fff");return l&&!u&&(r&&(c="white"),i>=80&&(c="yellow"),i>=90&&(c="red")),c},n.getFills=function(e){var t=e||{},a=t.areaColors,r=t.active,l={fill:(0,y.getColorByName)(n.getPrimaryColor(e))},u=a[1]||l.fill;return{activeFill:l,totalFill:r?{fill:"#fff",fillOpacity:.4}:{fill:(0,y.getColorByName)(u),fillOpacity:a[1]?1:.2}}},n.getData=function(){return[{name:n.props.legend[0],value:n.value},{name:"Remaining",value:n.remain}]},n.renderActiveShape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cx,a=e.cy,r=e.innerRadius,l=e.outerRadius,u=e.startAngle,i=e.endAngle;return p.default.createElement("g",null,p.default.createElement(O.default,(0,o.default)({cx:t,cy:a,innerRadius:r,outerRadius:l,startAngle:u,endAngle:i},n.state.activeFill)))},n.renderTooltip=function(e){if(!e.active)return null;var a=n.props,r=a.title,l=a.legend,u=a.unit,o=a.value,i=a.total,c=a.showRate,s=a.rateNum,f=a.isShowTotalTooltip,d="%"===u?"%":" ".concat(u),m=c&&" (".concat(n.getRate(s),"%)");return p.default.createElement("div",{className:k.default.tooltip},p.default.createElement("div",{className:k.default.label},t(r)),p.default.createElement("div",{className:k.default.list},p.default.createElement("div",{className:k.default.item},p.default.createElement("i",{style:{background:n.state.activeFill.fill}}),p.default.createElement("label",null,t(l[0]),":"),p.default.createElement("p",null,o,d,m)),f&&p.default.createElement("div",{className:k.default.item},p.default.createElement("i",{style:{background:"#fff"}}),p.default.createElement("label",null,t(l[1]),":"),p.default.createElement("p",null,i,d))))},n.state=N({},n.getFills(e)),n}return(0,c.default)(r,[{key:"componentDidUpdate",value:function(e){e.active!==this.props.active&&this.setState(N({},this.getFills(this.props)))}},{key:"renderCenter",value:function(){var e,t=this.props,a=t.theme,r=t.value,n=t.total,l=t.showRate,o=t.showRatio,i=t.renderCustomCenter,c=t.showName,s=t.rateNum,f=this.getPrimaryColor(this.props),d=l?(0,u.default)({},k.default.standard,!0):o?(e={},(0,u.default)(e,k.default.mid,r>99||n>99),(0,u.default)(e,k.default.mini,r>999||n>999),e):{},m=l?"".concat(this.getRate(s),"%"):o?p.default.createElement("p",null,p.default.createElement("strong",null,r),p.default.createElement("span",null,"/"),n):null;return p.default.createElement("div",{className:(0,h.default)(k.default.center,k.default[f],d,(0,u.default)({},k.default.white,"dark"===a))},c&&p.default.createElement("p",{className:k.default["show-name"]},this.props.legend[0]),i?i({value:r,total:n}):m)}},{key:"renderLegend",value:function(){var e=this.props,a=e.legend,r=e.areaColors;return p.default.createElement(E.default,{wrapperStyle:{bottom:0,zIndex:100},content:function(e){var n=e.payload,u=(0,l.default)(n);return(0,g.default)(u)||(u[u.length-1].value=a[a.length-1],u[u.length-1].color=r[u.length-1]||"#fff"),p.default.createElement("div",{className:k.default.legend},u.map((function(e){var a=(0,v.default)(e,"payload.fill");return p.default.createElement("div",{key:e.dataKey,"data-key":e.dataKey,className:k.default.item},p.default.createElement("i",{style:{backgroundColor:a}}),t(e.value))})))}})}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,r=e.showCenter,n=e.innerRadius,l=void 0===n?"70%":n,u=this.getData();return p.default.createElement("div",{className:k.default.chart,style:{width:t,height:a}},r&&this.renderCenter(),p.default.createElement(_.default,{width:"100%",height:"100%",debounce:1},p.default.createElement(C.default,null,p.default.createElement(S.default,(0,o.default)({data:u,dataKey:"value",activeIndex:0,activeShape:this.renderActiveShape,innerRadius:l,outerRadius:"100%",stroke:"transparent"},this.state.totalFill)),p.default.createElement(b.default,{wrapperStyle:{zIndex:100},content:this.renderTooltip}))))}},{key:"value",get:function(){var e=parseFloat(this.props.value||0);return e>0?e:0}},{key:"total",get:function(){return parseFloat(this.props.total||0)}},{key:"remain",get:function(){var e=this.total-this.value;return 0===this.total?1:e}}]),r}(p.default.Component);a.default=T,T.propTypes={theme:m.default.oneOf(["light","dark"]),width:m.default.oneOfType([m.default.string,m.default.number]),height:m.default.oneOfType([m.default.string,m.default.number]),title:m.default.string,legend:m.default.array,value:m.default.oneOfType([m.default.number,m.default.string]),total:m.default.oneOfType([m.default.number,m.default.string]),unit:m.default.string,areaColors:m.default.array,showCenter:m.default.bool,showRate:m.default.bool,showRatio:m.default.bool,active:m.default.bool,rateNum:m.default.number,isShowTotalTooltip:m.default.bool},T.defaultProps={theme:"light",width:100,height:100,title:"",legend:["USED","TOTAL"],value:0,total:0,unit:"",isShowTotalTooltip:!0,areaColors:["green"],showCenter:!0,showRate:!1,showRatio:!0,active:!1,rateNum:0}},function(e,t,a){e.exports={chart:"_3xORGioagELncq_b0QqUXh",center:"_1Fpm4EsVyd6rEqOU-TLFy4",fadeIn:"l534UI3MtCEqz4eGGY2TT","show-name":"_3xCxaH91PcORamjP2M6dwG",standard:"_2NHy2ySjaBP3iE_V33_T5s",mid:"_2_sR4rrGvd5Nbsd1lzOhmK",mini:"_2x1qX36v29kVnJ-mDXpniw",white:"_1HaIvuK2oSITwqGtPezmdk",yellow:"_bd_3V5QJCH9JEWCPD3q5",red:"_3zV4Hy8k1ujHADMao04tU1",tooltip:"_3j83qVypNfpK_iV4Spm6bt",label:"_1oAbCyvxESz8SMJcvczmya",item:"NrpjP1sw1yw9v33VrS1Qn",legend:"_2RMVikNBMbfj9iyRPZcc2V"}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(10),a(44),a(1038),a(20),a(1039),a(14),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dataList,a=e.legendClassName,r=e.wrapperStyle,n=void 0===r?{width:"50%",left:"120px"}:r,E=e.disabledFilter,b=void 0!==E&&E,O=e.total,S=e.noTooltip,C=(0,u.useState)([]),_=(0,l.default)(C,2),k=_[0],R=_[1],N=(0,u.useState)(!0),D=(0,l.default)(N,2),T=D[0],P=D[1];(0,u.useEffect)((function(){var e=(0,p.default)(t);if(t.length>1){var a=e.map((function(e){return e.data})).flat(),r=a.pop(),n=a.filter((function(e){return e.name!==r.name})).concat(r);R(n)}else{var l=e.map((function(e){return e.data})).flat();R(l),P(!1)}}),[t]);if(Array.isArray(t)&&t.length<0)return;return u.default.createElement(d.default,{width:"100%",height:"100%",debounce:1},u.default.createElement(f.default,null,t.map((function(e,t){var a=e.data,r=e.dataKey,n=e.innerRadius,l=e.outerRadius,o=e.colors,i=e.cx,f=void 0===i?75:i,d=e.cy,p=void 0===d?55:d;return u.default.createElement(s.default,{data:a,dataKey:r,cx:f,cy:p,minAngle:0,innerRadius:n,outerRadius:l,startAngle:90,endAngle:-360,key:"pie-".concat(t),animationDuration:1e3},a.map((function(e,t){var a=!(0,h.default)(k.find((function(t){return t.name===e.name})));return u.default.createElement(c.default,{key:"cell-".concat(t),fill:a?o[t%o.length]:o[o.length-1]})})))})),!S&&u.default.createElement(o.default,{wrapperStyle:{zIndex:1e3},cursor:{stroke:v.COLORS_MAP.dark,strokeDasharray:"3,2",strokeWidth:2},content:u.default.createElement(g.default,null)}),u.default.createElement(i.default,{layout:"vertical",align:"right",verticalAlign:"middle",iconType:"circle",wrapperStyle:n,content:u.default.createElement(y.default,{activeSeries:k,onClick:b?null:function(e){var t=(0,p.default)(k);t.find((function(t){return t.name===e.name}))?(0,m.default)(t,(function(t){return t.name===e.name})):t.push(e),R(t)},isMult:T,className:a,totalValue:O})})))},a(3),a(10),a(44),a(1038),a(121),a(20),a(27),a(1039),a(14),a(4);var l=n(a(97)),u=r(a(0)),o=n(a(851)),i=n(a(882)),c=n(a(951)),s=n(a(990)),f=n(a(1037)),d=n(a(853)),p=n(a(119)),m=n(a(884)),h=n(a(163)),v=a(61),g=n(a(1901)),y=n(a(1903))},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(88),r(20),r(14),r(24),r(8),r(13),r(9),r(30),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(31));r(12),r(3),r(10),r(44),r(6),r(88),r(20),r(27),r(14),r(24),r(33),r(16),r(8),r(13),r(9),r(4),r(30),r(71),r(7);var u=n(r(0)),o=n(r(26)),i=n(r(67)),c=n(r(880)),s=r(56),f=r(61),d=r(1294),p=n(r(1902));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.active)return null;var a=e.renderLabel,r=e.payload,n=e.usageData,l=e.totalData,m=e.tailText,v=e.alert,g=e.isTranslate,y=void 0===g||g,E=r||[],b=e.label,O=(0,o.default)(E,"[0].payload.unit")||"",S="default"===O?"":"%"===O?"%":"".concat(t(O)),C=a?a(e):b,_=function(e){var a=e.indexOf("gpu")>-1?"gpu":e,r="gpu"===a?"".concat(a,".limit"):a;return f.ICON_TYPES[a]?t(r.replace(/[. ]/g,"_").toUpperCase()):r};return u.default.createElement("div",{className:p.default.tooltip},v&&u.default.createElement("div",{className:p.default.item},u.default.createElement(d.ReactComponent,null),"".concat(t(_(v.name||"")),"：").concat("core"===v.unit?t("VALUE_CORES",{value:v.value}):t("VALUE_UNIT",h({},v)))),u.default.createElement("div",{className:p.default.label,style:{marginTop:"".concat(v?"8px":"0px")}},u.default.createElement("span",null,C),m&&u.default.createElement("span",null,m)),u.default.createElement("div",{className:p.default.list},E.map((function(e){var a=e.dataKey,r=e.name,f=e.value,d=void 0===f?0:f;if((0,c.default)(Number(d)))return null;var m=(0,o.default)(e,"payload.fill"),h=(0,o.default)(e,"payload.label")||r,v="";if(!(0,i.default)(n)&&!(0,i.default)(l)){var g=(0,o.default)(n.find((function(e){return e.time===b})),r)||0,E=(0,o.default)(l.find((function(e){return e.time===b})),r)||0;v=" (".concat(g,"/").concat(E,")")}var O=(0,s.coreUnitTS)(d,S);return u.default.createElement("div",{key:a,className:p.default.item},u.default.createElement("i",{style:{background:m}}),y?t(h):h,": ",d," ".concat(t(O)),v)}))))};a.default=v},function(e,t,a){e.exports={tooltip:"_18KqCyvNCGxzhlSz2Z2-9Y",label:"YYJ1OVwvKVdRA2JE3OPIX",item:"_22WPsKANfFjmXw4JkrTCTT"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(10),r(44),r(20),r(14),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(3),r(10),r(44),r(20),r(14),r(4);var u=l(r(31)),o=l(r(97)),i=n(r(0)),c=l(r(5)),s=l(r(119)),f=l(r(26)),d=l(r(68)),p=l(r(1904)),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.className,r=e.payload,n=e.activeSeries,l=void 0===n?[]:n,m=e.isMult,h=e.totalValue,v=(0,i.useState)([]),g=(0,o.default)(v,2),y=g[0],E=g[1];(0,i.useEffect)((function(){if(r.length>0){var e=(0,s.default)(r);if(m){var t=e.pop();void 0!==h&&(0,d.default)(t,"payload.value",h);var a=e.filter((function(e){return e.value!==t.value})).concat(t);E(a)}else E(e)}}),[r,h]);var b=function(t,a){t.cancelBubble=!0,t.stopPropagation();var r=e.onClick;r&&r(a)};return i.default.createElement("div",{className:(0,c.default)(a,p.default.legend)},y.map((function(e,a){var r,n=!l.find((function(t){return t.name===e.value})),o=(0,f.default)(e,"color"),s=!!m&&a===y.length-1;return i.default.createElement("div",{key:a,className:(0,c.default)(p.default.item,(r={},(0,u.default)(r,p.default.inactive,n),(0,u.default)(r,p.default.disabled,s),r)),onClick:s?null:function(t){return b(t,{name:e.value,value:e.payload.value})}},i.default.createElement("span",{className:p.default.label},i.default.createElement("i",{style:{backgroundColor:o}}),i.default.createElement("span",null,t(e.value))),i.default.createElement("b",{className:p.default.value},e.payload.unit?"core"===e.payload.unit?t("VALUE_CORES",{value:e.payload.value}):t("VALUE_UNIT",{value:e.payload.value,unit:t(e.payload.unit)}):e.payload.value))})))};a.default=m},function(e,t,a){e.exports={legend:"_1RC52HxQjVmMw4L8iQz2w_",hide:"_3b4znXld-yrkvvSjP8xkTG",item:"DkIMSpjNvU3Z-NUrcuIk9",label:"PD8OHwScr2aOwFWjkEAME",value:"_1nZ2x0Ee6aieU7C7M21FTp",inactive:"_3cAYRwJBR322I0l6tMMEUK",disabled:"_1DSn1UPehNfQ40117uCm4x"}},function(e,t,a){e.exports={selector:"_3jdnDfk2o9GZ977aTA-xpY",active:"_1VVAknMMhYtwjCCzJ26w8D",arrow:"_3fVUYCC4XLdULuzPPLryH6",dropdown:"_4VJDQbixxjDltdv9t2c1h",button:"B4m3CNQgLzi7Xqxf0JBO_",mask:"_2LZHnUZdP2-tzMlT4rOCY9",content:"_8RPB91ZzJIARHcetuuCun"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.redisCluster=t.redisSentinal=void 0;t.redisSentinal={resource:{apiVersion:"redis.radondb.com/v1beta1",kind:"RedisSentinel",metadata:{name:"redis-sentinel",namespace:"redis-sentinel"},spec:{clusterSize:3,kubernetesConfig:{redisVersion:"6.2.5",image:"radondb/redis:v6.2.5",imagePullPolicy:"Always",resources:{requests:{cpu:"101m",memory:"128Mi"},limits:{cpu:"101m",memory:"128Mi"}}},redisExporter:{enabled:!0,image:"radondb/redis-exporter:v1.44.0",imagePullPolicy:"Always",resources:{requests:{cpu:"100m",memory:"128Mi"},limits:{cpu:"100m",memory:"128Mi"}}},redisReplica:{replicas:3,redisConfig:{additionalRedisConfig:"redis-sentinel-external-config"},affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{podAffinityTerm:{labelSelector:{matchExpressions:[{key:"redis.radondb.com/name",operator:"In",values:[111]}]},topologyKey:"kubernetes.io/hostname"},weight:1}]}}},aclConfig:{aclFile:"redis-sentinel-acl-config"},redisSentinel:{replicas:3,sentinelConfig:{quorum:2,parallelSyncs:3},resources:{requests:{cpu:"100m",memory:"128Mi"},limits:{cpu:"100m",memory:"128Mi"}},affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{podAffinityTerm:{labelSelector:{matchExpressions:[{key:"redis.radondb.com/name",operator:"In",values:[111]}]},topologyKey:"kubernetes.io/hostname"},weight:1}]}}},storage:{volumeClaimTemplate:{spec:{storageClassName:"standard",accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}}}},externalConfig:{apiVersion:"v1",kind:"ConfigMap",metadata:{namespace:"redis-sentinel",name:"redis-sentinel-external-config"},data:{"redis-external.conf":"aclfile /etc/redis/acl.conf.d/aclfile.conf\ntcp-keepalive 400\nslowlog-max-len 158\nstream-node-max-bytes 2048\nio-threads 1\nio-threads-do-reads no\nmaxmemory 0"}},secret:{apiVersion:"v1",kind:"Secret",metadata:{name:"redis-secret-password-secret",namespace:"redis-sentinel"},type:"Opaque",data:{password:"bWd3MjE2ODAwMA=="}},aclConfig:{apiVersion:"v1",kind:"ConfigMap",metadata:{namespace:"redis-sentinel",name:"redis-sentinel-acl-config"},data:{"aclfile.conf":"user radondb on >radondb123@ ~* &* +@all"}}};t.redisCluster={resource:{apiVersion:"redis.radondb.com/v1beta1",kind:"RedisCluster",metadata:{name:"redis-cluster",namespace:"redis-cluster"},spec:{clusterSize:3,kubernetesConfig:{redisVersion:"6.2.5",image:"radondb/redis:v6.2.5",imagePullPolicy:"IfNotPresent",resources:{requests:{cpu:"101m",memory:"128Mi"},limits:{cpu:"101m",memory:"128Mi"}}},redisExporter:{enabled:!0,image:"radondb/redis-exporter:v1.44.0",imagePullPolicy:"IfNotPresent",resources:{requests:{cpu:"100m",memory:"128Mi"},limits:{cpu:"100m",memory:"128Mi"}}},redisLeader:{replicas:3,redisConfig:{additionalRedisConfig:"redis-cluster-external-config"},affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{podAffinityTerm:{labelSelector:{matchExpressions:[{key:"redis.radondb.com/name",operator:"In",values:[111]}]},topologyKey:"kubernetes.io/hostname"},weight:1}]}}},redisFollower:{replicas:3,redisConfig:{additionalRedisConfig:"redis-cluster-external-config"},affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{podAffinityTerm:{labelSelector:{matchExpressions:[{key:"redis.radondb.com/name",operator:"In",values:[111]}]},topologyKey:"kubernetes.io/hostname"},weight:1}]}}},aclConfig:{aclFile:"redis-cluster-acl-config"},storage:{volumeClaimTemplate:{spec:{storageClassName:"csi-standard",accessModes:["ReadWriteOnce"],resources:{requests:{storage:"200Mi"}}}}},predixyExporter:{enabled:!0,image:"radondb/predixy-exporter:v1.0.0",imagePullPolicy:"IfNotPresent",resources:{requests:{cpu:"100m",memory:"128Mi"},limits:{cpu:"100m",memory:"128Mi"}}},redisProxy:{enabled:!1,replicas:3,image:"radondb/predixy:v1.0.5",imagePullPolicy:"IfNotPresent",resources:{requests:{cpu:"101m",memory:"128Mi"},limits:{cpu:"101m",memory:"128Mi"}},affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{podAffinityTerm:{labelSelector:{matchExpressions:[{key:"redis.radondb.com/name",operator:"In",values:[111]}]},topologyKey:"kubernetes.io/hostname"},weight:1}]}},predixyConfigParams:{clusterName:"redis-cluster",workerThreads:2,clientTimeout:0,bufSize:1048576,masterReadPriority:100,slaveReadPriority:0,refreshInterval:1,serverTimeout:3,serverFailureLimit:10,serverRetryTimeout:5,keepAlive:120}}}},externalConfig:{apiVersion:"v1",kind:"ConfigMap",metadata:{namespace:"redis-cluster",name:"redis-cluster-external-config"},data:{"redis-external.conf":'maxmemory 128mb\nmaxmemory-policy volatile-lru\nactiverehashing yes\nappendonly yes\nappendfsync everysec\ntcp-keepalive 400\ncluster-node-timeout 15000\nslowlog-max-len 128\nstream-node-max-bytes 2048\nmaxclients 102400\nlatency-monitor-threshold 0\nmaxmemory-samples 3\nmin-slaves-max-lag 10\nmin-slaves-to-write 0\nno-appendfsync-on-rewrite no\nnotify-keyspace-events ""\nrepl-backlog-size 1mb\nrepl-backlog-ttl 3600\nrepl-timeout 60\nset-max-intset-entries 512\nslowlog-log-slower-than -1\nslowlog-max-len 128\nhash-max-ziplist-entries 512\nhash-max-ziplist-value 64\nzset-max-ziplist-entries 512\nzset-max-ziplist-value 64\nlua-time-limit 5000\nio-threads 1\nio-threads-do-reads no\nlogfile logfile\n'}},secret:{apiVersion:"v1",kind:"Secret",metadata:{name:"redis-secret-password-secret",namespace:"redis-cluster"},type:"Opaque",data:{password:"bWd3MjE2ODAwMA=="}},aclConfig:{apiVersion:"v1",kind:"ConfigMap",metadata:{namespace:"redis-cluster",name:"redis-cluster-acl-config"},data:{"aclfile.conf":"user radondb on >radondb123@ ~* &* +@all"}}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.mongoYaml=void 0;t.mongoYaml={resources:{apiVersion:"mongodbcommunity.mongodb.com/v1",kind:"MongoDBCommunity",metadata:{name:"mongodb"},spec:{members:1,type:"ReplicaSet",version:"4.2.19",prometheus:{username:"Prometheus",passwordSecretRef:{name:"mongodb-metrics-password"}},security:{authentication:{modes:["SCRAM"]}},users:[{name:"operator",db:"admin",passwordSecretRef:{name:"mongodb-operator-password"},roles:[{name:"root",db:"admin"}],scramCredentialsSecretName:"mongodb-operator-password"},{name:"root",db:"admin",passwordSecretRef:{name:"mongodb-root-password"},roles:[{name:"root",db:"admin"}],scramCredentialsSecretName:"mongodb-root-password"}],additionalMongodConfig:{net:{port:27017,maxIncomingConnections:1e4},storage:{wiredTiger:{engineConfig:{journalCompressor:"zlib"}}},replication:{oplogSizeMB:10240,enableMajorityReadConcern:!0},operationProfiling:{mode:"off",slowOpThresholdMs:100},systemLog:{destination:"file",path:"/data/mongod.log",logAppend:!0,logRotate:"reopen",component:{command:{verbosity:0},index:{verbosity:0},query:{verbosity:0},network:{verbosity:0},write:{verbosity:0}}},setParameter:{cursorTimeoutMillis:7e5}},statefulSet:{spec:{template:{spec:{initContainers:[{name:"mongod-posthook",imagePullPolicy:"IfNotPresent",resources:{limits:{cpu:"0.2",memory:"250M"},requests:{cpu:"0.2",memory:"250M"}}},{name:"mongodb-agent-readinessprobe",imagePullPolicy:"IfNotPresent",resources:{limits:{cpu:"0.2",memory:"250M"},requests:{cpu:"0.2",memory:"250M"}}}],containers:[{name:"mongod",imagePullPolicy:"IfNotPresent",resources:{limits:{cpu:"8",memory:"16G"},requests:{cpu:2,memory:"4G"}}},{name:"mongodb-agent",imagePullPolicy:"IfNotPresent",resources:{limits:{cpu:"0.2",memory:"250M"},requests:{cpu:"0.2",memory:"250M"}}}],affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{podAffinityTerm:{labelSelector:{matchExpressions:[{key:"app.kubernetes.io/instance",operator:"In",values:[111]}]},topologyKey:"kubernetes.io/hostname"},weight:1}]}}}},volumeClaimTemplates:[{metadata:{name:"data-volume"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"100G"}},storageClassName:"csi-high-capacity"}}]}}}},masterSecret:{apiVersion:"v1",kind:"Secret",metadata:{name:"mongodb-operator-password"},type:"Opaque",stringData:{password:"operator_pwd"}},rootSecret:{apiVersion:"v1",kind:"Secret",metadata:{name:"mongodb-root-password"},type:"Opaque",stringData:{password:"root_pwd"}}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.ckYaml=void 0;t.ckYaml={resources:{apiVersion:"clickhouse.radondb.com/v1",kind:"ClickHouseInstallation",metadata:{name:"ck-cluster-11",namespace:"default"},spec:{metricsExporter:"on",configuration:{zookeeper:{install:!0,replica:3,port:2181},users:{"readonly/profile":"readonly","clickhouse/password":"c1ickh0use0perator","clickhouse/networks/ip":["127.0.0.1","::/0"],"clickhouse/profile":"default","clickhouse/quotas":"default"},profiles:{"readonly/readonly":"1","default/max_memory_usage":2e8},quotas:{"default/interval/duration":"3600"},settings:{"compression/case/method":"zstd",disable_internal_dns_cache:1,max_server_memory_usage:18e8,"logger/log":"/var/lib/clickhouse/log/clickhouse-server.log","logger/errorlog":"/var/lib/clickhouse/log/clickhouse-server.err.log","logger/count":10,"logger/size":"100M",timezone:"Asia/Shanghai"},clusters:[{name:"all-nodes",layout:{shardsCount:1,replicasCount:2}}]},defaults:{templates:{podTemplate:"pod-template-with-volume",dataVolumeClaimTemplate:"data",logVolumeClaimTemplate:"data",serviceTemplate:"chi-svc-template"}},templates:{serviceTemplates:[{name:"chi-svc-template",spec:{ports:[{name:"http",port:8123},{name:"tcp",port:9e3}],type:"NodePort"}}],podTemplates:[{name:"pod-template-with-volume",metadata:{annotations:{"backup.velero.io/backup-volumes":"data"}},spec:{affinity:{podAntiAffinity:{preferredDuringSchedulingIgnoredDuringExecution:[{weight:1,podAffinityTerm:{labelSelector:{matchExpressions:[{key:"clickhouse.radondb.com/chi",operator:"In",values:["clickhouse"]}]},topologyKey:"kubernetes.io/hostname"}}]}},containers:[{name:"clickhouse",image:"radondb/clickhouse-server:v21.1.3.32-stable",imagePullPolicy:"IfNotPresent",readinessProbe:{exec:{command:["/usr/bin/clickhouse-client","-q","SELECT 1"]}},initialDelaySeconds:10,periodSeconds:30,successThreshold:1,failureThreshold:4,timeoutSeconds:10,livenessProbe:{exec:{command:["/usr/bin/clickhouse-client","-q","SELECT 1"]},initialDelaySeconds:60,periodSeconds:30,successThreshold:1,failureThreshold:4,timeoutSeconds:10},volumeMounts:[{name:"data",mountPath:"/var/lib/clickhouse"}],resources:{requests:{memory:"1Gi",cpu:"500m"},limits:{memory:"1Gi",cpu:"500m"}}}]}}],volumeClaimTemplates:[{name:"data",reclaimPolicy:"Retain",spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"10Gi"}},storageClassName:"csi-qingcloud"}}]}}}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.pgYaml=void 0;t.pgYaml={resources:{apiVersion:"postgres.radondb.io/v1",kind:"PostgreSQL",metadata:{name:"lzzhang"},spec:{action:"start",deletepvc:!0,volume_type:"local",antiaffinity:{policy:"preferred",podAntiAffinityTerm:"autofailover-readwrite",topologyKey:"kubernetes.io/hostname"},backupCluster:{backupToS3:{policy:{retention:"REDUNDANCY 10"}}},services:[{selector:"autofailover",metadata:{name:"autofailover"},spec:{type:"ClusterIP",ports:[{name:"exporter",port:9187}]}},{selector:"primary",metadata:{name:"readwrite"},spec:{type:"ClusterIP",ports:[{name:"prime",port:5432},{name:"exporter",port:9187}]}},{selector:"standby-readonly",metadata:{name:"standby-readonly"},spec:{type:"ClusterIP",ports:[{name:"prime",port:5432},{name:"exporter",port:9187}]}}],autofailover:{hbas:["host all all all md5"],configs:["enable_seqscan=on"],podspec:{terminationGracePeriodSeconds:60,containers:[{image:"radondb/radondb-postgresql:12.12-v1.1.0",imagePullPolicy:"IfNotPresent",name:"postgresql",volumeMounts:[{name:"data",mountPath:"/var/lib/postgresql/data"}],resources:{limits:{memory:"500Mi",cpu:"0.5"}}},{image:"radondb/radondb-postgres-exporter:v1.1.0",imagePullPolicy:"IfNotPresent",name:"exporter",volumeMounts:[{name:"data",mountPath:"/var/lib/postgresql/data"}],resources:{limits:{memory:"100Mi",cpu:"0.1"}}}]},volumeClaimTemplates:[{metadata:{name:"data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}]},postgresql:{users:{admin:[],normal:[]},hbas:["host all all all md5"],configs:["enable_seqscan=on","autovacuum=true","autovacuum_analyze_scale_factor=0.05","autovacuum_vacuum_cost_delay=0","autovacuum_vacuum_cost_limit=10000","autovacuum_vacuum_scale_factor=0.02","bgwriter_delay=10","bgwriter_flush_after=512kB","bgwriter_lru_maxpages=1000","checkpoint_timeout=300","commit_delay=0","commit_siblings=5","cpu_index_tuple_cost=0.005","cpu_tuple_cost=0.01","fsync=true","full_page_writes=true","idle_in_transaction_session_timeout=86400000","jit=false","log_min_duration_statement=10000","log_min_messages=WARNING","log_statement=none","maintenance_work_mem=64MB","max_connections=100","max_replication_slots=15","max_wal_senders=15","max_worker_processes=20","port=5432","random_page_cost=1.1","seq_page_cost=1","shared_buffers=128MB","statement_timeout=0","synchronous_commit=on","temp_buffers=1MB","vacuum_defer_cleanup_age=10000","wal_compression=false","wal_level=replica","wal_writer_delay=10","wal_writer_flush_after=1MB","work_mem=4MB"],readwriteinstance:{replicas:2,podspec:{terminationGracePeriodSeconds:60,containers:[{image:"radondb/radondb-postgresql:12.12-v1.1.0",imagePullPolicy:"IfNotPresent",name:"postgresql",volumeMounts:[{name:"data",mountPath:"/var/lib/postgresql/data"}],resources:{limits:{memory:"200Mi",cpu:"0.2"}}},{image:"radondb/radondb-postgres-exporter:v1.1.0",imagePullPolicy:"IfNotPresent",name:"exporter",volumeMounts:[{name:"data",mountPath:"/var/lib/postgresql/data"}],resources:{limits:{memory:"100Mi",cpu:"0.1"}}}]},volumeClaimTemplates:[{metadata:{name:"data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}]},readonlyinstance:{streaming:"async",replicas:0,podspec:{terminationGracePeriodSeconds:60,containers:[{image:"radondb/radondb-postgresql:12.12-v1.1.0",imagePullPolicy:"IfNotPresent",name:"postgresql",volumeMounts:[{name:"data",mountPath:"/var/lib/postgresql/data"}],resources:{limits:{memory:"200Mi",cpu:"0.2"}}},{image:"radondb/radondb-postgres-exporter:v1.1.0",imagePullPolicy:"IfNotPresent",name:"exporter",volumeMounts:[{name:"data",mountPath:"/var/lib/postgresql/data"}],resources:{limits:{memory:"100Mi",cpu:"0.1"}}}]},volumeClaimTemplates:[{metadata:{name:"data"},spec:{accessModes:["ReadWriteOnce"],resources:{requests:{storage:"1Gi"}}}}]}}}}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.mysqlYaml=void 0;t.mysqlYaml={resources:{apiVersion:"mysql.radondb.com/v1alpha1",kind:"MysqlCluster",metadata:{name:"sample",namespace:"default"},spec:{replicas:3,mysqlVersion:"5.7",backupSecretName:"$DMP-MANAGED-S3-SECRET$",mysqlOpts:{rootPassword:"",image:"percona/percona-server:5.7.39",rootHost:"localhost",user:"radondb_usr",password:"RadonDB@123",database:"radondb",initTokuDB:!0,mysqlConf:{},resources:{requests:{cpu:"100m",memory:"256Mi"},limits:{cpu:"500m",memory:"1Gi"}}},xenonOpts:{image:"radondb/xenon:v2.3.0",admitDefeatHearbeatCount:5,electionTimeout:1e4,resources:{requests:{cpu:"50m",memory:"128Mi"},limits:{cpu:"100m",memory:"256Mi"}}},metricsOpts:{enabled:!0,image:"prom/mysqld-exporter:v0.12.1",resources:{requests:{cpu:"10m",memory:"32Mi"},limits:{cpu:"100m",memory:"128Mi"}}},podPolicy:{imagePullPolicy:"IfNotPresent",sidecarImage:"radondb/mysql-sidecar:v2.3.0",busyboxImage:"busybox:1.32",slowLogTail:!1,auditLogTail:!1,labels:{},annotations:{},affinity:{podAntiAffinity:{requiredDuringSchedulingIgnoredDuringExecution:[{labelSelector:{matchExpressions:[{key:"mysql.radondb.com/cluster",operator:"In",values:["mysql"]}]},topologyKey:"kubernetes.io/hostname"}]}},priorityClassName:"",schedulerName:"",extraResources:{requests:{cpu:"100m",memory:"500Mi"}}},persistence:{enabled:!0,accessModes:["ReadWriteOnce"],size:"10Gi"}}}}},,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(10),a(6),a(14),a(138),a(9),a(4),a(21),a(18),a(11),a(7),a(110),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a(317)),u=n(a(58)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37));a(32),a(3),a(10),a(6),a(29),a(14),a(138),a(9),a(4),a(21),a(18),a(43),a(11),a(7),a(110);var d=r(a(0)),p=n(a(1)),m=n(a(5)),h=n(a(458)),v=n(a(1958)),g=n(a(1959)),y=n(a(1960));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var b=+new Date,O=0;function S(){return O+=1,"upload-".concat(b,"-").concat(O)}var C=function(e){(0,c.default)(a,e);var t=E(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).reqs={},e.files={},e.state={uid:S(),isDraging:!1},e.onChange=function(t){var a=t.target.files;e.uploadFiles(a),e.reset()},e.onClick=function(){e.fileInput&&e.fileInput.click()},e.onKeyDown=function(t){"Enter"===t.key&&e.onClick()},e.onFileDrop=function(t){var a=e.props,r=a.directory,n=a.accept;if(t.preventDefault(),"dragover"!==t.type)if("dragleave"!==t.type){if("drop"===t.type){e.setState({isDraging:!1});var l=function(e){return(0,g.default)(e,n)};if(r)(0,y.default)((0,u.default)(t.dataTransfer.items),e.uploadFiles,l);else{var o=(0,u.default)(t.dataTransfer.files).filter(l);e.uploadFiles(o)}}}else e.setState({isDraging:!1});else e.setState({isDraging:!0})},e.uploadFiles=function(t){var a=(0,u.default)(t);a.forEach((function(t){var r=Object.assign(t,{uid:S()});e.upload(r,a)}))},e}return(0,i.default)(a,[{key:"componentDidMount",value:function(){this.uploaderMounted=!0}},{key:"componentWillUnmount",value:function(){this.uploaderMounted=!1,this.files={},this.abort()}},{key:"upload",value:function(e,t){var a=this,r=this.props.beforeUpload;if(!r)return setTimeout((function(){return a.post(e)}),0);var n=r(e,t);return n&&n.then?n.then((function(t){var r=Object.prototype.toString.call(t);return"[object File]"===r||"[object Blob]"===r?a.post(t):a.post(e)})):!1!==n&&setTimeout((function(){return a.post(e)}),0),!0}},{key:"post",value:function(e){var t=this;if(this.uploaderMounted){var a=this.props,r=a.data,n=a.onStart,l=a.onProgress,u=a.onSuccess,o=a.onError,i=a.action,c=a.customRequest,s=a.name,f=a.headers,d=a.withCredentials,p=a.method,m=r;"function"==typeof m&&(m=m(e)),new Promise((function(t){return t("function"==typeof i?i(e):i)})).then((function(a){var r=e.uid,i=c||v.default;t.files[r]=e,t.reqs[r]=i({file:e,headers:f,withCredentials:d,action:a,method:p,filename:s,data:m,onProgress:l?function(t){l(t,e)}:null,onSuccess:function(a,n){delete t.files[r],delete t.reqs[r],u(a,e,n)},onError:function(a,n){delete t.reqs[r],o(a,n,e)}}),n(e)}))}}},{key:"reset",value:function(){this.setState({uid:S()})}},{key:"resend",value:function(e){var t,a=this.props.accept,r=this.files[e];r&&(t=r,(0,g.default)(t,a))&&this.upload(r,[r])}},{key:"abort",value:function(e){var t=this.reqs;e?t[e]&&(t[e].abort(),delete t[e]):Object.keys(t).forEach((function(e){t[e]&&t[e].abort(),delete t[e]}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.disabled,n=t.style,u=t.multiple,o=t.accept,i=t.children,c=t.directory,s=this.state,f=s.isDraging,p=s.uid,h=r?{}:{onClick:this.onClick,onKeyDown:this.onKeyDown,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,onDragLeave:this.onFileDrop};return d.default.createElement("span",(0,l.default)({},h,{className:(0,m.default)("upload",{"upload-dragover":f,"upload-disabled":r},a),role:"button",style:n}),d.default.createElement("input",{type:"file",ref:function(t){e.fileInput=t},key:p,style:{display:"none"},accept:o,directory:c?"directory":null,webkitdirectory:c?"webkitdirectory":null,multiple:u,onChange:this.onChange}),i)}}]),a}(d.Component);C.propTypes={name:p.default.string,disabled:p.default.bool,action:p.default.oneOfType([p.default.string,p.default.func]),directory:p.default.bool,onError:p.default.func,onSuccess:p.default.func,onProgress:p.default.func,onStart:p.default.func,data:p.default.oneOfType([p.default.object,p.default.func]),headers:p.default.object,accept:p.default.string,multiple:p.default.bool,beforeUpload:p.default.func,customRequest:p.default.func,children:p.default.node,withCredentials:p.default.bool,style:p.default.object,className:p.default.string,method:p.default.string},C.defaultProps={data:{},headers:{},name:"file",method:"post",onStart:h.default,onError:h.default,onSuccess:h.default,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1};var _=C;t.default=_},function(e,t,a){"use strict";a(16),a(3),a(6),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new window.XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var a=new FormData;e.action=(0,r.getClusterUrl)(e.action),e.data&&Object.keys(e.data).forEach((function(t){a.append(t,e.data[t])}));a.append(e.filename,e.file),t.onerror=function(t){e.onError(t)},t.onload=function(){return t.status<200||t.status>=300?e.onError(function(e,t){var a="cannot post ".concat(e.action," ").concat(t.status,"'"),r=new Error(a);return r.status=t.status,r.method=e.method||"post",r.url=e.action,r}(e,t),n(t)):e.onSuccess(n(t),t)},t.open(e.method||"post",e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var l=e.headers||{};null!==l["X-Requested-With"]&&t.setRequestHeader("X-Requested-With","XMLHttpRequest");return Object.keys(l).forEach((function(e){t.setRequestHeader(e,l[e])})),t.send(a),{abort:function(){t.abort()}}},a(250),a(32),a(3),a(6),a(9),a(4),a(7);var r=a(56);function n(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(e){return t}}},function(e,t,a){"use strict";a(16),a(88),a(98),a(14),a(30),a(71),a(139),a(817),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(88),a(121),a(98),a(14),a(4),a(30),a(195),a(71),a(817);t.default=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(","),r=e.name||"",n=e.type||"",l=n.replace(/\/.*$/,"");return a.some((function(e){var t,a,u=e.trim();return"."===u.charAt(0)?(t=r.toLowerCase(),a=u.toLowerCase(),-1!==t.indexOf(a,t.length-a.length)):/\/\*$/.test(u)?l===u.replace(/\/.*$/,""):n===u}))}return!0}},function(e,t,a){"use strict";a(16),a(3),a(6),a(14),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(3),a(6),a(14),a(4),a(7);var r=function(e,t,a){e.forEach((function(e){!function e(r,n){var l=n||"";if(r.isFile)r.file((function(e){a(e)&&t([e])}));else if(r.isDirectory){r.createReader().readEntries((function(t){t.forEach((function(t){e(t,"".concat(l).concat(r.name,"/"))}))}))}}(e.webkitGetAsEntry())}))};t.default=r},,,,,,,,,,function(e,t,a){e.exports={option:"_2RJZuw24vICxxAeHtSpL1s",tip:"_3YqfznJ7DNGlviKP_Gsezw"}},,function(e,t,a){e.exports={tags:"_2KC8WkC9bqH1qrWvM039Pm",tagItem:"_3b369oJlYb0lwgL5S0A48o",tooltipContent:"_3KpkICBIAQvxNeZXP7y20N"}},,,function(e,t,a){e.exports={input:"_1Bhe_3taYyM-lEe3IZ05DJ",autocomplete:"_3QRaoaUW25RFeUX7cDKtt4"}},function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(3),a(10),a(6),a(70),a(36),a(20),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(73),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(70),a(36),a(20),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(73),a(7),a(40);var l=n(a(31)),u=n(a(58)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=r(a(0)),p=n(a(1)),m=n(a(5)),h=a(189),v=n(a(811));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var b=function(e){(0,c.default)(a,e);var t=E(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={values:e.props.value||[]},e.handleOptionChange=function(t,a){var r=e.props.onChange,n=e.state.values,l=[];l=t?[].concat((0,u.default)(n),[a]):n.filter((function(e){return e!==a})),e.setState({values:l},(function(){return r(l)}))},e}return(0,i.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.name,n=t.direction,l=t.options,u=t.children,o=this.state.values;if(u&&u.length>0){var i=d.default.Children.map(u,(function(t){return d.default.cloneElement(t,y(y({},t.props),{},{name:r,checked:o.includes(t.props.value),onChange:e.handleOptionChange}))}));return d.default.createElement("div",{"data-direction":n,className:(0,m.default)("checkbox-group",a)},i)}return d.default.createElement("div",{"data-direction":n,className:(0,m.default)("checkbox-group",a)},l.map((function(t){return d.default.createElement(h.Checkbox,{key:t.value,name:r,value:t.value,checked:o.includes(t.value),onChange:e.handleOptionChange},t.label)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return(0,v.default)(e.value,t.values)?null:{values:e.value}}}]),a}(d.Component);t.default=b,b.propTypes={options:p.default.arrayOf(p.default.oneOfType([p.default.string,p.default.shape({value:p.default.any,label:p.default.string,disabled:p.default.bool})])),value:p.default.array,onChange:p.default.func,direction:p.default.oneOf(["row","column"]),className:p.default.string,disabled:p.default.bool,children:p.default.node},b.defaultProps={direction:"row",options:[],value:[],onChange:function(){}}},function(e,t,a){e.exports={group:"_1apuDq7M0zdRfWCPastdWU"}},,,,function(e,t,a){e.exports={dropdown:"_2AA0siR3svLxPwUAGPyHck"}},,,function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(4),r(18),r(43),r(11);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=r(189),p=l(r(1985));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var h=function(e){(0,i.default)(r,e);var a=m(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.steps,r=e.current;return f.default.createElement("div",{className:p.default.wrapper},a.map((function(e,a){return f.default.createElement("div",{key:e.title},r>=a?f.default.createElement(d.Icon,{name:"success",type:"coloured",size:14}):f.default.createElement(d.Icon,{name:"dot",type:"light",size:14}),f.default.createElement("span",null,t(e.title)))})))}}]),r}(f.Component);a.default=h},function(e,t,a){e.exports={wrapper:"_3iSN2t3fxpa-6qCq-vAc0D"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(68)),d=n(r(808)),p=n(r(0)),m=r(1),h=r(189),v=r(61),g=r(56),y=n(r(1987));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var b=function(e){(0,o.default)(r,e);var a=E(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).nameValidator=function(a,r,n){if(!r)return n();e.props.store.checkName({name:r,namespace:e.props.namespace,cluster:e.props.cluster}).then((function(e){if(e.exist)return n({message:t("NAME_EXIST_DESC"),field:a.field});n()}))},e.handleNameChange=(0,d.default)((function(t){(0,f.default)(e.formTemplate,'metadata.labels["app.kubernetes.io/name"]',t),(0,f.default)(e.fedFormTemplate,'metadata.labels["app.kubernetes.io/name"]',t),(0,f.default)(e.fedFormTemplate,'spec.selector.matchLabels["app.kubernetes.io/name"]',t),e.props.onLabelsChange((0,s.default)(e.fedFormTemplate,"spec.selector.matchLabels")),(0,f.default)(e.props.formData,"ingress.metadata.name","".concat(t,"-ingress-").concat((0,g.generateId)())),e.props.isFederated&&(0,g.updateFederatedAnnotations)(e.formTemplate)}),200),e.handleVersionChange=(0,d.default)((function(t){(0,f.default)(e.fedFormTemplate,'spec.selector.matchLabels["app.kubernetes.io/version"]',t),e.props.onLabelsChange((0,s.default)(e.fedFormTemplate,"spec.selector.matchLabels"))}),200),e.handleGovernanceChange=function(t){e.props.onGovernanceChange(t),e.props.isFederated&&(0,g.updateFederatedAnnotations)(e.formTemplate)},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.formRef,r=e.serviceMeshEnable,n=t.html("APPLICATION_GOVERNANCE_DESC");return p.default.createElement("div",{className:y.default.wrapper},p.default.createElement("div",{className:y.default.step},p.default.createElement("div",null,t("BASIC_INFORMATION")),p.default.createElement("p",null,t("APP_BASIC_INFORMATION_DESC"))),p.default.createElement(h.Form,{data:this.formTemplate,ref:a},p.default.createElement(h.Form.Item,{label:t("NAME"),desc:t("NAME_DESC"),rules:[{required:!0,message:t("NAME_EMPTY_DESC")},{pattern:v.PATTERN_NAME,message:t("INVALID_NAME_DESC")},{validator:this.nameValidator}]},p.default.createElement(h.Input,{name:"metadata.name",onChange:this.handleNameChange,maxLength:63})),p.default.createElement(h.Form.Item,{label:t("VERSION"),desc:t("VERSION_DESC"),rules:[{pattern:v.PATTERN_SERVICE_VERSION,message:t("VERSION_DESC")}]},p.default.createElement(h.Input,{name:"metadata.labels['app.kubernetes.io/version']",onChange:this.handleVersionChange,maxLength:16})),p.default.createElement(h.Form.Item,{label:t("APPLICATION_GOVERNANCE"),desc:(0,g.learnMoreTip)(n)},p.default.createElement(h.Select,{name:"metadata.annotations['servicemesh.kubesphere.io/enabled']",placeholder:" ",options:this.governances,onChange:this.handleGovernanceChange,disabled:!r})),p.default.createElement(h.Form.Item,{label:t("DESCRIPTION"),desc:t("DESCRIPTION_DESC")},p.default.createElement(h.TextArea,{name:"metadata.annotations['kubesphere.io/description']",maxLength:256}))))}},{key:"formTemplate",get:function(){return this.props.formData.application}},{key:"fedFormTemplate",get:function(){return this.props.isFederated?(0,s.default)(this.formTemplate,"spec.template"):this.formTemplate}},{key:"governances",get:function(){return[{label:t("ON"),value:"true"},{label:t("OFF"),value:"false"}]}}]),r}(p.default.Component);a.default=b,b.propTypes={onLabelsChange:m.PropTypes.func},b.defaultProps={onLabelsChange:function(){}}},function(e,t,a){e.exports={wrapper:"_1OmNzRv8XpPCnBDZlgpDsE",step:"_2WIIJrqcO7AptVgzcP5Yxq",upload:"_3c_2fy2IQ-R39woLxq5KZA"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(8),r(13),r(9),r(4),r(190),r(18),r(30),r(11),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(190),r(18),r(43),r(30),r(11),r(71),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(26)),d=n(r(68)),p=n(r(140)),m=n(r(0)),h=r(56),v=n(r(325)),g=n(r(1328)),y=n(r(2207)),E=n(r(2219));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var C=function(e){(0,i.default)(r,e);var a=S(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).serviceStore=new v.default,e.state={components:(0,p.default)(e.props.formData,["application","ingress"])||{},editData:{},showAdd:!1},e.showAdd=function(t){e.setState({showAdd:!0,editData:e.getEditData(e.state.components[t])})},e.hideAdd=function(){e.setState({showAdd:!1,editData:{}})},e.getEditData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.values(e).forEach((function(e){var a=e.kind.replace("Federated","");t[a]=e})),t},e.updateComponentKind=function(){var t=e.props.formData.application;(0,d.default)(t,"".concat(e.fedPrefix,"spec.componentKinds"),[{group:"",kind:"Service"},{group:"apps",kind:"Deployment"},{group:"apps",kind:"StatefulSet"},{group:"networking.k8s.io",kind:"Ingress"},{group:"servicemesh.kubesphere.io",kind:"Strategy"},{group:"servicemesh.kubesphere.io",kind:"ServicePolicy"}])},e.handleAdd=function(t){t.workload=t.Deployment||t.StatefulSet,t.service=t.Service,e.updateAppLabels(t),e.updateGovernance(t);var a=(0,f.default)(t,"service.metadata.name"),r=(0,f.default)(e.state.editData,"Service.metadata.name");e.setState((function(e){var n=e.components;return r&&n[r]&&delete n[r],{components:O(O({},n),{},(0,l.default)({},a,t)),editData:{}}}),(function(){r&&delete e.props.formData[r],e.props.formData[a]=t,e.updateComponentKind(),e.hideAdd()}))},e.handleDelete=function(t){e.setState((function(e){var a=e.components;return delete a[t],{components:O({},a)}}),(function(){delete e.props.formData[t],e.updateComponentKind()}))},e}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props.formData;t!==e.formData&&this.setState({components:(0,p.default)(t,["application","ingress"])||{}})}},{key:"validate",value:function(e){e&&e()}},{key:"updateAppLabels",value:function(e){var t=(0,f.default)(this.props.formData,"application.".concat(this.fedPrefix,"spec.selector.matchLabels"),[]);(0,h.mergeLabels)(e.workload,t),(0,h.mergeLabels)(e.service,t)}},{key:"updateGovernance",value:function(e){var t=this.props,a=t.isGovernance,r=t.isFederated;(0,d.default)(e.workload,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',String(a)),(0,d.default)(e.service,'metadata.annotations["servicemesh.kubesphere.io/enabled"]',String(a)),(0,d.default)(e.workload,"spec.template.".concat(this.fedPrefix,'metadata.annotations["sidecar.istio.io/inject"]'),String(a)),r&&((0,h.updateFederatedAnnotations)(e.workload),(0,h.updateFederatedAnnotations)(e.service))}},{key:"render",value:function(){var e=this.props,a=e.cluster,r=e.namespace,n=e.isFederated,l=e.projectDetail,u=this.state,o=u.components,i=u.showAdd,c=u.editData;return m.default.createElement("div",{className:E.default.wrapper},m.default.createElement("div",{className:E.default.step},m.default.createElement("div",null,t("SERVICE_PL")),m.default.createElement("p",null,t("APPLICATION_SERVICE_DESC"))),m.default.createElement("div",{className:E.default.components},m.default.createElement(y.default,{data:o,clusters:l.clusters,onAdd:this.showAdd,onDelete:this.handleDelete})),m.default.createElement(g.default,{cluster:a,namespace:r,components:o,detail:c,store:this.serviceStore,module:"services",visible:i,onCancel:this.hideAdd,onOk:this.handleAdd,isFederated:n,projectDetail:l}))}},{key:"fedPrefix",get:function(){return this.props.isFederated?"spec.template.":""}}]),r}(m.default.Component);a.default=C},function(e,t,a){e.exports={cluster:"WepWXI1aSdsP2mN7tQD4h",title:"-FR9pSqY9v4vM0_IHSUJb",selected:"_10Jl3vuRvh7yJv5FXgkQV3"}},function(e,t,a){e.exports={wrapper:"_1MKeNDQmYI8pkIxXHU03ir",selected:"_3OBd22JrAfh3uBO-tVAK5U"}},function(e,a,r){"use strict";var n=r(19),l=r(162);r(12),r(3),r(10),r(6),r(36),r(8),r(13),r(9),r(4),r(21),r(18),r(11),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(36),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(46),r(7),r(40);var u,o=n(r(317)),i=n(r(31)),c=n(r(97)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=l(r(0)),v=n(r(26)),g=n(r(140)),y=n(r(993)),E=n(r(163)),b=r(17),O=r(243),S=n(r(888)),C=r(56),_=r(249),k=n(r(447)),R=n(r(874)),N=n(r(1042)),D=n(r(957)),T=n(r(1132));function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var M=(0,O.observer)(u=function(e){(0,d.default)(r,e);var a=I(r);function r(){var e;(0,s.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={quota:{},limitRange:{},imageRegistries:[],availableQuota:{}},e.quotaStore=new R.default,e.workspaceQuotaStore=new S.default,e.limitRangeStore=new N.default,e.imageRegistryStore=new k.default,e.handleSubmit=function(t){var a=e.props,r=a.index,n=a.containerType;(0,a.onEdit)({index:r,containerType:n,data:(0,g.default)(t,"type")})},e}return(0,f.default)(r,[{key:"componentDidMount",value:function(){this.fetchData(),this.fetchQuota()}},{key:"fetchData",value:function(){var e=this,t=this.props,a=t.cluster,r=t.namespace;Promise.all([this.quotaStore.fetch({cluster:a,namespace:r}),this.limitRangeStore.fetchListByK8s({cluster:a,namespace:r}),this.imageRegistryStore.fetchListByK8s({cluster:a,namespace:r,fieldSelector:"type=kubernetes.io/dockerconfigjson"})]).then((function(t){var a=(0,c.default)(t,3),r=a[0],n=a[1],l=a[2];e.setState({quota:r,limitRange:(0,v.default)(n,"[0].limit"),imageRegistries:l})}))}},{key:"fetchQuota",value:function(){var e=this,t=this.props,a=t.cluster,r=t.workspace,n=t.namespace;r&&n&&Promise.all([this.quotaStore.fetch({cluster:a,namespace:n}),this.workspaceQuotaStore.fetchDetail({name:r,workspace:r,cluster:a})]).then((function(){var t=(0,b.toJS)(e.quotaStore.data.hard),a=(0,_.getLeftQuota)((0,v.default)(e.workspaceQuotaStore.detail,"status.total"),e.quotaStore.data),r=a.namespace,n=a.workspace;e.setState({availableQuota:{workspace:n,namespace:w(w({},r),(0,g.default)(t,C.resourceLimitKey))}})}))}},{key:"render",value:function(){var e=this.props,a=e.cluster,r=e.namespace,n=e.formData,l=e.containerType,u=e.supportGpuSelect,i=this.state,c=i.quota,s=i.limitRanges,f=i.imageRegistries;return h.default.createElement(D.default,(0,o.default)({},this.props,{title:h.default.createElement("span",null,"".concat(t("IMAGE"),": ").concat(n.image)),onOk:this.handleSubmit}),h.default.createElement(T.default,{data:n,cluster:a,namespace:r,quota:c,limitRanges:s,imageRegistries:f,defaultContainerType:l,supportGpuSelect:u,workspaceQuota:this.workspaceQuota}))}},{key:"workspaceQuota",get:function(){var e=(0,v.default)(this.state.availableQuota,"namespace",{}),t=(0,v.default)(this.state.availableQuota,"workspace",{});return(0,y.default)(e,t,(function(e,t){if(e||t)return(0,E.default)(e)?t:e<t?e:t}))}}]),r}(h.Component))||u;a.default=M},function(e,t,a){e.exports={form:"_2ENUkZ-YXse5KNuYyQc3CC",formContent:"_2OLXHWU4Ff8lmPE1AGEvUG",modify:"hTQMwOyZjUCxBsnBstgoS",confirm:"_22Uvyer_96QdSJme2whyut"}},function(e,t,a){e.exports={wrapper:"_2esmlPwsRt8VhvP6xfnzdN",error:"_2q9U2c-6xS202CkqL_qy1-"}},function(e,t,a){e.exports={sliderWrapper:"Y_HMoQktCjM5s4rQUonWH",slider:"_2Z0oF_HrGj41f6mk6oeJZY",rail:"_2fQ_2XoG4bgi-HQnbVhELc",track:"_2K11MAgQH-2WazFGn1bsBK",handler:"sN1mpztRhBqcxKM73ma17",mark:"_1BWhd5npWCe-BuinAqeWuz",inputWrapper:"_7a-iOmSre-6ZQ5JGEtyFS",supportNpuSelect:"cA61ep0iogSulGAy_a_ZZ",inputGroup:"uJp3XJ8KkJt0PsTnw9d30",input:"_1hUtlYz76D9dWN6yODl74y",error:"_3KjnNKsbXkt85jyce4IGi7",label:"_1cl2HxbEyCJLmZwIB4fBwN",inputBox:"UU2VPB0msbiVAtD2_vSu2",unit:"_2CZHs_9Es7HMzNYtZTKF0V",message:"_3GIRf9iG6YpbzpLPoeAPy1"}},function(e,t,a){e.exports={toggle:"_1sOiELnsYL6wUAGXlA2m0H",children:"_3aYqrLN40fjDBINs477myp"}},function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(3),r(10),r(44),r(6),r(70),r(88),r(66),r(51),r(24),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(73),r(71),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(70),r(88),r(66),r(27),r(51),r(29),r(24),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(73),r(71),r(7);var u=l(r(317)),o=l(r(50)),i=l(r(38));r(35);var c=l(r(39)),s=l(r(31)),f=l(r(25)),d=l(r(28)),p=l(r(41)),m=l(r(42)),h=l(r(37)),v=n(r(0)),g=l(r(1)),y=r(17),E=l(r(808)),b=l(r(26)),O=l(r(76)),S=l(r(163)),C=l(r(68)),_=l(r(859)),k=l(r(245)),R=l(r(5)),N=r(189),D=r(56),T=r(61),P=l(r(1043)),w=l(r(1997)),I=l(r(2002)),M=l(r(1330));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,s.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var L=function(e){(0,p.default)(r,e);var a=x(r);function r(e){var n;return(0,f.default)(this,r),(n=a.call(this,e)).getTag=function(e){var t=T.PATTERN_IMAGE_TAG.exec(e),a=(0,b.default)(t,"[".concat(t.length-1,"]"),":latest").slice(1);return{imageName:e.replace(":".concat(a),""),tag:a}},n.getImageParam=function(){var e=n.props,t=e.namespace,a=e.imageRegistries,r=e.cluster,l=a.find((function(e){return e.value===n.secret}));return{namespace:t,cluster:(0,b.default)(l,"cluster")||r}},n.handleEnter=(0,E.default)((function(e){if(globals.config.enableImageSearch){var t=e||{},a=t.logo,r=void 0===a?"":a,l=t.short_description,u=void 0===l?"":l,o=n.props.formTemplate,i=(0,b.default)(o,"image",""),c=(0,y.toJS)(n.store.tagList.data);n.image===i&&c.length>0||(n.ImageDetail={image:i,secret:n.secret,logo:r,short_description:u},n.getImageDetail(n.ImageDetail))}}),800,{leading:!0,trailing:!1}),n.getImageDetailNoCert=function(){n.getImageDetail(j(j({},n.ImageDetail),{},{insecure:!0}))},n.getImage=function(){var e=(0,c.default)(i.default.mark((function e(t){var a,r,l,u,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.image,r=t.insecure,l=t.tag,u=n.getImageParam(),n.setState({selectedLoading:!0}),e.next=5,n.store.getImageDetail(j({image:"".concat(a,":").concat(l||"lastest"),secret:n.secret,insecure:r},u));case 5:return o=e.sent,n.setState({selectedLoading:!1}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getImageList=function(){var e=(0,c.default)(i.default.mark((function e(t){var a,r,l,u,c,s,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.imageName,r=t.insecure,l=t.page,u=(0,o.default)(t,["imageName","insecure","page"]),c=n.getImageParam(),s=a||n.image,e.next=5,n.store.getImageTagList(j(j({repository:s,insecure:r,page:l,secret:n.secret},u),c));case 5:return f=e.sent,u.more&&n.setState({imageTagList:f}),e.abrupt("return",f);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getImageDetail=(0,E.default)(function(){var e=(0,c.default)(i.default.mark((function e(t){var a,r,l,u,o,c,s,f;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.image,r=t.insecure,l=t.secret,a&&!n.isUnMounted){e.next=3;break}return e.abrupt("return");case 3:if(n.image=a,n.setState({isLoading:!0}),u=n.getImageParam(),o=n.getTag(a),c=o.imageName,!(s=o.tag)||"latest"===s){e.next=15;break}return e.next=10,n.store.getImageDetail(j(j({image:"".concat(c,":").concat(s),insecure:r},u),{},{secret:l}));case 10:f=e.sent,n.store.updateTagList({data:[s],total:1,limit:Number(u.limit)||10,page:Number(u.page)||1,isLoading:!1}),n.setState({isLoading:!1,selectedImageTag:s,selectedImage:j(j({},f),{},{image:"".concat(c,":").concat(s)})},(function(){(0,C.default)(n.props.formTemplate,"image",n.state.selectedImage.image),n.context.setImageDetail&&n.context.setImageDetail(n.state.selectedImage)})),e.next=18;break;case 15:return e.next=17,n.getImageList(j({imageName:c,page:1},u));case 17:n.setState({selectedImage:void 0,selectedImageTag:"",isLoading:!1});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),800,{leading:!0,trailing:!1}),n.renderWaringText=function(){return v.default.createElement("p",null,t("IGNORE_CERT_WARN_DESC"))},n.onSelectImageTag=(0,_.default)(function(){var e=(0,c.default)(i.default.mark((function e(t){var a,r,l,u,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({selectedImageTag:t}),a=n.image,r=n.getTag(a),l=r.imageName,u="".concat(l,":").concat(t),e.next=6,n.getImage({image:l,tag:t});case 6:o=e.sent,(0,C.default)(n.props.formTemplate,"image",u),n.setState({selectedImage:j(j({},o),{},{image:u})},(function(){n.context.setImageDetail&&n.context.setImageDetail(n.state.selectedImage)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),300,{leading:!1,trailing:!0}),n.renderWaringText=function(){return v.default.createElement("p",null,t("IGNORE_CERT_WARN_DESC"))},n.renderSelectedContent=function(){if(n.state.isLoading)return v.default.createElement(N.Loading,null,v.default.createElement("div",{className:M.default.selectedContent}));var e=n.state,a=e.selectedImage,r=e.selectedImageTag,l=e.selectedLoading,u=(0,y.toJS)(n.store.tagList);if((0,O.default)(a)){var o=a.message;if("failed"===a.status)return o&&o.includes("x509")?v.default.createElement("div",{className:(0,R.default)(M.default.selectedContent,M.default.emptyContent)},v.default.createElement(N.Icon,{name:"docker",className:M.default.icon}),v.default.createElement("p",{className:M.default.desc},t("CERT_ERROR"),v.default.createElement(N.Tooltip,{content:n.renderWaringText},v.default.createElement("span",{className:M.default.textConfirm,onClick:n.getImageDetailNoCert},t("IGNORE_AND_RETRY"))))):v.default.createElement("div",{className:(0,R.default)(M.default.selectedContent,M.default.emptyContent)},v.default.createElement("div",null,v.default.createElement(N.Icon,{name:"docker",className:M.default.icon}),v.default.createElement("p",{className:M.default.desc},t("NO_IMAGE_FOUND"))));var i=a.image,c=a.createTime,s=a.exposedPorts,f=void 0===s?[]:s,d=a.logo,p=a.short_description,m=i.indexOf("/")>-1?i.split("/")[0]:"docker.io",h=f.join("; "),g=o||p;return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:M.default.selectedContent},v.default.createElement(N.Loading,{spinning:l},v.default.createElement("div",{className:M.default.selectedImageInfo},v.default.createElement("div",{className:M.default.selectedInfo},v.default.createElement("img",{className:M.default.logo,src:d||"/extensions-static/ks-console-embed/dist/v3dist/assets/no_img.svg",alt:i}),v.default.createElement("div",{className:M.default.imageInfo},v.default.createElement("p",null,i),v.default.createElement("p",null,t("IMAGE_TIME_SIZE_LAYER",{time:(0,k.default)(c).fromNow()})))),v.default.createElement("div",{className:M.default.selectedInfo},v.default.createElement(N.Icon,{name:"port",className:M.default.icon}),v.default.createElement("div",{className:M.default.imageInfo},v.default.createElement("p",null,h||t("NO_DEFAULT_PORT")),v.default.createElement("p",null,t("PORT")))),v.default.createElement("div",{className:M.default.selectedInfo},v.default.createElement(N.Icon,{name:"docker",className:M.default.icon}),v.default.createElement("div",{className:M.default.imageInfo},v.default.createElement("p",null,m),v.default.createElement("p",null,t("REGISTRY")))))),g?v.default.createElement("div",{className:M.default.message},g):null,v.default.createElement(I.default,{onSelectImageTag:n.onSelectImageTag,selectedImageTag:r,tagList:u,getImageList:n.getImageList})))}return u.data.length>0?v.default.createElement(I.default,{onSelectImageTag:n.onSelectImageTag,selectedImageTag:r,tagList:(0,y.toJS)(n.store.tagList),getImageList:n.getImageList}):v.default.createElement("div",{className:(0,R.default)(M.default.selectedContent,M.default.emptyContent)},v.default.createElement("div",null,v.default.createElement(N.Icon,{name:"docker",className:M.default.icon}),v.default.createElement("p",{className:M.default.desc},t("SET_IMAGE_DESC"))))},n.imageRequiredValidator=function(e,a,r){if((0,S.default)(a))return r({message:t("IMAGE_EMPTY")});r()},n.store=new P.default,n.getImageDetail=(0,_.default)(n.getImageDetail,1e3),n.state={isLoading:!1,selectedImage:void 0,selectedImageTag:void 0,selectedLoading:!1},n}return(0,d.default)(r,[{key:"componentDidMount",value:function(){var e,t,a=this,r=this.props,n=r.formTemplate,l=r.imageRegistries,u=(0,b.default)(n,"image",""),o=(null!==(e=null===(t=l.find((function(e){return e.value===a.secret})))||void 0===t?void 0:t.url)&&void 0!==e?e:"").replace(/^(http(s)?:\/\/)?(.*)$/,"$3");u&&u!==o&&this.getImageDetail({image:u,secret:this.secret})}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0}},{key:"render",value:function(){var e=t.html("IMAGE_DESC",{link:(0,D.getDocsUrl)("imageregistry")});return v.default.createElement(v.default.Fragment,null,v.default.createElement(N.Form.Item,{label:t("IMAGE"),desc:(0,D.learnMoreTip)(e),rules:[{pattern:T.PATTERN_IMAGE,message:t("INVALID_IMAGE")},{validator:this.imageRequiredValidator}]},v.default.createElement(w.default,(0,u.default)({},this.props,{store:this.store,onEnter:this.handleEnter,name:"image",onLoading:this.handleLoadingChange}))),globals.config.enableImageSearch&&this.renderSelectedContent())}},{key:"secret",get:function(){var e=this.props,t=e.imageRegistries,a=e.formTemplate,r=t.find((function(e){return e.isDefault}));return(0,b.default)(a,"pullSecret",(null==r?void 0:r.value)||"")}}]),r}(v.Component);a.default=L,L.defaultProps={className:"",type:"add"},L.contextTypes={forceUpdate:g.default.func,setImageDetail:g.default.func}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(44),r(88),r(20),r(320),r(14),r(24),r(4),r(21),r(200),r(18),r(143),r(30),r(11),r(71),r(197),r(139),r(79),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(44),r(88),r(20),r(320),r(29),r(14),r(24),r(4),r(21),r(200),r(18),r(43),r(143),r(251),r(30),r(252),r(11),r(71),r(197),r(79);var l=n(r(58)),u=n(r(31)),o=n(r(38));r(35);var i=n(r(39)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=n(r(1)),v=n(r(26)),g=n(r(68)),y=n(r(67)),E=n(r(5)),b=r(189),O=n(r(1998)),S=n(r(2e3)),C=n(r(1330));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var k=function(e){(0,f.default)(r,e);var a=_(r);function r(e){var n;(0,c.default)(this,r),(n=a.call(this,e)).handleDOMClick=function(e){n.dropContentRef&&n.dropContentRef.current&&!n.dropContentRef.current.contains(e.target)&&n.hideContent()},n.showContent=function(e){e.stopPropagation(),n.setState({visible:!0},(function(){document.addEventListener("click",n.handleDOMClick),"dockerHub"!==n.hubType&&n.fetchHarborList("",n.state.harborData)}))},n.hideContent=function(){"dockerHub"!==n.hubType&&n.setState({harborList:[]}),n.setState({visible:!1},(function(){document.removeEventListener("click",n.handleDOMClick)}))},n.handleDetailRedirect=function(e){var t=e.currentTarget.dataset.image;window.open("https://hub.docker.com/_/".concat(t))},n.handleSecretChange=function(e){if(e){var t=n.props.imageRegistries.filter((function(t){return t.value===e}))[0];n.setState({harborData:t})}var a=n.props.formTemplate;(0,g.default)(a,"pullSecret",e),n.props.onChange(n.registryUrl)},n.handleInputChange=function(e,t){var a=t;n.registryUrl&&(a="".concat(n.registryUrl,"/").concat(t).replace(/\/+/g,"/")),a=a.replace(/\s+/g,""),n.props.onChange(a),n.context.setImageDetail&&n.context.setImageDetail({image:a})},n.handleKeyUp=function(e){13===e.keyCode&&n.handleConfirm()},n.handleConfirm=function(){n.imageName&&n.props.onEnter()},n.handleDockerImageSelected=function(){var e=(0,i.default)(o.default.mark((function e(t){var a,r,l,u;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.currentTarget.dataset,r=a.image,l=a.logo,u=a.short_description,n.props.onChange(r),n.hideContent(),n.props.onEnter({logo:l,short_description:u});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleHarborImageSelected=function(){var e=(0,i.default)(o.default.mark((function e(t){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="".concat(t.repository_name),"","",n.props.onChange("".concat(n.registryUrl,"/").concat(a)),n.hideContent(),n.props.onEnter({logo:"",short_description:""});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleSearchDockerHub=function(e){n.fetchDockerList(e)},n.handleSearchHarbor=function(e){n.fetchHarborList(e,n.state.harborData)},n.fetchDockerList=function(){var e=(0,i.default)(o.default.mark((function e(t){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({isLoading:!0}),e.next=3,n.store.getDockerImagesLists({q:t||"",image_filter:t?void 0:"official",page_size:50,type:"image"}).finally((function(){!n.isUnMounted&&n.setState({isLoading:!1})}));case 3:a=e.sent,!n.isUnMounted&&n.setState({dockerList:(0,v.default)(a,"summaries",[])});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fetchHarborList=function(){var e=(0,i.default)(o.default.mark((function e(t,a){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,v.default)(a,"url")&&!(0,y.default)(a)){e.next=3;break}return e.abrupt("return");case 3:return n.setState({isLoading:!0}),e.next=6,n.store.getHarborImagesLists({harborData:a,params:{q:t||""}}).finally((function(){!n.isUnMounted&&n.setState({isLoading:!1})}));case 6:r=e.sent,!n.isUnMounted&&n.setState({harborList:(0,v.default)(r,"repository",[])});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.renderContent=function(){return n.state.visible?m.default.createElement("div",{className:(0,E.default)(C.default.dropContent,(0,u.default)({},C.default.dropContent_hide,!n.state.visible)),ref:n.dropContentRef},m.default.createElement("div",{className:C.default.header},m.default.createElement(b.InputSearch,{className:C.default.search,onSearch:"dockerHub"===n.hubType?n.handleSearchDockerHub:n.handleSearchHarbor,placeholder:t("SEARCH")}),n.state.isLoading&&m.default.createElement(b.Loading,{className:"float-left",size:28})),"dockerHub"===n.hubType?n.renderDockerList():n.renderHarborList()):null};var l=n.props.imageRegistries,s="harbor"===n.hubType?l.find((function(e){return e.value===n.secretValue})):{};return n.state={dockerList:[],harborList:[],harborData:s,visible:!1,isLoading:!1},n.store=e.store,n.dropContentRef=m.default.createRef(),n.isUnMounted=!1,n}return(0,s.default)(r,[{key:"componentDidMount",value:function(){"Edit"!==this.props.type&&""!==this.secretValue&&this.handleSecretChange(this.secretValue),"dockerHub"===this.hubType&&this.fetchDockerList(),"harbor"===this.hubType&&this.fetchHarborList("",this.state.harborData)}},{key:"componentWillUnmount",value:function(){this.isUnMounted=!0,document.removeEventListener("click",this.handleDOMClick)}},{key:"renderDockerList",value:function(){var e=this;return(0,y.default)(this.state.dockerList)?m.default.createElement("ul",{className:C.default.listContent},m.default.createElement("div",{className:(0,E.default)(C.default.selectedContent,C.default.emptyContent)},m.default.createElement("div",null,m.default.createElement(b.Icon,{name:"docker",className:C.default.icon}),m.default.createElement("p",{className:C.default.desc},t("NO_IMAGE_FOUND"))))):m.default.createElement("ul",{className:C.default.listContent},this.state.dockerList.map((function(t){return m.default.createElement("li",{className:C.default.ImageItem,key:t.name},m.default.createElement("img",{src:(0,v.default)(t,"logo_url.large")||"/extensions-static/ks-console-embed/dist/v3dist/assets/no_img.svg",alt:t.name}),m.default.createElement("div",{className:C.default.info},m.default.createElement("p",{onClick:e.handleDockerImageSelected,className:C.default.clickable,"data-image":t.slug,"data-logo":(0,v.default)(t,"logo_url.large",""),"data-short_description":t.short_description},t.name),m.default.createElement("p",null,t.short_description)),m.default.createElement("div",{className:C.default.starContainer},m.default.createElement(b.Icon,{className:C.default.star,name:"star"}),t.star_count),m.default.createElement("div",{className:C.default.actions},m.default.createElement("span",{className:C.default.clickable,onClick:e.handleDetailRedirect,"data-image":t.slug},m.default.createElement(b.Icon,{name:"paper",size:16,changeable:!0})),m.default.createElement("span",{className:C.default.clickable,onClick:e.handleDockerImageSelected,"data-image":t.slug,"data-logo":(0,v.default)(t,"logo_url.large",""),"data-short_description":t.short_description},m.default.createElement(b.Icon,{name:"check",size:16,changeable:!0}))))})))}},{key:"renderHarborList",value:function(){var e=this;return(0,y.default)(this.state.harborList)?m.default.createElement("ul",{className:C.default.listContent},m.default.createElement("div",{className:(0,E.default)(C.default.selectedContent,C.default.emptyContent)},m.default.createElement("div",null,m.default.createElement(b.Icon,{name:"docker",className:C.default.icon}),m.default.createElement("p",{className:C.default.desc},t("NO_IMAGE_FOUND"))))):m.default.createElement("ul",{className:C.default.listContent},this.state.harborList.map((function(t){return m.default.createElement("li",{className:C.default.ImageItem,key:t.repository_name},m.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/no_img.svg",alt:t.repository_name}),m.default.createElement("div",{className:C.default.info},m.default.createElement("p",{onClick:function(a){return e.handleHarborImageSelected(t,a)},className:C.default.clickable},t.repository_name)),m.default.createElement("div",{className:C.default.actions},m.default.createElement("span",{className:C.default.clickable,onClick:function(a){return e.handleHarborImageSelected(t,a)}},m.default.createElement(b.Icon,{name:"check",size:16,changeable:!0}))))})))}},{key:"render",value:function(){var e=this;return m.default.createElement(m.default.Fragment,null,m.default.createElement(S.default,{className:C.default.imageInput,onChange:this.handleInputChange,value:this.imageName,autoComplete:"off",placeholder:this.secretValue?"nginx:latest":t("IMAGE_PLACEHOLDER"),onBlur:this.handleConfirm,onKeyUp:this.handleKeyUp},m.default.createElement(O.default,{value:this.secretValue,className:C.default.secretSelect,options:this.secretsOptions,onChange:this.handleSecretChange,disabled:this.secretsOptions.length<=1})),"others"===this.hubType||globals.config.enableImageSearch?m.default.createElement(b.Icon,{name:"templet",changeable:!0,className:C.default.dropDownIcon,onClick:function(t){return e.showContent(t)}}):null,this.renderContent())}},{key:"defaultImage",get:function(){return this.props.imageRegistries.find((function(e){return e.isDefault}))}},{key:"secretValue",get:function(){var e,t=this.props,a=t.formTemplate;return"Edit"===t.type?(0,v.default)(a,"pullSecret",""):(0,v.default)(a,"pullSecret",(null===(e=this.defaultImage)||void 0===e?void 0:e.value)||"")}},{key:"hubType",get:function(){return this.registryUrl.indexOf("docker.io")>=0||""===this.secretValue?"dockerHub":this.secretValue&&this.registryUrl.indexOf("docker.io")<0?"harbor":"others"}},{key:"registryUrl",get:function(){var e=this,t=this.props.imageRegistries;if(!(0,y.default)(t)&&this.secretValue){var a=t.find((function(t){return t.value===e.secretValue})),r=(0,v.default)(a,"url","");if(r)return r=(r=r.replace(/^(http(s)?:\/\/)?(.*)$/,"$3")).split("/")[0]}return""}},{key:"imageName",get:function(){var e=this.props.value;if(e.startsWith(this.registryUrl)){var t=new RegExp("".concat(this.registryUrl,"(/)?"));return e.replace(t,"")}return e}},{key:"secretsOptions",get:function(){var e=this.props.imageRegistries.map((function(e){return{label:e.label,value:e.value,url:e.url,isDefault:e.isDefault}}));return[{label:"Docker Hub",value:"",url:"",isDefault:!this.defaultImage}].concat((0,l.default)(e)).sort((function(e,t){return Number(!!t.isDefault)-Number(!!e.isDefault)}))}}]),r}(m.default.Component);a.default=k,k.contextTypes={setImageDetail:h.default.func},k.defaultProps={imageRegistries:[],className:"",value:"",onChange:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(10),r(44),r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(10),r(44),r(20),r(29),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(808)),m=n(r(67)),h=n(r(163)),v=n(r(830)),g=n(r(5)),y=r(189),E=n(r(1999));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var O=function(e){(0,i.default)(r,e);var a=b(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this,e)).triggerChange=(0,p.default)((function(){(0,t.props.onChange)(t.state.value)})),t.handleClick=function(e){t.setState({value:e,showOptions:!1},(function(){t.triggerChange()}))},t.toggleShowOptions=function(){t.setState({showOptions:!t.state.showOptions})},t.handleShowOptions=function(){t.setState({showOptions:!0})},t.handleHideOptions=function(){t.setState({showOptions:!1})},t.state={value:(0,h.default)(e.value)?e.defaultValue:e.value,showOptions:!1},t.optionsRef=f.default.createRef(),t}return(0,o.default)(r,[{key:"renderOption",value:function(e,a){var r=this;return f.default.createElement("div",{key:e.uid||e.value,onClick:function(){return r.handleClick(e.value)},className:(0,g.default)(E.default.option,(0,l.default)({},E.default.selected,a))},f.default.createElement("div",{className:E.default.optionCol},f.default.createElement("span",{className:E.default.optionLabel},e.label),e.isDefault&&f.default.createElement("span",{className:E.default.defaultTag},t("DEFAULT"))),f.default.createElement("p",null,e.url))}},{key:"renderOptions",value:function(){var e=this,t=this.props,a=t.options,r=t.disabled,n=this.state.value;if(r||(0,m.default)(a))return null;var l=a.find((function(e){return(0,v.default)(e.value,n)}));return f.default.createElement("div",{className:E.default.options},l&&this.renderOption(l,!0),a.filter((function(e){return!(0,v.default)(e.value,n)})).map((function(t){return e.renderOption(t)})))}},{key:"renderControl",value:function(){var e=this.props,t=e.value,a=e.defaultValue,r=e.placeholder,n=e.options,u=e.disabled,o=t||a,i=n.find((function(e){return(0,v.default)(e.value,o)}))||r||{};return f.default.createElement("div",{className:E.default.control},f.default.createElement("span",{className:E.default.label},i.label),!u&&f.default.createElement(y.Icon,{className:(0,g.default)(E.default.rightIcon,(0,l.default)({},E.default.rightIcon_toggle,this.state.showOptions)),name:"chevron-down",size:20}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.disabled;return f.default.createElement("div",{className:(0,g.default)(E.default.wrapper,(0,l.default)({},E.default.disabled,a),t),onClick:this.toggleShowOptions},f.default.createElement(y.Dropdown,{closeAfterClick:!1,visible:this.state.showOptions,onOpen:this.handleShowOptions,onClose:this.handleHideOptions,content:this.renderOptions()},this.renderControl()))}}]),r}(f.default.Component);a.default=O,O.propTypes={className:d.default.string,value:d.default.any,defaultValue:d.default.any,options:d.default.array.isRequired,onChange:d.default.func},O.defaultProps={className:"",defaultValue:"",options:[],onChange:function(){}}},function(e,t,a){e.exports={wrapper:"S_heeB_hWWpcU9iQV27vw",disabled:"_1aEV1eGRRlcxgiiUgzDi4t",control:"_3VHbJcAvcKO3wpbr1S6Nax",options:"_3xbjYC08sAusjBLLYYmR10",label:"_1O8-tjKxx-KQjGqUDhfVTm",rightIcon:"_2KGD9mmPPR7LoALKbTXcqH",rightIcon_toggle:"_300TNQVWjbgMrbsLWW7bIU",selected:"_1pwHXZgl5FXdbBPslY8RjQ",option:"_13sntOU00zu8UIQHzr2jVu",optionCol:"Fk2RtFUjO7CJPWmtz7pYR",optionLabel:"FoyZHugIgAhtpqKQ65mpA",defaultTag:"_1j6G6ToUdFdTGLih7mSwsc"}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var l=n(a(317)),u=n(a(31)),o=n(a(50)),i=n(a(25)),c=n(a(28)),s=n(a(41)),f=n(a(42)),d=n(a(37)),p=r(a(0)),m=n(a(1)),h=n(a(5)),v=n(a(198)),g=n(a(140)),y=n(a(458)),E=n(a(2001));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var O=function(e){(0,s.default)(a,e);var t=b(a);function a(e){var r;return(0,i.default)(this,a),(r=t.call(this,e)).focus=function(){r.node.focus()},r.blur=function(){r.node.blur()},r.handleChange=function(e){var t=e.target.value,a=r.props,n=a.value,l=a.onChange,u=n||t;r.setState({value:u}),l!==y.default&&l(e,t)},r.handleKeyDown=function(e){var t=r.props,a=t.onPressEnter,n=t.onKeyDown;13===e.keyCode&&a&&a(e),n&&n(e)},r.state={value:String(e.value||e.defaultValue),isFocus:!1},r}return(0,c.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.size,n=t.disabled,i=t.children,c=(0,o.default)(t,["className","size","disabled","children"]),s=this.state.value;return p.default.createElement("span",{className:(0,h.default)(E.default.input,a,(0,u.default)({},"is-".concat(r),r))},i,p.default.createElement("input",(0,l.default)({},(0,g.default)(c,"schemas","onKeyDown","onPressEnter","onChange","value","defaultValue","validateStatus","validateHelp","validateIcon","validateOnChange","validateOnBlur"),{disabled:(0,v.default)(n)?n():n,onKeyDown:this.handleKeyDown,onChange:this.handleChange,value:s,ref:function(t){e.node=t},"data-test":"imageSearch"})),p.default.createElement("span",{className:(0,h.default)(E.default.border,"input")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"value"in e&&e.value!==t.value?{value:e.value}:null}}]),a}(p.PureComponent);O.propTypes={name:m.default.string,type:m.default.string,className:m.default.string,size:m.default.oneOf(["small","default","large"]),value:m.default.oneOfType([m.default.string,m.default.number]),defaultValue:m.default.oneOfType([m.default.string,m.default.number]),disabled:m.default.oneOfType([m.default.bool,m.default.func]),onChange:m.default.func,onPressEnter:m.default.func,onKeyDown:m.default.func},O.defaultProps={type:"text",size:"default",disabled:!1,onChange:y.default,onPressEnter:y.default,onKeyDown:y.default,defaultValue:""};var S=O;t.default=S},function(e,t,a){e.exports={input:"_3vEQEMHbKh8LmE9d-auvSs",border:"_1UKB-z9KeXbZ9cQ3YQrnb2","is-small":"TnU7NSMR7wf7uCvk9WTBN",icon:"-ImUGeX33ECFh2FmuR9Z4","is-default":"_1o8YS1PIPm0_aFGs2NPwvr","is-large":"_3R2fJgdHmL4vLxJtTakF_B"}},function(e,t,a){"use strict";a(16);var r=a(19),n=a(162);a(20),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(20);var l=n(a(0)),u=a(189),o=r(a(889)),i=a(17),c=r(a(2005)),s=r(a(1331)),f=function(e){var t=e.selectedImageTag,a=e.onSelectImageTag,r=e.getImageList,n=e.tagList,f=(0,l.useCallback)((function(e){a(e)}),[]),d=n||{},p=d.data,m=d.page,h=d.total,v=d.isLoading;return l.default.createElement("div",{className:s.default.content},l.default.createElement(u.RadioGroup,{wrapClassName:1===h?s.default.radioOnlyOneListContent:s.default.radioListContent,onChange:f,value:t},l.default.createElement(o.default,{className:s.default.radioList,data:(0,i.toJS)(p),page:m,total:h,loading:v,noMount:!0,onFetch:r},p.map((function(e){return l.default.createElement(u.Radio,{value:e,key:e},l.default.createElement(c.default,{tag:e,selectedImageTag:t}))})))))};t.default=f},function(e,t,a){e.exports={wrapper:"Fxc1J8GJ2h6_Qd-n9BxZg",content:"_3DotkGf2uSTDa1JBsYdIsb"}},function(e,t,a){e.exports={wrapper:"_1HH_wApq9OB2Afiw8FUQG5",main:"_3Z6raG0G-fxugjFdD2je6J",content:"_2yXgC1SbTsHsrlUb6aUTxo",loadMore:"_33OcD9PenJa0VjGHcOD-aD",empty:"_2sZpot3ZfCOM9QHB7RXOkx"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(31)),l=r(a(0)),u=a(189),o=r(a(5)),i=r(a(1331)),c=function(e){var t=e.tag,a=e.selectedImageTag;return l.default.createElement("div",{className:(0,o.default)(i.default.imageTagDetailItem,(0,n.default)({},i.default.checked,t===a))},l.default.createElement(u.Icon,{name:"tag",className:i.default.icon,size:20,type:t===a?"light":"dark"}),l.default.createElement("p",{className:i.default.tagName},t))};t.default=c},function(e,t,a){e.exports={message:"_3obsx3JGHNcPFHM89AsInE",imageSearch:"_1OhvKXsP4kv0J873sFRM-g",columns:"aQZPHiJZpM_2WxHh0UHol",type:"_2LIGHzmFbBVhNOoFy_Ed-j"}},function(e,t,a){e.exports={wrapper:"_7te1l8EfVM6tZhqTao6Sf",text:"_3nzWDPF5TiOskojQKzJuIk"}},function(e,t,a){e.exports={wrapper:"_1nzmymJQjcRsMrjYGneDt5",tip:"_2NjdkVatk0DK13ijU1TUaM"}},function(e,t,a){e.exports={wrapper:"_2jnaJ_tJNRHuS4hoQljy_3"}},function(e,t,a){e.exports={defaultButton:"_7MnHu7AlZ8cMwEuzfGyTc"}},function(e,t,a){e.exports={port:"_3JduxMQOXq1WaUbypn2mu3"}},function(e,a,r){"use strict";var n=r(162),l=r(19);r(12),r(3),r(10),r(44),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var u=l(r(31)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=r(189),m=l(r(119)),h=l(r(5)),v=l(r(2013));function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var b=function(e){(0,c.default)(r,e);var a=E(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={tab:"configMaps",chooseAll:!1,name:"",list:[]},e.settingKeys=function(){var t=e.props,a=t.configMaps,r=t.secrets,n=e.state,l=n.tab,u=n.name,o=[];if(""!==u){var i="configMaps"===l?a.find((function(e){return e.name===u})):r.find((function(e){return e.name===u}));o=Object.keys(i.data||{}).map((function(e){return{label:e,value:e,checked:!1}}))}e.setState({list:o})},e.handleRadioChange=function(t){e.setState({tab:t,name:"",list:[]})},e.handleAllChoose=function(){var t=e.state,a=t.list,r=t.allChoose,n=(0,m.default)(a);e.setState({allChoose:!r,list:n.map((function(e){return y(y({},e),{},{checked:!r})}))})},e.handleTypeChange=function(t){e.setState({name:t,list:[]},(function(){e.settingKeys()}))},e.handleKeyChecked=function(t){var a=e.state.list,r=(0,m.default)(a);r[t].checked=!r[t].checked,e.setState({list:r})},e.handleCancel=function(){var t=e.props.onCancel;e.setState({name:"",list:[]},(function(){t()}))},e.handleOk=function(){var t=e.props.onOK,a=e.state,r=a.tab,n=a.name,l=a.list,o="configMaps"===r?"configMapKeyRef":"secretKeyRef";t(l.filter((function(e){return e.checked})).map((function(e){return{name:e.value,valueFrom:(0,u.default)({},o,{name:n,key:e.value})}})))},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this,a=this.props.className,r=this.state,n=r.tab,l=r.allChoose,o=r.name,i=r.list;return d.default.createElement("div",{className:(0,h.default)(a,v.default.contentBox),style:this.style},d.default.createElement("div",{className:v.default.content},d.default.createElement("span",{className:v.default.title},t("BATCH_REFERENCE")),d.default.createElement(p.Alert,{className:v.default.tip,message:t("BATCH_REFERENCE_DESC")}),d.default.createElement(p.RadioGroup,{defaultValue:n,buttonWidth:120,wrapClassName:v.default.tabs,onChange:this.handleRadioChange},this.tabs.map((function(e){return d.default.createElement(p.RadioButton,{key:e.value,value:e.value},e.label)}))),d.default.createElement("div",{className:v.default.subTitle},d.default.createElement("span",null,"configMaps"===n?t("CONFIGMAP"):t("SECRET"))),d.default.createElement(p.Select,{className:v.default.select,prefixIcon:d.default.createElement(p.Icon,{name:"configMaps"===n?"hammer":"key"}),options:this.options,onChange:this.handleTypeChange,value:o}),d.default.createElement("div",{className:v.default.subTitle},d.default.createElement("span",null,t("KEY_PL")),i.length>0&&d.default.createElement("span",{className:v.default.allChoose,onClick:this.handleAllChoose},l?t("DESELECT_ALL"):t("SELECT_ALL"))),d.default.createElement("div",{className:v.default.table},d.default.createElement("div",{className:(0,h.default)(v.default.innerBox,(0,u.default)({},v.default.scroll,i.length>4))},i.map((function(t,a){return d.default.createElement(p.Checkbox,{className:(0,h.default)(v.default.tableItem,(0,u.default)({},v.default.checked,t.checked)),checked:t.checked,onChange:function(){return e.handleKeyChecked(a)}},t.label)}))))),d.default.createElement("div",{className:v.default.options},d.default.createElement(p.Button,{onClick:this.handleCancel},t("CANCEL")),d.default.createElement(p.Button,{type:"control",onClick:this.handleOk},t("OK"))))}},{key:"tabs",get:function(){return[{label:t("CONFIGMAP_PL"),value:"configMaps"},{label:t("SECRET_PL"),value:"secrets"}]}},{key:"options",get:function(){var e=this.props,t=e.configMaps,a=e.secrets;return"configMaps"===this.state.tab?t.map((function(e){return{label:e.name,value:e.name}})):a.map((function(e){return{label:e.name,value:e.name}}))}},{key:"style",get:function(){var e=this.props,t=e.showModal,a=(0,e.getParentPosition)();return t?{top:a.y,left:"calc(".concat(a.x,"px - 12px)")}:{}}}]),r}(d.Component);a.default=b},function(e,t,a){e.exports={contentBox:"_3fu0cXTS6-8QAQs_DJTlw3",content:"_16xE4DVV_sWZ9H7S_Es45D",title:"_1aEnOXwYPEjPFMpZIZCIH4",tip:"_2zo3TJ4xDa-xQGLmdmJAZX",tabs:"_1uI7sdLkFlHd6bb1y0rgyj",subTitle:"DiD89TxExP31ZkyD20Jnm",allChoose:"Fg_gHEB2_RjJA7n2xThUV",select:"_1ibpdeUpiDUA7lh3JDj7SU",table:"_17sbwrk45iiciLmuuauJNz",innerBox:"_2Jw8cKyp5nGmQps7akPnIC",tableItem:"_2UF616YDFSnZNrttSww9aW",checked:"_1ktEr8__1sxlaBM9jyC2zQ",options:"_1Wjti9og2mC72XU2APvskI",scroll:"DHVShHP-NwtOgMhDs3KIG"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(70),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(70),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(195),r(11),r(73),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(26)),d=n(r(201)),p=n(r(67)),m=n(r(68)),h=n(r(808)),v=n(r(0)),g=n(r(1)),y=r(56),E=r(61),b=n(r(5)),O=r(189),S=n(r(1336)),C=n(r(841));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var N=function(e){(0,i.default)(r,e);var a=R(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).state={keyError:!1,envType:"customization"},e.handleResourceValueForm=function(t){var a,r=e.props,n=r.configMaps,l=r.secrets,u={};return"configMapKeyRef"===e.envType?a=n.find((function(e){return e.name===t})):"secretKeyRef"===e.envType&&(a=l.find((function(e){return e.name===t}))),u[e.envType]={name:a?a.name:"",key:""},{valueFrom:u,resourceType:e.envType}},e.handleChange=function(t){var a=e.props.onChange,r={name:"",valueFrom:{}};if(t.resource){var n=e.handleResourceValueForm(t.resource),l=n.valueFrom,u=n.resourceType;r.valueFrom=k({},l),t.resourceKey&&(r.valueFrom[u].key=t.resourceKey)}r.name=t.name,a(r)},e.handleKeyData=function(t){var a=k({},e.props.value),r=Object.keys(a.valueFrom);r&&(0,m.default)(a,"valueFrom.".concat(r,".key"),t),a.name||(a.name=t),e.validEnvKey(a.name,a),e.props.onChange(a)},e.updateCheckStatus=function(){var a=e.props,r=a.repeatKeyArr,n=void 0===r?[]:r,l=a.index;if(n.length>0){var u=n.includes("".concat(l));u&&e.setState({keyError:u},(function(){var a=t("DUPLICATE_KEYS");e.handleError({message:a})}))}},e.handleCfOrScChange=function(t){var a={name:e.props.value.name||"",valueFrom:(0,l.default)({},e.envType,{name:t||"",key:""})};e.validEnvKey(a.name,a),e.props.onChange(a)},e.handleError=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=e.props,r=a.handleKeyError,n=a.handleInputError;r(t),n(t)},e.checkNameRepeat=function(t){var a=e.props,r=a.arrayValue,n=a.index;return r.length>1&&r.filter((function(e,a){return e.name===t&&a!==n})).length>0},e.validEnvKey=(0,h.default)((function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!E.PATTERN_ENV_NAME.test(a),l=e.checkNameRepeat(a),u=(0,d.default)(r,"valueFrom")?(0,p.default)(r.valueFrom):""===r.value;if(""===a&&u)e.handleError(),e.setState({keyError:!1});else{if(l){var o=t("DUPLICATE_KEYS");e.handleError({message:o})}else if(n){var i=""!==a?t("ENVIRONMENT_INVALID_TIP"):t("ENVIRONMENT_CANNOT_BE_EMPTY");e.handleError({message:i})}else e.handleError();e.setState({keyError:n||l})}}),300),e.handleValueChange=(0,h.default)((function(t){var a=t.name,r=t.value;""===a&&""===r?(e.props.handleKeyError(),e.props.handleInputError(),e.setState({keyError:!1})):e.validEnvKey(a,{value:r})}),300),e.handleTypeChange=function(t){var a=e.props,r=a.value,n=a.onChange;e.setState({envType:t,keyError:""},(function(){n("customization"!==t?{name:r.name||"",valueFrom:(0,l.default)({},t,{name:"",key:""})}:{name:r.name||"",value:""}),""===r.name&&e.handleError()}))},e.renderConfigOrSecret=function(){var a=e.props.value,r=void 0===a?{}:a,n=e.state.keyError,u=e.parseValue(r.valueFrom),o=u.resourceType,i=u.resourceName,c=u.resourceKey,s={name:r.name,resource:i,resourceKey:c};return v.default.createElement(C.default,{value:s,onChange:e.handleChange},v.default.createElement("div",{className:S.default.typeBox},v.default.createElement(O.Select,{options:e.resourceOptions,onChange:e.handleTypeChange,value:e.envType})),v.default.createElement(O.Input,{name:"name",placeholder:t("KEY"),className:(0,b.default)((0,l.default)({},S.default.formError,n)),onChange:function(t){return e.validEnvKey(t,r)}}),v.default.createElement(O.Select,{name:"resource",placeholder:t("RESOURCE"),prefixIcon:v.default.createElement(O.Icon,{name:"configMapKeyRef"===e.envType?"hammer":"key"}),options:e.getConfigOrSecretOptions,onChange:e.handleCfOrScChange}),v.default.createElement(O.Select,{name:"resourceKey",placeholder:t("KEY_IN_RESOURCE"),options:e.getKeysOptions({resourceType:o,resourceName:i}),onChange:e.handleKeyData}))},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){this.updateCheckStatus()}},{key:"parseValue",value:function(e){var t=(0,d.default)(e,"configMapKeyRef")?"configMapKeyRef":"secretKeyRef";return{resourceType:t,resourceName:(0,f.default)(e,"".concat(t,".name"),""),resourceKey:(0,f.default)(e,"".concat(t,".key"),"")}}},{key:"getKeysOptions",value:function(e){var t,a=e.resourceType,r=e.resourceName,n=this.props,l=n.configMaps,u=n.secrets;return"configMapKeyRef"===a?t=l.find((function(e){return e.name===r})):"secretKeyRef"===a&&(t=u.find((function(e){return e.name===r}))),t?Object.keys(t.data||{}).map((function(e){return{label:e,value:e}})):[]}},{key:"render",value:function(){var e=this,a=this.props,r=a.value,n=void 0===r?{}:r,u=a.onChange,o=this.state.keyError;return n.valueFrom?this.renderConfigOrSecret():v.default.createElement(C.default,{value:n,onChange:u},v.default.createElement("div",{className:S.default.typeBox},v.default.createElement(O.Select,{options:this.resourceOptions,onChange:this.handleTypeChange,value:this.envType})),v.default.createElement(O.Input,{name:"name",placeholder:t("KEY"),className:(0,b.default)((0,l.default)({},S.default.formError,o)),onChange:function(t){return e.validEnvKey(t,n)}}),v.default.createElement(O.Input,{name:"value",placeholder:t("VALUE"),onChange:function(){return e.handleValueChange(n)}}))}},{key:"envType",get:function(){var e=this.state.envType,t=this.props.value,a=t.valueFrom&&Object.keys(t.valueFrom)[0];return a||e}},{key:"resourceOptions",get:function(){return[{label:t("CUSTOM"),value:"customization"},{label:t("FROM_CONFIGMAP"),value:"configMapKeyRef"},{label:t("FROM_SECRET"),value:"secretKeyRef"}]}},{key:"getConfigOrSecretOptions",get:function(){var e=this.props,t=e.configMaps,a=e.secrets;return"configMapKeyRef"===this.envType?t.map((function(e){return{label:(0,y.getDisplayName)(e),value:e.name}})):a.map((function(e){return{label:(0,y.getDisplayName)(e),value:e.name}}))}}]),r}(v.default.Component);a.default=N,N.propTypes={value:g.default.object,onChange:g.default.func,configMaps:g.default.array,secrets:g.default.array},N.defaultProps={name:"",value:{},onChange:function(){},configMaps:[],secrets:[]}},function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(10),a(6),a(27),a(33),a(16),a(8),a(13),a(9),a(4),a(7);var l=n(a(31)),u=n(a(50)),o=n(a(97)),i=r(a(0)),c=a(189),s=n(a(5)),f=n(a(2016));function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var p=function(e){var t=e.children,a=e.className,r=e.text,n=e.dataTest,p=e.onOK,m=e.modalHeight,h=(0,i.useRef)(),v=(0,i.useState)(!1),g=(0,o.default)(v,2),y=g[0],E=g[1],b=(0,i.useState)({x:"100%",y:"100%",y1:0,height:32}),O=(0,o.default)(b,2),S=O[0],C=O[1],_=function(){E(!y)},k=t.props,R=k.className,N=(0,u.default)(k,["className"]),D=i.default.cloneElement(t,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({className:(0,s.default)(R,f.default.modal,(0,l.default)({},f.default.showModal,y)),getParentPosition:function(){return S},showModal:y,hideModal:_,onOK:function(e){_(),p(e)},onCancel:_},N));return i.default.createElement("div",{className:(0,s.default)(f.default.buttonModalBox,a),ref:h},D,i.default.createElement(c.Button,{onClick:function(){var e,t,a,r,n,l,u;y||(e=h.current.getBoundingClientRect(),t=e.x,a=e.y,r=e.height,n=window.innerHeight,l=n-m,u=n-m/2-(a+S.height/2),C({x:t,y:u>0?l-u:l-12,y1:a+7,height:r})),E(!y)},"data-test":n},r),i.default.createElement("div",{className:(0,s.default)(f.default.triangle,(0,l.default)({},f.default.showModal,y)),style:{top:S.y1,left:S.x}}))};t.default=p},function(e,t,a){e.exports={buttonModalBox:"_2_csTIElkvsBzjHdoPar-Y",modal:"_20nMOVrlzEe8lRAHGp8Ka7",triangle:"_2_7O7g-y-zVcwFvGHPcxyz",showModal:"_18GWZH_n37uqfC9dcmi96j"}},function(e,t,a){e.exports={wrapper:"_12aFZCpNAjO9ewtQoYxEL6",selected:"_2BBYo4tvNWHKB4WbqYEmi2"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(70),r(51),r(9),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(70),r(51),r(29),r(9),r(4),r(18),r(43),r(11),r(73);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(189),p=n(r(26)),m=n(r(68)),h=r(243),v=n(r(898)),g=r(56),y=r(61),E=n(r(325)),b=n(r(319)),O=n(r(450));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var C=(0,h.observer)(l=function(e){(0,i.default)(r,e);var a=S(r);function r(e){var n;return(0,u.default)(this,r),(n=a.call(this,e)).formTemplate=n.props.formTemplate.Service,n.handleNameChange=function(e){var t=n.props,a=t.isFederated,r=t.noWorkload,l=(0,p.default)(n.formTemplate,"metadata.labels",{});l.app=e.slice(0,63),(0,g.updateLabels)(a?(0,p.default)(n.formTemplate,"spec.template"):n.formTemplate,"services",l),a&&(0,m.default)(n.formTemplate,"metadata.labels.app",e.slice(0,63)),r||n.updateWorkload(e)},n.nameValidator=function(e,a,r){if(!a)return r();if(n.props.components){var l,u=null===(l=Object.keys(n.props.components))||void 0===l?void 0:l.filter((function(e){return e!==n.state.originName}));if(null==u?void 0:u.includes(a))return r({message:t("NAME_EXIST_DESC"),field:e.field})}n.store.checkName({name:a,namespace:n.namespace,cluster:n.props.cluster}).then((function(a){if(a.exist)return r({message:t("NAME_EXIST_DESC"),field:e.field});r()}))},n.versionValidator=function(e,a,r){if(!a)return r();var l=(0,p.default)(n.formTemplate,"metadata.name"),u="".concat(l,"-").concat(a);n.workloadStore.checkName({name:u,namespace:n.namespace,cluster:n.props.cluster}).then((function(a){if(a.exist)return r({message:t("NEW_VERSION_NUMBER_EXIST_DESC",{name:u}),field:e.field});r()}))},n.handleVersionChange=function(e){var t=(0,p.default)(n.formTemplate,"metadata.name"),a="".concat(t,"-").concat(e),r=n.props,l=r.formTemplate,u=r.isFederated;(0,m.default)(l[n.workloadKind],"metadata.name",a),u&&(0,m.default)(l.Service,'metadata.annotations["kubesphere.io/workloadName"]',a)},n.state={showServiceMesh:!1,selectApp:{},originName:(0,p.default)(e.formTemplate,"Service.metadata.name")},n.store=new E.default,n.workloadStore=new b.default(e.module),e.isFederated&&(n.store=new O.default(n.store),n.workloadStore=new O.default(n.workloadStore)),n}return(0,o.default)(r,[{key:"updateWorkload",value:function(e){var t=this.props,a=t.module,r=t.formTemplate,n=t.isFederated,l=(0,p.default)(this.formTemplate,"metadata.labels",{}),u=(0,p.default)(this.formTemplate,"metadata.namespace"),o="".concat(e,"-").concat(l.version);(0,m.default)(r[this.workloadKind],"metadata.name",o),(0,m.default)(r[this.workloadKind],"metadata.namespace",u),(0,m.default)(r[this.workloadKind],"metadata.labels.app",e),(0,g.updateLabels)(n?(0,p.default)(r[this.workloadKind],"spec.template"):r[this.workloadKind],a,l),"StatefulSet"===this.workloadKind&&(0,m.default)(r[this.workloadKind],n?"spec.template.spec.serviceName":"spec.serviceName",e),n&&((0,m.default)(r.Service,'metadata.annotations["kubesphere.io/workloadName"]',o),(0,m.default)(r.Service,'metadata.annotations["kubesphere.io/workloadModule"]',a))}},{key:"render",value:function(){var e=this.props,a=e.formRef,r=e.noWorkload,n=e.cluster,l=e.namespace;return f.default.createElement(d.Form,{data:this.formTemplate,ref:a},f.default.createElement(d.Columns,null,f.default.createElement(d.Column,null,f.default.createElement(d.Form.Item,{label:t("NAME"),desc:t("SERVICE_NAME_DESC"),rules:[{required:!0,message:t("NAME_EMPTY_DESC")},{pattern:y.PATTERN_SERVICE_NAME,message:t("INVALID_NAME_DESC",{message:t("SERVICE_NAME_DESC")})},{validator:this.nameValidator}]},f.default.createElement(d.Input,{name:"metadata.name",onChange:this.handleNameChange,autoFocus:!0,maxLength:63}))),f.default.createElement(d.Column,null,f.default.createElement(d.Form.Item,{label:t("ALIAS"),desc:t("ALIAS_NAME_DESC"),rules:[{pattern:y.PATTERN_ALIAS_NAME,message:t("INVALID_ALIAS_NAME_DESC")}]},f.default.createElement(d.Input,{name:"metadata.annotations['kubesphere.io/alias-name']",maxLength:63})))),f.default.createElement(d.Columns,null,!l&&f.default.createElement(d.Column,null,f.default.createElement(d.Form.Item,{label:t("PROJECT"),desc:t("PROJECT_DESC"),rules:[{required:!0,message:t("PROJECT_NOT_SELECT_DESC")}]},f.default.createElement(v.default,{name:"metadata.namespace",cluster:n,defaultValue:this.namespace}))),!r&&f.default.createElement(d.Column,null,f.default.createElement(d.Form.Item,{label:t("VERSION"),desc:t("VERSION_DESC"),rules:[{required:!0,message:t("VERSION_DESC")},{pattern:y.PATTERN_SERVICE_VERSION,message:t("VERSION_DESC")},{validator:this.versionValidator}]},f.default.createElement(d.Input,{name:"metadata.labels.version",defaultValue:"v1",maxLength:16,onChange:this.handleVersionChange}))),f.default.createElement(d.Column,null,f.default.createElement(d.Form.Item,{label:t("DESCRIPTION"),desc:t("DESCRIPTION_DESC")},f.default.createElement(d.TextArea,{name:"metadata.annotations['kubesphere.io/description']",maxLength:256})))))}},{key:"workloadKind",get:function(){var e=this.props,t=e.module;return e.noWorkload?"":y.MODULE_KIND_MAP[t]}},{key:"namespace",get:function(){return(0,p.default)(this.formTemplate,"metadata.namespace")}},{key:"serviceMeshOptions",get:function(){return[{label:t("OFF"),value:"false"},{label:t("ON"),value:"true"}]}}]),r}(f.default.Component))||l;a.default=C},,,function(e,t,a){e.exports={wrapper:"_3-Z2rH4dJXrmQSWl9e4ycU",disabled:"_1Dw41QGGd50RzhWJFhfH49",options:"_2Xu541Z-0bUtJcujaZkRHR",option:"_2EXRjaIiDTR4g0Dfk94wJz",control:"_1hz7Wgmx8Rghk274Q2pzcH",withIcon:"_2Vq4QaRwsRLaDLjC6rbHLK",leftIcon:"ooc_mcBxBm5WR1VuTXQgW",text:"_2zG-KdWrFpEGXbWTU-Uk_u",rightIcon:"UPnGOt9oqYtT-P8SuLo1R",selected:"_1swH00sr6Ka5DNZNLzmPRP",search:"BXevkwDBApCohP4-5hFly"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(6),r(14),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(6),r(29),r(14),r(4),r(18),r(43),r(11),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(119)),f=n(r(67)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=r(848),v=r(189),g=n(r(994)),y=n(r(1137)),E=n(r(1134)),b=n(r(1139)),O=n(r(1140)),S=n(r(1132)),C=n(r(2029)),_=n(r(2038)),k=n(r(2040)),R=n(r(2042));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var D=function(e){(0,o.default)(r,e);var a=N(r);function r(e){var t,n,u;return(0,l.default)(this,r),(u=a.call(this,e)).registerForm=function(){var e=u.context.registerSubRoute,t=u.props.onCancel;e&&e(u.handleSubmit,t)},u.handleGoBack=function(){var e=u.context.resetSubRoute;e&&e(),u.props.onCancel()},u.handleSubmit=function(e){var t=u.props,a=t.onSave,r=t.withService,n=u.formRef.current;n&&n.validate((function(){var t=n.getData();t.args&&(t.args=t.args.filter((function(e){return!(0,f.default)(e)}))),t.command&&(t.command=t.command.filter((function(e){return!(0,f.default)(e)}))),t.env&&(t.env=t.env.filter((function(e){var t=e.name;return!(0,f.default)(t)}))),t.ports&&(t.ports=t.ports.filter((function(e){return e.name&&e.containerPort}))),(0,f.default)(t.lifecycle)&&delete t.lifecycle,(0,f.default)(t.livenessProbe)&&delete t.livenessProbe,(0,f.default)(t.startupProbe)&&delete t.startupProbe,(0,f.default)(t.readinessProbe)&&delete t.readinessProbe,!r&&t.ports&&t.ports.forEach((function(e){void 0!==e.servicePort&&delete e.servicePort})),t.image=u.state.imageDetail.image,a(t),e&&e()}))},u.handleContainerTypeChange=function(e){u.setState({containerType:e})},u.formRef=d.default.createRef(),u.state={containerType:e.data.type||"worker",formData:(0,s.default)(e.data),imageDetail:(null===(t=e.data)||void 0===t?void 0:t.image)?{image:null===(n=e.data)||void 0===n?void 0:n.image}:{}},u}return(0,u.default)(r,[{key:"getChildContext",value:function(){var e=this;return{forceUpdate:function(){e.forceUpdate()},imageDetail:this.state.imageDetail,setImageDetail:function(t){e.setState({imageDetail:t})}}}}]),(0,u.default)(r,[{key:"componentDidMount",value:function(){this.registerForm()}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.isFederated,r=e.cluster,n=e.limitRange,l=e.imageRegistries,u=e.namespace,o=e.withService,i=e.supportGpuSelect,c=e.projectDetail,s=e.containers,f=e.type,p=e.onlyDockerHub,N=this.state,D=N.containerType,T=N.formData;return d.default.createElement("div",{className:(0,m.default)(R.default.wrapper,t)},d.default.createElement("div",{className:"h5"},d.default.createElement("a",{className:"custom-icon",onClick:this.handleGoBack},d.default.createElement(h.ReactComponent,null)),this.title),d.default.createElement(v.Form,{ref:this.formRef,data:T},d.default.createElement(S.default,{data:T,cluster:r,namespace:u,limitRange:n,imageRegistries:p?[]:l,defaultContainerType:D,onContainerTypeChange:this.handleContainerTypeChange,workspaceQuota:this.props.workspaceQuota,supportGpuSelect:i,containers:s,type:f}),d.default.createElement(g.default,{withService:"init"!==D&&o,data:T}),d.default.createElement(b.default,null),"init"!==D&&d.default.createElement(O.default,null),d.default.createElement(k.default,null),d.default.createElement(y.default,null),d.default.createElement(E.default,{namespace:u,isFederated:a,cluster:r,projectDetail:c}),d.default.createElement(C.default,null),d.default.createElement(_.default,{data:T})))}},{key:"title",get:function(){var e=this.props,a=e.type,r=e.titlePrefix,n=t("".concat(a.toUpperCase(),"_CONTAINER"));return"".concat(r).concat(n)}}]),r}(d.default.Component);a.default=D,D.propTypes={onlyDockerHub:p.default.bool,className:p.default.string,type:p.default.string,titlePrefix:p.default.string,namespace:p.default.string,module:p.default.string,data:p.default.object,onSave:p.default.func,onCancel:p.default.func,configMaps:p.default.array,secrets:p.default.array,containers:p.default.array},D.defaultProps={className:"",type:"Add",titlePrefix:"",onlyDockerHub:!1,namespace:"",module:"",data:{},onSave:function(){},onCancel:function(){},configMaps:[],secrets:[],containers:[]},D.childContextTypes={forceUpdate:p.default.func,imageDetail:p.default.object,setImageDetail:p.default.func},D.contextTypes={registerSubRoute:p.default.func,resetSubRoute:p.default.func}},function(e,t,a){e.exports={input:"_9VIeOg56YL5EUVGKERJsI"}},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(20),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(7);var l,u,o,i=n(r(31)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=r(243),v=n(r(1)),g=n(r(5)),y=n(r(119)),E=r(189),b=n(r(840)),O=n(r(2025)),S=n(r(1341)),C=n(r(2026));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var R=[{value:"http",desc:"HTTP_REQUEST"},{value:"command",desc:"COMMAND"},{value:"tcp",desc:"TCP_PORT"}],N=(0,h.observer)((o=u=function(e){(0,f.default)(r,e);var a=k(r);function r(e){var t;return(0,c.default)(this,r),(t=a.call(this,e)).filterData=function(e){var a=t.state.checkerType,r=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e);switch(a){default:case"http":delete r.tcpSocket,delete r.exec;break;case"command":delete r.httpGet,delete r.tcpSocket;break;case"tcp":delete r.httpGet,delete r.exec}return r},t.handleTypeChange=function(e){t.setState({checkerType:e})},t.handleSubmit=function(){var e=t.props.onSave,a=t.formRef.current;a&&a.validate((function(){e(t.filterData(a.getData()))}))},t.state={formData:(0,y.default)(e.data),checkerType:t.checkerType},t.formRef=m.default.createRef(),t}return(0,s.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.probType,n=e.onCancel,l=e.componentType,u=void 0===l?"heal":l,o=this.state,i=o.formData,c=o.checkerType;return m.default.createElement("div",{className:(0,g.default)(S.default.wrapper,a)},m.default.createElement("div",{className:(0,g.default)(S.default.radioGroup,"probe-radio-group")},m.default.createElement(E.RadioGroup,{mode:"button",buttonWidth:150,value:c,onChange:this.handleTypeChange,size:"small"},R.map((function(e){return m.default.createElement(E.RadioButton,{value:e.value},t(e.desc))})))),m.default.createElement(E.Form,{ref:this.formRef,type:"inner",data:i},m.default.createElement("div",{className:"margin-b12"},m.default.createElement(C.default,{checkerType:c})),"life"===u?null:m.default.createElement(O.default,{probType:r})),m.default.createElement(b.default,{className:S.default.confirm,onOk:this.handleSubmit,onCancel:n}))}},{key:"checkerType",get:function(){var e=this.props.data;return"exec"in e?"command":"tcpSocket"in e?"tcp":"http"}}]),r}(m.default.Component),u.propTypes={className:v.default.string,componentType:v.default.string,data:v.default.object,onSave:v.default.func,onCancel:v.default.func},u.defaultProps={data:{},onSave:function(){},onCancel:function(){},componentType:"heal"},l=o))||l;a.default=N},function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);r(70),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(70);var u=l(r(0)),o=r(189),i=n(r(805)),c=(0,u.memo)((function(e){var a=e.probType;return u.default.createElement(u.default.Fragment,null,u.default.createElement(o.Columns,null,u.default.createElement(o.Column,null,u.default.createElement(o.Form.Item,{label:t("INITIAL_DELAY_S"),desc:t("INITIAL_DELAY_DESC")},u.default.createElement(i.default,{name:"initialDelaySeconds",defaultValue:0,min:0,integer:!0}))),u.default.createElement(o.Column,null,u.default.createElement(o.Form.Item,{label:t("TIMEOUT_PERIOD_S"),desc:t("TIMEOUT_PERIOD_DESC")},u.default.createElement(i.default,{name:"timeoutSeconds",defaultValue:1,min:1,integer:!0})))),u.default.createElement(o.Columns,null,u.default.createElement(o.Column,null,u.default.createElement(o.Form.Item,{label:t("CHECK_INTERVAL_S"),desc:t("CHECK_INTERVAL_DESC")},u.default.createElement(i.default,{name:"periodSeconds",defaultValue:10,min:1,integer:!0}))),u.default.createElement(o.Column,null,u.default.createElement(o.Form.Item,{label:t("SUCCESS_THRESHOLD"),desc:t("SUCCESS_THRESHOLD_DESC")},u.default.createElement(i.default,{name:"successThreshold",defaultValue:1,min:1,readOnly:["livenessProbe","startupProbe"].includes(a),integer:!0})))),u.default.createElement(o.Columns,null,u.default.createElement(o.Column,null,u.default.createElement(o.Form.Item,{label:t("FAILURE_THRESHOLD"),desc:t("FAILURE_THRESHOLD_DESC")},u.default.createElement(i.default,{name:"failureThreshold",defaultValue:3,min:1,integer:!0}))),u.default.createElement(o.Column,null)))}));a.default=c},function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=l(r(0)),o=n(r(805)),i=n(r(1138)),c=n(r(841)),s=r(189),f=n(r(1341)),d=(0,u.memo)((function(e){var a=e.checkerType;switch(a){case"command":return u.default.createElement(s.Form.Item,{key:a,label:t("COMMANDS"),desc:t("PROBE_COMMAND_DESC"),rules:[{required:!0,message:t("PROBE_COMMAND_EMPTY")}]},u.default.createElement(i.default,{className:"max-width-full",name:"exec.command"}));case"tcp":return u.default.createElement(s.Form.Item,{label:t("PORT"),rules:[{required:!0,message:t("PORT_NUMBER_EMPTY")}]},u.default.createElement(o.default,{name:"tcpSocket.port",defaultValue:80,min:0,max:65535,integer:!0}));default:return u.default.createElement(s.Form.Item,{key:a,label:t("PATH"),rules:[{required:!0,message:t("HTTP_PATH_EMPTY")}]},u.default.createElement(c.default,{name:"httpGet",className:f.default.object,defaultValue:{scheme:"HTTP",path:"/",port:80}},u.default.createElement(s.Select,{name:"scheme",options:[{label:"HTTP",value:"HTTP"},{label:"HTTPS",value:"HTTPS"}]}),u.default.createElement(s.Input,{name:"path"}),u.default.createElement(o.default,{name:"port",min:0,max:65535,integer:!0})))}}));a.default=d},function(e,t,a){e.exports={probe:"_3aWvLSLxk3Xmtb2eigtyU3",content:"_2F5LmZnF2fwnYWdvT-Yx_o",empty:"bvVfdnF_McvY1K6lp2E6B",form:"_2DcqGfdqyrtZO-fn0h0Kk9"}},function(e,t,a){e.exports={item:"_1A0EK8vnlJQwecnjWIYMil"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(2030)),p=n(r(1342)),m=n(r(1343)),h=n(r(2035));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(r,e);var a=v(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(f.Form.Group,{label:t("CONTAINER_SECURITY_CONTEXT"),desc:t("CONTAINER_SECURITY_CONTEXT_DESC"),checkable:!0},s.default.createElement(d.default,null),s.default.createElement(p.default,null),s.default.createElement(m.default,null),s.default.createElement(h.default,null))}}]),r}(s.default.PureComponent);a.default=g},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(997)),p=n(r(2032));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement("div",{className:"margin-b12"},s.default.createElement("div",{className:p.default.title},t("ACCESS_CONTROL")),s.default.createElement("div",{className:p.default.content},s.default.createElement(f.Form.Item,null,s.default.createElement(d.default,{name:"".concat(this.prefix,".privileged"),title:t("PRIVILEGED_MODE"),description:t("PRIVILEGED_MODE_DESC")})),s.default.createElement(f.Form.Item,null,s.default.createElement(d.default,{name:"".concat(this.prefix,".allowPrivilegeEscalation"),title:t("ALLOW_PRIVILEGE_ESCALATION"),description:t("ALLOW_PRIVILEGE_ESCALATION_DESC")})),s.default.createElement(f.Form.Item,null,s.default.createElement(d.default,{name:"".concat(this.prefix,".readOnlyRootFilesystem"),title:t("ROOT_DIRECTORY_READONLY"),description:t("ROOT_DIRECTORY_READONLY_DESC")}))))}},{key:"prefix",get:function(){return this.props.prefix||"securityContext"}}]),r}(s.default.Component);a.default=h},function(e,t,a){e.exports={wrapper:"_15WzUlcoLloZykJlZj0Apo",text:"_1FbvXHTu2eI1KD5ONd5HH0"}},function(e,t,a){e.exports={title:"xiiGbS5phbPetinkKktv5",content:"_3MKZeMiqNiY37e6ZT3uCbc"}},function(e,t,a){e.exports={title:"_93bRvqjERHRqTzbtsZ3hA",content:"ALf6y5a4svCrpH2U0yUs8"}},function(e,t,a){e.exports={title:"_3mzDzs1cbhNCB3Q4DZTkCL",content:"_2BaVtn2VyGgZ9YmDM_znzH"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(824)),p=n(r(2036)),m=n(r(2037));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement("div",{className:"margin-b12"},s.default.createElement("div",{className:m.default.title},t("CAPABILITIES")),s.default.createElement("div",{className:m.default.content},s.default.createElement(f.Form.Item,{label:t("ADD")},s.default.createElement(d.default,{name:"".concat(this.prefix,".capabilities.add")},s.default.createElement(p.default,null))),s.default.createElement(f.Form.Item,{label:t("DROP")},s.default.createElement(d.default,{name:"".concat(this.prefix,".capabilities.drop")},s.default.createElement(p.default,null)))))}},{key:"prefix",get:function(){return this.props.prefix||"securityContext"}}]),r}(s.default.Component);a.default=v},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(a(50)),l=r(a(0)),u=a(189),o=function(e){e.arrayValue,e.handleKeyError;var t=(0,n.default)(e,["arrayValue","handleKeyError"]);return l.default.createElement(u.Input,t)};t.default=o},function(e,t,a){e.exports={title:"K8wgjzWlByq5WsuMlI7Tf",content:"_3X53teLvKWLW3f9mdpe3jg"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(98),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(98),r(29),r(4),r(18),r(43),r(11);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(26)),p=n(r(68)),m=r(189),h=n(r(2039));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=function(e){(0,i.default)(r,e);var a=v(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=a.call.apply(a,[this].concat(n))).state={isCheck:(0,d.default)(e.props.data,"volumeMounts",[]).some((function(e){return"/etc/localtime"===e.mountPath}))},e.handleCheck=function(){e.setState((function(e){return{isCheck:!e.isCheck}}),(function(){var t=(0,d.default)(e.props.data,"volumeMounts",[]);e.state.isCheck?(0,p.default)(e.props.data,"volumeMounts",[].concat((0,l.default)(t),[{name:"host-time",mountPath:"/etc/localtime",readOnly:!0}])):(0,p.default)(e.props.data,"volumeMounts",t.filter((function(e){return"/etc/localtime"!==e.mountPath})))}))},e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.state.isCheck;return f.default.createElement("div",{className:h.default.wrapper},f.default.createElement("div",{className:h.default.title},f.default.createElement(m.Checkbox,{checked:e,onChange:this.handleCheck},t("SYNC_HOST_TIMEZONE"))),f.default.createElement("div",{className:h.default.desc},t("SYNC_HOST_TIMEZONE_DESC")))}}]),r}(f.default.PureComponent);a.default=g},function(e,t,a){e.exports={wrapper:"_13HKR4gAgD0ig3Y9hsQqG1",title:"_1-3berk2PocVRYaJX2GjAv",desc:"_1TvWgxGHR42g-MP8KIg9E4"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(1340)),p=n(r(2041));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(f.Form.Group,{label:t("LIFECYCLE_MANAGEMENT"),desc:t("LIFECYCLE_MANAGEMENT_DESC"),checkable:!0},s.default.createElement(f.Form.Item,{className:p.default.item,label:t("POSTSTART_ACTION")},s.default.createElement(d.default,{name:"".concat(this.prefix,"lifecycle.postStart"),label:t("ADD_ACTION"),description:t("POSTSTART_ACTION_DESC"),componentType:"life",deleteNoObject:!0})),s.default.createElement(f.Form.Item,{className:p.default.item,label:t("PRESTOP_ACTION")},s.default.createElement(d.default,{name:"".concat(this.prefix,"lifecycle.preStop"),label:t("ADD_ACTION"),description:t("PRESTOP_ACTION_DESC"),componentType:"life",deleteNoObject:!0})))}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}}]),r}(s.default.Component);a.default=h,h.defaultProps={prefix:""}},function(e,t,a){e.exports={item:"_1_hNoxkPtdee023EClqoqd"}},function(e,t,a){e.exports={container:"_1ZV1zcmI3aQsf7TJa7U-ty",wrapper:"_3NA0XhEMpjb5u2sVl8Gy7-",toggle:"_3ZJu02OAXhBZt63sPr3iDG",formGroup:"_3yEl2cRdJiajJY7iBXwOvq",header:"_1LL-93h1piWYMj3GKZYXDF",info:"_3SRMw_cW2iG95HGqlzqFDw",title:"_1IrUCrX0FmacJPpuTlltMv",desc:"_20WcR7Wo7ZjqKK37wJIWBX",formArea:"INKvIY3k_DmxQo0-hQ3r_"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(192),r(10),r(44),r(6),r(20),r(14),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(192),r(10),r(44),r(6),r(20),r(27),r(29),r(14),r(4),r(18),r(43),r(11),r(7);var l,u,o,i=n(r(58)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=r(189),h=n(r(26)),v=n(r(68)),g=n(r(850)),y=r(243),E=n(r(1)),b=n(r(0)),O=r(56),S=n(r(2044)),C=n(r(2045)),_=n(r(2047));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var R=(0,y.observer)((o=u=function(e){(0,f.default)(r,e);var a=k(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleChange=function(t,a){var r=(0,h.default)(e.props.template,"spec.overrides",[]),n=r.find((function(e){return e.clusterName===t}));n||(n={clusterName:t,clusterOverrides:[]},r.push(n)),n.clusterOverrides=n.clusterOverrides||[];var l=n.clusterOverrides.find((function(e){return"/spec/replicas"===e.path}));l?l.value=a:n.clusterOverrides.push({path:"/spec/replicas",value:a}),0===a&&(r=r.filter((function(e){return e.clusterName!==t}))),(0,v.default)(e.props.template,"spec.overrides",r);var u=(0,h.default)(e.props.template,"spec.placement.clusters",[]);(0,v.default)(e.props.template,"spec.placement.clusters",0===a?u.filter((function(e){return e.name!==t})):(0,g.default)([].concat((0,i.default)(u),[{name:t}]),"name")),e.props.onClusterUpdate&&e.props.onClusterUpdate()},e.getValue=function(t){if((0,h.default)(e.props.template,"spec.placement.clusters",[]).every((function(e){return e.name!==t})))return 0;var a,r=(0,h.default)(e.props.template,"spec.overrides",[]),n=(0,h.default)(e.props.template,"spec.template.spec.replicas",0);return r.forEach((function(e){e.clusterName===t&&e.clusterOverrides&&(a=e.clusterOverrides.find((function(e){return"/spec/replicas"===e.path})))})),a?a.value:n},e.switchMode=function(){var t=e.props.store;t.isScheduleDeployment?t.switchSchedule(!1):t.switchSchedule(!0)},e.getTotalReplicas=function(){return(0,h.default)(e.props.scheduleTemplate,"spec.totalReplicas","")},e}return(0,s.default)(r,[{key:"renderPlacement",value:function(e){var t=this,a=this.props.omitAlias,r=void 0!==a&&a;return b.default.createElement("div",{className:S.default.wrapper},e.map((function(e){return b.default.createElement(C.default,{key:e.name,cluster:(0,O.getDisplayNameNew)(e,r),replicas:t.getValue(e.name),onChange:t.handleChange})})))}},{key:"renderSchedule",value:function(){var e=this.props.clusters,a=this.props.store,r=m.Tabs.TabPanel;return b.default.createElement(b.default.Fragment,null,b.default.createElement(m.Tabs,{type:"button",onChange:this.switchMode},b.default.createElement(r,{label:t("SPECIFY_REPLICAS"),name:"Normal",icon:"cluster"},this.renderPlacement(e)),b.default.createElement(r,{label:t("SPECIFY_WEIGHTS"),name:"Scheduling",icon:"cluster"},b.default.createElement(_.default,{clusters:e,scheduleTemplate:a.scheduleTemplate,onError:this.props.onError}))))}},{key:"render",value:function(){var e=this.props.clusters;return(0,h.default)(this.props.store,"renderScheduleTab",!1)?this.renderSchedule():this.renderPlacement(e)}}]),r}(b.default.Component),u.propTypes={template:E.default.object,value:E.default.array,omitAlias:E.default.bool},u.defaultProps={value:[]},l=o))||l;a.default=R},function(e,t,a){e.exports={wrapper:"_3HtLBhxA8h3rGnv-OTcFg7"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var u=l(r(31)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=l(r(5)),m=l(r(808)),h=r(189),v=l(r(2046));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(r,e);var a=g(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={replicas:e.props.replicas||0},e.triggerChange=(0,m.default)((function(){var t=e.props,a=t.cluster,r=t.onChange,n=e.state.replicas;r&&r(a,n)}),200),e.handleSubStract=function(){e.setState((function(e){var t=e.replicas;return{replicas:Math.max(t-1,1)}}),(function(){e.triggerChange()}))},e.handleAdd=function(){e.setState((function(e){return{replicas:e.replicas+1}}),(function(){e.triggerChange()}))},e.handleWrapperClick=function(){e.setState((function(e){return{replicas:e.replicas>0?0:1}}),(function(){e.triggerChange()}))},e.stopPropagation=function(e){return e.stopPropagation()},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props.cluster,a=this.state.replicas,r=!!a;return d.default.createElement("div",{className:(0,p.default)(v.default.wrapper,(0,u.default)({},v.default.checked,r)),onClick:this.handleWrapperClick},d.default.createElement(h.Checkbox,{checked:r,onClick:this.handleWrapperClick},d.default.createElement("span",{title:e},e)),d.default.createElement("div",{className:v.default.replicas,onClick:this.stopPropagation},d.default.createElement(h.Icon,{name:"substract",type:"light",size:20,clickable:!0,disabled:!r,onClick:this.handleSubStract}),d.default.createElement("span",{className:v.default.value},a,d.default.createElement("span",null," ",1===a?t("REPLICA_LOW_SI"):t("REPLICA_LOW_PL"))),d.default.createElement(h.Icon,{name:"add",type:"light",size:20,clickable:!0,disabled:!r,onClick:this.handleAdd})))}}]),r}(d.Component);a.default=y},function(e,t,a){e.exports={wrapper:"_1mKVwkCL_1ppeUigF3KAKg",checked:"_3b5rXyVfHzVbq7BXgqnsUg",replicas:"_1q8JcEqV4JG13oRb9C3HI_",value:"_1GwFMwt-s5K68TjO9mYodk"}},function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);r(3),r(20),r(14),r(24),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(14),r(24),r(4),r(18),r(43),r(30),r(195),r(11);var u,o,i,c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=l(r(0)),h=n(r(26)),v=n(r(68)),g=r(17),y=r(243),E=r(189),b=n(r(1)),O=n(r(2048)),S=n(r(2050));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var _=(0,y.observer)((i=o=function(e){(0,f.default)(r,e);var a=C(r);function r(){var e;(0,c.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).getScheduleValue=function(t){return(0,h.default)(e.props.scheduleTemplate,"spec.clusters",{})[t].weight},e.handleClusterChange=function(t,a){var r=e.props.scheduleTemplate;(0,v.default)(r,"spec.clusters.".concat(a,".weight"),t)},e.totalChange=function(t){var a=e.props.scheduleTemplate;/^\+?[1-9][0-9]*$/.test(t)&&(0,v.default)(a,"spec.totalReplicas",Number(t))},e.totalValidator=function(e,a,r){if(!a)return r();/^\+?[1-9][0-9]*$/.test(a)?r():r({message:t("ENTER_POSITIVE_INTEGER_DESC"),field:e.field})},e}return(0,s.default)(r,[{key:"render",value:function(){var e=this,a=this.props.clusters;return m.default.createElement("div",null,m.default.createElement(E.Form.Item,{label:t("TOTAL_REPLICAS"),className:S.default.InputItem,rules:[{required:!0,message:t("TOTAL_REPLICAS_EMPTY_DESC")},{validator:this.totalValidator}]},m.default.createElement(E.Input,{name:"totalReplicas",onChange:this.totalChange})),m.default.createElement("div",{className:S.default.wrapper},m.default.createElement("div",{className:S.default.clusterBox},(0,g.toJS)(a).map((function(t){return m.default.createElement(O.default,{key:t.name,cluster:t.name,weight:e.getScheduleValue(t.name),handleClusterChange:e.handleClusterChange})})))))}}]),r}(m.Component),o.propsTypes={scheduleTemplate:b.default.object,clusters:b.default.array},o.defaultProps={clusters:[],scheduleTemplate:{weight:1},seconds:5,showConfirm:!1},u=i))||u;a.default=_},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var u=l(r(31)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=l(r(5)),m=l(r(808)),h=r(189),v=l(r(2049));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(r,e);var a=g(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={weight:e.props.weight||0,isChecked:!0},e.triggerChange=(0,m.default)((function(){var t=e.props,a=t.cluster;(0,t.handleClusterChange)(e.state.weight,a)}),200),e.handleSubStract=function(){e.setState((function(e){var t=e.weight;return{weight:Math.max(t-1,1)}}),(function(){e.triggerChange()}))},e.handleAdd=function(){e.setState((function(e){return{weight:e.weight+1}}),(function(){e.triggerChange()}))},e.handleWrapperClick=function(){e.setState((function(e){var t=e.isChecked;return{weight:t?0:1,isChecked:!t}}),(function(){e.triggerChange()}))},e.stopPropagation=function(e){return e.stopPropagation()},e}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props.cluster,a=this.state,r=a.weight,n=a.isChecked;return d.default.createElement("div",{className:(0,p.default)(v.default.wrapper,(0,u.default)({},v.default.checked,n)),onClick:this.handleWrapperClick},d.default.createElement(h.Checkbox,{checked:n,onClick:this.handleWrapperClick},e),d.default.createElement("div",{className:v.default.replicas,onClick:this.stopPropagation},d.default.createElement(h.Icon,{name:"substract",type:"light",size:20,clickable:!0,disabled:!n,onClick:this.handleSubStract}),d.default.createElement("span",{className:v.default.value},r,d.default.createElement("span",null," ",t("WEIGHT"))),d.default.createElement(h.Icon,{name:"add",type:"light",size:20,clickable:!0,disabled:!n,onClick:this.handleAdd})))}}]),r}(d.Component);a.default=y},function(e,t,a){e.exports={wrapper:"_1d46IfgtQxhhHKGUB6STe1",checked:"_2QejNgwkqZsFd8bj1QWlBA",replicas:"_2AaQUR9uEO6AeEYbl5HQ54",value:"_3ne_rJIW_BnCa0HjEirhKJ"}},function(e,t,a){e.exports={wrapper:"-Vnc-fGVeBp_T671_kI1_",clusterBox:"_3oDuMZyu1yBC1frXZfWszu",cluster:"IrCEsWG0TY0jJTtHURwWu",weights:"caFD-9wLt3P8nKG24Wzvc",input:"g9shnbO28OJ6DfOO0jCap",text:"_3qd0bpvzy2siF5H8PdB59H",innerInputItem:"Cr8lot-uKYUer_VMPo41O"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(119)),f=n(r(26)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=r(848),v=r(189),g=n(r(319)),y=r(61),E=n(r(800)),b=n(r(2052)),O=n(r(2074));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var C=function(e){(0,o.default)(r,e);var a=S(r);function r(e){var n;return(0,l.default)(this,r),(n=a.call(this,e)).registerForm=function(){var e=n.context.registerSubRoute,t=n.props.onCancel;e&&e(n.handleSubmit,t)},n.handleGoBack=function(){var e=n.context.resetSubRoute;e&&e(),n.props.onCancel()},n.handleSubmit=function(e){var t=n.props.onSave,a=n.formRef.current;a&&a.validate((function(){var r=a.getData();t(r),e&&e()}))},n.handleContainerTypeChange=function(e){n.setState({containerType:e})},n.renderItem=function(e,a){return d.default.createElement(d.default.Fragment,null,d.default.createElement(E.default,{title:t(null==a?void 0:a.updateStrategy),description:t("UPDATE_STRATEGY")}),d.default.createElement(E.default,{title:(null==a?void 0:a.spec.injectionStrategy.paused)?t("YES"):t("NO"),description:t("INJECTION_STRATEGY_PAUSED")}))},n.store=new g.default("sidecarsets"),n.formRef=d.default.createRef(),n.state={containerType:e.data.type||"worker",formData:(0,s.default)(e.data)},n}return(0,u.default)(r,[{key:"getChildContext",value:function(){var e=this;return{forceUpdate:function(){e.forceUpdate()}}}}]),(0,u.default)(r,[{key:"componentDidMount",value:function(){this.registerForm()}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.cluster,n=e.namespace,l=this.state.formData;return d.default.createElement("div",{className:(0,m.default)(O.default.wrapper,a)},d.default.createElement("div",{className:"h5"},d.default.createElement("a",{className:"custom-icon",onClick:this.handleGoBack},d.default.createElement(h.ReactComponent,null)),t("INJECT_SIDECAR_CONTAINER")),d.default.createElement(v.Form,{ref:this.formRef,data:l},d.default.createElement(v.Form.Item,null,d.default.createElement(b.default,{cluster:r,namespace:n,store:this.store,rowKeys:"name",name:this.prefix,icon:function(){return d.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/sidecar-set.svg"})},renderItem:this.renderItem}))))}},{key:"prefix",get:function(){return this.props.prefix||"spec.template.metadata.labels"}},{key:"formTemplate",get:function(){var e=this.props,t=e.formTemplate,a=e.module;return(0,f.default)(t,y.MODULE_KIND_MAP[a],t)}}]),r}(d.default.Component);a.default=C,C.propTypes={className:p.default.string,type:p.default.string,titlePrefix:p.default.string,namespace:p.default.string,module:p.default.string,data:p.default.object,onSave:p.default.func,onCancel:p.default.func,configMaps:p.default.array,secrets:p.default.array,containers:p.default.array},C.defaultProps={className:"",type:"Add",titlePrefix:"",namespace:"",module:"",data:{},onSave:function(){},onCancel:function(){},configMaps:[],secrets:[],containers:[]},C.childContextTypes={forceUpdate:p.default.func},C.contextTypes={registerSubRoute:p.default.func,resetSubRoute:p.default.func}},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(24),r(1046),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(27),r(29),r(1046),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(7);var l=n(r(38)),u=n(r(31)),o=n(r(50));r(35);var i,c,s,f,d=n(r(39)),p=n(r(25)),m=n(r(28)),h=n(r(41)),v=n(r(42)),g=n(r(37)),y=n(r(45)),E=n(r(0)),b=r(17),O=r(243),S=n(r(810)),C=n(r(1)),_=n(r(67)),k=n(r(2072)),R=n(r(1347));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,g.default)(e);if(t){var n=(0,g.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,v.default)(this,a)}}var P=(0,O.observer)((f=s=function(e){(0,h.default)(r,e);var a=T(r);function r(e){var n;return(0,p.default)(this,r),(n=a.call(this,e)).getData=(0,d.default)(l.default.mark((function e(){var t,a,r,u,i,c,s,f=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:{},a=t.silent,r=(0,o.default)(t,["silent"]),n.query=r,u=n.props,i=u.namespace,c=u.cluster,i&&(r.control=i,r.limit=Number.MAX_SAFE_INTEGER),a&&(n.store.list.silent=!0),s=D({cluster:c},r),n.searchByApp&&(s.searchByApp=n.searchByApp),e.next=9,n.store.fetchList(s);case 9:n.store.list.silent=!1,n.store.list.isLoading=!1;case 11:case"end":return e.stop()}}),e)}))),n.onFetch=function(e){n.store.list.isLoading=!0,n.getData(e)},n.getColumns=function(){var e=n.props,a=e.icon,r=e.rowKeys,l=e.renderItem,u=n.state.labels;return[{title:t("NAME"),dataIndex:"name",sorter:!0,render:function(e,t){return u&&E.default.createElement(k.default,{key:e,detail:t,rowKeys:r,icon:a,store:n.store,labels:u,renderItem:null==l?void 0:l(e,t)})}}]},n.store=e.store,n.state={labels:null},n}return(0,m.default)(r,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.value,r=t.onChange,n=this.state.labels;e.value!==a&&r&&r(n)}},{key:"componentDidMount",value:function(){var e=this,t=this.props.onChange;this.getData(),this.props.value&&this.setState({labels:this.props.value||{}}),this.disposer=(0,b.reaction)((function(){return e.store.list.selectedRowKeys}),(function(e){var a=(0,b.toJS)(e);(0,_.default)(a)||null==t||t(a)}))}},{key:"componentWillUnmount",value:function(){this.disposer&&this.disposer()}},{key:"render",value:function(){return E.default.createElement(S.default,{className:R.default.container,data:this.tableList,columns:this.getColumns(),itemActions:[],tableActions:[],enabledActions:["delete"],searchType:"name",hideFooter:!0,onFetch:this.onFetch})}},{key:"tableList",get:function(){return this.store.list.data}}]),r}(E.default.Component),s.propTypes={namespace:C.default.string.isRequired,cluster:C.default.string,store:C.default.object.isRequired,name:C.default.string.isRequired,rowKeys:C.default.string,renderItem:C.default.func},c=f,(0,y.default)(c.prototype,"tableList",[b.computed],Object.getOwnPropertyDescriptor(c.prototype,"tableList"),c.prototype),i=c))||i;a.default=P},,,,,,,,,,,,,function(e,t,a){e.exports={wrapper:"_1ySvVWPft88PiZ2MO7sDtU"}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(1)),d=r(a(5)),p=r(a(1040)),m=r(a(1041)),h=r(a(2067));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(a,e);var t=g(a);function a(e){var r;(0,l.default)(this,a),(r=t.call(this,e)).handleToggle=function(){r.setState({visible:!r.state.visible},(function(){r.props.onToggle(r.state.visible)}))},r.hideSelector=function(){r.setState({visible:!1},(function(){r.props.onToggle(!1)}))},r.handleTimeChange=function(e){r.setState(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({visible:!1},e),(function(){r.props.onChange(e)}))};var u=e.visible,o=e.step,i=e.times;return r.state={visible:u,prevPropStep:o,step:o,prevPropTimes:i,times:i,start:"",end:"",lastTime:""},r}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.step,r=e.times,l=e.showStep,u=void 0!==l&&l;return s.default.createElement("div",{className:(0,d.default)(h.default.selector,t,(0,n.default)({},h.default.active,this.state.visible))},s.default.createElement("div",{className:h.default.dropdown},s.default.createElement("div",{className:h.default.content},s.default.createElement(p.default,{step:a,times:r,onChange:this.handleTimeChange}),s.default.createElement(m.default,{step:a,times:r,showStep:u,onSubmit:this.handleTimeChange,onCancel:this.hideSelector}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.visible!==t.visible||e.step!==t.prevPropStep||e.times!==t.prevPropTimes){var a=e.visible,r=e.step,n=e.times;return{visible:a,prevPropStep:r,step:r,prevPropTimes:n,times:n}}return null}}]),a}(s.default.PureComponent);t.default=y,y.propTypes={step:f.default.string,times:f.default.number,onChange:f.default.func,onToggle:f.default.func},y.defaultProps={step:"10m",times:30,onChange:function(){},onToggle:function(){}}},function(e,t,a){e.exports={selector:"_2DZG-eKTQFTFUpP3ON7MEp",active:"_24i6SjdxwsQJGlntrftAX-",arrow:"_2j_qabRkRToGl8hsTY2U1J",dropdown:"_2Kxfidelu66ttiAx5HH5qS",button:"_3Er3ewqgquH0ZzSnPurEYQ",mask:"_1ANTJPktXXFv6uaB1BYDvt",content:"_3nlmAoELzQyqi7DkXmC855"}},function(e,t,a){e.exports={wrapper:"_2_GPxm1qgdmHWxZVasJGXH",hasValue:"Hvknl4Yw6gX4pzPFi0fDo",focus:"_3RGGM5D0XRGhQxEtJDMNF2",content:"_2-6sGmjUtALBlMz6W1Ibd8",multi:"_27zuT4LG_EuqfX3jg4IK_6",option:"qqxayC218CospRXpRbRc7",checked:"T2QD-3nhtpYkBBTBIY2Fn",empty:"P-jNZ_7bg9ynYQ6vAlgjR"}},function(e,t,a){e.exports={wrapper:"_3VzEds9njzcdy3eWDd8AdI",image:"_2XrS1I3VwYabAXblHxuv_E",title:"_1523awfqHFp_3cu11gY-Zf",desc:"rwrfKJA7fqcY8qziN8VmQ",actions:"jLcnDjp3MH8F7QUxDRXAH"}},function(e,t,a){e.exports={wrapper:"_2PGjG2rp2LQ-Pia4qKsfRy",pagination:"_1dSx1ELI9mKV_XKzeg5oqc",button:"_3T5SpcpWZ3a2B9vESdIlx2",pages:"_37mXWoWCMEygBpf0jL9oim",menu:"xjUsDCou069P97IBLEbVa",menuitem:"_1EALVDOWXL69dfaxP7_T6s",pageSizeBox:"_1Z61FoSfcwE_TZx9ggFlUb",pagesize:"J3XnwDwpeAseL4wVB8kmI",text:"_1bYIlSqp9ICySDLPuHuyny",gap:"pDIlk68srR8bscn1A87Gj",pageSizeMenu:"QCzvHMKtZSmGIXHnJt2Qp",pageSizeMenuitem:"_3vsljrR9NNQJa-Y7PINEvi",menuActive:"_3TPb0D6AKWU2mNEIdEg1xu"}},function(e,t,a){e.exports={table:"_3QrYCxd-JO78EY_P2B7APM",tooltipBox:"_14tg8XBzlpUoE7xc7sBhQd",button:"_3WnAgzVNXCApGYbj66jim4",cancelSelect:"_3CpNTPZ4yNBrffXzlrL34-",create:"_2NKXA5HKUkb5pUWyECbrCa",disableSearch:"_3RDWadryl-6GkNfMnpnEpo",search:"_1s0Z5vq4JGtkP-IFCCOLPu",emptyText:"_2Fw7QFUo5WHLz7yCkIrHes",emptyTipIcon:"_1uDSLXNU6ZGcC-5EnzwRU8",action:"_3iUetKGL0yVLn9emSwH8Nc",columnMenu:"_1Z_pOPEZ615RXT_s1mZLvJ",filterMenu:"_2VbPGG_JinRa5YcunrwJFO"}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(192),r(10),r(6),r(70),r(14),r(8),r(9),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(192),r(10),r(6),r(70),r(29),r(14),r(8),r(9),r(4),r(18),r(43),r(11),r(73),r(7);var l,u,o,i,c=n(r(58)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(45)),v=n(r(0)),g=n(r(1)),y=n(r(26)),E=n(r(198)),b=r(243),O=r(17),S=r(189),C=n(r(800)),_=r(439),k=n(r(833)),R=n(r(1347));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var D=(0,b.observer)((i=o=function(e){(0,d.default)(r,e);var a=N(r);function r(){var e;(0,s.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).handleClick=function(){var t=e.props,a=t.detail,r=t.rowKeys,n=t.labels,l=(0,y.default)(a,r,""),u=e.list,o=u.selectedRowKeys,i=void 0===o?[]:o,s=u.setSelectRowKeys,f=i,d=(0,y.default)(a,"selector",{});i.includes(l)?(f=i.filter((function(e){return e!==l})),Object.keys(d).forEach((function(e){e.includes("apps.kruise.io/")&&delete n[e]}))):(f=[].concat((0,c.default)(i),[l]),Object.keys(d).forEach((function(e){n[e]=d[e]}))),s(f)},e.renderIcon=function(){var t=e.props.icon;return v.default.createElement("div",{className:R.default.icon},(0,E.default)(t)?t():v.default.createElement(S.Icon,{name:t,size:40}))},e.getItemDesc=function(a){var r=(0,_.getWorkloadStatus)(a,e.props.module),n=r.status,l=r.reason;return l?v.default.createElement(k.default,{status:n,reason:t(l),data:a}):a.description||"-"},e.handleCheck=function(){var t=e.props,a=t.detail,r=t.rowKeys,n=e.list.selectedRowKeys;return(void 0===n?[]:n).includes((0,y.default)(a,r,""))},e}return(0,f.default)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.detail,a=e.rowKeys,r=e.labels,n=(0,y.default)(t,a,""),l=(0,y.default)(t,"selector",{});if(Object.keys(l).every((function(e){return l[e]&&l[e]===r[e]}))){var u=this.list,o=u.selectedRowKeys,i=void 0===o?[]:o;(0,u.setSelectRowKeys)([].concat((0,c.default)(i),[n]))}}},{key:"render",value:function(){var e=this.props,t=e.detail,a=e.renderItem;return t?v.default.createElement("div",{className:R.default.item,onClick:this.handleClick},v.default.createElement("div",{className:R.default.checkboxWrapper},v.default.createElement("div",{className:R.default.checkbox},v.default.createElement(S.Checkbox,{onClick:this.handleClick,checked:this.handleCheck()})),v.default.createElement(C.default,{className:R.default.avatar,icon:this.renderIcon,iconSize:40,description:this.getItemDesc(t),title:null==t?void 0:t.name})),a):null}},{key:"list",get:function(){return this.props.store.list}},{key:"clusters",get:function(){return this.props.store.list.data}}]),r}(v.default.PureComponent),o.propTypes={detail:g.default.object},o.defaultProps={detail:{},selectedRowKeys:[],onSelectRowKeys:function(){}},u=i,(0,h.default)(u.prototype,"list",[O.computed],Object.getOwnPropertyDescriptor(u.prototype,"list"),u.prototype),(0,h.default)(u.prototype,"clusters",[O.computed],Object.getOwnPropertyDescriptor(u.prototype,"clusters"),u.prototype),l=u))||l;a.default=D},function(e,t,a){e.exports={reason:"_2dAqW00YgMOSGORjuFVBGs",condition:"_3AeobLZKN_rHf4jlnsiMQk",title:"_3TkAdRLw937iktrSAezDu7",warning:"ALCcOSqNlYNtz2BKsiq8d",error:"_28enlxYAYUjvqkyLqd5qPC",reasonDesc:"dlkjsSoal876oQiTVfCr7"}},function(e,t,a){e.exports={container:"_1qEvzi5SfZrYgB_3n0Hw5f",wrapper:"_3JXw2eBYG-c338HJ70rdAF",toggle:"_1O53CT4AT2LM9IhU6PtntV",formGroup:"_24tL2HW69bNj9E6YYiFch_",header:"pr4OHPf8l2Uyd8ktrWFH",info:"_3BHwtoqbSUQwHRKCrfHt_u",title:"kaorFSAo3AsN7IljEXxIF",desc:"_2cPjWzr-3Tzsc6POC29My0",formArea:"_1XADikDDO7GHq5c31EsKPp"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(1342)),p=n(r(1343));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(f.Form.Group,{label:t("POD_SECURITY_CONTEXT"),desc:t("POD_SECURITY_CONTEXT_DESC"),checkable:!0},s.default.createElement(f.Alert,{className:"margin-b12",type:"info",title:t("NOTE"),message:t("POD_SECURITY_CONTEXT_TIP")}),s.default.createElement(d.default,{prefix:this.props.prefix}),s.default.createElement(p.default,{prefix:this.props.prefix}))}}]),r}(s.default.PureComponent);a.default=h},function(e,t,a){e.exports={wrapper:"_3B75bxxzxYITarPsgzGCdF",replicas:"_1narKTilAkmGQWGzM_jNKi"}},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0));function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var f=function(e){(0,u.default)(a,e);var t=s(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.className;return c.default.createElement("div",{className:a},t)}}]),a}(c.default.Component);t.default=f},function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(20),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(20),a(29),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(31)),u=r(a(50)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=a(189),p=r(a(5)),m=r(a(863)),h=r(a(0)),v=r(a(1349));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=function(e){(0,c.default)(a,e);var t=g(a);function a(){return(0,o.default)(this,a),t.apply(this,arguments)}return(0,i.default)(a,[{key:"renderDetail",value:function(e){return e.map((function(e,t){return h.default.createElement("div",{key:t,className:(0,p.default)(v.default.text,e.className)},h.default.createElement("div",{className:v.default.title,title:e.withDomTitle?e.title:void 0},e.title),e.description&&h.default.createElement("div",{className:v.default.description,title:e.withDomDesc?e.description:void 0},e.description))}))}},{key:"render",value:function(){var e=this.props,t=e.icon,a=e.image,r=e.title,o=e.status,i=e.description,c=e.extras,s=e.details,f=e.operations,g=e.onDelete,y=e.onEdit,E=e.onClick,b=e.className,O=e.titleClass,S=e.withDomTitle,C=e.withDomDesc,_=(0,u.default)(e,["icon","image","title","status","description","extras","details","operations","onDelete","onEdit","onClick","className","titleClass","withDomTitle","withDomDesc"]);return h.default.createElement("div",(0,n.default)({className:(0,p.default)(v.default.item,(0,l.default)({},v.default.withIcon,t||a),b),onClick:E},_),h.default.createElement("div",{className:v.default.wrapper},h.default.createElement("div",{className:v.default.icon},a?h.default.createElement("img",{src:a,alt:""}):t&&h.default.createElement(d.Icon,{name:t,size:40}),o?h.default.createElement(m.default,{className:v.default.indicator,type:o}):null),h.default.createElement("div",{className:v.default.texts},h.default.createElement("div",{className:(0,p.default)(v.default.text,O)},h.default.createElement("div",{className:v.default.title,title:S?r:void 0},r),h.default.createElement("div",{className:v.default.description,title:C?i:void 0},i)),s&&this.renderDetail(s)),f||h.default.createElement("div",{className:"buttons"},g&&h.default.createElement(d.Button,{type:"flat",icon:"trash",onClick:g}),y&&h.default.createElement(d.Button,{type:"flat",icon:"pen",onClick:y}))),c)}}]),a}(h.default.Component);t.default=y},function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(5)),d=a(189),p=r(a(1349));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(a,e);var t=m(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.icon,a=e.image,r=e.title,l=e.description,u=e.onClick,o=e.type;return s.default.createElement("div",{className:(0,f.default)(p.default.add,(0,n.default)({},p.default.withIcon,t||a),p.default[o]),onClick:u},s.default.createElement("div",{className:p.default.icon},a?s.default.createElement("img",{src:a,alt:""}):t&&s.default.createElement(d.Icon,{name:t,size:40})),s.default.createElement("div",{className:p.default.text},s.default.createElement("div",{className:p.default.title},r),s.default.createElement("div",{className:p.default.description},l)))}}]),a}(s.default.Component);t.default=h},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(14),r(8),r(13),r(9),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(3),r(10),r(6),r(27),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(7);var l=n(r(31)),u=n(r(0)),o=n(r(1)),i=n(r(26)),c=n(r(67)),s=r(189),f=n(r(828)),d=r(56),p=n(r(1145));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v=function(e){var a,r=e.type,n=void 0===r?"worker":r,l=e.container,o=e.onDelete,m=e.onEdit,v=e.readOnly,g=(0,i.default)(l,"resources.limits",{}),y=(0,i.default)(l,"resources.requests",{});if("istio-proxy"===l.name)return u.default.createElement(f.default.Item,{icon:"istio",title:l.name,description:t("IMAGE_VALUE",{value:l.image})});a=(0,c.default)(g)&&(0,c.default)(y)?u.default.createElement("div",{className:p.default.limits},u.default.createElement(s.Icon,{name:"exclamation"}),u.default.createElement("span",null," ",t("NO_RESOURCE_LIMIT"))):u.default.createElement("div",{className:p.default.limits},(g.cpu||y.cpu)&&u.default.createElement("span",{className:p.default.limit},u.default.createElement(s.Icon,{name:"cpu",size:20}),u.default.createElement("span",null,"".concat(y.cpu?(0,d.cpuFormat)(y.cpu):0," – ").concat(g.cpu?(0,d.cpuFormat)(g.cpu):"∞"))),(g.memory||y.memory)&&u.default.createElement("span",{className:p.default.limit},u.default.createElement(s.Icon,{name:"memory",size:20}),"".concat(y.memory?"".concat((0,d.memoryFormat)(y.memory)," MiB"):0," – ").concat(g.memory?"".concat((0,d.memoryFormat)(g.memory)," MiB"):"∞")));var E="init"===n?u.default.createElement("span",null,l.name,u.default.createElement(s.Tag,{className:"margin-l8",type:"warning"},t("INIT_CONTAINER"))):l.name;return u.default.createElement(f.default.Item,{icon:"docker",title:E,description:t("IMAGE_VALUE",{value:l.image}),extras:a,onDelete:!v&&function(){return o(h({type:n},l))},onEdit:!v&&function(){return m(h({type:n},l))}})};v.propTypes={container:o.default.object};var g=v;a.default=g},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(6),r(98),r(9),r(4),r(190),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(98),r(29),r(9),r(4),r(190),r(18),r(43),r(11),r(7);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=l(r(830)),p=l(r(26)),m=l(r(67)),h=l(r(163)),v=r(189),g=r(249),y=l(r(1145));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var b=function(e){(0,i.default)(r,e);var a=E(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={checkResult:e.getCheckResult()},e}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e){(0,d.default)(e.containers,this.props.containers)&&(0,d.default)(e.initContainers,this.props.initContainers)&&(0,d.default)(e.leftQuota,this.props.leftQuota)&&(0,d.default)(e.replicas,this.props.replicas)||this.setState({checkResult:this.getCheckResult()})}},{key:"getCheckResult",value:function(){var e=this.props,t=e.containers,a=e.initContainers,r=e.leftQuota,n=e.replicas,l=(0,g.getContainersResources)(t,a,n);return(0,g.compareQuotaAndResources)(r,l)}},{key:"renderOverCostMessage",value:function(e){var a=(0,p.default)(e,'["requests.cpu"].overcost'),r=(0,p.default)(e,'["requests.memory"].overcost'),n=(0,p.default)(e,'["limits.cpu"].overcost'),l=(0,p.default)(e,'["limits.memory"].overcost');return f.default.createElement(f.default.Fragment,null,(a||r)&&f.default.createElement("div",{className:y.default.message},f.default.createElement("span",null,t("RESOURCE_REQUESTS"),":"),a&&f.default.createElement("span",null,"CPU ",t("COST")," ",(0,p.default)(e,'["requests.cpu"].cost',t("NO_LIMIT"))," (",t("PROJECT_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["requests.cpu"].namespaceQuota',t("NO_REQUEST")),", ",t("WORKSPACE_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["requests.cpu"].workspaceQuota',t("NO_REQUEST")),")"),r&&f.default.createElement("span",null,t("MEMORY")," ",t("COST")," ",(0,p.default)(e,'["requests.memory"].cost',t("NO_LIMIT"))," (",t("PROJECT_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["requests.memory"].namespaceQuota',t("NO_REQUEST")),", ",t("WORKSPACE_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["requests.memory"].workspaceQuota',t("NO_REQUEST")),")")),(n||l)&&f.default.createElement("div",{className:y.default.message},f.default.createElement("span",null,t("RESOURCE_LIMITS"),":"),n&&f.default.createElement("span",null,"CPU ",t("COST")," ",(0,p.default)(e,'["limits.cpu"].cost',t("NO_LIMIT"))," (",t("PROJECT_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["limits.cpu"].namespaceQuota',t("NO_LIMIT")),", ",t("WORKSPACE_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["limits.cpu"].workspaceQuota',t("NO_LIMIT")),")"),l&&f.default.createElement("span",null,t("MEMORY")," ",t("COST")," ",(0,p.default)(e,'["limits.memory"].cost',t("NO_LIMIT"))," (",t("PROJECT_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["limits.memory"].namespaceQuota',t("NO_LIMIT")),", ",t("WORKSPACE_REMAINING_QUOTAS"),": ",(0,p.default)(e,'["limits.memory"].workspaceQuota',t("NO_LIMIT")),")")))}},{key:"renderQuotaMessage",value:function(e){return f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:y.default.message},f.default.createElement("span",null,t("RESOURCE_REQUESTS"),": CPU (",t("PROJECT_REMAINING_QUOTAS"),":",(0,p.default)(e,'["requests.cpu"].namespaceQuota',t("NO_REQUEST")),",",t("WORKSPACE_REMAINING_QUOTAS"),":",(0,p.default)(e,'["requests.cpu"].workspaceQuota',t("NO_REQUEST")),");"),f.default.createElement("span",null,t("MEMORY")," (",t("PROJECT_REMAINING_QUOTAS"),":",(0,p.default)(e,'["requests.memory"].namespaceQuota',t("NO_REQUEST")),";",t("WORKSPACE_REMAINING_QUOTAS"),":",(0,p.default)(e,'["requests.memory"].workspaceQuota',t("NO_REQUEST")),").")),f.default.createElement("div",{className:y.default.message},f.default.createElement("span",null,t("RESOURCE_LIMITS"),": CPU (",t("PROJECT_REMAINING_QUOTAS"),":",(0,p.default)(e,'["limits.cpu"].namespaceQuota',t("NO_LIMIT")),",",t("WORKSPACE_REMAINING_QUOTAS"),":",(0,p.default)(e,'["limits.cpu"].workspaceQuota',t("NO_LIMIT")),");"),f.default.createElement("span",null,t("MEMORY")," (",t("PROJECT_REMAINING_QUOTAS"),":",(0,p.default)(e,'["limits.memory"].namespaceQuota',t("NO_LIMIT")),";",t("WORKSPACE_REMAINING_QUOTAS"),":",(0,p.default)(e,'["limits.memory"].workspaceQuota',t("NO_LIMIT")),").")))}},{key:"render",value:function(){var e=this.props,a=e.containers,r=e.initContainers,n=this.state.checkResult;if((0,m.default)(a)&&(0,m.default)(r))return null;var l=Object.values(n).some((function(e){return(e.namespaceQuota||e.workspaceQuota)&&"unset"===e.overcost})),u=Object.values(n).some((function(e){return!0===e.overcost})),o=(u||l)&&this.hasLimitQuota?"error":"info",i=u&&this.hasLimitQuota?t("INSUFFICENT_RESOURCES"):l&&this.hasLimitQuota?t("RESOURC_QUOTAS_UNSET"):t("REMAINING_QUOTAS"),c=(u||l)&&this.hasLimitQuota?this.renderOverCostMessage(n):this.renderQuotaMessage(n);return f.default.createElement(v.Alert,{className:"margin-b12",type:o,title:i,message:c})}},{key:"hasLimitQuota",get:function(){var e=this.props.leftQuota,t=!1;return Object.keys(e).forEach((function(a){t=Object.values(e[a]).some((function(e){return!(0,h.default)(e)}))})),t}}]),r}(f.Component);a.default=b},function(e,t,a){e.exports={wrapper:"_2RYq66uPjt59BxSZygHvgv",options:"_2W1a92S-uVrTDC4Q4HVyUp"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(829));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var m=function(e){(0,o.default)(r,e);var a=p(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).metaError="",e.handleMetaError=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.metaError=t},e.metaDataValidator=function(t,a,r){""===e.metaError&&r()},e}return(0,u.default)(r,[{key:"render",value:function(){return s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Form.Item,{label:t("ANNOTATION_PL"),rules:[{validator:this.metaDataValidator}]},s.default.createElement(d.default,{name:"spec.template.metadata.annotations",addText:t("ADD"),hiddenKeys:globals.config.preservedAnnotations,onError:this.handleMetaError})))}}]),r}(s.default.Component);a.default=m},function(e,t,a){e.exports={formTip:"_19f0EVWj1un4oHSHVFkfCG",tipLabel:"_1QFTfCmmiYYArD4XUdtrk3",tipBox:"_2TmZJA7LIvFo8yQBSA3Ay3",tipTitle:"_2mM1im5fQ7ZlOrtF10n8QH"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(66),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(66),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(50)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=n(r(1044)),v=n(r(26)),g=n(r(68)),y=n(r(67)),E=n(r(163)),b=r(189),O=n(r(828)),S=r(499),C=n(r(2086)),_=n(r(1350));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var D=function(e){(0,c.default)(r,e);var a=N(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).getFormattedVolumes=function(){var t=e.props,a=t.value,r=t.volumes,n=t.containers,l=t.logPath;return(0,y.default)(a)?[]:a.map((function(e){var t={};(0,E.default)(e.persistentVolumeClaim)||(t=r.find((function(t){return t.name===e.persistentVolumeClaim.claimName})));var a=[];return n.forEach((function(t){if(t.volumeMounts){var r=t.volumeMounts.find((function(t){return t.name===e.name}));if(r){var n=(0,v.default)(l,"containerLogConfigs.".concat(t.name,".").concat(e.name),[]).join(",");a.push(R(R({},r),{},{logPath:n,containerName:t.name}))}}})),R(R({},e),{},{volume:t,volumeMounts:a})}))},e.deleteVolumeMounts=function(t){var a=e.context.formData,r=(0,v.default)(a,"".concat(e.props.prefix,"spec.containers"),[]).map((function(e){return R(R({},e),{},{type:"worker"})})),n=(0,v.default)(a,"".concat(e.props.prefix,"spec.initContainers"),[]).map((function(e){return R(R({},e),{},{type:"init"})})),l=(0,h.default)(r,n);l.forEach((function(e){(0,y.default)(e.volumeMounts)||(e.volumeMounts=e.volumeMounts.filter((function(e){return e.name!==t})))}));var u=[],o=[];l.forEach((function(e){"worker"===e.type?(delete e.type,u.push(e)):(delete e.type,o.push(e))})),(0,g.default)(a,"".concat(e.props.prefix,"spec.containers"),u),(0,g.default)(a,"".concat(e.props.prefix,"spec.initContainers"),o)},e.handleAddVolume=function(){e.props.onShowVolume()},e.handleAddConfig=function(){e.props.onShowConfig()},e.handleEdit=function(t){var a=t.volume,r=t.volumeMounts,n=(0,l.default)(t,["volume","volumeMounts"]);(0,S.isNotPersistentVolume)(t)?e.props.onShowEdit(R(R({},n),{},{volumeMounts:r})):e.props.onShowEdit({volume:a,volumeMounts:r,specVolume:R({},n)})},e.handleDelete=function(t){var a=e.props,r=a.value,n=a.onChange;e.deleteVolumeMounts(t),n(r.filter((function(e){return e.name!==t})))},e}return(0,i.default)(r,[{key:"renderAddVolume",value:function(){return d.default.createElement(b.Columns,null,d.default.createElement(b.Column,null,d.default.createElement(O.default.Add,{onClick:this.handleAddVolume,title:t("MOUNT_VOLUME"),description:t("WORKLOAD_MOUNT_VOLUME_DESC")})),d.default.createElement(b.Column,null,d.default.createElement(O.default.Add,{onClick:this.handleAddConfig,title:t("MOUNT_CONFIGMAP_OR_SECRET"),description:t("MOUNT_CONFIGMAP_OR_SECRET_DESC")})))}},{key:"render",value:function(){var e=this,t=this.props.className,a=this.getFormattedVolumes();return d.default.createElement("div",{className:(0,m.default)(_.default.wrapper,t)},d.default.createElement("div",{className:_.default.content},!(0,y.default)(a)&&d.default.createElement("ul",{className:_.default.list},a.map((function(t){return d.default.createElement(C.default,{volume:t,key:t.name,onEdit:e.handleEdit,onDelete:e.handleDelete})}))),this.renderAddVolume()))}}]),r}(d.default.Component);a.default=D,D.propTypes={prefix:p.default.string,name:p.default.string,value:p.default.array,volumes:p.default.array,volumeTypes:p.default.array,containers:p.default.array,onChange:p.default.func,onShowVolume:p.default.func,onShowConfig:p.default.func,onShowEdit:p.default.func},D.defaultProps={prefix:"",name:"",value:[],volumes:[],volumeTypes:[],containers:[],onChange:function(){},onShowVolume:function(){},onShowConfig:function(){},onShowEdit:function(){}},D.contextTypes={formData:p.default.object}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(14),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(317));r(3),r(20),r(14);var u=n(r(26)),o=n(r(67)),i=n(r(0)),c=n(r(1)),s=r(189),f=n(r(828)),d=n(r(1350)),p=function(e){var a=e.volume,r=e.onDelete,n=e.onEdit,c={};r&&(c.onDelete=function(){return r(a.name)}),n&&(c.onEdit=function(){return n(a)});var p,m,h="storage";a.hostPath?(p="".concat(t("TYPE_HOSTPATH")),m=[{title:(0,u.default)(a,"hostPath.path","-"),description:"HostPath"}]):a.emptyDir?(p="".concat(t("TYPE_EMPTYDIR")),m=[]):a.configMap?(h="hammer",p="".concat(t("TYPE_CONFIGMAP")),m=[{title:(0,u.default)(a,"configMap.name","-"),description:t("CONFIGMAP")}]):a.secret?(h="key",p="".concat(t("TYPE_SECRET")),m=[{title:(0,u.default)(a,"secret.secretName","-"),description:t("SECRET")}]):(p="".concat(t("STORAGE_CLASS"),": ").concat((0,u.default)(a,"volume.storageClassName","-")),m=[{title:(0,u.default)(a,"volume.name","-"),description:t("PERSISTENT_VOLUME_CLAIM")},{title:(0,u.default)(a,"volume.capacity","-"),description:t("CAPACITY")},{title:(0,u.default)(a,"volume.accessMode","-"),description:t("ACCESS_MODE_TCAP")}]);var v=!(0,o.default)(a.volumeMounts)&&i.default.createElement("div",{className:d.default.mount},i.default.createElement("ul",null,a.volumeMounts.map((function(e){var a=e.containerName,r=e.mountPath,n=e.subPath,l=e.logPath,u=e.readOnly;return i.default.createElement("li",{key:r},i.default.createElement("div",null,i.default.createElement(s.Icon,{name:"docker",size:20}),i.default.createElement("span",null,a)),i.default.createElement("div",null,i.default.createElement(s.Icon,{name:"mgmt-node",size:20}),i.default.createElement("span",null,r),i.default.createElement("span",{className:"text-secondary"}," (",u?t("READ_ONLY_LOW"):t("READ_AND_WRITE_LOW"),")")),n&&i.default.createElement("div",null,i.default.createElement(s.Icon,{name:"textfield",size:20})," ",i.default.createElement("span",null,n)),l&&i.default.createElement("div",null,i.default.createElement(s.Icon,{name:"log",size:20})," ",i.default.createElement("span",null,l)))}))));return i.default.createElement(f.default.Item,(0,l.default)({icon:h,title:a.name,description:p,extras:v,details:m},c))};p.propTypes={container:c.default.object};var m=p;a.default=m},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(70),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(70),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(73),r(7);var l=n(r(58)),u=n(r(31)),o=n(r(50)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(1)),h=n(r(5)),v=n(r(26)),g=n(r(67)),y=n(r(140)),E=n(r(68)),b=r(189),O=r(848),S=n(r(92)),C=n(r(2088)),_=n(r(2092)),k=n(r(2094)),R=n(r(2096));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var P=function(e){(0,s.default)(r,e);var a=T(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).volumeTypeMap=function(e){return e.includes("emptyDir")?"temp":e.includes("hostPath")?"host":"exist"},t.handleGoBack=function(){var e=t.context.resetSubRoute;e&&e(),t.props.onCancel()},t.handleSubmit=function(e){var a=t.props,r=a.onSave,n=a.formProps,l=a.withEditCheck,u=t.state,i=u.type,c=u.editVolume,s=t.formRef.current;s&&s.validate((function(){var a,u=s.getData();if(l&&n.onChange(),"exist"===i)a=u.volume;else if("temp"===i)a={name:u.name,emptyDir:{}};else if("host"===i){var f=u.hostPath,d=void 0===f?{}:f,p=u.name;a={hostPath:d,name:p}}else if("new"===i){u.volumeMounts;var m=(0,o.default)(u,["volumeMounts"]);a=S.default.volumes(m)}var h=[];if(u.volumeMounts&&(h=u.volumeMounts.map((function(e){return D(D({},e),{},{volume:a})}))),!(0,g.default)(c)){if("temp"===i){var v=t.updateVolume(a,h,"hostPath"),y=v.newVolume,E=v.newMounts;a=y,h=E}if("host"===i){var b=t.updateVolume(a,h,"emptyDir"),O=b.newVolume,C=b.newMounts;a=O,h=C}}r(a,h,t.state.editVolume),e&&e()}))},t.updateVolume=function(e,a,r){var n=t.state.editVolume,u=(0,y.default)(e,r),o=a.filter((function(e){return e.name!==n.name})),i=a.filter((function(e){return e.name===n.name}));return i.length>0&&(i[0].volume=(0,y.default)(i[0].volume,r)),{newVolume:u,newMounts:[].concat((0,l.default)(o),(0,l.default)(i))}},t.handleTypeChange=function(e){t.setState({type:e})},t.formRef=p.default.createRef(),t.state={type:t.checkVolumeType(e.volume)||"exist",editVolume:{}},t}return(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.onCancel,t=this.context.registerSubRoute;t&&t(this.handleSubmit,e),this.saveEditVolume()}},{key:"saveEditVolume",value:function(){var e=this.props.volume;if(!(0,g.default)(e)){var t=this.volumeTypeMap(Object.keys((0,y.default)(e,["name","volumeMounts"])));"exist"!==t?this.setState({editVolume:{name:e.name,type:t}}):this.setState({editVolume:{name:(0,v.default)(e,"specVolume.name",""),type:t}})}}},{key:"checkVolumeType",value:function(e){var t="exist";return(0,g.default)(e)||(e.emptyDir?t="temp":e.hostPath&&(t="host")),t}},{key:"renderContent",value:function(){var e,t=this.props,a=t.volume,r=t.volumes,n=t.containers,l=t.checkVolumeNameExist,u=t.collectSavedLog,o=a.name,i=(0,v.default)(a,"volumeMounts",[]);if("exist"===this.state.type){var c=(0,v.default)(a,"specVolume.name",!1);c&&(a.name=c)}else{var s=(0,v.default)(a,"name",!1);s&&(a.name=s,(0,E.default)(a,"specVolume.name",s))}switch(i.length>0&&a.volumeMounts.forEach((function(e){return(0,E.default)(e,"name",a.name)})),this.state.type){case"temp":e=p.default.createElement(_.default,{formRef:this.formRef,formData:a,currentName:o,containers:n,checkVolumeNameExist:l,collectSavedLog:u});break;case"host":e=p.default.createElement(k.default,{formRef:this.formRef,formData:a,currentName:o,containers:n,checkVolumeNameExist:l});break;default:case"exist":e=p.default.createElement(C.default,{formRef:this.formRef,formData:a,currentName:o,volumes:r,containers:n,collectSavedLog:u})}return e}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.contentClassName;return p.default.createElement("div",{className:(0,h.default)(R.default.wrapper,a)},p.default.createElement("div",{className:"h6"},p.default.createElement("a",{className:"custom-icon",onClick:this.handleGoBack},p.default.createElement(O.ReactComponent,null)),t("VOLUME_PL")),p.default.createElement("div",{className:(0,h.default)(R.default.contentWrapper,r)},p.default.createElement("div",{className:R.default.title},t("MOUNT_VOLUME")),p.default.createElement(b.RadioGroup,{mode:"button",value:this.state.type,onChange:this.handleTypeChange,size:"small"},p.default.createElement(b.RadioButton,{value:"exist"},t("PERSISTENT_VOLUME")),p.default.createElement(b.RadioButton,{value:"temp"},t("TEMPORARY_VOLUME")),p.default.createElement(b.RadioButton,{value:"host"},t("HOSTPATH_VOLUME"))),this.renderContent()))}}]),r}(p.default.Component);a.default=P,P.propTypes={className:m.default.string,containers:m.default.array,volume:m.default.object,onSave:m.default.func,onCancel:m.default.func},P.defaultProps={className:"",volume:{},containers:[],onSave:function(){},onCancel:function(){}},P.contextTypes={registerSubRoute:m.default.func,resetSubRoute:m.default.func}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(6),r(70),r(20),r(14),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(6),r(70),r(20),r(29),r(14),r(4),r(18),r(43),r(11),r(73),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(326)),f=n(r(67)),d=n(r(0)),p=n(r(5)),m=n(r(1)),h=r(189),v=n(r(827)),g=n(r(960)),y=r(56),E=n(r(2091));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(r,e);var a=b(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).mountValidator=function(a,r,n){if((0,f.default)(r))return n();r.forEach((function(r){if(!r)return n();if("null"===r.readOnly)n();else if(r.mountPath){if(e.getMountPaths(r).includes(r.mountPath))return n({message:t("MOUNT_PATH_IN_USE"),field:a.field});n()}else n({message:t("READ_WRITE_MOUNT_EMPTY"),field:a.field})}))},e}return(0,u.default)(r,[{key:"getMountPaths",value:function(e){return this.mountPaths||(this.mountPaths=(0,s.default)(this.props.containers,"name")),(0,f.default)(this.mountPaths[e.containerName])||(0,f.default)(this.mountPaths[e.containerName].volumeMounts)?[]:this.mountPaths[e.containerName].volumeMounts.filter((function(t){return t.name!==e.name})).map((function(e){return e.mountPath}))}},{key:"render",value:function(){var e=this.props,a=e.containers,r=e.formRef,n=e.formData,l=e.className,u=e.collectSavedLog,o={icon:"storage",label:t("SELECT_PERSISITENT_VOLUME_CLAIM"),description:t("SELECT_PERSISITENT_VOLUME_CLAIM_DESC")};return d.default.createElement("div",{className:(0,p.default)(E.default.wrapper,l)},d.default.createElement(h.Form,{data:n,ref:r},d.default.createElement(h.Form.Item,{rules:[{required:!0,message:t("PVC_NOT_SELECT")}]},d.default.createElement(v.default,{name:"volume",options:this.volumes,placeholder:o})),d.default.createElement(h.Form.Item,{rules:[{validator:this.mountValidator}]},d.default.createElement(g.default,{name:"volumeMounts",containers:a,collectSavedLog:u}))))}},{key:"volumes",get:function(){return this.props.volumes.map((function(e){return{uid:e.name,icon:"storage",label:d.default.createElement("span",null,(0,y.getDisplayName)(e)," "),description:e.storageClassName,value:e,details:[{label:e.capacity,description:t("CAPACITY")},{label:e.accessMode,description:t("ACCESS_MODE_SCAP")}]}}))}}]),r}(d.default.Component);a.default=O,O.propTypes={formRef:m.default.object,formData:m.default.object,className:m.default.string,containers:m.default.array,volumes:m.default.array},O.defaultProps={className:"",volumes:[],formData:{},containers:[]}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(70),r(20),r(8),r(13),r(9),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(70),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(73),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=r(189),m=n(r(67)),h=n(r(2090));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=[{label:"READ_AND_WRITE",value:"false"},{label:"READ_ONLY",value:"true"},{label:"NOT_MOUNT",value:"null"}],b=function(e){(0,i.default)(r,e);var a=y(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={visible:!1,subPath:e.props.value.subPath,defaultSubPath:e.props.value.subPath},e.handleSelectChange=function(t){var a=e.props,r=a.value,n=a.container;(0,a.onChange)(g(g({},r),{},{readOnly:t,containerName:n,mountPath:"null"===t?"":r.mountPath}))},e.handleMountPathChange=function(t){var a=e.props,r=a.value,n=a.container;(0,a.onChange)(g(g({},r),{},{mountPath:t.target.value,containerName:n}))},e.handleSubPathChange=function(t){e.setState({subPath:t.target.value})},e.handleSubPathSave=function(){var t=e.props,a=t.value,r=t.container,n=t.onChange,l=e.state.subPath;n(g(g({},a),{},{subPath:l,containerName:r})),e.setState({visible:!1})},e.handleLogPathChange=function(t){var a=e.props,r=a.value,n=a.container;(0,a.onChange)(g(g({},r),{},{logPath:t.target.value,containerName:n}))},e.showSubPathForm=function(){e.setState({visible:!0})},e.hideSubPathForm=function(){e.setState({subPath:e.props.value.subPath,visible:!1})},e}return(0,o.default)(r,[{key:"getMountOptions",value:function(){var e=this.props.supportedAccessModes;return E.filter((function(t){return(0,m.default)(e)||e.includes(t.label)})).map((function(e){return{label:t(e.label),value:e.value}}))}},{key:"renderLogPathTip",value:function(){return f.default.createElement("div",null,f.default.createElement("p",null,t.html("CONTAINER_LOG_PATH_TIP")))}},{key:"renderSubPathForm",value:function(){return f.default.createElement("div",{className:h.default.subForm},f.default.createElement("div",{className:h.default.formTitle},f.default.createElement("div",null,t("SPECIFY_SUBPATH")),f.default.createElement("p",null,t.html("SPECIFY_SUBPATH_TIP"))),f.default.createElement("div",{className:h.default.formContent},f.default.createElement("div",{className:h.default.subPath},f.default.createElement("div",{className:"control has-icons-left has-icons-right"},f.default.createElement(p.Icon,{className:"is-left",name:"textfield",size:20}),f.default.createElement(p.Input,{name:"subPath",defaultValue:this.state.subPath,placeholder:t("SUBPATH"),onChange:this.handleSubPathChange})))),f.default.createElement("div",{className:h.default.formFooter},f.default.createElement(p.Button,{onClick:this.hideSubPathForm},t("CANCEL")),f.default.createElement(p.Button,{type:"control",onClick:this.handleSubPathSave},t("OK"))))}},{key:"renderSubPathTip",value:function(){return f.default.createElement("div",null,f.default.createElement("div",{className:"tooltip-title"},t("SPECIFY_SUBPATH")),f.default.createElement("p",null,t.html("SPECIFY_SUBPATH_TIP")))}},{key:"renderSubPath",value:function(){var e=this.props.value,t=this.state.visible;return e&&e.mountPath?t?f.default.createElement(p.Popper,{className:h.default.popper,trigger:"click",visible:t,placement:"bottom",closeAfterClick:!1,content:this.renderSubPathForm(),onClose:this.hideSubPathForm},e.subPath?f.default.createElement("div",{className:h.default.subPathText},e.subPath):f.default.createElement(p.Icon,{className:"is-right",name:"textfield",size:20,clickable:!0})):f.default.createElement(p.Tooltip,{content:this.renderSubPathTip()},e.subPath?f.default.createElement("div",{className:h.default.subPathText,onClick:this.showSubPathForm},e.subPath):f.default.createElement(p.Icon,{className:"is-right",name:"textfield",size:20,clickable:!0,onClick:this.showSubPathForm})):null}},{key:"render",value:function(){var e=this.props,a=e.value,r=e.container,n=e.collectSavedLog;return f.default.createElement("div",{className:h.default.wrapper},f.default.createElement("div",{className:h.default.title},f.default.createElement(p.Icon,{name:"docker",size:20}),r),f.default.createElement(p.Select,{name:"readOnly",className:h.default.readOnly,value:a.readOnly,options:this.getMountOptions(),onChange:this.handleSelectChange}),f.default.createElement("div",{className:"control has-icons-left has-icons-right ".concat(h.default.mountPath)},f.default.createElement(p.Icon,{className:"is-left",name:"mgmt-node",size:20}),f.default.createElement(p.Input,{name:"mountPath",defaultValue:a.mountPath,disabled:"null"===a.readOnly,placeholder:t("MOUNT_PATH"),onChange:this.handleMountPathChange}),this.renderSubPath()),"true"===n&&"false"===a.readOnly&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"control has-icons-left has-icons-right ".concat(h.default.logPath)},f.default.createElement(p.Icon,{className:"is-left",name:"log",size:20}),f.default.createElement(p.Input,{name:"logPath",defaultValue:a.logPath,disabled:"null"===a.readOnly,placeholder:t("CONTAINER_LOG_PATH"),onChange:this.handleLogPathChange})),f.default.createElement(p.Tooltip,{content:this.renderLogPathTip()},f.default.createElement(p.Icon,{className:h.default.icon,name:"question",size:20}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.value.subPath!==t.defaultSubPath?{subPath:e.value.subPath,defaultSubPath:e.value.subPath}:null}}]),r}(f.default.Component);a.default=b,b.propTypes={name:d.default.string,container:d.default.string,value:d.default.object,onChange:d.default.func},b.defaultProps={name:"",value:{},supportedAccessModes:[],onChange:function(){}}},function(e,t,a){e.exports={wrapper:"_2U-7rSCyL8mi6yd1sD6ciw",title:"siYMdWXODwbKO6wks51uA",readOnly:"k-ti4HRbmygKyuba2QkaR",mountPath:"_23Vv314qVdDz60a3ZWdKYN",logPath:"xseszvPqaoLcp9Wmk6GkA",icon:"_1b9AMCY-jtC68i14C0iNAH",popper:"fprqTPtvMiJRLsbsjzX4",subForm:"PtGbJc6u5or38cbPQaSKc",formTitle:"_34f0Owj7xLgeXdxEmdS4yr",subPath:"I-uscUjujxiyJynxC5lN-",subPathText:"_3wUAFrfJozPZja8HVf4yBQ",formFooter:"_2XuHt3saPJvdmY9u0nmZvl"}},function(e,t,a){e.exports={wrapper:"qrglnQXitUXvMRnsVxWY7"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(6),r(98),r(14),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(6),r(98),r(29),r(14),r(4),r(18),r(43),r(11),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(326)),f=n(r(67)),d=n(r(0)),p=n(r(5)),m=n(r(1)),h=r(189),v=r(61),g=n(r(960)),y=n(r(2093));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var b=function(e){(0,o.default)(r,e);var a=E(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).mountValidator=function(a,r,n){if((0,f.default)(r))return n({message:t("CONTAINER_NOT_SELECTED"),field:a.field});r.forEach((function(r){if(!r)return n();if("null"===r.readOnly)n();else if(r.mountPath){var l=e.getMountPaths(r);if(r.subPath){if(l.some((function(e){return e.mountPath===r.mountPath&&e.subPath===r.subPath})))return n({message:t("MOUNT_PATH_IN_USE"),field:a.field})}else if(l.some((function(e){return e.mountPath===r.mountPath})))return n({message:t("MOUNT_PATH_IN_USE"),field:a.field});n()}else n({message:t("READ_WRITE_MOUNT_EMPTY"),field:a.field})}))},e.nameValidator=function(a,r,n){if(!r)return n();var l=e.props,u=l.currentName;(0,l.checkVolumeNameExist)(r)&&u!==r?n({message:t("VOLUME_NAME_EXIST"),field:a.field}):n()},e}return(0,u.default)(r,[{key:"getMountPaths",value:function(e){return this.mountPaths||(this.mountPaths=(0,s.default)(this.props.containers,"name")),(0,f.default)(this.mountPaths[e.containerName])||(0,f.default)(this.mountPaths[e.containerName].volumeMounts)?[]:this.mountPaths[e.containerName].volumeMounts.filter((function(t){return t.name!==e.name}))}},{key:"render",value:function(){var e=this.props,a=e.containers,r=e.formData,n=e.formRef,l=e.className,u=e.collectSavedLog;return d.default.createElement("div",{className:(0,p.default)(y.default.wrapper,l)},d.default.createElement(h.Form,{data:r,ref:n},d.default.createElement(h.Form.Item,{label:t("VOLUME_NAME"),desc:t("NAME_DESC"),rules:[{required:!0,message:t("VOLUME_NAME_EMPTY")},{pattern:v.PATTERN_NAME,message:t("INVALID_NAME_DESC")},{validator:this.nameValidator}]},d.default.createElement(h.Input,{name:"name",autoFocus:!0,maxLength:63})),d.default.createElement(h.Form.Item,{rules:[{required:t("MOUNT_PATH_EMPTY"),validator:this.mountValidator}]},d.default.createElement(g.default,{name:"volumeMounts",containers:a,collectSavedLog:u}))))}}]),r}(d.default.Component);a.default=b,b.propTypes={formRef:m.default.object,formData:m.default.object,className:m.default.string,containers:m.default.array,checkVolumeNameExist:m.default.func},b.defaultProps={className:"",formData:{},containers:[]}},function(e,t,a){e.exports={wrapper:"tsynsemTJYuvNWUS6TC_Z",alert:"_183z7Q-nKFOp95joP8dq5f"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(6),r(70),r(20),r(14),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(6),r(70),r(20),r(29),r(14),r(4),r(18),r(43),r(11),r(73),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(326)),f=n(r(67)),d=n(r(0)),p=n(r(1)),m=r(189),h=r(61),v=n(r(960)),g=n(r(2095));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){(0,o.default)(r,e);var a=y(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).mountValidator=function(a,r,n){if((0,f.default)(r))return n();r.forEach((function(r){if(!r)return n();if("null"===r.readOnly)n();else if(r.mountPath){if(e.getMountPaths(r).includes(r.mountPath))return n({message:t("MOUNT_PATH_IN_USE"),field:a.field});n()}else n({message:t(""),field:a.field})}))},e.nameValidator=function(a,r,n){if(!r)return n();var l=e.props,u=l.currentName;(0,l.checkVolumeNameExist)(r)&&u!==r?n({message:t("VOLUME_NAME_EXIST"),field:a.field}):n()},e}return(0,u.default)(r,[{key:"getMountPaths",value:function(e){return this.mountPaths||(this.mountPaths=(0,s.default)(this.props.containers,"name")),(0,f.default)(this.mountPaths[e.containerName])||(0,f.default)(this.mountPaths[e.containerName].volumeMounts)?[]:this.mountPaths[e.containerName].volumeMounts.filter((function(t){return t.name!==e.name})).map((function(e){return e.mountPath}))}},{key:"render",value:function(){var e=this.props,a=e.containers,r=e.formData,n=e.formRef,l=e.collectSavedLog;return d.default.createElement("div",{className:g.default.wrapper},d.default.createElement(m.Alert,{className:"margin-b12",type:"info",message:t("HOSTPATH_TIP")}),d.default.createElement(m.Form,{data:r,ref:n},d.default.createElement(m.Form.Item,{label:t("VOLUME_NAME"),desc:t("NAME_DESC"),rules:[{required:!0,message:t("VOLUME_NAME_EMPTY")},{pattern:h.PATTERN_NAME,message:t("INVALID_NAME_DESC")},{validator:this.nameValidator}]},d.default.createElement(m.Input,{name:"name",autoFocus:!0,maxLength:63})),d.default.createElement(m.Form.Item,{label:t("HOST_PATH"),rules:[{required:!0,message:t("HOST_PATH_EMPTY")}]},d.default.createElement(m.Input,{name:"hostPath.path"})),d.default.createElement(m.Form.Item,{rules:[{validator:this.mountValidator}]},d.default.createElement(v.default,{name:"volumeMounts",containers:a,collectSavedLog:l}))))}}]),r}(d.default.Component);a.default=E,E.propTypes={formRef:p.default.object,formData:p.default.object,containers:p.default.array,checkVolumeNameExist:p.default.func},E.defaultProps={formData:{},containers:[]}},function(e,t,a){e.exports={wrapper:"_31vvlzay1MAiMrX6G9lj7B"}},function(e,t,a){e.exports={wrapper:"_2nvRVt6iy6k_SVrooYkMKG",contentWrapper:"_1OWIG8nyOZJNyw5JeHA2KG",title:"u7mUnzKWCRa-RMCN75bQu"}},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(44),r(6),r(70),r(36),r(20),r(98),r(14),r(8),r(13),r(9),r(4),r(21),r(18),r(11),r(73),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(44),r(6),r(70),r(36),r(20),r(27),r(98),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(195),r(11),r(73),r(46),r(7),r(40);var l=n(r(97)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(26)),p=n(r(67)),m=n(r(163)),h=n(r(326)),v=n(r(68)),g=n(r(253)),y=n(r(0)),E=n(r(1)),b=r(189),O=n(r(827)),S=n(r(824)),C=n(r(960)),_=n(r(841)),k=r(848),R=r(56),N=n(r(447)),D=n(r(476)),T=n(r(450)),P=n(r(2098));function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var A=function(e){(0,c.default)(r,e);var a=M(r);function r(e){var n;if((0,o.default)(this,r),(n=a.call(this,e)).handleGoBack=function(){var e=n.context.resetSubRoute;e&&e(),n.props.onCancel()},n.handleSelectChange=function(e){var t=n.state,a=t.configMaps,r=t.secrets,l={};l="configmap"===t.type?a.find((function(t){return t.name===e})):r.find((function(t){return t.name===e})),n.setState({resource:l})},n.handleTypeChange=function(e){var t=n.state.formData,a=n.formRef.current;n.setState({type:e,formData:(0,v.default)(t,"name",void 0)},(function(){a.validate()}))},n.handleSubmit=function(e){var t=n.props,a=t.onSave,r=t.withEditCheck,l=t.formProps,u=n.state.resource,o=n.formRef.current;o&&o.validate((function(){var t=o.getData(),i=t.volumeMounts,c=t.name,s=t.items,f={name:(0,d.default)(n.props,"volume.name","volume-".concat((0,R.generateId)()))};"secrets"===u.module?f.secret={secretName:c,items:s}:f.configMap={name:c,items:s};var p=[];i&&(p=i.map((function(e){return I(I({},e),{},{volume:f})}))),a(f,p),r&&l.onChange(),e&&e()}))},n.mountValidator=function(e,a,r){if((0,p.default)(a))return r();a.forEach((function(a){if(!a)return r();if("null"===a.readOnly)r();else if(a.mountPath){if(n.getMountPaths(a).includes(a.mountPath))return r({message:t("MOUNT_PATH_IN_USE"),field:e.field});r()}else r({message:t("READ_WRITE_MOUNT_EMPTY"),field:e.field})}))},n.nameValidator=function(e,a,r){var l=n.state,u=l.formData,o=l.type,i=(0,d.default)(u,"volumeMounts"),c=function(e){return!(0,p.default)(e)&&"null"!==(0,d.default)(e,"[0].readOnly")};return c(i)&&!a?r("configmap"===o?{message:t("CONFIGMAP_NOT_SELECT")}:{message:t("SECRET_NOT_SELECT")}):!c(i)||a?r():void 0},n.relativePathValidator=function(e,a,r){return n.validateSpecificKey(a,r),a?a.some((function(e){return""===e.path}))?r({message:t("MOUNT_PATH_EMPTY")}):a.some((function(e){return/^\//.test(e.path)}))?r({message:t("PLEASE_USE_RELATIVE_PATH")}):a.some((function(e){return/^(\.)\1{1,}/.test(e.path)}))?r({message:t("RELATIVE_PATH_NOT_SUPPORT")}):a.some((function(e){return/(\/)\1{1,}|(\.)\2{1,}/.test(e.path)}))?r({message:t("MOUNT_PATH_INCORRECT")}):(n.checkMountPathRepeat(a,r),r()):r()},n.formRef=y.default.createRef(),n.specificKeyRef=y.default.createRef(),(0,p.default)(e.volume))n.state={formData:{},configMaps:[],secrets:[],resource:{},type:"configmap"};else{var l=e.volume.configMap||e.volume.secret||{};n.state={formData:{name:l.name||l.secretName,items:l.items,volumeMounts:e.volume.volumeMounts},configMaps:[],secrets:[],resource:{},type:e.volume.configMap?"configmap":"secret"}}return n.configMapStore=new D.default,n.secretStore=new N.default,e.isFederated&&(n.configMapStore=new T.default({module:n.configMapStore.module}),n.secretStore=new T.default({module:n.secretStore.module})),n}return(0,i.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.onCancel,t=this.context.registerSubRoute;t&&t(this.handleSubmit,e),this.fetchData()}},{key:"fetchData",value:function(){var e=this,t=this.props,a=t.cluster,r={namespace:t.namespace,cluster:a};Promise.all([this.configMapStore.fetchListByK8s(r),this.secretStore.fetchListByK8s(r)]).then((function(t){var a=(0,l.default)(t,2),r=a[0],n=a[1];e.setState({configMaps:r,secrets:n},(function(){e.state.formData.name&&e.handleSelectChange(e.state.formData.name)}))}))}},{key:"getMountPaths",value:function(e){return this.mountPaths||(this.mountPaths=(0,h.default)(this.props.containers,"name")),(0,p.default)(this.mountPaths[e.containerName])||(0,p.default)(this.mountPaths[e.containerName].volumeMounts)?[]:this.mountPaths[e.containerName].volumeMounts.filter((function(t){return t.name!==e.name})).map((function(e){return e.mountPath}))}},{key:"getResourceOptions",value:function(){var e=this.state,a=e.type,r=e.configMaps,n=e.secrets;return"configmap"!==a||(0,p.default)(r)?"secret"!==a||(0,p.default)(n)?[]:n.map((function(e){return{label:(0,R.getDisplayName)(e),description:t("SECRET"),value:e.name,icon:"key"}})):r.map((function(e){return{label:(0,R.getDisplayName)(e),description:t("CONFIGMAP"),value:e.name,icon:"hammer"}}))}},{key:"getKeysOptions",value:function(){var e=this.state.resource;return Object.keys(e.data||{}).map((function(e){return{label:e,value:e}}))}},{key:"validateSpecificKey",value:function(e,a){this.specificKeyRef.current.state.isCheck&&(0,m.default)(e)&&a({message:t("MOUNT_PATH_NOT_SPECIFIED")})}},{key:"checkMountPathRepeat",value:function(e,a){var r=e.map((function(e){return e.path}));(0,g.default)(r).length!==e.length&&a({message:t("MOUNT_PATH_REPEATED")})}},{key:"renderContent",value:function(){var e=this.props,a=e.containers,r=e.collectSavedLog,n=this.state,l=n.type,u=n.formData,o=this.getResourceOptions(),i={label:(0,p.default)(o)?t("NO_AVAILABLE_RESOURCE"):t("SELECT_TYPE",{type:t(l.toUpperCase())}),description:t("SELECT_".concat(l.toUpperCase(),"_DESC"))};return y.default.createElement(b.Form,{data:u,ref:this.formRef},y.default.createElement("div",{className:P.default.card},y.default.createElement(b.Form.Item,{rules:[{validator:this.nameValidator}]},y.default.createElement(O.default,{name:"name",options:o,placeholder:i,onChange:this.handleSelectChange})),y.default.createElement(b.Form.Item,{rules:[{validator:this.mountValidator}]},y.default.createElement(C.default,{name:"volumeMounts",supportedAccessModes:["READ_ONLY","NOT_MOUNT"],containers:a,collectSavedLog:r}))),y.default.createElement(b.Form.Group,{label:t("SELECT_SPECIFIC_KEYS"),desc:t("SELECT_SPECIFIC_KEYS_DESC"),ref:this.specificKeyRef,checkable:!0,keepDataWhenUncheck:!0},y.default.createElement(b.Form.Item,{rules:[{validator:this.relativePathValidator}]},y.default.createElement(S.default,{name:"items",itemType:"object",addText:t("ADD")},y.default.createElement(_.default,null,y.default.createElement(b.Select,{name:"key",placeholder:t("KEY"),options:this.getKeysOptions()}),y.default.createElement(b.Input,{name:"path",placeholder:t("PATH")}))))))}},{key:"render",value:function(){var e=this.state.type;return y.default.createElement("div",{className:P.default.wrapper},y.default.createElement("div",{className:"h6"},y.default.createElement("a",{className:"custom-icon",onClick:this.handleGoBack},y.default.createElement(k.ReactComponent,null)),t("STORAGE_SETTINGS")),y.default.createElement("div",{className:P.default.contentWrapper},y.default.createElement("div",{className:P.default.title},t("MOUNT_CONFIGMAP_OR_SECRET")),y.default.createElement(b.RadioGroup,{mode:"button",value:e,onChange:this.handleTypeChange,size:"small"},y.default.createElement(b.RadioButton,{value:"configmap"},t("CONFIGMAP")),y.default.createElement(b.RadioButton,{value:"secret"},t("SECRET"))),this.renderContent()))}}]),r}(y.default.Component);a.default=A,A.propTypes={containers:E.default.array,volume:E.default.object,namespace:E.default.string,onSave:E.default.func,onCancel:E.default.func},A.defaultProps={volume:{},containers:[],onSave:function(){},onCancel:function(){}},A.contextTypes={registerSubRoute:E.default.func,resetSubRoute:E.default.func}},function(e,t,a){e.exports={wrapper:"_3pnsBqwivoQqBMD1jPCOFL",contentWrapper:"_1wqGCv-mvy92zPY5s3GKBv",title:"_3oPV7UJiVZfEBJMYrTt2mK",card:"_2ShsDemFbJ8NIreLAccIOt"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(1044)),h=n(r(26)),v=n(r(68)),g=n(r(67)),y=n(r(828)),E=n(r(2100)),b=n(r(1351));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var _=function(e){(0,i.default)(r,e);var a=C(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).getFormattedVolumes=function(){var t=e.props,a=t.value,r=t.containers;return(0,g.default)(a)||(0,g.default)(r)?[]:a.map((function(e){var t=[];return r.forEach((function(a){if((0,h.default)(a,"volumeMounts",!1)){var r=a.volumeMounts.find((function(t){return t.name===e.metadata.name}));r&&t.push(S(S({},r),{},{containerName:a.name}))}})),S(S({},e),{},{volumeMounts:t})}))},e.deleteVolumeMounts=function(t){var a=e.context.formData,r=(0,h.default)(a,"".concat(e.props.prefix,"spec.containers"),[]).map((function(e){return S(S({},e),{},{type:"worker"})})),n=(0,h.default)(a,"".concat(e.props.prefix,"spec.initContainers"),[]).map((function(e){return S(S({},e),{},{type:"init"})})),l=(0,m.default)(r,n);l.forEach((function(e){(0,g.default)(e.volumeMounts)||(e.volumeMounts=e.volumeMounts.filter((function(e){return e.name!==t})))}));var u=[],o=[];l.forEach((function(e){"worker"===e.type?(delete e.type,u.push(e)):(delete e.type,o.push(e))})),(0,v.default)(a,"".concat(e.props.prefix,"spec.containers"),u),(0,v.default)(a,"".concat(e.props.prefix,"spec.initContainers"),o)},e.handleAddVolume=function(){e.props.onShowAddVolume()},e.handleEdit=function(t){e.props.onShowEdit(t)},e.handleDelete=function(t){var a=e.props,r=a.value,n=a.onChange;e.deleteVolumeMounts(t),n(r.filter((function(e){return e.metadata.name!==t})))},e}return(0,o.default)(r,[{key:"renderAddVolume",value:function(){return f.default.createElement(y.default.Add,{onClick:this.handleAddVolume,title:t("ADD_PERSISTENT_VOLUME_CLAIM_TEMPLATE"),description:t("ADD_PERSISTENT_VOLUME_CLAIM_TEMPLATE_DESC")})}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,r=t.hideVolumeSetting,n=this.getFormattedVolumes();return f.default.createElement("div",{className:(0,p.default)(b.default.wrapper,a)},f.default.createElement("div",{className:b.default.content},!(0,g.default)(n)&&f.default.createElement("ul",{className:b.default.list},n.map((function(t){return f.default.createElement(E.default,{volume:t,key:(0,h.default)(t,"metadata.name"),onEdit:e.handleEdit,onDelete:e.handleDelete,banEdit:r})}))),!r&&this.renderAddVolume()))}}]),r}(f.default.Component);a.default=_,_.propTypes={prefix:d.default.string,name:d.default.string,value:d.default.array,containers:d.default.array,onChange:d.default.func,onShowAddVolume:d.default.func,onShowEdit:d.default.func,hideVolumeSetting:d.default.bool},_.defaultProps={prefix:"",name:"",value:[],containers:[],onChange:function(){},onShowAddVolume:function(){},onShowEdit:function(){},hideVolumeSetting:!1},_.contextTypes={formData:d.default.object}},function(e,a,r){"use strict";r(16);var n=r(19);r(20),r(14),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(20),r(14);var l=n(r(26)),u=n(r(0)),o=n(r(1)),i=r(189),c=n(r(828)),s=n(r(1351)),f=function(e){var a=e.volume,r=e.onDelete,n=e.onEdit,o=e.banEdit,f=void 0!==o&&o,d=[{title:(0,l.default)(a,"spec.resources.requests.storage","-"),description:t("CAPACITY")},{title:(0,l.default)(a,"spec.accessModes[0]","-"),description:t("ACCESS_MODE_TCAP")}],p=u.default.createElement("div",{className:s.default.mount},u.default.createElement("ul",null,a.volumeMounts&&a.volumeMounts.map((function(e){var a=e.containerName,r=e.mountPath,n=e.subPath,l=e.readOnly;return u.default.createElement("li",{key:r},u.default.createElement("div",null,u.default.createElement(i.Icon,{name:"docker",size:20}),u.default.createElement("span",null,a)),u.default.createElement("div",null,u.default.createElement(i.Icon,{name:"mgmt-node",size:20})," ",u.default.createElement("span",null,r),u.default.createElement("span",{className:"text-secondary"}," (",l?t("READ_ONLY_LOW"):t("READ_AND_WRITE_LOW"),")")),n&&u.default.createElement("div",null,u.default.createElement(i.Icon,{name:"textfield",size:20})," ",u.default.createElement("span",null,n)))}))));return f?u.default.createElement(c.default.Item,{icon:"storage",title:(0,l.default)(a,"metadata.name","-"),description:t("STORAGE_CLASS_VALUE",{value:(0,l.default)(a,"spec.storageClassName","-")}),extras:p,details:d}):u.default.createElement(c.default.Item,{icon:"storage",title:(0,l.default)(a,"metadata.name","-"),description:t("STORAGE_CLASS_VALUE",{value:(0,l.default)(a,"spec.storageClassName","-")}),extras:p,details:d,onDelete:function(){return r(a.metadata.name)},onEdit:function(){return n(a)}})};f.propTypes={container:o.default.object};var d=f;a.default=d},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(70),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(70),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(73),r(7);var l,u,o,i=n(r(31)),c=n(r(50)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(67)),v=n(r(326)),g=n(r(0)),y=n(r(1)),E=n(r(5)),b=r(243),O=r(189),S=n(r(960)),C=r(61),_=r(848),k=n(r(996)),R=n(r(451)),N=n(r(2102));function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var w=(0,b.observer)((o=u=function(e){(0,d.default)(r,e);var a=P(r);function r(e){var n;return(0,s.default)(this,r),(n=a.call(this,e)).handleGoBack=function(){var e=n.context.resetSubRoute;e&&e(),n.props.onCancel()},n.handleSubmit=function(e){var t=n.props.onSave,a=n.formRef.current;a&&a.validate((function(){var r=a.getData(),n=r.volumeMounts,l=void 0===n?[]:n,u=(0,c.default)(r,["volumeMounts"]);t(u,l.map((function(e){return T(T({},e),{},{name:u.metadata.name})}))),e&&e()}))},n.mountValidator=function(e,a,r){if((0,h.default)(a))return r();a.forEach((function(a){if(!a)return r();if("null"===a.readOnly)r();else if(a.mountPath){if(n.getMountPaths(a).includes(a.mountPath))return r({message:t("MOUNT_PATH_IN_USE"),field:e.field});r()}else r({message:t("READ_WRITE_MOUNT_EMPTY"),field:e.field})}))},n.nameValidator=function(e,a,r){if(!a)return r();var l=n.props,u=l.volume,o=l.cluster,i=l.namespace;(0,l.checkVolumeNameExist)(a)&&u.metadata.name!==a?r({message:t("PVC_NAME_PREFIX_EXISTS"),field:e.field}):n.volumeStore.checkName({name:a,cluster:o,namespace:i}).then((function(a){if(a.exist)return r({message:t("PVC_NAME_PREFIX_EXISTS"),field:e.field});r()}))},n.formRef=g.default.createRef(),n.volumeStore=new R.default,n.state={formData:e.volume},n}return(0,f.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.onCancel,t=this.context.registerSubRoute;t&&t(this.handleSubmit,e)}},{key:"getMountPaths",value:function(e){return this.mountPaths||(this.mountPaths=(0,v.default)(this.props.containers,"name")),(0,h.default)(this.mountPaths[e.containerName])||(0,h.default)(this.mountPaths[e.containerName].volumeMounts)?[]:this.mountPaths[e.containerName].volumeMounts.filter((function(t){return t.name!==e.name})).map((function(e){return e.mountPath}))}},{key:"render",value:function(){var e=this.props,a=e.containers,r=e.className,n=e.contentClassName,l=e.collectSavedLog,u=e.cluster,o=e.namespace,i=this.state.formData;return g.default.createElement("div",{className:(0,E.default)(N.default.wrapper,r)},g.default.createElement("div",{className:"h6"},g.default.createElement("a",{className:"custom-icon",onClick:this.handleGoBack},g.default.createElement(_.ReactComponent,null)),t("STORAGE_SETTINGS")),g.default.createElement("div",{className:(0,E.default)(N.default.contentWrapper,n)},g.default.createElement("div",{className:N.default.card},g.default.createElement(O.Form,{data:i,ref:this.formRef},g.default.createElement(O.Form.Item,{className:N.default.name,label:t("PVC_NAME_PREFIX"),desc:t("PVC_NAME_PREFIX_DESC"),rules:[{required:!0,message:t("PVC_NAME_PREFIX_EMPTY")},{pattern:C.PATTERN_NAME,message:t("INVALID_PVC_NAME_PREFIX")},{validator:this.nameValidator}]},g.default.createElement(O.Input,{name:"metadata.name",autoFocus:!0,maxLength:253})),g.default.createElement(k.default,{cluster:u,namespace:o}),g.default.createElement(O.Form.Item,{label:t("MOUNT_PATH_TCAP"),rules:[{validator:this.mountValidator}]},g.default.createElement(S.default,{name:"volumeMounts",containers:a,collectSavedLog:l}))))))}}]),r}(g.default.Component),u.propTypes={containers:y.default.array,volume:y.default.object,cluster:y.default.string,namespace:y.default.string,onSave:y.default.func,onCancel:y.default.func,checkVolumeNameExist:y.default.func},u.defaultProps={volume:{},containers:[],cluster:"",namespace:"",onSave:function(){},onCancel:function(){}},u.contextTypes={registerSubRoute:y.default.func,resetSubRoute:y.default.func},l=o))||l;a.default=w},function(e,t,a){e.exports={wrapper:"_2sHTAo3GFHxoeVf77YOEjo",contentWrapper:"xUWl22UQS1nWaOZ6Vy3Pk",card:"_2LsjIj1BkvMm_tQz5ZVVB1",title:"_3ud0Iv5RoPlYu6nF2BbTgZ"}},function(e,t,a){e.exports={toggle:"_2BhdZ8zjSjZNYV7QYpsyT2"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(17),d=n(r(26)),p=n(r(140)),m=n(r(68)),h=n(r(196)),v=r(61),g=r(189),y=n(r(2105)),E=n(r(805)),b=n(r(2181)),O=n(r(2183)),S=n(r(2184));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var _=function(e){(0,o.default)(r,e);var a=C(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).metadataRef=s.default.createRef(),e.handleLabelsChange=function(t){var a=e.props,r=a.formTemplate;a.noWorkload||((0,m.default)(r,"Service.".concat(e.fedPrefix,"spec.selector"),(0,p.default)(t,"version")),(0,m.default)(r,"Service.".concat(e.fedPrefix,"metadata.labels"),t),(0,m.default)(r,"Service.metadata.labels",t))},e.handleSessionAffinityChange=function(t){var a=e.props.formTemplate;(0,m.default)(a,"Service.".concat(e.fedPrefix,"spec.sessionAffinity"),t?"ClientIP":"None"),t?(0,m.default)(a,"Service.".concat(e.fedPrefix,"spec.sessionAffinityConfig.clientIP.timeoutSeconds"),10800):(0,h.default)(a,"Service.".concat(e.fedPrefix,"spec.sessionAffinityConfig"))},e}return(0,u.default)(r,[{key:"componentDidMount",value:function(){this.metadataRef.current.setState({isCheck:!0})}},{key:"render",value:function(){var e,a,r=this.props,n=r.formRef,l=r.formTemplate,u=r.cluster,o=r.module,i=r.store,c=r.noWorkload,f=r.isFederated,d=r.workspace,p=r.supportNodeGroupSelect;return s.default.createElement(g.Form,{data:l,ref:n},!c&&!f&&globals.app.hasClusterModule(u,"ippool")&&s.default.createElement(y.default,{cluster:u,namespace:this.namespace,prefix:"".concat(this.kind,".").concat(this.fedPrefix,"spec.template."),replicas:null==l||null===(e=l.Deployment)||void 0===e||null===(a=e.spec)||void 0===a?void 0:a.replicas}),(c||"statefulsets"!==o)&&s.default.createElement(g.Form.Group,{label:t("EXTERNAL_ACCESS"),desc:t("SERVICE_EXTERNAL_ACCESS_DESC"),checkable:!0},s.default.createElement(b.default,{formTemplate:l,isFederated:f,clusters:this.clusters})),s.default.createElement(g.Form.Group,{label:t("SESSION_PERSISTENCE"),desc:t("SESSION_PERSISTENCE_DESC"),onChange:this.handleSessionAffinityChange,checkable:!0},s.default.createElement(g.Form.Item,{label:t("MAXIMUM_STICKINESS_DURATION"),desc:t("MAXIMUM_STICKINESS_DURATION_DESC")},s.default.createElement(E.default,{name:"Service.".concat(this.fedPrefix,"spec.sessionAffinityConfig.clientIP.timeoutSeconds"),min:0,max:86400}))),!c&&s.default.createElement(g.Form.Group,{label:t("SELECT_NODES"),desc:t("SELECT_NODES_DESC"),checkable:!0},s.default.createElement(S.default,{kind:this.kind,cluster:u,namespace:this.namespace,formTemplate:l,isFederated:f,workspace:d,supportNodeGroupSelect:p})),s.default.createElement(g.Form.Group,{label:t("ADD_METADATA"),desc:t("SERVICE_ADD_METADATA_DESC"),ref:this.metadataRef,keepDataWhenUnCheck:!0,checkable:!0},s.default.createElement(O.default,{store:i,module:o,kind:this.kind,namespace:this.namespace,cluster:u,formTemplate:l,onLabelsChange:this.handleLabelsChange,isFederated:f,noWorkload:c})))}},{key:"namespace",get:function(){return(0,d.default)(this.props.formTemplate,"Service.metadata.namespace")}},{key:"fedPrefix",get:function(){return this.props.isFederated?"spec.template.":""}},{key:"kind",get:function(){var e=this.props.module;return v.MODULE_KIND_MAP[e]}},{key:"clusters",get:function(){var e=this.props,t=e.projectDetail,a=e.cluster;return e.isFederated?(0,f.toJS)(t.clusters).map((function(e){return e.name})):[a]}}]),r}(s.default.Component);a.default=_},function(e,a,r){"use strict";var n=r(19),l=r(162);r(12),r(3),r(192),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(192),r(10),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var u,o=n(r(31)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=l(r(0)),m=r(189),h=n(r(1352)),v=n(r(26)),g=n(r(67)),y=r(243),E=r(56),b=n(r(1001));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var _=function(e){return!0!==(0,v.default)(e,"disabled",!1)},k=function(e){return function(t){return(0,v.default)(t,"status.unallocated",0)>=e}},R=(0,y.observer)(u=function(e){(0,s.default)(r,e);var a=C(r);function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).store=new b.default,e}return(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cluster,a=e.namespace;this.store.fetchList({cluster:t,namespace:a,limit:-1})}},{key:"render",value:function(){var e=this.options;return(0,g.default)(e)?null:p.default.createElement(m.Form.Item,{label:t("POD_IP_POOL")},p.default.createElement(h.default,{isOutdated:this.isOutdated,type:"array",name:"".concat(this.prefix,'metadata.annotations["cni.projectcalico.org/ipv4pools"]'),list:e,icon:"eip-group",hideColumns:["workspace"]}))}},{key:"isOutdated",get:function(){var e=this.props.cluster,t=(0,v.default)(globals,"clusterConfig.".concat(e,".ksVersion"));return(0,E.compareVersion)(t,"3.4.0")<0}},{key:"prefix",get:function(){return this.props.prefix||"spec.template."}},{key:"options",get:function(){var e=this.props.replicas,t=void 0===e?0:e;return this.store.list.data.filter((function(e){return[_,k(t)].every((function(t){return t(e)}))})).map((function(e){return S(S({},e),{},{label:e.name,value:e.name})}))}}]),r}(p.Component))||u;a.default=R},function(e,t,a){e.exports={wrapper:"_2ABKueEhFD_fLDY6TON2qh",image:"_1mmQUkTeKXZTVXgFXKgoCs",icon:"a8sH1IiHZlq-JMxPrhL9j",indicator:"OwzOkeA57mPFVgLlkrBZJ",text:"hREka2j-_x28omZp792PI",title:"_1fIgblnihVl-f4bVynbi-Q",description:"xuSos0JIlya1jTOEqVI7Q",link:"_5VQCDsQldfebGA3uz_SO3"}},function(e,t,a){"use strict";a(16);var r=a(19);a(14),a(4),a(18),a(11),a(79),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(14),a(4),a(18),a(43),a(11),a(79);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=r(a(142)),p=a(189),m=r(a(2108));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var v=function(e){(0,u.default)(a,e);var t=h(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"renderRightIcon",value:function(){var e=this.props.rightIcon;return e?(0,d.default)(e)?c.default.createElement("img",{className:m.default.rightIcon,src:e,alt:""}):e:null}},{key:"renderExtraInfo",value:function(){var e=this.props.extra;return e||null}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.iconClass,r=e.type,n=e.icon,l=e.name,u=e.desc,o=n&&n.startsWith("/"),i="white"===r;return c.default.createElement("div",{className:(0,f.default)(m.default.banner,t,m.default[r])},this.renderRightIcon(),c.default.createElement("div",{className:(0,f.default)(m.default.icon,a)},o?c.default.createElement("img",{src:n,alt:""}):c.default.createElement(p.Icon,{name:n,type:i?"dark":"light",size:i?40:36})),c.default.createElement("div",{className:m.default.title},c.default.createElement("div",{className:"h3"},l),c.default.createElement("p",null,u)),this.renderExtraInfo())}}]),a}(c.default.PureComponent);t.default=v,v.propTypes={type:s.default.string,icon:s.default.string,rightIcon:s.default.oneOfType([s.default.string,s.default.node,s.default.element]),name:s.default.string,desc:s.default.string},v.defaultProps={type:"light",icon:"appcenter",iconClass:"",name:"",desc:""}},function(e,t,a){e.exports={banner:"_2IJCX_cvpZJRsRn82JwbiK",light:"_10o8dXTC8EZI0u4OoiMf8b",dark:"_1IPAFtTMdb0sUXYyBgwWCa",purple:"_2EON_1mgCFhkIF-y1VoBVi",white:"_1N2ypMzvzF7g6FsmSyPf7W",icon:"_2A-BRuOG_3APbRuxfbCptR",title:"ZgOtH1icLU1h0f9XMfB9U",rightIcon:"_2wKTMgstCCoKfBwy0Yx5X4"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(437),p=n(r(1)),m=n(r(5)),h=n(r(26)),v=n(r(2110));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(r,e);var a=g(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.isDark,n=e.route,u=e.match,o=(0,h.default)(n,"routes",[]);return f.default.createElement("div",{className:(0,m.default)(v.default.main,(0,l.default)({},v.default.dark,r),a)},o.map((function(e){var a=e.name,r=e.title;return a?f.default.createElement(d.NavLink,{key:a,className:v.default.item,activeClassName:v.default.active,to:"".concat(u.url,"/").concat(a)},t(r)):null})))}}]),r}(f.default.Component);a.default=y,y.propTypes={isDark:p.default.bool,route:p.default.object,match:p.default.object},y.defaultProps={isDark:!1,route:{},match:{}}},function(e,t,a){e.exports={main:"_17Ysh2_SiUm0HflMpRmiYP",dark:"QWZSHCcUmLBxWSBSuJAze",item:"L0U5Luzi7TeiZZdFjLDd5",active:"XAf0GzoLZiyWL0LzVgoAR"}},function(e,t,a){e.exports={wrapper:"Q_yoqMyHYRLhqO4OmHVAR",bar:"_2RqAFCRnJGhdGcLjgYVZoV",warning:"ffPTDheSR8s0ufnGnLXfI",danger:"_2bR-6dSmJhc9TQoMtApSPK",text:"zE3eZ0tTxqO2Wq9o0c8Rs",rightText:"_2mWgH7ErUIeBuy6hQRCAvY"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(44),r(6),r(14),r(4),r(18),r(30),r(11),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(44),r(6),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(139),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(67)),f=n(r(0)),d=n(r(1)),p=r(437),m=n(r(830)),h=n(r(1356)),v=n(r(2113));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var y=function(e){(0,o.default)(r,e);var a=g(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).compile=function(t){var a=e.props.params;return h.default.compile(t)(a)},e}return(0,u.default)(r,[{key:"shouldComponentUpdate",value:function(e){return!(0,m.default)(e.breadcrumbs,this.props.breadcrumbs)||!(0,m.default)(e.routes,this.props.routes)||!(0,m.default)(e.params,this.props.params)||e.pathname!==this.props.pathname}},{key:"getCurrentPath",value:function(){var e=this.props,t=e.pathname;return e.routes.filter((function(e){return e.name})).find((function(e){return!(0,s.default)((0,h.default)(e.path).exec(t))}))}},{key:"render",value:function(){var e=this,a=this.props.breadcrumbs,r=[];a.forEach((function(a,n){var l=e.compile(a.label);return 0===n?r.push(f.default.createElement(p.Link,{key:n,to:e.compile(a.url)},t(l))):r.push(f.default.createElement("span",{key:"split-".concat(n),className:v.default.split},"/"),f.default.createElement(p.Link,{key:n,to:e.compile(a.url)},t(l)))}));var n=this.getCurrentPath();if(n){var l=r.length;r.length>0&&r.push(f.default.createElement("span",{key:"split-".concat(l),className:v.default.split},"/")),r.push(f.default.createElement("span",{key:l,className:v.default.current},t(n.title)))}return f.default.createElement("div",{className:v.default.breadcrumb},r)}}]),r}(f.default.Component);a.default=y,y.propTypes={breadcrumbs:d.default.array,routes:d.default.array,params:d.default.object,pathname:d.default.string},y.defaultProps={breadcrumbs:[],routes:[],params:{},pathname:""}},function(e,t,a){e.exports={breadcrumb:"xKPrLMpPGvKrIzz7bxSWY",back:"_2ohviffIByrflMsW5nHYlw",split:"OW3leDjR4Z22vqaxRuyOp"}},function(e,t,a){e.exports={card:"_1fvaJvMVa-46vr6bRwfiN",default:"_11ZbWGuLKUUwxoCi0UE_ta",selector:"_3wwNftf5lh3zwe6VvRlXHx",loading:"_3mlYHmzoC11FwkXtCcN1P",title:"C-xBi2-VU40KNZUYrr3TD",operations:"_3HvzxjlUHTsgNXS2U7nD52",empty:"_19AVBGyFYrhX1z6mTr5sg0"}},function(e,t,a){e.exports={label:"_2Ci7cqZ4O7DRBCRuzvUd-F",name:"_3c-epdF2Xgo9q-18cg54xx"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(1)),m=n(r(5)),h=r(189),v=n(r(1357)),g=n(r(1358));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var E=function(e){(0,c.default)(r,e);var a=y(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.formRef,r=e.data,n=e.children,o=e.hideFooter,i=e.onCancel,c=e.onOk,s=e.cancelText,f=e.okText,p=e.isSubmitting,y=e.bodyClassName,E=e.formClassName,b=e.disableOk,O=(0,u.default)(e,["formRef","data","children","hideFooter","onCancel","onOk","cancelText","okText","isSubmitting","bodyClassName","formClassName","disableOk"]);return d.default.createElement(v.default,(0,l.default)({},O,{bodyClassName:(0,m.default)(g.default.formBody,y),onCancel:i,hideFooter:!0}),d.default.createElement(h.Form,{ref:a,data:r,onSubmit:c},d.default.createElement("div",{className:(0,m.default)(g.default.formWrapper,E)},n),!o&&d.default.createElement("div",{className:g.default.formFooter},d.default.createElement(h.Button,{type:"default",onClick:i,"data-test":"modal-cancel"},s||t("CANCEL")),c&&d.default.createElement(h.Button,{type:"control",htmlType:"submit",loading:p,disabled:b||p,"data-test":"modal-ok"},f||t("OK")))))}}]),r}(d.default.Component);a.default=E,E.propTypes={data:p.default.object,isSubmitting:p.default.bool}},function(e,t,a){e.exports={status:"_1RJNTAi2gZll1lMoWME40i",indicator:"_2MMr1KtzTZnVoLtaDgs1lx"}},,,function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){e.exports={container:"_28BAmUGayFPM7JPE5ubfRp",main_content:"_1nTOsD4LTy3JlMGPNyiH0J",controls:"_2iPsaoM6EKU-FKuFY19BPD",control:"_1Xce9RPORg_gvSJP9dstQ7","slider-wrapper":"VqFyTMdMnsEe-jAXhPkUB",normalSize:"_5KdmZqhOGtr0WGcmPF5R6",autoSize:"_2jsPFnKjZk2yDubgG_LTD2"}},function(e,t,a){e.exports={wrapper:"_2RXdRDDKaZIoVt_M4ZZKDH",card:"JoB_eaeo3gO3tgu15IdFJ",in:"_30Fhe_GMY_jqljFuBk6iPM",browseIn:"_27cK2SUAg9oL3KeZuQlc8I",out:"_3W6MlUSLX72EkOU9mwhqK9",browseOut:"_3_bxeu1laeJFbz1qe6hjOv",cardMain:"jApufF3_7WJgOAwNKdKLl",cardFoot:"_2MjC_tFWfTzr148xdbNYYP",title:"_3DuG8hhj8DMeFyPQ359a4Z",content:"_37wH-4L-J3wTYb3a17S4IK"}},function(e,t,a){e.exports={wrapper:"yZFq2sW492FUplIaCVLcA",title:"_2RF_2vkCUj5FRXMCT--OiK",panel:"_3GG4TSSEVPDykkKpRx-DTz",empty:"_2ipQUz0640DVJYOmATRKMA",loading:"_1P2YNSL2qJQiEtaDIFDfBf"}},function(e,t,a){e.exports={emptyTip:"_2n5LD-OS_oKZbSEFvtJWzL",emptyText:"_1TAFKSo4u8kgFnD_NDQWpq"}},function(e,t,a){e.exports={progress_label:"_5PSTAWJiSPA_LLFnStRk7",progress:"_1DA7GoI-GY3JPMYhUcAzd4",line_box:"_1Iiva64_Q4jDWrS8sN7HOy",line_split_items:"_2oZqVy1sIf-VGh8wW54aAH",line_block_items:"_2uhi-M5L9MD4cRySFNtXIB",line_block_mask_items:"_3kq8yg8B2d2ngP2g134sDG"}},function(e,t,a){e.exports={wrapper:"_302HbhNWl9mS-MU3L7oAQ0",disabled:"_1kINxzjNsn7aaOpqnibb0A",options:"_2w6Wx0Cn2s6hS24mPAoGsQ",option:"_2tyTnkSPzDAy8te4J5CaC9",control:"_1tMlQKHnZLlquKiSwFjDYV",withIcon:"QvU3_GAQkwcWv0oSs1iyi",leftIcon:"_3LTCGCX8_ciBanyKKA22gn",text:"_3HuhDrid86ZAmU9VGNM6Mz",rightIcon:"_3Uxm1hQLkKIpTk1QqTk3AM",selected:"_2FTW0KhkRJG4DvBe8MTypz",open:"HePRK-voaONco1Z9AdqPs"}},function(e,t,a){e.exports={option:"MwEyynZNsExX6uC1xcFAi",empty:"_1z-Oh8RaC_rY7Ef7mjU6Up",isOutdated:"_21PySuLKqWWEkaP8AJI3LB"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(70),r(20),r(8),r(13),r(9),r(4),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(70),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(73),r(7);var l=n(r(31)),u=n(r(58)),o=n(r(38));r(35);var i=n(r(39)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(26)),h=n(r(196)),v=n(r(0)),g=r(189),y=n(r(956)),E=r(1152),b=r(56),O=r(61),S=n(r(1370)),C=n(r(2182));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var N=function(e){(0,f.default)(n,e);var a,r=R(n);function n(e){var a;return(0,c.default)(this,n),(a=r.call(this,e)).openELBStore=new S.default,a.checkOpenELBStatus=(0,i.default)(o.default.mark((function e(){var t,r,n,l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,r=t.clusters,n=t.namespace,e.next=3,a.openELBStore.isActive({clusters:r,namespace:n});case 3:(l=e.sent)||a.setState({openELBOpened:l});case 5:case"end":return e.stop()}}),e)}))),a.handleAccessModeChange=function(e){"LoadBalancer"!==e&&(Object.keys(globals.config.loadBalancerDefaultAnnotations).forEach((function(e){(0,h.default)(a.formTemplate,'metadata.annotations["'.concat(e,'"]'))})),a.providerOptions.forEach((function(e){(0,h.default)(a.formTemplate,'metadata.annotations["'.concat(e,'"]'))})),(0,h.default)(a.formTemplate,"metadata.annotations['kubesphere.io/annotations']")),a.props.isFederated&&(0,b.updateFederatedAnnotations)(a.formTemplate),a.setState({mode:e})},a.handleAnnotationsChange=function(){a.props.isFederated&&(0,b.updateFederatedAnnotations)(a.formTemplate)},a.optionRenderer=function(e){return v.default.createElement("div",{className:C.default.option},v.default.createElement("div",null,e.label),v.default.createElement("p",null,e.desc))},a.providerOptionRenderer=function(e){return v.default.createElement("div",{className:C.default.selectOption},v.default.createElement(g.Icon,{className:"margin-r8",name:e.icon,type:"light",size:20}),v.default.createElement("span",{className:C.default.text},e.label),e.disabled&&v.default.createElement(g.Tooltip,{content:t("OPENELB_NOT_READY")},v.default.createElement(g.Icon,{name:"question",size:"16"})))},a.handleProvideChange=function(e){a.setState({provider:e})},a.state={mode:(0,m.default)(a.formTemplate,"spec.type","ClusterIP"),provider:"QingCloud Kubernetes Engine",openELBOpened:!0},a}return(0,s.default)(n,[{key:"componentDidMount",value:(a=(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkOpenELBStatus();case 1:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,a=e.mode,r=e.provider,n=e.openELBOpened,l=[].concat((0,u.default)(O.CLUSTER_PROVIDERS),[{label:"OpenELB",value:"OpenELB",icon:"kubernetes",disabled:!n,tip:""}]);return v.default.createElement(v.default.Fragment,null,v.default.createElement(g.Columns,null,v.default.createElement(g.Column,null,v.default.createElement(g.Form.Item,{label:t("ACCESS_MODE")},v.default.createElement(g.Select,{name:"Service.".concat(this.fedPreifx,"spec.type"),options:this.accessModes,onChange:this.handleAccessModeChange}))),"LoadBalancer"===a&&v.default.createElement(g.Column,null,v.default.createElement(g.Form.Item,{label:t("LOAD_BALANCER_PROVIDER")},v.default.createElement(g.Select,{name:"Service.metadata.annotations['kubesphere.io/annotations']",options:l,placeholder:" ",optionRenderer:this.providerOptionRenderer,onChange:this.handleProvideChange,value:r})))),"LoadBalancer"===a&&v.default.createElement(g.Columns,null,v.default.createElement(g.Column,null,v.default.createElement(g.Form.Item,{label:t("ANNOTATION_PL")},v.default.createElement(y.default,{name:"Service.metadata.annotations",options:this.providerOptions,hiddenKeys:globals.config.preservedAnnotations,onChange:this.handleAnnotationsChange,addText:t("ADD")})))))}},{key:"fedPreifx",get:function(){return this.props.isFederated?"spec.template.":""}},{key:"formTemplate",get:function(){return this.props.formTemplate.Service}},{key:"accessModes",get:function(){var e,a,r,n=[{label:"NodePort",desc:t("ACCESS_NODEPORT_TIP"),value:"NodePort"},{label:"LoadBalancer",desc:t("ACCESS_LOADBALANCER_TIP"),value:"LoadBalancer"}];return(null===(e=globals.config)||void 0===e||null===(a=e.serviceGatewaySetting)||void 0===a||null===(r=a.disabledAccessMode)||void 0===r?void 0:r.length)?n.map((function(e){return k(k({},e),{},{disabled:globals.config.serviceGatewaySetting.disabledAccessMode.includes(e.value)})})):n}},{key:"providerOptions",get:function(){var e=this.state.provider;return""===e?[]:Object.keys(E.CLUSTER_PROVIDERS_ANNOTATIONS[e])}}]),n}(v.default.Component);a.default=N},function(e,t,a){e.exports={wrapper:"_2pH3aKpsJmfSUG9AkU_3sQ",title:"_2_hRpdznpkWKgwNsNJab8l",contentWrapper:"_2Qz_qVWoU8keAi35n2vEV7",option:"_2rHThCKcKgiOycy9JMoz8D",selectOption:"_3qFhfIsZt2Zr7W_-LV8z0H",text:"_1mOc7V64yrbxI7t41Kh_V5"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(808)),d=n(r(67)),p=n(r(163)),m=n(r(68)),h=n(r(0)),v=r(189),g=n(r(829)),y=r(56);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var b=function(e){(0,o.default)(r,e);var a=E(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return(e=a.call.apply(a,[this].concat(u))).handleLabelsChange=(0,f.default)((function(t){var a=e.props,r=a.module,n=a.kind,l=a.isFederated,u=a.formTemplate,o=a.onLabelsChange,i=l?(0,s.default)(u[n],"spec.template"):u[n];(0,y.updateLabels)(i,r,t),l&&(0,m.default)(u[n],"metadata.labels",t),o&&o(t)}),200),e.labelsValidator=function(a,r,n){return(0,p.default)(r)?n():(0,d.default)(r)?n({message:t("EMPTY_LABEL_DESC")}):(0,y.isValidLabel)(r)?void e.props.store.checkLabels({labels:r,namespace:e.props.namespace,cluster:e.props.cluster}).then((function(e){if(e.exist)return n({message:t("DUPLICATE_LABELS"),field:a.field});n()})):n({message:t("LABEL_FORMAT_DESC")})},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.kind,r=e.noWorkload;return h.default.createElement(h.default.Fragment,null,h.default.createElement(v.Form.Item,{label:t("LABEL_PL"),rules:[{required:!0,message:t("EMPTY_LABEL_DESC")},{validator:this.labelsValidator}]},h.default.createElement(g.default,{name:"".concat(a,".").concat(this.fedPrefix,"metadata.labels"),addText:t("ADD"),onChange:this.handleLabelsChange})),!r&&h.default.createElement(v.Form.Item,{label:t("WORKLOAD_ANNOTATIONS")},h.default.createElement(g.default,{name:"".concat(a,".metadata.annotations"),addText:t("ADD"),hiddenKeys:globals.config.preservedAnnotations})))}},{key:"fedPrefix",get:function(){return this.props.isFederated?"spec.template.":""}}]),r}(h.default.Component);a.default=b},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(189),p=n(r(2185));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var h=function(e){(0,i.default)(r,e);var a=m(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){return f.default.createElement(d.Form.Item,null,f.default.createElement(p.default,(0,l.default)({name:"".concat(this.prefix,"nodeSelector"),addText:t("ADD_NODE_SELECTOR")},this.props)))}},{key:"prefix",get:function(){return this.props.isFederated?"".concat(this.props.kind,".spec.template.spec.template.spec."):"".concat(this.props.kind,".spec.template.spec.")}}]),r}(f.default.Component);a.default=h},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(196)),p=n(r(244)),m=n(r(0)),h=r(189),v=n(r(829)),g=n(r(798)),y=n(r(5)),E=n(r(483)),b=n(r(2186)),O=n(r(2188));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var k=function(e){(0,c.default)(r,e);var a=_(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).state={visible:!1,type:"node",groupIsLoading:!0,nodeGroups:[]},e.groupStore=new E.default,e.handleNodeSelect=function(t){var a=e.props.onChange;a&&a(t),e.handleCancel()},e.handleCancel=function(){e.setState({visible:!1})},e.getGroupData=function(t){var a=e.props,r=a.cluster,n=a.workspace;e.setState({groupIsLoading:!0}),e.groupStore.fetchList(C({cluster:r,labelSelector:"apps.edgewize.io/workspace-".concat(n)},t)).then((function(){e.setState({nodeGroups:e.groupStore.list.data.map((function(e){var t=e.aliasName?"(".concat(e.aliasName,")"):"";return{label:"".concat(e.name).concat(t),value:e.name}})),groupIsLoading:!1})}))},e.onChange=function(t){e.setState({type:t},(function(){"node"===t?(0,d.default)(e.props.data,'metadata.labels["apps.edgewize.io/nodegroup"]'):((0,d.default)(e.props.data,"".concat(e.prefix,"spec.nodeSelector")),e.getGroupData(),e.props.onChange(null))}))},e}return(0,i.default)(r,[{key:"renderNodeSelectForm",value:function(){var e=this.props,t=e.cluster,a=e.namespace;return m.default.createElement(b.default,{cluster:t,namespace:a,onSelect:this.handleNodeSelect,onCancel:this.handleCancel,visible:this.state.visible})}},{key:"render",value:function(){var e,a=this,r=this.state,n=r.visible,o=r.type,i=this.props.supportNodeGroupSelect&&globals.app.hasClusterModule(this.cluster,"nodegroup"),c=(0,p.default)(null===(e=this.groupStore)||void 0===e?void 0:e.list,["page","limit","total"]);return m.default.createElement(m.default.Fragment,null,m.default.createElement("div",{className:O.default.wrapper},i&&m.default.createElement(h.RadioGroup,{wrapClassName:"radio-group-button",value:o,onChange:this.onChange},m.default.createElement(h.RadioButton,{value:"node"},t("Assigned_Node_Allocation")),m.default.createElement(h.RadioButton,{value:"nodeGroup"},t("Assigned_By_Node_Group"))),"node"===o?m.default.createElement("div",{className:(0,y.default)((0,u.default)({},O.default.contentWrapper,i))},m.default.createElement("div",{className:O.default.selectnode},m.default.createElement(v.default,(0,l.default)({},this.props,{controlled:!0,defaultValue:{}})),m.default.createElement(h.Button,{className:O.default.node,onClick:function(){a.setState({visible:!0})}},t("SPECIFY_NODE")))):m.default.createElement("div",{className:O.default.contentWrapper},m.default.createElement(h.Form.Item,{label:t("NODE_GROUP"),rules:[{message:t("SELECT_A_NODE_GROUP")}]},m.default.createElement(h.Select,{name:'metadata.labels["apps.edgewize.io/nodegroup"]',options:this.state.nodeGroups,pagination:c,isLoading:this.state.groupIsLoading,onFetch:this.getGroupData,placeholder:" "})))),m.default.createElement(g.default,{visible:n,bodyClassName:O.default.body,width:600,hideHeader:!0,hideFooter:!0},this.renderNodeSelectForm()))}}]),r}(m.default.Component);a.default=k},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(7);var l=n(r(31)),u=n(r(50)),o=n(r(38));r(35);var i,c=n(r(39)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(0)),v=r(17),g=r(243),y=n(r(26)),E=r(189),b=n(r(889)),O=n(r(454)),S=n(r(1371)),C=n(r(2187)),_=n(r(1372));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var D=(0,g.observer)(i=function(e){(0,d.default)(n,e);var a,r=N(n);function n(e){var a;return(0,s.default)(this,n),(a=r.call(this,e)).handleTypeChange=function(){var e=(0,c.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.fetchData({type:t});case 2:a.setState({type:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.fetchData=function(){var e=(0,c.default)(o.default.mark((function e(t){var r,n,l,i,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.type,n=(0,u.default)(t,["type"]),l=a.props,i=l.cluster,c=l.namespace,e.next=4,a.store[r].fetchList(R({cluster:i,type:r,namespace:c},n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSelect=function(e){a.setState({selectItem:e})},a.handleCancel=function(){a.setState({selectItem:{}},(function(){a.props.onCancel()}))},a.handleOK=function(){var e=a.props.onSelect,t=a.state.selectItem;e({"kubernetes.io/hostname":(0,y.default)(t,'labels["kubernetes.io/hostname"]')})},a.renderRadio=function(){var e=a.state.type;return a.edgeDisabled?h.default.createElement(E.RadioGroup,{mode:"button",buttonWidth:120,value:e,onChange:a.handleTypeChange,size:"small"},h.default.createElement(E.RadioButton,{value:"node"},t("CLUSTER_NODE_PL")),h.default.createElement(E.RadioButton,{value:"edgenode"},t("EDGE_NODE_PL"))):null},a.state={type:"node",selectItem:{}},a.nodeStore=new O.default,a.edgeNodeStore=new S.default,a.store={node:a.nodeStore,edgenode:a.edgeNodeStore},a}return(0,f.default)(n,[{key:"componentDidMount",value:(a=(0,c.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchData({type:this.state.type});case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this,a=this.state,r=a.type,n=a.selectItem,l=(0,v.toJS)(this.store[r].list),u=l.data,o=l.total,i=l.page,c=l.isLoading;return h.default.createElement("div",{className:_.default.container},h.default.createElement("div",{className:_.default.body},h.default.createElement(E.Alert,{className:"margin-b8",message:t("SPECIFY_NODE_DESC"),hideIcon:!0}),this.renderRadio(),h.default.createElement("div",{className:_.default.nodes},h.default.createElement(b.default,{data:u,total:o,page:i,loading:c,onFetch:function(t){return e.fetchData(R({type:r},t))}},u.map((function(t,a){return h.default.createElement(C.default,{key:"".concat(t.uid).concat(a),module:r,detail:t,onClick:e.handleSelect,selected:n.uid===t.uid})}))))),h.default.createElement("div",{className:_.default.footer},h.default.createElement(E.Button,{onClick:this.handleCancel},t("CANCEL")),h.default.createElement(E.Button,{type:"control",onClick:this.handleOK},t("OK"))))}},{key:"edgeDisabled",get:function(){var e=this.props.cluster;return globals.app.hasClusterModule(e,"edgeruntime")}}]),n}(h.default.PureComponent))||i;a.default=D},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(66),r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(66),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(5)),p=r(189),m=r(61),h=n(r(67)),v=r(332),g=n(r(802)),y=n(r(807)),E=n(r(800)),b=n(r(1372));function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var S=function(e){(0,i.default)(r,e);var a=O(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).handleClick=function(){var t=e.props;(0,t.onClick)(t.detail)},e.renderStatus=function(a){var r=(0,v.getNodeStatus)(a),n=a.taints;return f.default.createElement(E.default,{title:f.default.createElement(f.default.Fragment,null,f.default.createElement(y.default,{type:r,name:t("NODE_STATUS_".concat(r.toUpperCase()))}),!(0,h.default)(n)&&"success"===a.importStatus&&f.default.createElement(p.Tooltip,{content:e.renderTaintsTip(n)},f.default.createElement("span",{className:b.default.taints},n.length))),description:t("STATUS")})},e.renderTaintsTip=function(e){return f.default.createElement("div",null,f.default.createElement("div",null,t("TAINTS"),":"),f.default.createElement("div",null,e.map((function(e){var t="".concat(e.key,"=").concat(e.value||"",":").concat(e.effect);return f.default.createElement("div",{key:t},t)}))))},e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.detail,r=e.selected;return f.default.createElement("div",{className:(0,d.default)(b.default.item,(0,l.default)({},b.default.selected,r)),onClick:this.handleClick},f.default.createElement(p.Icon,{name:m.ICON_TYPES.nodes,size:20}),f.default.createElement("div",{className:b.default.ring}),f.default.createElement("div",{className:b.default.name},f.default.createElement(g.default,{icon:null,to:null,title:a.name,desc:a.ip})),this.renderStatus(a),f.default.createElement("div",null,f.default.createElement(E.default,{title:f.default.createElement(f.default.Fragment,null,a.role.join(",")),description:t("ROLE")})))}}]),r}(f.default.Component);a.default=S},function(e,t,a){e.exports={wrapper:"e5Jf5_q8FscHgID58CD7H",contentWrapper:"_3W_7-QMwlRoPpbENhPycAv",show:"_3TjMkqu_B3NhyMjS6cxvTs",hide:"_2vNmSzoK3ichxTqSlTjr_b",alert:"_2AIc5Vz5VWAUWlhxAD9FCG",node:"_1NNyPvCXso2s-hSebtqNpd",selectnode:"_3S-dI_FsmesC8nDaX2ErjK",body:"owmhPwvI5fmF89y0rZ9tK"}},function(e,t,a){e.exports={wrapper:"_3AXbBgab3cgu3MkpHMsT2n"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l,u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=r(243),h=n(r(26)),v=r(189),g=n(r(889)),y=n(r(319)),E=n(r(2191)),b=n(r(1374));function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var _=(0,m.observer)(l=function(e){(0,c.default)(r,e);var a=C(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).handleTypeChange=function(e){t.setState({type:e},(function(){t.store.setModule(t.state.type),t.fetchData()}))},t.fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.props,r=a.cluster,n=a.namespace;t.store.fetchList(S({cluster:r,namespace:n},e))},t.handleSelect=function(e){t.setState({selectItem:e})},t.handleCancel=function(){t.setState({selectItem:{}},(function(){t.props.onCancel()}))},t.handleOK=function(){var e=t.props.onSelect,a=t.state.selectItem;e((0,h.default)(a,"_originData.spec.template.metadata.labels",{}))},t.state={type:"deployments",selectItem:{}},t.store=new y.default(t.state.type),t}return(0,i.default)(r,[{key:"render",value:function(){var e=this,a=this.state,r=a.type,n=a.selectItem,l=(0,p.toJS)(this.store.list),u=l.data,o=l.total,i=l.page,c=l.isLoading;return d.default.createElement("div",null,d.default.createElement("div",{className:b.default.body},d.default.createElement(v.Alert,{className:"margin-b8",message:t("SELECT_WORKLOAD_DESC"),hideIcon:!0}),d.default.createElement(v.RadioGroup,{mode:"button",buttonWidth:120,value:r,onChange:this.handleTypeChange,size:"small"},d.default.createElement(v.RadioButton,{value:"deployments"},t("DEPLOYMENT_PL")),d.default.createElement(v.RadioButton,{value:"statefulsets"},t("STATEFULSET_PL")),d.default.createElement(v.RadioButton,{value:"daemonsets"},t("DAEMONSET_PL"))),d.default.createElement("div",{className:b.default.workloads},d.default.createElement(g.default,{data:u,total:o,page:i,loading:c,onFetch:this.fetchData},u.map((function(t,a){return d.default.createElement(E.default,{key:"".concat(t.uid).concat(a),module:r,detail:t,onClick:e.handleSelect,selected:n.uid===t.uid})}))))),d.default.createElement("div",{className:b.default.footer},d.default.createElement(v.Button,{onClick:this.handleCancel},t("CANCEL")),d.default.createElement(v.Button,{type:"control",onClick:this.handleOK},t("OK"))))}}]),r}(d.default.Component))||l;a.default=_},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(14),a(4),a(18),a(43),a(11);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(5)),d=a(189),p=a(61),m=r(a(1374));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).handleClick=function(){var t=e.props;(0,t.onClick)(t.detail)},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.module,a=e.detail,r=e.selected;return s.default.createElement("div",{className:(0,f.default)(m.default.item,(0,n.default)({},m.default.selected,r)),onClick:this.handleClick},s.default.createElement(d.Icon,{name:p.ICON_TYPES[t],size:16}),s.default.createElement("div",{className:m.default.ring}),s.default.createElement("span",{className:m.default.name},a.name))}}]),a}(s.default.Component);t.default=v},function(e,t,a){e.exports={wrapper:"_3SwR0SuHuSsPuA0jJpOBPl",alert:"_3OIbx3jb-Xcw2_zGwbSVTa",workload:"iNzx3A8fToix-mv6jI8bV",popper:"_3bnXtp2btwuygkkNrJPwJ"}},function(e,t,a){e.exports={wrapper:"_34R_lgrNP8LcNIcdanbUVA",contentWrapper:"_3EQRY2giqeAOxojq9y5tM9",card:"_3es2K3jnKmjaz4Xv7sEGT2",tabs:"_15Rw2mm_X1tCeewUi8bp0K",label:"_3ZBGR0gdNzYoJ4aZ_OGn5H"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(26)),p=n(r(68)),m=r(189),h=n(r(827)),v=r(56),g=n(r(438)),y=r(61),E=n(r(2195));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(r,e);var a=b(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).getValue=function(){var t=e.props.formTemplate;return(0,d.default)(t,"StatefulSet")?"stateful":"stateless"},e.handleChange=function(t){e.setTemplate(t),e.forceUpdate()},e.setTemplate=function(t){var a=e.props.formTemplate;if(t!==(a.Deployment?"stateless":"stateful")){var r="stateless"===t?"deployments":"statefulsets",n="stateless"===t?"statefulsets":"deployments",l=y.MODULE_KIND_MAP[r],u=y.MODULE_KIND_MAP[n];e.props.store.setModule(r),e.props.updateModule(r);var o=(0,d.default)(a[u],"metadata"),i=(0,d.default)(a[u],"metadata.labels");(0,p.default)(a,l,g.default[r]({namespace:e.namespace})),o&&(0,p.default)(a,"".concat(l,".metadata"),o),(0,v.updateLabels)(a,r,i),delete a[u]}},e}return(0,u.default)(r,[{key:"render",value:function(){var e=[{icon:"backup",value:"stateful",label:t("STATEFUL_SERVICE"),description:t("STATEFUL_SERVICE_DESC")},{icon:"backup",value:"stateless",label:t("STATELESS_SERVICE"),description:t("STATELESS_SERVICE_DESC")}];return s.default.createElement(m.Form.Item,{className:E.default.formItem,label:t("SERVICE_TYPE")},s.default.createElement(h.default,{value:this.getValue(),options:e,onChange:this.handleChange}))}},{key:"namespace",get:function(){var e=this.props.formTemplate;return(0,d.default)(e,"Service.metadata.namespace","")}}]),r}(s.default.Component);a.default=O,O.propTypes={formTemplate:f.default.object}},function(e,t,a){e.exports={formItem:"_21Ebxs_-5Vx30gVGleIZ3L"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(44),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(44),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(0)),d=n(r(1)),p=r(189),m=n(r(1376)),h=n(r(841));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(r,e);var a=v(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).handleChange=function(t){var a=e.props.options,r=(0,s.default)(t,"name"),n=a.find((function(e){return e.key===r}));e.key!==r&&(t.value=(0,s.default)(n,"defaultValue","")),e.props.onChange(t),e.key=r},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.value,r=e.options;return f.default.createElement(h.default,{value:a,onChange:this.handleChange},f.default.createElement(p.Select,{name:"name",placeholder:t("KEY"),options:r}),"boolean"===this.valueType?f.default.createElement(m.default,{name:"value",placeholder:t("VALUE")}):f.default.createElement(p.Input,{name:"value",placeholder:t("VALUE")}))}},{key:"valueType",get:function(){var e=this.props,t=e.value,a=e.options,r=(0,s.default)(t,"name",""),n=a.find((function(e){return e.key===r}));return(0,s.default)(n,"type","string")}}]),r}(f.default.Component);a.default=g,g.propTypes={value:d.default.object,onChange:d.default.func,configMaps:d.default.array,secrets:d.default.array},g.defaultProps={value:{},onChange:function(){}}},function(e,t,a){e.exports={form:"_37rWu7ume662oGX0oNnio2",leftIcon:"_1hPE6IIx1eMcOjWo-NtnN-",loading:"_1e2aJ7aME3Rpx0tC2QpB6I"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(70),r(917),r(20),r(51),r(14),r(8),r(13),r(9),r(4),r(21),r(18),r(30),r(11),r(73),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(70),r(917),r(20),r(27),r(51),r(141),r(29),r(14),r(120),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(30),r(11),r(73),r(71),r(7);var l=n(r(317)),u=n(r(38));r(35);var o=n(r(39)),i=n(r(31)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(0)),h=r(189),v=n(r(191)),g=n(r(897)),y=n(r(462)),E=n(r(26)),b=n(r(68)),O=n(r(5)),S=r(56),C=r(61),_=n(r(459)),k=n(r(2199));function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var T={"x-kubernetes-action":"post","x-kubernetes-group-version-kind":'{"group":"devops.kubesphere.io","version":"v1alpha1","kind":"S2iBinary"}'},P=function(e){(0,f.default)(r,e);var a=D(r);function r(e){var n;(0,c.default)(this,r),(n=a.call(this,e)).formatFileName=function(e){return n.binaryName=e.toLowerCase().replace(/([^a-zA-Z0-9])/g,"-")+Math.random().toString(36).slice(-4),n.binaryName},n.setFileStatus=function(e,t){n.setState((function(a){return{files:N(N({},a.files),{},(0,i.default)({},e,N(N({},a.files[e]),t)))}}))},n.getUploadUrl=function(){return"/kapis/devops.kubesphere.io/v1alpha2".concat(n.store.getPath({namespace:n.props.namespace,cluster:n.props.cluster}),"/s2ibinaries/").concat(n.binaryName,"/file")},n.beforeUploadHandler=function(){var e=(0,o.default)(u.default.mark((function e(a){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if([a.name.slice(a.name.lastIndexOf(".")+1),"binary",""].includes(n.filesType)){e.next=4;break}return v.default.error(t("WRONG_FILE_EXTENSION_NAME",{type:n.filesType})),e.abrupt("return",Promise.reject(t("WRONG_FILE_EXTENSION_NAME",{type:n.filesType})));case 4:return e.next=6,n.store.creatBinary(n.formatFileName(a.name),n.props.namespace,n.props.cluster);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.startHandler=function(e){n.setFileStatus(e.uid,{size:e.size,name:e.name,showProgress:!0,showFile:!1,percentage:0,status:"active"})},n.progressHandler=function(e,t){var a=(0,y.default)(e.percent)?Math.round(e.percent):0;n.setFileStatus(t.uid,{size:t.size,percentage:100===a?99:a,status:"active"})},n.successHandler=function(e,a){var r={name:a.name,size:a.size,showProgress:!1,showFile:!0,percentage:100,status:"active"};n.setFileStatus(a.uid,r),n.props.onChange((0,E.default)(e,"spec.downloadURL")),(0,b.default)(n.props.formTemplate,'metadata.annotations.["kubesphere.io/file"]',JSON.stringify(r)),v.default.success({content:t("FILE_UPLOADED_TIP")}),n.props.uploadSuccess&&n.props.uploadSuccess()},n.errorHandler=function(e,a,r){n.setFileStatus(r.uid,{size:r.size,showProgress:!0,showFile:!1,status:"exception"}),v.default.error({content:t("UPLOAD_FAILED_MESSAGE")})},n.handleReUpload=function(){Object.keys(n.state.files).forEach((function(e){n.uploader.abort(e)})),n.setState({files:{}}),n.props.onChange(""),n.uploader.onClick()},n.store=new _.default;var l={};return n.filesType&&"binary"!==n.filesType&&(l={accept:".".concat(n.filesType)}),n.uploaderProps=N(N({name:"s2ibinary",method:"put",action:n.getUploadUrl,multiple:!1,headers:T},l),{},{beforeUpload:n.beforeUploadHandler,onStart:n.startHandler,onSuccess:n.successHandler,onProgress:n.progressHandler,onError:n.errorHandler}),n.state={files:n.uploadedfile?{default:JSON.parse(n.uploadedfile)}:{}},n}return(0,s.default)(r,[{key:"renderProgress",value:function(e){var a=this.state.files[e];return m.default.createElement("div",{className:k.default.uploadingContent,key:e},m.default.createElement("p",{className:k.default.fileInfo},m.default.createElement("span",{className:k.default.fileName},a.name),m.default.createElement("span",{className:k.default.uploadText},t("UPLOAD_PERCENT",{percent:a.percentage})),m.default.createElement("span",{className:k.default.uploadText},t("FILE_SIZE",{size:(0,S.formatSize)(a.size)}))),m.default.createElement(h.Progress,{status:"primary",className:k.default.progress,percent:a.percentage,strokeWidth:8,key:e,showInfo:!1}))}},{key:"renderFileItem",value:function(e){var a=this.state.files[e];return m.default.createElement("div",{className:k.default.uploadingContent,key:e},m.default.createElement("p",{className:k.default.fileInfo},m.default.createElement("span",{className:k.default.fileName},a.name),m.default.createElement("span",{className:k.default.uploadText},t("UPLOAD_FULLY")),m.default.createElement("span",{className:k.default.uploadText},t("FILE_SIZE",{size:(0,S.formatSize)(a.size)}))),m.default.createElement(h.Progress,{status:"primary",className:k.default.progress,percent:100,strokeWidth:8,showInfo:!1}))}},{key:"render",value:function(){var e=this,a=this.state.files,r=Object.keys(a).length;return m.default.createElement("div",{className:k.default.container},m.default.createElement(g.default,(0,l.default)({},this.uploaderProps,{ref:function(t){e.uploader=t}}),m.default.createElement("div",{className:(0,O.default)(k.default.selectContainer,(0,i.default)({},k.default.none,r))},m.default.createElement(h.Icon,{className:k.default.icon,size:40,name:this.filesType,type:"coloured"}),m.default.createElement("p",{className:k.default.title},t("UPLOAD_ARTIFACT_FILE")),m.default.createElement("p",{className:k.default.desc},t("".concat(this.filesType.toUpperCase()||"B2I_DEFAULT","_DESC"))))),m.default.createElement("div",{className:(0,O.default)(k.default.uploadContainer,(0,i.default)({},k.default.none,!r))},m.default.createElement(h.Icon,{className:k.default.icon,size:40,name:this.filesType,type:"coloured"}),Object.keys(a).map((function(t){return a[t]?a[t].showProgress?e.renderProgress(t):a[t].showFile?e.renderFileItem(t):null:null})),m.default.createElement(h.Icon,{changeable:!0,name:"upload",onClick:this.handleReUpload,className:k.default.uploadIcon})))}},{key:"filesType",get:function(){var e=(0,E.default)(this.props.formTemplate,"metadata.annotations.languageType");return e&&C.B2I_SUPPORTED_TYPES.includes(e)?e:""}},{key:"uploadedfile",get:function(){return(0,E.default)(this.props.formTemplate,'metadata.annotations.["kubesphere.io/file"]')}}]),r}(m.default.Component);a.default=P},function(e,t,a){e.exports={container:"_3Q2I8t-_0-xbht7HGEk-XV",selectContainer:"eTpjmfqI4pQrzHIKjelWy",icon:"_3x-lrd-9n_C8p3_YgZxk04",title:"_2tmR_fZS1e-9iKHmKkZ9BW",desc:"FXOj4Cenw51ZfuXDzb5RA",uploadContainer:"q0ATRWms9DZD5uj-6rHKr",uploadingContent:"_2Zv4mZTchwg5yIRbZFnuUk",fileInfo:"_1d0Aywj3HtDhBswHErXH68",fileName:"_1WqNWs49u_4z6umTtvRyoD",uploadText:"d5T4KyK4A4x4tGvEG2QWM",progress:"_2wAlivSGhybeLkz1DP5plS",uploadIcon:"_3nkK-7bZovC1bTZgWA1TeH",none:"_3YZ9-u8gSY40oOWN1VWq3X"}},function(e,t,a){e.exports={title:"_2POj-8syDYcwsOdcu8Tsf0",columns:"_1-bH8_7Ilw88rYJSmhqNPt",column:"_1OrC_yRd897lld7gcm4k2o",columsEdit:"GINt-JbgXARWRMsCfUXND",environment_info:"_3KXoN38iUTkMJSE5NJsy6g"}},function(e,t,a){e.exports={columns:"_2SXJvUesXt7AmRC6nJNQAF",column:"_12uxUwZ2LjuzR-zwQmw9U-",columsEdit:"_3Q05knFVLBVm6ZR4eG3Lbb",margin_b_10:"_3Z3e-WQ75YXJjOF6ZzTopO",disabled:"_1ox4oZY9Lu1kfVCJi7k7_H"}},function(e,t,a){"use strict";a(16);var r=a(19);a(6),a(20),a(14),a(4),a(190),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(6),a(20),a(27),a(141),a(29),a(446),a(14),a(120),a(4),a(190),a(18),a(43),a(11),a(7);var n=r(a(25)),l=r(a(28)),u=r(a(74)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(26)),f=r(a(201)),d=r(a(67)),p=r(a(457)),m=r(a(68)),h=r(a(196)),v=r(a(0)),g=a(61),y=a(189),E=r(a(1144)),b=r(a(1146)),O=r(a(2203));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var C=function(e){(0,o.default)(a,e);var t=S(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).validator=function(e){r.handleContainer(),e&&e()},r.getReplicas=function(){return(0,s.default)(r.formTemplate,"spec.replicas")||1},r.handleReplicaChange=function(e){r.setState({replicas:e})},r.updatePullSecrets=function(e){var t="".concat(r.prefix,"spec.imagePullSecrets"),a="".concat(r.prefix,'metadata.annotations["kubesphere.io/imagepullsecrets"]'),n=(0,s.default)(e,"".concat(r.prefix,"spec.containers"),[]),l=(0,s.default)(r.props.formTemplate,"S2i.spec.config.pushAuthentication.secretRef.name",""),u={};n.forEach((function(e){l&&(u[e.name]=l)})),(0,m.default)(e,t,(0,d.default)(u)?null:Object.values(u).map((function(e){return{name:e}}))),(0,d.default)(u)||(0,m.default)(e,a,JSON.stringify(u))},r.updateService=function(e){var t=r.props,a=t.formTemplate,n=t.module,l=(0,s.default)(e,"".concat(r.prefix,"spec.containers"),[]),u=[];l.forEach((function(e){e.ports&&e.ports.forEach((function(e){e.servicePort&&u.push({name:e.name,protocol:e.protocol,port:e.servicePort,targetPort:e.containerPort})}))})),(0,m.default)(a,"Service.spec.ports",u);var o=(0,s.default)(e,"metadata.labels",{}),i=(0,s.default)(e,"".concat(r.prefix,"metadata.labels"),{});(0,m.default)(a,"Service.metadata.labels",o),(0,m.default)(a,"Service.spec.selector",i),"StatefulSet"===n?(0,m.default)(a,"Service.spec.clusterIP","None"):(0,h.default)(a,"Service.spec.clusterIP")},r.state={showContainer:!1,selectContainer:{},replicas:r.getReplicas()},r.handleContainer=r.handleContainer.bind((0,u.default)(r)),r}return(0,l.default)(a,[{key:"componentDidMount",value:function(){var e=this.props.formRef;this.props.withService&&this.initService(this.formTemplate),e.current.setCustomValidator(this.validator)}},{key:"initService",value:function(){var e=(0,s.default)(this.formTemplate,"metadata.name"),t=(0,s.default)(this.props.formTemplate,"Service.metadata.name");e&&!t&&(t="".concat(e,"-service"),(0,m.default)(this.props.formTemplate,"Service.metadata.name",t),(0,m.default)(this.formTemplate,"spec.serviceName",t))}},{key:"handleContainer",value:function(){var e=(0,s.default)(this.formTemplate,"".concat(this.prefix,"spec.containers[0]"));(0,f.default)(e,"resources.limits")&&(e.resources.limits=(0,p.default)(e.resources.limits,d.default)),this.updatePullSecrets(this.formTemplate),this.props.withService&&this.updateService(this.formTemplate)}},{key:"renderContainerForm",value:function(){var e=this.props,t=e.withService,a=e.cluster,r=e.module,n=e.projectDetail;return v.default.createElement(O.default,{module:r,cluster:a,namespace:this.namespace,data:this.formTemplate,withService:t,supportGpuSelect:"deployments"===r,projectDetail:n})}},{key:"renderReplicasControl",value:function(){return v.default.createElement("div",{className:"margin-b12"},v.default.createElement(E.default,{template:this.formTemplate,onChange:this.handleReplicaChange}))}},{key:"renderUpdateStrategy",value:function(){var e=this.props,t=e.formRef,a=e.module,r=this.state.replicas;return v.default.createElement("div",{className:"margin-t12"},v.default.createElement(b.default,{formRef:t,module:a,data:this.formTemplate,replicas:r}))}},{key:"render",value:function(){var e=this.props.formRef;return v.default.createElement(y.Form,{data:this.formTemplate,ref:e},this.renderReplicasControl(),this.renderContainerForm(),this.renderUpdateStrategy())}},{key:"prefix",get:function(){return this.props.prefix||"spec.template."}},{key:"namespace",get:function(){return(0,s.default)(this.formTemplate,"metadata.namespace")}},{key:"formTemplate",get:function(){var e=this.props,t=e.formTemplate,a=e.module;return(0,s.default)(t,g.MODULE_KIND_MAP[a],t)}}]),a}(v.default.Component);t.default=C},function(e,t,a){"use strict";a(16);var r=a(19);a(70),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(70),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=r(a(994)),p=r(a(1137)),m=r(a(1134)),h=r(a(1139)),v=r(a(1140)),g=r(a(2204)),y=r(a(2205));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var b=function(e){(0,u.default)(a,e);var t=E(a);function a(e){var r;return(0,n.default)(this,a),(r=t.call(this,e)).formRef=c.default.createRef(),r}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.data,r=e.cluster,n=e.namespace,l=e.withService,u=e.supportGpuSelect,o=e.projectDetail,i=e.secrets,s=e.configMaps,E="spec.template.spec.containers[0]";return c.default.createElement("div",{className:(0,f.default)(y.default.wrapper,t)},c.default.createElement(g.default,{prefix:E,cluster:r,namespace:n,data:a,supportGpuSelect:u,projectDetail:o}),c.default.createElement(d.default,{prefix:E,withService:l}),c.default.createElement(h.default,{prefix:E}),this.supportProbe&&c.default.createElement(v.default,{prefix:E}),c.default.createElement(p.default,{prefix:E}),c.default.createElement(m.default,{prefix:E,namespace:n,cluster:r,projectDetail:o,configMaps:s,secrets:i}))}},{key:"supportProbe",get:function(){return["deployments","daemonsets","statefulsets"].includes(this.props.module)}}]),a}(c.default.Component);t.default=b,b.propTypes={className:s.default.string,type:s.default.string,titlePrefix:s.default.string,namespace:s.default.string,module:s.default.string,data:s.default.object,onSave:s.default.func,onCancel:s.default.func,configMaps:s.default.array,secrets:s.default.array},b.defaultProps={className:"",namespace:"",module:"",data:{},onSave:function(){},onCancel:function(){},configMaps:[],secrets:[]},b.contextTypes={registerSubRoute:s.default.func,resetSubRoute:s.default.func}},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(36),r(20),r(14),r(8),r(13),r(9),r(4),r(21),r(18),r(11),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(36),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(46),r(7),r(40);var l=n(r(38));r(35);var u=n(r(39)),o=n(r(31)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(26)),h=n(r(67)),v=n(r(140)),g=r(17),y=r(56),E=r(249),b=r(61),O=r(189),S=n(r(843)),C=n(r(899)),_=n(r(874)),k=n(r(888)),R=n(r(441)),N=n(r(447));function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var w=function(e){(0,s.default)(n,e);var a,r=P(n);function n(e){var t;return(0,i.default)(this,n),(t=r.call(this,e)).workspaceLimitProps=function(){var e,a=t.state.leftQuota,r=null!==(e=null==a?void 0:a.workspace)&&void 0!==e?e:{};return(0,h.default)(r)?{}:{limits:{cpu:(0,m.default)(r,"limits.cpu"),memory:(0,m.default)(r,"limits.memory")},requests:{cpu:(0,m.default)(r,"requests.cpu"),memory:(0,m.default)(r,"requests.memory")},gpuLimit:t.getGpuLimit()}},t.singleClusterQuota=function(e,a,r){return new Promise((function(n){Promise.all([t.quotaStore.fetch({cluster:r,namespace:a}),t.workspaceQuotaStore.fetchDetail({name:e,workspace:e,cluster:r})]).then((function(e){var t=(0,m.default)(e[0],"data.hard"),a=(0,E.getLeftQuota)(e[1],(0,m.default)(e[0],"data")),r=a.namespace,l=a.workspace;n({workspaceQuota:l,namespaceQuota:T(T({},r),(0,v.default)(t,y.resourceLimitKey))})}))}))},t.state={limitRange:{},imageRegistries:[],leftQuota:{}},t.quotaStore=new _.default,t.projectStore=new R.default,t.secretStore=new N.default,t.workspaceQuotaStore=new k.default,t}return(0,c.default)(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"getGpuLimit",value:function(){return(0,y.gpuLimitsArr)(this.workspaceQuota)}},{key:"fetchData",value:(a=(0,u.default)(l.default.mark((function e(){var t,a,r,n,u,o,i,c,s,f=this;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,r=a.cluster,n=a.namespace,u=a.projectDetail,!(t=u?u.workspace:this.props.workspace)||!n){e.next=10;break}return e.next=5,this.singleClusterQuota(t,n,r);case 5:o=e.sent,i=o.workspaceQuota,c=o.namespaceQuota,s={workspace:i,namespace:c},this.setState({leftQuota:s,availableQuota:s});case 10:Promise.all([this.projectStore.fetchLimitRanges({cluster:r,namespace:n}),this.secretStore.fetchListByK8s({cluster:r,namespace:n,fieldSelector:"type=kubernetes.io/dockerconfigjson"})]).then((function(){f.setState({limitRange:(0,m.default)((0,g.toJS)(f.projectStore.limitRanges),"data[0].limit"),imageRegistries:f.secretStore.list.data})}));case 11:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"renderAdvancedSettings",value:function(){var e,a,r=this.defaultResourceLimit;return p.default.createElement(C.default,{defaultShow:(0,h.default)(r)},p.default.createElement(p.default.Fragment,null,p.default.createElement(O.Alert,{className:"margin-b12",type:"info",message:t("CONTAINER_RESOURCE_LIMIT_TIP")}),p.default.createElement(O.Form.Item,null,p.default.createElement(S.default,{name:"".concat(this.prefix,"resources"),defaultValue:r,supportGpuSelect:null!==(e=null===(a=this.props)||void 0===a?void 0:a.supportGpuSelect)&&void 0!==e&&e,workspaceLimitProps:this.workspaceLimitProps()}))))}},{key:"render",value:function(){return p.default.createElement(O.Form.Group,{label:t("CONTAINER_SETTINGS"),desc:t("CONTAINER_SETTINGS_DESC"),noWrapper:!0},p.default.createElement(O.Form.Item,{className:"margin-t12",label:t("CONTAINER_NAME"),desc:t("NAME_DESC"),rules:[{required:!0,message:t("NAME_EMPTY_DESC")},{pattern:b.PATTERN_NAME,message:t("INVALID_NAME_DESC")}]},p.default.createElement(O.Input,{name:"".concat(this.prefix,"name"),defaultValue:"container-".concat((0,y.generateId)()),maxLength:63})),this.renderAdvancedSettings())}},{key:"prefix",get:function(){var e=this.props.prefix;return e?"".concat(e,"."):""}},{key:"defaultResourceLimit",get:function(){var e=this.state.limitRange,t=void 0===e?{}:e;if(t.defaultRequest||t.default)return{requests:t.defaultRequest||{},limits:t.default||{}}}},{key:"imageRegistries",get:function(){return this.state.imageRegistries.map((function(e){var t=(0,m.default)(e,'data[".dockerconfigjson"].auths',{}),a=Object.keys(t)[0]||"";return{url:a,username:(0,m.default)(t[a],"username"),label:e.name,value:e.name}}))}}]),n}(p.default.Component);a.default=w,w.defaultProps={prefix:""}},function(e,t,a){e.exports={message:"Q7T7JQ7wVTTNPELxGXy6P"}},function(e,t,a){e.exports={body:"_1522q2VQrNvheD4sjrcWfn",header:"_22roWla7-Lucy7tpJCRdGc",groups:"_7DVUxipFFkP4PyzSPBZOC",group:"_3lFfW-rrthHlt07t06220v",title:"_3FAKE6kc9jDoAitmUBoa3I"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(9),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(9),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(800)),p=n(r(2208)),m=n(r(1379));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).handleAdd=function(){e.props.onAdd()},e}return(0,u.default)(r,[{key:"renderContent",value:function(){var e=this.props,a=e.data,r=e.clusters,n=e.onAdd,l=e.onDelete;return s.default.createElement("div",null,Object.keys(a).map((function(e){return s.default.createElement(p.default,{key:e,data:a[e],clusters:r,propsKey:e,onEdit:n,onDelete:l})})),s.default.createElement("div",{className:m.default.add,onClick:this.handleAdd},s.default.createElement(d.default,{title:t("CREATE_SERVICE"),description:t("APP_CREATE_SERVICE_DESC")})))}},{key:"render",value:function(){var e=this.props.error;return s.default.createElement("div",{className:m.default.wrapper},this.renderContent(),e&&s.default.createElement("p",{className:m.default.error},e))}}]),r}(s.default.Component);a.default=v,v.propTypes={data:f.default.object,onAdd:f.default.func,onDelete:f.default.func},v.defaultProps={data:{},onAdd:function(){},onDelete:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(12),r(109),r(3),r(44),r(20),r(14),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(44),r(20),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(71);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(26)),f=n(r(326)),d=n(r(67)),p=n(r(487)),m=n(r(0)),h=n(r(1)),v=r(189),g=r(61),y=n(r(2209)),E=n(r(1379));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var O=function(e){(0,o.default)(r,e);var a=b(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,n=new Array(t),u=0;u<t;u++)n[u]=arguments[u];return(e=a.call.apply(a,[this].concat(n))).handleEdit=function(){e.props.onEdit(e.props.propsKey)},e.handleDelete=function(){e.props.onDelete(e.props.propsKey)},e}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.data,r=e.clusters,n=(0,s.default)(a,"workload.kind").replace("Federated",""),l=(0,p.default)(g.MODULE_KIND_MAP,(function(e){return e===n}))||"deployments",u=(0,f.default)(r,"name"),o=(0,s.default)(a,"workload.spec.placement.clusters",[]).map((function(e){return u[e.name]})),i=(0,s.default)(a,"workload.spec.overrides",[]);return m.default.createElement("div",{className:E.default.item},m.default.createElement("div",{className:E.default.icon},m.default.createElement(v.Icon,{name:g.ICON_TYPES[l],size:40})),m.default.createElement("div",{className:E.default.texts},m.default.createElement("div",{className:E.default.text},m.default.createElement("div",{className:E.default.title},(0,s.default)(a,"service.metadata.name","-")),m.default.createElement("div",{className:E.default.description},"deployments"===l?t("STATELESS_SERVICE"):t("STATEFUL_SERVICE")))),!(0,d.default)(o)&&m.default.createElement("div",{className:E.default.clusters},m.default.createElement("div",{className:E.default.text},m.default.createElement("div",{className:E.default.title},r.map((function(e){var r=(0,s.default)(a,"workload.spec.template.spec.replicas");return r=(((i.find((function(t){return t.clusterName===e.name}))||{}).clusterOverrides||[]).find((function(e){return"/spec/replicas"===e.path}))||{}).value||r,m.default.createElement(v.Tag,{key:e.name,type:g.CLUSTER_GROUP_TAG_TYPE[e.group]},m.default.createElement(v.Icon,{name:g.CLUSTER_PROVIDER_ICON[e.provider]||"kubernetes",size:16,type:"light"}),m.default.createElement("span",null,r," ",1===r?t("REPLICA_LOW_SI"):t("REPLICA_LOW_PL")))}))))),!(0,d.default)(i)&&m.default.createElement("div",{className:E.default.overrides},m.default.createElement(y.default,{overrides:i,clusters:r,workload:(0,s.default)(a,"workload")})),m.default.createElement("div",{className:"buttons"},m.default.createElement(v.Button,{type:"flat",icon:"trash",onClick:this.handleDelete}),m.default.createElement(v.Button,{type:"flat",icon:"pen",onClick:this.handleEdit})))}}]),r}(m.default.Component);a.default=O,O.propTypes={data:h.default.shape({workload:h.default.object,service:h.default.object}),propsKey:h.default.string,onEdit:h.default.func,onDelete:h.default.func},O.defaultProps={data:{workload:{},service:{}},propsKey:"",onEdit:function(){},onDelete:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(88),r(98),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(88),r(98),r(29),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(2210)),p=n(r(2212)),m=n(r(2214)),h=n(r(2216)),v=n(r(2218));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(r,e);var a=g(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.workload,r=e.clusters,n=e.overrides;return f.default.createElement("div",null,this.showContainerSettings&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:v.default.title},t("CONTAINER_IMAGE")),f.default.createElement(d.default,{clusters:r,overrides:n},(function(e){return f.default.createElement(p.default,(0,l.default)({formTemplate:a},e),(function(e){return f.default.createElement(m.default,e)}))}))),this.showServiceSettings&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:v.default.title},t("SERVICE_SETTINGS")),f.default.createElement(d.default,{clusters:r,overrides:n},(function(e){return f.default.createElement(p.default,(0,l.default)({formTemplate:a},e),(function(e){return f.default.createElement(h.default,e)}))}))))}},{key:"showContainerSettings",get:function(){return this.props.overrides.some((function(e){return e.clusterOverrides.some((function(e){return-1!==e.path.indexOf("image")}))}))}},{key:"showServiceSettings",get:function(){return this.props.overrides.some((function(e){return e.clusterOverrides.some((function(e){return-1!==e.path.indexOf("ports")}))}))}}]),r}(f.default.Component);a.default=y},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(20),a(98),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(20),a(98),a(29),a(14),a(4),a(18),a(43),a(11);var l=n(a(31)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37)),f=r(a(0)),d=n(a(5)),p=a(189),m=n(a(2211));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,i.default)(a,e);var t=h(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).isOverride=function(t){var a=e.props.overrides;return!!a&&a.some((function(e){return e.clusterName===t}))},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.clusters,r=t.children;return f.default.createElement("div",{className:m.default.wrapper},a.map((function(t){var a=t.name,n=e.isOverride(a);return f.default.createElement("div",{key:a,className:(0,d.default)(m.default.cluster,(0,l.default)({},m.default.selected,n))},f.default.createElement("div",{className:m.default.title},f.default.createElement(p.Icon,{name:"kubernetes",type:"light",size:20}),f.default.createElement("span",null,a)),f.default.createElement("div",null,r({cluster:a,selected:n})))})))}}]),a}(f.Component);t.default=v},function(e,t,a){e.exports={wrapper:"_1wLt46njNrKUYCA0_Kb9Ds",cluster:"_1zJWl80ccwHSc29VC-NXaV",title:"_QKPUwYLbxJ6E0sm4Vu1h",selected:"ISHnSF2s8Mm8Siwk2r3Dq"}},function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(3),a(10),a(44),a(6),a(20),a(14),a(8),a(13),a(9),a(4),a(18),a(30),a(11),a(71),a(79),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(44),a(6),a(20),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(30),a(11),a(71),a(79),a(7);var l=n(a(31)),u=n(a(25)),o=n(a(28)),i=n(a(41)),c=n(a(42)),s=n(a(37)),f=n(a(26)),d=n(a(68)),p=n(a(119)),m=n(a(67)),h=r(a(0)),v=n(a(5)),g=n(a(2213));function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var O=function(e){(0,i.default)(a,e);var t=b(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).renderContainer=function(t,a,r){var n=e.props,u=n.children,o=n.selected,i=e.getContainer({container:t,index:a,containerType:r});return h.default.createElement("div",{key:t.name,className:(0,v.default)(g.default.wrapper,(0,l.default)({},g.default.selected,o))},u(E(E({},e.props),{},{index:a,key:a,containerType:"worker",container:i})))},e}return(0,o.default)(a,[{key:"getContainer",value:function(e){var t=e.index,a=e.container,r=e.containerType,n=this.props,l=n.cluster,u=n.formTemplate,o=(0,f.default)(u,"spec.overrides",[]).find((function(e){return e.clusterName===l}))||{},i=(0,p.default)(a),c="/spec/template/spec/".concat("init"===r?"init_containers":"containers","/").concat(t,"/");return o&&!(0,m.default)(o.clusterOverrides)&&o.clusterOverrides.forEach((function(e){if(e.path.startsWith(c)){var t=e.path.replace(c,"").replace(/\//g,".");(0,d.default)(i,t,e.value)}})),i}},{key:"render",value:function(){var e=this,t=this.props.formTemplate,a=(0,f.default)(t,"spec.template.spec.containers",[]),r=(0,f.default)(t,"spec.template.spec.init_containers",[]);return h.default.createElement(h.default.Fragment,null,a.map((function(t,a){return e.renderContainer(t,a,"worker")})),r.map((function(t,a){return e.renderContainer(t,a,"init")})))}}]),a}(h.Component);t.default=O},function(e,t,a){e.exports={wrapper:"_3EB1IXHgnOWEOj1c9bix-b",selected:"_9BCZPwc7mp0mmKKeo5peO"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=r(189),p=l(r(2215));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var h=function(e){(0,i.default)(r,e);var a=m(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.container,r=e.selected,n=e.key;return f.default.createElement("div",{key:n},f.default.createElement("span",null,t("IMAGE_VALUE",{value:a.image})),r&&f.default.createElement("span",{className:p.default.modify},f.default.createElement("span",null,t("EDIT")),f.default.createElement(d.Icon,{type:"light",size:20,name:"chevron-down"})))}}]),r}(f.Component);a.default=h},function(e,t,a){e.exports={form:"_2hy0WFJube2Ge67LayHPad",formContent:"MAzpQCErhaYc-kNK-Bws7",modify:"_23cD0-z-4ZjGijKI818LPa",confirm:"_27iz_EqTS9cLCcDuILdWHu"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=l(r(2217));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var m=function(e){(0,i.default)(r,e);var a=p(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props.container;return f.default.createElement("div",null,f.default.createElement("div",null,t("IMAGE_VALUE",{value:e.image})),e.ports&&e.ports.map((function(e,a){return f.default.createElement("div",{key:a,className:d.default.port},f.default.createElement("span",null,t("PROTOCOL_VALUE",{value:e.protocol})),f.default.createElement("span",null,t("NAME_VALUE",{value:e.name})),f.default.createElement("span",null,t("CONTAINER_PORT_VALUE",{value:e.containerPort})),f.default.createElement("span",null,t("SERVICE_PORT_VALUE",{value:e.servicePort})))})))}}]),r}(f.Component);a.default=m},function(e,t,a){e.exports={form:"_1OBSaQybPIvLBb8wlfoxBH",formContent:"ga_h0YjZskSThrlzJyPPD",port:"_1BtgzPQYfQhvaZVF6CWSRw",modify:"_3c_PtwIa9Q5gq-Agmce1hB",confirm:"_1f77Twkv8BROyAb7Hpyhf9"}},function(e,t,a){e.exports={title:"_3reC9Z1bvOCW5M2WmF-2rE"}},function(e,t,a){e.exports={wrapper:"_15JKm9y5qBhq__R_V0SWwg",step:"zfZQWsOAykNahSKCSdRFk",title:"_1UlvgcR-RpZuMu-F2cjMhL",components:"ihdIrbbZ7K4siwoxkBvJx"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(44),r(6),r(70),r(88),r(20),r(87),r(194),r(14),r(4),r(190),r(18),r(11),r(73),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(44),r(6),r(70),r(88),r(20),r(27),r(87),r(194),r(860),r(29),r(14),r(4),r(190),r(21),r(18),r(43),r(11),r(73),r(7);var l=n(r(38));r(35);var u=n(r(39)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(26)),p=n(r(68)),m=n(r(140)),h=n(r(67)),v=n(r(811)),g=n(r(119)),y=n(r(862)),E=r(189),b=n(r(0)),O=r(17),S=n(r(447)),C=n(r(450)),_=n(r(912)),k=r(56),R=n(r(92)),N=n(r(2221)),D=n(r(2223)),T=n(r(2224));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var w=function(e){(0,c.default)(n,e);var a,r=P(n);function n(e){var t;(0,o.default)(this,n),(t=r.call(this,e)).showAdd=function(e){t.setState({showAdd:!0,selectRuleIndex:e,operation:"add"})},t.showEdit=function(e){var a=t.state.ingress;t.setState({showAdd:!0,selectRuleIndex:e,operation:"edit",old:(0,g.default)(a)})},t.closeEditModal=function(){if("edit"===t.state.operation){var e=t.props.formData,a=t.state.old;t.setState({ingress:a},(function(){(0,p.default)(e,"ingress",a)}))}t.closeModal()},t.closeModal=function(){t.setState({showAdd:!1,selectRuleIndex:-1,operation:""})},t.updateName=function(){var e=t.props.formData,a=t.state.ingress,r=(0,d.default)(e,"application.metadata.name");(0,d.default)(a,"metadata.name")||(0,p.default)(a,"metadata.name","".concat(r,"-ingress-").concat((0,k.generateId)()))},t.updateAnnotations=function(){var e=t.props,a=e.formData,r=e.isFederated,n=e.isGovernance,l=t.state.ingress,u=(0,d.default)(a,"application.metadata.namespace");if(n){var o=r?(0,d.default)(l,"spec.template"):l,i=(0,d.default)(o,"spec.rules[0].http.paths[0].backend.service.name");i&&(0,p.default)(o,'metadata.annotations["nginx.ingress.kubernetes.io/upstream-vhost"]',"".concat(i,".").concat(u,".svc.cluster.local"))}},t.handleAdd=function(e){var a=t.props.isFederated,r=t.state,n=r.ingress,l=r.selectRuleIndex,u=a?(0,d.default)(n,"spec.template"):n,o=(0,d.default)(u,"spec.rules",[]);l>=0?o[l]=e:o.push(e),(0,p.default)(u,"spec.rules",o),t.updateTLS(u),t.updateAnnotations(),a&&t.updateOverrides(),t.closeModal()},t.handleDelete=function(e){var a=t.props.isFederated,r=t.state.ingress,n=a?(0,d.default)(r,"spec.template"):r,l=(0,d.default)(n,"spec.rules",[]);l.splice(e,1),(0,p.default)(n,"spec.rules",l),t.updateTLS(n),t.updateAnnotations(),a&&t.updateOverrides(),t.closeModal()},t.changeIngressClassName=function(e){var a=t.state.ingress;t.props.isFederated?(0,p.default)(a,"spec.template.spec.ingressClassName",e):(0,p.default)(a,"spec.ingressClassName",e)},t.mapper=e.isFederated?R.default.federated(R.default.services):R.default.services,t.secretStore=new S.default,t.gatewayStore=new _.default,e.isFederated&&(t.secretStore=new C.default({module:t.secretStore.module}));var a=(0,d.default)(t.props.formData,"ingress",{});return t.state={ingress:a,old:(0,g.default)(a),services:Object.values((0,m.default)(t.props.formData,["application","ingress"])||{}).map((function(e){return t.mapper(e.service)})),showAdd:!1,selectRuleIndex:-1,operation:"",ingressNameOption:[]},t}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.cluster,a=e.namespace;this.secretStore.fetchList({namespace:a,cluster:t,limit:-1}),this.updateName(),this.getIngressNameOptions()}},{key:"getIngressNameOptions",value:(a=(0,u.default)(l.default.mark((function e(){var t,a,r,n,u;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.cluster,r=t.namespace,e.next=3,this.gatewayStore.getNewGatewayByProject({cluster:a,namespace:r});case 3:n=e.sent,u=(0,y.default)(n,(function(e){return{label:"".concat(e.ingressClass,"(").concat(e.name,")"),value:e.ingressClass}})),this.setState({ingressNameOption:u});case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.formData;(0,v.default)(a,e.formData)||(this.setState({ingress:(0,d.default)(a,"ingress",{}),services:Object.values((0,m.default)(this.props.formData,["application","ingress"])||{}).map((function(e){return t.mapper(e.service)}))}),this.updateName())}},{key:"updateTLS",value:function(e){var t=(0,d.default)(e,"spec.rules",[]).filter((function(e){return"https"===e.protocol&&e.secretName})).reduce((function(e,t){var a=t.secretName,r=t.host,n=t.clusters,l=e.find((function(e){return e.secretName===a}));return l?(l.hosts=l.hosts||[],-1===l.hosts.indexOf(r)&&l.hosts.push(r)):e.push({hosts:[r],secretName:a,clusters:n}),e}),[]);(0,p.default)(e,"spec.tls",t)}},{key:"updateOverrides",value:function(){var e=[],t=this.props,a=t.isFederated,r=t.projectDetail,n=this.state.ingress,l=a?(0,d.default)(n,"spec.template"):n,u=(0,d.default)(l,"metadata.annotations",[]),o=(0,d.default)(l,"spec.rules",[]),i=(0,d.default)(l,"spec.tls",[]);(0,d.default)(r,"clusters",[]).forEach((function(t){var a=function(e){return e.filter((function(e){return e.clusters.includes(t.name)})).map((function(e){return(0,m.default)(e,"clusters")}))},r=[{path:"/spec/rules",value:a(o)},{path:"/spec/tls",value:a(i)}];(0,h.default)(u)||r.unshift({path:"/metadata/annotations",value:u}),e.push({clusterName:t.name,clusterOverrides:r})})),(0,p.default)(n,"spec.overrides",e)}},{key:"render",value:function(){var e=this.props,a=e.cluster,r=e.namespace,n=e.gateway,l=e.isFederated,u=e.projectDetail,o=e.formData,i=this.state,c=i.showAdd,s=i.ingress,f=i.services,p=i.selectRuleIndex,m=i.ingressNameOption,v=l?(0,d.default)(s,"spec.template"):s,y=(0,d.default)(v,"spec.rules[".concat(p,"]"),{}),S=(0,O.toJS)(this.secretStore.list.data);return b.default.createElement("div",{className:T.default.wrapper},b.default.createElement("div",{className:T.default.step},b.default.createElement("div",null,t("ROUTE_SETTINGS")),b.default.createElement("p",null,t("ROUTE_SETTINGS_DESC"))),!(0,h.default)(m)&&b.default.createElement(b.default.Fragment,null,b.default.createElement("div",{className:T.default.title},t("SELECT_INGRESSCLASSNAME")),b.default.createElement("div",{className:T.default.ingressClassName},b.default.createElement(E.Select,{name:"spec.ingressClassName",options:m,onChange:this.changeIngressClassName}))),b.default.createElement("div",{className:T.default.title},t("ROUTING_RULES")),b.default.createElement("div",{className:T.default.rules},b.default.createElement(N.default,{data:v,gateway:n,isFederated:l,projectDetail:u,onEdit:this.showEdit,onAdd:this.showAdd,onDelete:this.handleDelete})),b.default.createElement(D.default,{visible:c,data:y,cluster:a,namespace:r,isFederated:l,projectDetail:u,onOk:this.handleAdd,onCancel:this.closeEditModal,gateway:n,services:f,secrets:S,validData:(0,g.default)((null==o?void 0:o.ingress)||(null==o?void 0:o.Ingress))}))}}]),n}(b.default.Component);a.default=w},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(20),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=n(r(26)),p=n(r(800)),m=n(r(1324)),h=n(r(2222));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(r,e);var a=v(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"renderContent",value:function(){var e=this.props,a=e.data,r=e.onEdit,n=e.onDelete,l=e.onAdd,u=e.projectDetail,o=(0,d.default)(a,"spec.rules",[]),i=(0,d.default)(a,"spec.tls",[]);return s.default.createElement("ul",null,o.filter((function(e){return e.host})).map((function(e,t){return s.default.createElement(m.default,{key:"".concat(e.host,"-").concat(t),rule:e,tls:i,index:t,onEdit:r,onDelete:n,projectDetail:u})})),s.default.createElement("div",{className:h.default.add,onClick:l},s.default.createElement(p.default,{title:t("ADD_ROUTING_RULE"),description:t("ADD_ROUTING_RULE_DESC")})))}},{key:"render",value:function(){var e=this.props.error;return s.default.createElement("div",{className:h.default.wrapper},this.renderContent(),e&&s.default.createElement("p",{className:h.default.error},e))}}]),r}(s.default.Component);a.default=g,g.propTypes={data:f.default.object,onAdd:f.default.func,onDelete:f.default.func},g.defaultProps={data:{},onAdd:function(){},onDelete:function(){}}},function(e,t,a){e.exports={item:"_1kmSC__ph67BXHwPHIgdEt",icon:"WG4jVOyftN1J-3Qx0HfRQ",texts:"_2oTQpDYJHbQK9cSrwXrn5D",text:"_1kD3DJ4-DvWshSbWqKFvAW",title:"_3RZYExlr-Pjh7uww6Y6ZEb",description:"_9GO6DcfvOoroeH4GfG06N",clusters:"_367T3thgG7QtDZw5kAaWNy",add:"_2okV3MjC6xqfPB6AWhGQ3",paths:"_3dHV84JUfbE34Iu4EQYkNU",path:"f5_6svLoP460Z6PT3paLt",error:"_7YcL-GLR8AmCzM2qQJESE"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(36),r(20),r(51),r(98),r(14),r(8),r(13),r(9),r(4),r(21),r(18),r(11),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(36),r(20),r(27),r(51),r(98),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(46),r(7),r(40);var l=n(r(317)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(26)),p=n(r(67)),m=n(r(68)),h=n(r(0)),v=n(r(1)),g=r(189),y=n(r(798)),E=n(r(824)),b=n(r(1128)),O=n(r(464)),S=r(61),C=n(r(1129));function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var N=function(e){(0,c.default)(r,e);var a=R(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).checkItemValid=function(e){return e.path&&e.backend&&e.backend.service.name&&e.backend.service.port},n.pathValidator=function(e,a,r){return a?a.some((function(e){return!n.checkItemValid(e)}))?r({message:t("INVALID_PATH_DESC"),field:e.field}):n.handlePathExistValidator(a)?r({message:t("PATH_EXIST"),field:e.field}):void r():r()},n.handlePathExistValidator=function(e){var t=e.map((function(e){return e.path})),a=!1;return t.forEach((function(e){for(var r=t.length,n=0,l=0;n<=r;){if(e===t[n]&&l++,l>1){a=!0;break}n++}})),a},n.handleProtocolChange=function(e){n.setState({protocol:e})},n.handleModeChange=function(e){n.setState({type:e})},n.handleSubmit=function(e){var t=n.props.onOk;if("auto"===n.state.type){var a=n.props,r=a.gateway,l=a.projectDetail,u=a.namespace,o=(0,d.default)(e,"http.paths[0].backend.service.name"),i=(0,d.default)(l,'_originData.metadata.labels["kubesphere.io/namespace"]')||u;t(k(k({},e),{},{protocol:"http",host:r.isHostName?r.defaultIngress:"".concat(o,".").concat(i,".").concat(r.defaultIngress,".nip.io")}))}else t(e)},n.domainValidator=function(e,a,r){var l=n.props,u=l.isFederated,o=l.data,i=l.validData;if(!a)return r();var c=n.props.cluster||n.defaultClusters,s=(0,d.default)(i,"metadata.namespace","");u&&((0,m.default)(i,"apiVersion","networking.k8s.io/v1"),(0,m.default)(i,"kind","Ingress"),(0,m.default)(i,"spec",{})),(0,m.default)(i,"spec.rules",[{host:a}]),u?Promise.all(o.clusters.map((function(e){return n.ingressStore.checkValidDomain({cluster:e,namespace:s},i).then((function(e){return e.exist}))}))).then((function(a){if(a.some((function(e){return e})))return r({message:t("EXIT_DOMAIN_DESC"),field:e.field});r()})):(c=u?"":c,n.ingressStore.checkValidDomain({cluster:c,namespace:s},i).then((function(a){if(a.exist)return r({message:t("EXIT_DOMAIN_DESC"),field:e.field});r()})))},n.state={type:"specify",service:"",protocol:(0,d.default)(e,"data.protocol","http")},n.formRef=h.default.createRef(),n.ingressStore=new O.default,n}return(0,i.default)(r,[{key:"getType",value:function(e){var t=(0,d.default)(e,"host");if(!t)return"auto";var a=this.props.gateway,r=(0,d.default)(e,"http.paths[0].backend.service.name"),n=a.defaultIngress,l=a.namespace;return t==="".concat(r,".").concat(l,".").concat(n,".nip.io")?"auto":"specify"}},{key:"renderForm",value:function(){var e,a,r=this.state,n=r.type,l=r.protocol,u=this.props.services;return h.default.createElement(h.default.Fragment,null,"specify"===n&&h.default.createElement(h.default.Fragment,null,h.default.createElement(g.Form.Item,{label:t("DOMAIN_NAME_TCAP"),key:null===(e=this.props.data)||void 0===e||null===(a=e.clusters)||void 0===a?void 0:a.length,rules:[{required:!0,message:t("DOMAIN_NAME_EMPTY_DESC")},{pattern:S.PATTERN_HOST,message:t("INVALID_DOMAIN_DESC")},{validator:this.domainValidator}]},h.default.createElement(g.Input,{name:"host",autoFocus:!0})),h.default.createElement(g.Form.Item,{label:t("PROTOCOL")},h.default.createElement(g.Select,{name:"protocol",defaultValue:"http",onChange:this.handleProtocolChange,options:this.protocols})),"https"===l&&h.default.createElement(g.Form.Item,{label:t("SECRET")},h.default.createElement(g.Select,{name:"secretName",options:this.secrets,placeholder:" "}))),h.default.createElement(g.Form.Item,{label:t("PATH_PL"),rules:[{required:!0,message:t("PATH_EMPTY_DESC")},{validator:this.pathValidator,checkOnSubmit:!0}]},h.default.createElement(E.default,{name:"http.paths",itemType:"object",addText:t("ADD"),checkItemValid:this.checkItemValid},h.default.createElement(b.default,{services:u}))))}},{key:"render",value:function(){var e=this,a=this.props,r=a.data,n=a.isFederated;return h.default.createElement(y.default.Form,(0,l.default)({title:(0,p.default)(r)?t("ADD_ROUTING_RULE"):t("EDIT_ROUTING_RULES"),width:920},this.props,{onOk:this.handleSubmit}),n&&h.default.createElement(g.Form.Group,{label:t("CLUSTER")},h.default.createElement(g.Form.Item,null,h.default.createElement(C.default,{name:"clusters",options:this.clusters,defaultValue:this.defaultClusters,onChange:function(){(0,m.default)(r,"host",""),e.forceUpdate()}}))),h.default.createElement(g.Form.Group,null,this.renderForm()))}},{key:"protocols",get:function(){return[{label:"HTTP",value:"http"},{label:"HTTPS",value:"https"}]}},{key:"secrets",get:function(){return this.props.secrets.map((function(e){return{label:e.name,value:e.name}}))}},{key:"clusters",get:function(){return(0,d.default)(this.props,"projectDetail.clusters",[]).slice()}},{key:"clusterNames",get:function(){var e;return null==this||null===(e=this.clusters)||void 0===e?void 0:e.map((function(e){return e.name}))}},{key:"defaultClusters",get:function(){return(0,d.default)(this.props,"projectDetail.clusters",[]).map((function(e){return e.name}))}}]),r}(h.default.Component);a.default=N,N.propTypes={data:v.default.object,secrets:v.default.array,services:v.default.array,gateway:v.default.object},N.defaultProps={data:{},secrets:[],services:[],gateway:{}}},function(e,t,a){e.exports={wrapper:"_2hbsokbzN5hp5LxUC8iC_g",step:"aaRAmJaOKA075Il_FYhK2",title:"_24SLKDqrt12UAU6QIqBAa6",ingressClassName:"_2dwjt-_eLMxBcellsKHTca",rules:"_2vD7NSXS51pA2tah6hdoeM"}},function(e,a,r){"use strict";r(16);var n=r(19);r(6),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(6),r(27),r(29),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(50)),f=n(r(0)),d=n(r(1)),p=r(189),m=n(r(861)),h=n(r(2226));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(r,e);var a=v(r);function r(e){var t,n,u,o,i,c;return(0,l.default)(this,r),(t=a.call(this,e)).data=(n=e.formTemplate,u=n.application,o=n.ingress,i=(0,s.default)(n,["application","ingress"]),c=[u,o],Object.keys(i).forEach((function(e){i[e].workload&&c.push(i[e].workload),i[e].service&&c.push(i[e].service)})),c),t.editor=f.default.createRef(),t}return(0,u.default)(r,[{key:"getData",value:function(){return this.editor.current.getData()}},{key:"render",value:function(){return f.default.createElement("div",{className:h.default.wrapper},f.default.createElement("div",{className:h.default.step},f.default.createElement("div",null,t("EDIT_YAML")),f.default.createElement("p",null,t("CREATE_BY_YAML_DESC"))),f.default.createElement("div",{className:h.default.codeWrapper},f.default.createElement("div",{className:h.default.pane},f.default.createElement("div",{className:h.default.title},f.default.createElement(p.Icon,{name:"coding",size:20}),f.default.createElement("span",null,t("YAML_FILE"))),f.default.createElement(m.default,{ref:this.editor,className:h.default.editor,value:this.data}))))}}]),r}(f.default.Component);a.default=g,g.propTypes={formTemplate:d.default.object,onOk:d.default.func,isSubmitting:d.default.bool},g.defaultProps={onOk:function(){},isSubmitting:!1}},function(e,t,a){e.exports={wrapper:"_2DbNJPdfgI4dgBJisOntmF",step:"_2R0Y1Bov3UM9xHfuQx18YU",codeWrapper:"A3dbNbkmfuxiqBXaeGMFW",pane:"_3pEJUsXvQi9so5hxtsl2EC",editor:"_2dd7dYos5S09v8It9Eak_Z",title:"_3H0QVPSbai5_e60lcson19"}},function(e,t,a){e.exports={modal:"p8a6H-jXk5OnSxqkTWQn7",body:"QLzi6PtdDSAbo1ZjB_ejT",wrapper:"_1FueZNETQGMwoOrD2sbcQW",steps:"_2u31JZwaeV3OsrEiBfQM1h",header:"_1O2uhbM6HbwUYsq6yl2mBa",headerBottom:"_1b15o9UoGNxLLpM-BKvPOU",title:"_2Q1EYtOJAJrVd0Pila76Zv",content:"_2EnfwBZjZ9ExnG507HuLf0",footer:"_1Y38fHH45ZkbYyovxA_mJj"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={wrapper:"_1GONzTlqHqhunspyZRL2VM",image:"Rhv9KKR-Cn8KhCMn7m6vs",title:"_15c-9OL-YdSasa499bNehh",desc:"_1jG_ngANkuGykF8bnUsxs4",actions:"W6B3HnMrZqpR2bUfcfR7L"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={"tags-duotone":'<symbol id="icon-tags-duotone" viewBox="0 0 24 24" fill="none">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M14.4141 2C14.1488 2 13.8945 2.10536 13.707 2.29289L2.70696 13.2929C2.31643 13.6834 2.31643 14.3166 2.70696 14.7071L9.29274 21.2929C9.68327 21.6834 10.3164 21.6834 10.707 21.2929L21.707 10.2929C21.8945 10.1054 21.9998 9.851 21.9998 9.58579V2.5C21.9998 2.22386 21.776 2 21.4998 2H14.4141ZM19.9998 6C19.9998 7.10457 19.1044 8 17.9998 8C16.8953 8 15.9998 7.10457 15.9998 6C15.9998 4.89543 16.8953 4 17.9998 4C19.1044 4 19.9998 4.89543 19.9998 6Z" fill="#CCD3DB"/>\n<path d="M17.9998 8C19.1044 8 19.9998 7.10457 19.9998 6C19.9998 4.89543 19.1044 4 17.9998 4C16.8953 4 15.9998 4.89543 15.9998 6C15.9998 7.10457 16.8953 8 17.9998 8Z" fill="#36435C"/>\n<path d="M16.7614 21.0392L12.1865 19.8133L20.2987 11.7011L17.9861 20.3321C17.8432 20.8655 17.2948 21.1821 16.7614 21.0392Z" fill="#36435C"/>\n</symbol>',"chain-off-duotone":'<symbol id="icon-chain-off-duotone" viewBox="0 0 24 24" fill="none">\n<path d="M20.1317 11.6464L17.1261 14.652L15.7119 13.2377L18.7175 10.2322C20.0843 8.86536 20.0843 6.64928 18.7175 5.28245C17.3506 3.91562 15.1346 3.91562 13.7677 5.28245L10.7622 8.288L9.34797 6.87379L12.3535 3.86824C14.5014 1.72035 17.9838 1.72035 20.1317 3.86824C22.2796 6.01612 22.2796 9.49853 20.1317 11.6464Z" fill="#CCD3DB"/>\n<path d="M3.86824 12.3535C1.72035 14.5014 1.72035 17.9838 3.86824 20.1317C6.01612 22.2796 9.49853 22.2796 11.6464 20.1317L14.6513 17.1268L13.2371 15.7126L10.2322 18.7175C8.86536 20.0843 6.64929 20.0843 5.28245 18.7175C3.91562 17.3506 3.91562 15.1346 5.28245 13.7677L8.28731 10.7629L6.8731 9.34865L3.86824 12.3535Z" fill="#CCD3DB"/>\n<path d="M4.39859 4.04578L2.98438 5.45999L10.0552 12.5308L7.75735 14.8286L9.17157 16.2428L11.4694 13.945L18.5407 21.0163L19.9549 19.6021L4.39859 4.04578Z" fill="#36435C"/>\n<path d="M12.53 10.0559L13.9443 11.4701L16.2426 9.17175L14.8284 7.75754L12.53 10.0559Z" fill="#36435C"/>\n</symbol>',event:'<symbol id="icon-event" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.8333 9.16675V1.66675L5 10.8334H9.16667V18.3334L15 9.16675H10.8333Z" fill="#36435C"/>\n</symbol>\n',"switch-button-duotone":'<symbol id="icon-switch-button-duotone" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 14C4 9.58172 7.58172 6 12 6H36C40.4183 6 44 9.58172 44 14C44 18.4183 40.4183 22 36 22H12C7.58172 22 4 18.4183 4 14ZM40 14C40 16.7614 37.7614 19 35 19C32.2386 19 30 16.7614 30 14C30 11.2386 32.2386 9 35 9C37.7614 9 40 11.2386 40 14Z" fill="#B6C2CD"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M4 34C4 29.5817 7.58172 26 12 26H36C40.4183 26 44 29.5817 44 34C44 38.4183 40.4183 42 36 42H12C7.58172 42 4 38.4183 4 34ZM18 34C18 36.7614 15.7614 39 13 39C10.2386 39 8 36.7614 8 34C8 31.2386 10.2386 29 13 29C15.7614 29 18 31.2386 18 34Z" fill="#B6C2CD"></path><path d="M35 19C37.7614 19 40 16.7614 40 14C40 11.2386 37.7614 9 35 9C32.2386 9 30 11.2386 30 14C30 16.7614 32.2386 19 35 19Z" fill="currentColor"></path><path d="M13 39C15.7614 39 18 36.7614 18 34C18 31.2386 15.7614 29 13 29C10.2386 29 8 31.2386 8 34C8 36.7614 10.2386 39 13 39Z" fill="currentColor"></path></symbol>\n  ',"volume-off-duotone":'<symbol id="icon-volume-off-duotone" viewBox="0 0 48 48" fill="none"><path d="M39.9099 39.2042L8.79718 8.09154L5.96875 10.92L37.0814 42.0327L39.9099 39.2042Z" fill="currentColor"></path><path d="M38.239 33.2907L41.117 36.1687C43.562 32.7357 45 28.5358 45 24C45 18.0147 42.4961 12.6143 38.4785 8.78906L35.5318 11.5092C38.8943 14.6151 41 19.0616 41 24C41 27.4287 39.985 30.6203 38.239 33.2907Z" fill="currentColor"></path><path d="M32.3914 27.4431L35.4184 30.4701C36.4288 28.5349 37.0001 26.3341 37.0001 23.9998C37.0001 20.091 35.3982 16.5564 32.8152 14.0166L29.8711 16.7342C31.7979 18.557 33.0001 21.138 33.0001 23.9998C33.0001 25.2098 32.7851 26.3696 32.3914 27.4431Z" fill="currentColor"></path><path d="M15.9677 11.0194L26 21.0518V6.76619C26 5.9889 25.152 5.50879 24.4855 5.9087L15.9677 11.0194Z" fill="#B6C2CD"></path><path d="M9.43902 14.3902L4.51493 15.6213C3.62459 15.8439 3 16.6438 3 17.5616V30.4384C3 31.3562 3.62459 32.1561 4.51493 32.3787L11 34L24.4855 42.0913C25.152 42.4912 26 42.0111 26 41.2338V30.9512L9.43902 14.3902Z" fill="#B6C2CD"></path></symbol>',"bell-off-duotone":'<symbol id="icon-bell-off-duotone" viewBox="0 0 48 48" fill="none"><path d="M24.0001 2C22.3432 2 21.0001 3.34315 21.0001 5V7.29778C21.9697 7.10248 22.9729 7 24.0001 7C25.0272 7 26.0304 7.10248 27.0001 7.29778V5C27.0001 3.34315 25.6569 2 24.0001 2Z" fill="currentColor"></path><path d="M8.79718 8.09155L39.9099 39.2043L37.0814 42.0327L5.96875 10.92L8.79718 8.09155Z" fill="currentColor"></path><path d="M17.0001 39C17.0001 38.6605 17.0242 38.3266 17.0709 38H30.9292C30.9759 38.3266 31.0001 38.6605 31.0001 39C31.0001 42.866 27.8661 46 24.0001 46C20.1341 46 17.0001 42.866 17.0001 39Z" fill="currentColor"></path><path d="M21.0001 7.29778C18.7671 7.74753 16.7124 8.68951 14.9539 10.0057L40.0208 35.0726L39.1111 32.3529V22.1111C39.1111 14.7927 33.9085 8.68931 27.0001 7.29778C26.0304 7.10248 25.0272 7 24.0001 7" fill="#B6C2CD"></path><path d="M24.0001 7C22.9729 7 21.9697 7.10249 21.0001 7.29778L24.0001 7Z" fill="#B6C2CD"></path><path d="M33.0488 38H7L8.88889 32.3529V22.1111C8.88889 19.7028 9.45226 17.4261 10.4544 15.4056L33.0488 38Z" fill="#B6C2CD"></path></symbol>',"earth-fill":'<symbol id="icon-earth-fill" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.3318 42.8556C17.0004 42.7384 16.6718 42.6124 16.3463 42.4776C13.9198 41.4725 11.715 39.9993 9.85786 38.1421C8.00069 36.285 6.5275 34.0802 5.52241 31.6537C4.51732 29.2272 4 26.6264 4 24C4 23.8461 4.00178 23.6923 4.00532 23.5386C4.0054 23.5352 4.00548 23.5318 4.00556 23.5284C4.06372 21.0626 4.57752 18.6275 5.52241 16.3463C6.5275 13.9198 8.00069 11.715 9.85786 9.85786C11.4443 8.27148 13.2843 6.96527 15.2995 5.99165C15.6434 5.82546 15.9925 5.66896 16.3463 5.52241C18.7728 4.51732 21.3736 4 24 4C26.6264 4 29.2272 4.51732 31.6537 5.52241C34.0802 6.5275 36.285 8.00069 38.1421 9.85786C39.9993 11.715 41.4725 13.9198 42.4776 16.3463C42.6346 16.7255 42.7798 17.1089 42.9129 17.496C42.9163 17.5059 42.9198 17.5159 42.9232 17.5259C43.0322 17.8445 43.133 18.1655 43.2256 18.4886C43.3328 18.8626 43.4291 19.2395 43.5142 19.6187C43.5146 19.6203 43.5149 19.6219 43.5153 19.6234C43.8367 21.0566 44 22.5242 44 24C44 26.6264 43.4827 29.2272 42.4776 31.6537C41.4725 34.0802 39.9993 36.285 38.1421 38.1421C36.285 39.9993 34.0802 41.4725 31.6537 42.4776C29.2272 43.4827 26.6264 44 24 44C21.7258 44 19.471 43.6122 17.3318 42.8556ZM8.77438 28.9174C8.2621 27.3312 8 25.6721 8 24C8 21.8988 8.41385 19.8183 9.21793 17.8771C10.022 15.9359 11.2006 14.172 12.6863 12.6863C13.6111 11.7615 14.6436 10.9558 15.7595 10.2852C15.9908 10.985 16.4517 11.4067 17.4767 11.6147C18.8467 11.8927 19.6918 11.7896 20.4902 11.6922C21.0053 11.6294 21.5011 11.5689 22.1059 11.6147C23.1504 11.6921 23.4469 13.545 23.6403 14.754C23.7325 15.3302 23.8013 15.7602 23.9165 15.782C23.9165 15.782 25.9418 21.5173 31.8823 23.1553C33.1446 23.503 30.5757 26.1677 28.7977 26.968C28.1404 27.264 27.2051 27.3398 26.2743 27.4152C24.6807 27.5444 23.1002 27.6724 22.95 28.9023C22.712 30.8483 24.3384 32.057 25.05 32.4C25.7616 32.7453 31.14 35.2397 32.4 33.45C32.9251 32.7038 34.0089 32.1207 35.0592 31.5556C36.5246 30.7673 37.9245 30.0141 37.65 28.9023C37.1968 27.061 38.5039 25.4189 39.9998 23.9195C39.9999 23.9464 40 23.9732 40 24C40 26.1011 39.5861 28.1817 38.7821 30.1229C37.978 32.0641 36.7994 33.828 35.3137 35.3137C33.828 36.7994 32.0641 37.978 30.1229 38.7821C28.1817 39.5861 26.1012 40 24 40C22.173 40 20.3616 39.6871 18.6438 39.0768C18.566 38.7369 18.465 38.3884 18.3779 38.0877C18.273 37.7262 18.1883 37.4339 18.1883 37.3093C18.1883 37.204 18.2747 36.8807 18.3864 36.4624C18.6707 35.3978 19.1193 33.718 18.7273 33.45C18.415 33.2351 18.8109 31.7983 19.2069 30.3605C19.5034 29.2844 19.8 28.2077 19.8 27.6423C19.8 26.8332 18.2385 26.5198 16.7782 26.2267C15.8549 26.0414 14.9721 25.8642 14.55 25.575C14.0014 25.1999 12.8575 26.1829 11.6937 27.1831C10.5639 28.1541 9.4153 29.1412 8.77438 28.9174Z" fill="currentColor"></path></symbol>',"clock-duotone":'<symbol id="icon-clock-duotone" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 13H26V25.1716L32.4142 31.5858L29.5858 34.4142L22 26.8284V13Z" fill="currentColor"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44ZM26 25.1716V13H22V26.8284L29.5858 34.4142L32.4142 31.5858L26 25.1716Z" fill="#B6C2CD"></path></symbol>'}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={wrapper:"_3RvD5UEuKHt_T1xybRhGfS",select:"_1aQ7ChfUm20NELU7IiXMSM"}},function(e,t,a){e.exports={wrapper:"btc8Ihe1GfSKeBPW4ocRC",value:"_1xboWqu4MnvlYbNanj_e",text:"_2_YxJhzeMUvmjUAngLClSH",buttons:"_28QqiVnCn-59TULfI9fWSA"}},,,,function(e,t,a){e.exports={wrapper:"_3SwZze98375W9bhfjiqN-o",slider:"_28M70O8IpxNUXf81fNeAAx",floatContent:"XqxDCyE_PSNWzijpRx5vU"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,a,r){"use strict";r(16);var n=r(162);r(70),r(9),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.data,r=(0,l.useMemo)((function(){var e;return null==a||null===(e=a.annotations)||void 0===e?void 0:e["kubesphere.io/relatedHPA"]}),[a]),n=(0,l.useMemo)((function(){return Object.keys(a.labels).includes("autoscaling.kubeshpere.io/name")}),[a]),o=(0,l.useMemo)((function(){return n?t("WORKLOAD_SCALING_TOOL_TIP"):t("HPA_SET_TIP")})),i=(0,l.useMemo)((function(){return n?"stretch":"timed-task"}));if(!r&&!n)return null;return l.default.createElement(u.Tooltip,{content:o},l.default.createElement(u.Icon,{name:i,size:18}))},r(70),r(9),r(73);var l=n(r(0)),u=r(189)},function(e,t,a){e.exports={status:"_11_Dlx6pO5mTVNNIwnnhEU"}},,,,,,,,,,,,,,,,,function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(44),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(44),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(317)),u=n(r(50)),o=n(r(31)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(1)),h=n(r(5)),v=n(r(67)),g=n(r(26)),y=r(189),E=n(r(840)),b=n(r(2598)),O=n(r(1434));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var k=function(e){(0,s.default)(r,e);var a=_(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).registerSubRoute=function(e,a){t.setState({subRoute:{onSave:e,onCancel:a}})},t.resetSubRoute=function(){t.setState({subRoute:{}})},t.handleSubFormSave=function(){var e=t.state.subRoute;e&&e.onSave&&e.onSave((function(){t.setState({subRoute:{}})}))},t.handleSubFormCancel=function(){var e=t.state.subRoute;e&&e.onCancel&&(e.onCancel(),t.setState({subRoute:{}}))},t.handlePrev=function(){t.setState((function(e){var t=e.subRoute;return t&&t.onCancel&&t.onCancel(),{subRoute:{}}}))},t.handleChangeTab=function(e){var a=e.target.dataset.name;a&&t.setState({activeTab:a,subRoute:{}})},t.handleSaveForm=function(e,a){t.setState((function(t){var r=t.updatedTabs;return r[e]=a,{updatedTabs:r,formData:a}}))},t.handleSubmit=function(){var e=t.state.updatedTabs;(0,v.default)(e)?t.props.onCancel():t.props.onSubmit(t.state.formData,Object.keys(e))},t.tabs=e.forms.map((function(e){return C(C({},e),{},{component:(0,b.default)(e.component)})})),t.state={formData:e.data,activeTab:(0,g.default)(t.tabs,"[0].name"),updatedTabs:{},subRoute:{}},t}return(0,c.default)(r,[{key:"getChildContext",value:function(){return{registerSubRoute:this.registerSubRoute,resetSubRoute:this.resetSubRoute}}}]),(0,c.default)(r,[{key:"renderTabs",value:function(){var e=this.state,a=e.activeTab,r=e.updatedTabs;return p.default.createElement("ul",{className:O.default.tabs,onClick:this.handleChangeTab},this.tabs.map((function(e){var n=e.icon,l=e.title,u=e.name,i=u===a,c=i?"light":"dark";return p.default.createElement("li",{key:l,"data-name":u,className:(0,h.default)((0,o.default)({},O.default.active,i))},p.default.createElement("div",{className:O.default.icon},p.default.createElement(y.Icon,{name:n||"appcenter",size:20,type:c})),p.default.createElement("p",null,t(l)),p.default.createElement(y.Icon,{className:(0,h.default)(O.default.updated,(0,o.default)({},O.default.active,r[u])),name:"exclamation",size:18,color:{primary:"#fff",secondary:"#f5a623"}}))})))}},{key:"renderForm",value:function(){var e=this.props,t=e.module,a=e.cluster,r=e.store,n=e.namespace,o=(0,u.default)(e,["module","cluster","store","namespace"]),i=this.state,c=i.activeTab,s=i.formData,f=this.tabs.find((function(e){return e.name===c}))||{},d=f.store||r,m=f.component;return this.formRef=p.default.createRef(),p.default.createElement("div",{className:O.default.form},p.default.createElement(m,(0,l.default)({},o,f,{formRef:this.formRef,module:t,namespace:n,store:d,formData:s,cluster:a,onSaveChange:this.handleSaveForm})),this.renderSubRouteConfirm())}},{key:"renderSubRouteConfirm",value:function(){var e=this.state.subRoute;return(0,v.default)(e)?null:p.default.createElement(E.default,{className:O.default.confirm,onOk:this.handleSubFormSave,onCancel:this.handleSubFormCancel})}},{key:"renderContent",value:function(){return p.default.createElement("div",{className:O.default.content},p.default.createElement("div",{className:O.default.container},this.renderTabs(),this.renderForm()))}},{key:"renderFooter",value:function(){var e=this.state.updatedTabs;return p.default.createElement("div",{className:O.default.footer},p.default.createElement("div",null,p.default.createElement(y.Button,{onClick:this.props.onCancel},t("CANCEL")),this.props.onSubmit&&p.default.createElement(y.Button,{type:"control",disabled:(0,v.default)(e),loading:this.props.isSubmitting,onClick:this.handleSubmit},t("OK"))))}},{key:"render",value:function(){return p.default.createElement("div",{className:O.default.wrapper},this.renderContent(),this.renderFooter())}}]),r}(p.default.Component);a.default=k,k.propTypes={module:m.default.string,store:m.default.object,forms:m.default.array,data:m.default.object,onSubmit:m.default.func},k.defaultProps={store:{},forms:[],data:{}},k.childContextTypes={registerSubRoute:m.default.func,resetSubRoute:m.default.func}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(317)),l=r(a(50)),u=r(a(31)),o=r(a(25)),i=r(a(28)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(0)),p=a(17),m=r(a(5)),h=r(a(26)),v=r(a(119)),g=r(a(840)),y=r(a(1434));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var S=function(e){return function(t){(0,c.default)(r,t);var a=O(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).handleFormChange=function(){t.setState({showFormActions:!0})},t.handleSaveChange=function(){var e=t.props,a=e.formRef,r=e.onSaveChange,n=(0,h.default)(a,"current");n&&n.validate((function(){t.setState({showFormActions:!1},(function(){r&&r(t.name,t.state.formData),t.prevState=b(b({},t.state),{},{formData:(0,v.default)(t.state.formData)})}))}))},t.handleCancelChange=function(){var e=t.prevState||t.initialState;t.setState(b({},e),(function(){t.prevState=(0,v.default)(e)}))},t.state={showFormActions:!1,formData:(0,v.default)((0,p.toJS)(e.formData))},t.initialState=(0,v.default)(t.state),t}return(0,i.default)(r,[{key:"renderFormActions",value:function(){return d.default.createElement(g.default,{className:(0,m.default)(y.default.formActions,(0,u.default)({},y.default.active,this.state.showFormActions)),onOk:this.handleSaveChange,onCancel:this.handleCancelChange})}},{key:"render",value:function(){var t=this.props,a=t.module,r=t.formRef,u=(t.data,t.formData,t.detail,(0,l.default)(t,["module","formRef","data","formData","detail"]));return d.default.createElement("div",{className:y.default.formWrapper},d.default.createElement(e,(0,n.default)({},u,{formTemplate:this.formTemplate,formProps:this.formProps,formRef:r,module:a})),this.renderFormActions())}},{key:"name",get:function(){return this.props.name}},{key:"formTemplate",get:function(){var e=this.props.templatePrefix?"formData.".concat(this.props.templatePrefix):"formData";return(0,h.default)(this.state,e,{})}},{key:"formProps",get:function(){return{onChange:this.handleFormChange}}}]),r}(d.default.Component)};t.default=S},function(e,t,a){e.exports={body:"dybN1CLVGnb2vn26S2lo1"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(7);var n=r(a(38)),l=r(a(58)),u=r(a(31)),o=r(a(50));a(35);var i,c=r(a(39)),s=r(a(25)),f=r(a(28)),d=r(a(41)),p=r(a(42)),m=r(a(37)),h=r(a(45)),v=r(a(1443)),g=a(17),y=r(a(26)),E=r(a(64)),b=a(61);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function S(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var _=(i=function(e){(0,d.default)(u,e);var t,a,r=C(u);function u(){var e;return(0,s.default)(this,u),(e=r.call(this)).module="ippools",e.getNetWorkUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.getNetworkUrl).concat(e.getPath(t),"/").concat(e.module).concat(t.dryRun?"?dryRun=All":"")},e.getNetDetailUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.getNetWorkUrl(t),"/").concat(t.name)},e.store=new v.default({module:"ippools",kind:"IPPool",apiVersion:"apis/crd.projectcalico.org/v1"}),e}return(0,f.default)(u,[{key:"fetchList",value:(a=(0,c.default)(n.default.mark((function e(){var t,a,r,u,i,c,s,f,d,p=this,m=arguments;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},a=t.cluster,r=t.workspace,u=t.namespace,i=t.more,c=t.devops,s=(0,o.default)(t,["cluster","workspace","namespace","more","devops"]),this.list.isLoading=!0,s.sortBy||void 0!==s.ascending||(s.sortBy=b.LIST_DEFAULT_ORDER[this.module]||"createTime"),s.limit!==1/0&&-1!==s.limit||(s.limit=-1,s.page=1),s.limit=s.limit||10,e.next=7,request.get(this.getNetWorkUrl({cluster:a,workspace:r,namespace:u,devops:c}),this.getFilterParams(s));case 7:return f=e.sent,d=((0,y.default)(f,"items")||((0,E.default)(f)?f:[])).map((function(e){return S({cluster:a,namespace:u},p.mapper(e))})),this.list.update(S(S({data:i?[].concat((0,l.default)(this.list.data),(0,l.default)(d)):d,total:f.totalItems||f.totalCount||f.total_count||d.length||0},s),{},{limit:Number(s.limit)||10,page:Number(s.page)||1,isLoading:!1},this.list.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",d);case 11:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"fetchDetail",value:(t=(0,c.default)(n.default.mark((function e(t){var a,r;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,request.get(this.getNetDetailUrl(t));case 3:return a=e.sent,r=S(S({},t),this.mapper(a)),this.detail=r,this.isLoading=!1,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"apiVersion",get:function(){return"apis/crd.projectcalico.org/v1"}}]),u}(r(a(1001)).default),(0,h.default)(i.prototype,"fetchList",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchList"),i.prototype),(0,h.default)(i.prototype,"fetchDetail",[g.action],Object.getOwnPropertyDescriptor(i.prototype,"fetchDetail"),i.prototype),i);t.default=_},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={title:"_27MAX13PiUAzOsXD-R9gw2",operations:"_24RyEmdRdSORfES3B37-Ig",split:"_3UTVVRpfTorBqaIOAvmHf",content:"_4NEZZqVQd_YQAxdWy1PTV",loading:"_39m20vEem86oLHu-jSp0RG",more:"_2sr0xxYkh1IdZYY34aaZjJ"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={wrapper:"_3J3Pb5mAzhA4WmZl--Xw6F",toolbar:"_24SaWZxSK3fOxrM8ksaLt0",icon:"raMWjgF9-U2CVBiaV9gBr",edit:"O2SokwX79YPhMH-RqGZH7",overlayTools:"_36RuF2nWfCp60flYh41e5u",download:"_3ioPdFh5i_U-DWb-q_BJuW",preview_btn:"_2LSpfvTqAgBIXDl6uz1rlY",active:"_1t3w3ufP8XDI91cWPJpIak"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={upload:"Bbu9wMADbdQ9mqFeIlY20",hide:"_2iZl6RnTJGN_TEL754U6vW",error:"_3rvXIw3V5E4lbs_g8oLPsN",statusIcon:"_1vUzNOru1fLeCE-4h-glWC",icon:"_1RqTngoSS52S7in7rM1Bav",name:"_16kchG9RFgP5e2a5IQ9lkY",description:"_2J_neSKQiDbQdnhXtz4PQc",emoji:"_1RJDjI-uG6pzs5L3qVmumg",edit:"_2KjHx6gwr2Wb3N-GhG0fYk",packageInfo:"_3KdDA4_zX5z9q31lH_5K8u",reUpload:"_3CraBOF2TGyvPAnbMReV2Z"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(12),r(109),r(3),r(14),r(4),r(21),r(18),r(30),r(11),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(3),r(29),r(14),r(4),r(21),r(18),r(43),r(11);var u=l(r(38));r(35);var o=l(r(39)),i=l(r(25)),c=l(r(28)),s=l(r(41)),f=l(r(42)),d=l(r(37)),p=n(r(0)),m=l(r(1)),h=l(r(449)),v=l(r(897)),g=l(r(826)),y=r(329),E=l(r(2782));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var O=function(e){(0,s.default)(r,e);var a=b(r);function r(e){var n;return(0,i.default)(this,r),(n=a.call(this,e)).onUploadClick=function(){n.uploadRef.onClick()},n.setShowBase64=function(e){var t=e.base64Str,a=e.base64Show;n.setState({base64Str:t,base64Show:a,error:""}),n.props.uploadIcon(t)},n.checkPackage=function(){var e=(0,o.default)(u.default.mark((function e(a){var r,l,i,c,s,f;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.fileStore,l=r.checkFile,i=r.handleFileByBase64Str,c=r.validateImageSize,!(s=l(a,"icon"))){e.next=7;break}n.setState({error:s,base64Str:"",base64Show:""}),n.props.uploadIcon(""),e.next=10;break;case 7:return f=(0,h.default)(a.name.toLocaleLowerCase().split(".")),e.next=10,i(a,function(){var e=(0,o.default)(u.default.mark((function e(a){var r;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="data:image/".concat("svg"===f?"svg+xml":f,";base64,").concat(a),e.next=4,c(r);case 4:e.sent?n.setShowBase64({base64Str:a,base64Show:r}):(n.setState({error:t("FILE_MAX_SIZE_ICON"),base64Str:"",base64Show:""}),n.props.uploadIcon(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.abrupt("return",Promise.reject());case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fileStore=n.props.fileStore,n.state={error:"",base64Str:"",base64Show:""},n}return(0,c.default)(r,[{key:"renderInfo",value:function(){var e=this.props.createInfo;return p.default.createElement("div",null,p.default.createElement("dl",null,p.default.createElement("dt",null,e.name||"-"),p.default.createElement("dd",null,t("NAME"))),p.default.createElement("dl",null,p.default.createElement("dt",null,e.version_name||"-"),p.default.createElement("dd",null,t("VERSION"))),p.default.createElement("dl",null,p.default.createElement("dt",null,e.home||"-"),p.default.createElement("dd",null,t("HOMEPAGE"))),p.default.createElement("dl",null,p.default.createElement("dt",null,e.description||"-"),p.default.createElement("dd",null,t("DESCRIPTION"))))}},{key:"render",value:function(){var e=this,a=this.state,r=a.error,n=a.base64Show,l=this.props.createInfo;return p.default.createElement("div",{className:E.default.createInfo},p.default.createElement("div",{className:E.default.title},t("APP_INFORMATION")),p.default.createElement("div",{className:E.default.appContent},p.default.createElement(v.default,{ref:function(t){e.uploadRef=t},beforeUpload:this.checkPackage,accept:y.UPLOAD_FILE_TYPES.icon},p.default.createElement("div",{className:E.default.appIcon},p.default.createElement("div",{className:E.default.iconShow},p.default.createElement(g.default,{src:n||l.icon,iconSize:100,iconLetter:l.name})),p.default.createElement("label",{className:E.default.uploadIcon},t("UPLOAD_ICON")),p.default.createElement("p",{className:E.default.note},t("APP_ICON_NOTE")))),this.renderInfo()),r&&p.default.createElement("div",{className:E.default.error},t("".concat(r,"_DESC"))))}}]),r}(p.Component);a.default=O,O.propTypes={createInfo:m.default.object,fileStore:m.default.object,uploadIcon:m.default.func},O.defaultProps={createInfo:{},fileStore:{},uploadIcon:function(){}}},function(e,t,a){e.exports={createInfo:"_3CHFv8Hbf1raRS3ToqljWP",title:"xQsIhcG1VDpsHeejoI0Gk",error:"_1xTDqkex9U_eLVU-bGs9jU",appIcon:"_2yZwAyvtIdplHt3aGG_OAH",iconShow:"_1oqsGJgT-45JN1mTmj-uqy",uploadIcon:"kX8AFPvFrBObqMELjUfhK",reload:"_1H41M5dXzcPPztk1FWP-qi",note:"_1iIDCK0lnVd0AVGGMbMReE",appContent:"_33qBfH5OTpfhNnkyvgyInl"}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{name:"Chart.yaml",description:"CHART_FILE_DESC"},{name:"LICENSE",description:"LICENSE_FILE_DESC",isOptional:!0},{name:"README.md",description:"README_FILE_DESC",isOptional:!0},{name:"requirements.yaml",description:"REQUIREMENTS_FILE_DESC",isOptional:!0},{name:"values.yaml",description:"VALUES_FILE_DESC"},{name:"charts/",description:"CHARTS_FILE_DESC",isOptional:!0,check:"none"},{name:"templates/",description:"TEMPLATES_FILE_DESC",isOptional:!0},{name:"templates/NOTES.txt",description:"NOTES_FILE_DESC",isOptional:!0}]},function(e,t,a){e.exports={body:"FbITYne0i4DbvCLnzJppV",content:"c_-hEacvn_ozn9Uye4i2x",helmIcon:"_3libFrG31cL1QWbuOHOicy",upload:"VWk6Q9wxFp2BIgR6mQcIF",canCreate:"_3qBtd7HCIIYD56ncpZKiQd",checkFiles:"_3ceKdS8qGPqbikhr-qVqjS",none:"T8cKuPI_uDgYJdvU8amv7",error:"_2s-G-ny91XsDbUPAn-ifwr",name:"_3W00VxCOPCnS8YxwvFktWQ",description:"_3GwndPl9zFAPpKfuFgi7H4",configMask:"_2WXEWWHzssFiptqw_JaUEE",note:"MJUADPCGxIFyTl-MrBJRo",appInfo:"tSrXgfCDfEVuCJXlcVVUj",title:"_35C-lGsE1y_RINzuiFKR77",appContent:"_2bZTNdz4m5smofv_MXg7Yi",appIcon:"_1VOz7vDrKq6Bbrh7P_9riz",iconShow:"_3YqF_NcnYWGqv3UwvqfG2F",reload:"_3TSt4Z-UmXm9uynK3Rfsql"}},,,,,,,,,,,,function(e,t,a){e.exports={modalBody:"_3U3jpj3Asa2vxY5nLxnI7q",body:"_3RjNAt-ZTljs5mYHXktU1L",title:"_11Ztqzyj8R2I9NNVJQnq8L",name:"_3wXiy9rCStnLBi7axQAosL",description:"_2EX8Or-cxAn6A_6FYRt0gq",content:"_2ph5Pp1VapnUaO8xRqIlzB",footer:"_1JT049WYzUjYkaqDhL_-78"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(44),a(6),a(36),a(20),a(14),a(24),a(8),a(13),a(9),a(4),a(21),a(18),a(11),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(44),a(6),a(36),a(20),a(27),a(29),a(14),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(46),a(7),a(40);var n=r(a(58)),l=r(a(50)),u=r(a(38));a(35);var o,i,c,s,f=r(a(39)),d=r(a(31)),p=r(a(62)),m=r(a(25)),h=r(a(28)),v=r(a(74)),g=r(a(41)),y=r(a(42)),E=r(a(37)),b=r(a(45)),O=(r(a(63)),r(a(26))),S=r(a(68)),C=a(17);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,d.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,E.default)(e);if(t){var n=(0,E.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,y.default)(this,a)}}var N=(o=function(e){(0,g.default)(y,e);var t,a,r,o,d=R(y);function y(){var e;(0,m.default)(this,y);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=d.call.apply(d,[this].concat(a))).module="rules",e.getRulePath=function(e){var t=e.cluster,a=e.namespace,r=e.type;return a?"rulegroups":t?"clusterrulegroups":"builtin"===(void 0===r?"":r)?"globalrulegroups":"clusterrulegroups"},e.getListUrl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(e.apiVersion).concat(e.getPath(t),"/").concat(e.getRulePath(t)).concat(t.dryRun?"?dryRun=All":"")},e.getResourceUrl=e.getListUrl,(0,p.default)(e,"ruleCount",i,(0,v.default)(e)),(0,p.default)(e,"builtinRuleCount",c,(0,v.default)(e)),(0,p.default)(e,"targetsMetadata",s,(0,v.default)(e)),e.getParamsType=function(e){var t={};return e.namespace||e.cluster&&("builtin"===e.type?t.builtin=!0:t.builtin=!1),t},e.getFilterParams=function(e){var t=k({},e);return t.enable&&(t.labelSelector="alerting.kubesphere.io/enable=".concat(t.enable),delete t.enable),t},e.fetchMetric=function(){var e=(0,f.default)(u.default.mark((function e(t){var a,r,n,l,o,i,c;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.expr,r=t.step,n=t.start,l=t.end,o=t.cluster,i=t.namespace,a){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,request.get("kapis/monitoring.kubesphere.io/v1beta1/targets/query",{cluster:o,namespace:i,expr:a,step:r,start:n,end:l},null,(function(){}));case 5:return c=e.sent,e.abrupt("return",(0,O.default)(c,"data.result",[]));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e}return(0,h.default)(y,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespace,r="";return t&&(r+="/clusters/".concat(t)),a&&(r+="/namespaces/".concat(a)),r}},{key:"fetchList",value:(o=(0,f.default)(u.default.mark((function e(){var t,a,r,o,i,c,s,f,d,p=this,m=arguments;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},a=t.cluster,t.workspace,r=t.namespace,o=t.more,i=t.type,c=(0,l.default)(t,["cluster","workspace","namespace","more","type"]),this.list.isLoading=!0,c.sortBy||void 0!==c.ascending||(c.sortBy="createTime"),c.limit!==1/0&&-1!==c.limit||(c.limit=-1,c.page=1),c.limit=c.limit||10,"builtin"===i&&(c.builtin=!0),e.next=8,request.get(this.getResourceUrl({cluster:a,namespace:r,type:i}),k(k({},this.getFilterParams(c)),this.getParamsType({namespace:r,cluster:a,type:i})));case 8:return s=e.sent,f=((0,O.default)(s,"items")||[]).map((function(e){return k({cluster:a,namespace:r},p.mapper(e))})),d=s.totalItems,this.list.update(k(k({data:o?[].concat((0,n.default)(this.list.data),(0,n.default)(f)):f,total:d},c),{},{limit:Number(c.limit)||10,page:Number(c.page)||1,isLoading:!1},this.list.silent?{}:{selectedRowKeys:[]})),e.abrupt("return",f);case 13:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"fetchCount",value:(r=(0,f.default)(u.default.mark((function e(t){var a,r,n;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,e.next=3,Promise.all([request.get(this.getResourceUrl({cluster:a,namespace:r}),{page:1,limit:1,builtin:!1}),request.get(this.getResourceUrl({cluster:a,namespace:r,type:"builtin"}),{page:1,limit:1,builtin:!0})]);case 3:n=e.sent,this.ruleCount=(0,O.default)(n,"0.totalItems",0),this.builtinRuleCount=(0,O.default)(n,"1.totalItems",0);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"fetchMetadata",value:(a=(0,f.default)(u.default.mark((function e(t){var a,r,n,l;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.cluster,r=t.namespace,e.next=3,request.get("kapis/monitoring.kubesphere.io/v1beta1/targets/metadata",{cluster:a,namespace:r});case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={data:[]};case 6:n=e.t0,l=n.data,this.targetsMetadata=l||[];case 9:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.submitting(request.post(this.getListUrl(k(k({},t),{},{k8sOpt:!0})),e))}},{key:"update",value:(t=(0,f.default)(u.default.mark((function e(t,a){var r,n;return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,request.get(this.getDetailUrl(k(k({},t),{},{k8sOpt:!0})));case 2:return r=e.sent,(n=(0,O.default)(r,"metadata.resourceVersion"))&&(0,S.default)(a,"metadata.resourceVersion",n),e.abrupt("return",this.submitting(request.put(this.getDetailUrl(k(k({},t),{},{k8sOpt:!0})),a)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,a){return t.apply(this,arguments)})},{key:"patch",value:function(e,t){return this.submitting(request.patch(this.getDetailUrl(k(k({},e),{},{k8sOpt:!0})),t))}},{key:"batchPatch",value:function(e,t,a){var r=this;return this.submitting(Promise.all(e.map((function(e){return request.patch(r.getDetailUrl(k(k({},t),{},{name:e,k8sOpt:!0})),a)}))))}},{key:"delete",value:function(e){return this.submitting(request.delete(this.getDetailUrl(k(k({},e),{},{k8sOpt:!0}))))}},{key:"batchDelete",value:function(e){var t=this;return this.submitting(Promise.all(e.map((function(e){var a=t.list.data.find((function(t){return t.name===e}));return request.delete(t.getDetailUrl(k(k({},a),{},{k8sOpt:!0})))}))))}},{key:"checkName",value:function(e,t){return request.get(this.getDetailUrl(k(k({},e),{},{k8sOpt:!0})),k({},t),{headers:{"x-check-exist":!0}})}},{key:"yamlApiVersion",get:function(){return"alerting.kubesphere.io/v2beta1"}},{key:"apiVersion",get:function(){return"proxy-api/proxy/alerting.kubesphere.io/v2beta1/"}}]),y}(r(a(49)).default),i=(0,b.default)(o.prototype,"ruleCount",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=(0,b.default)(o.prototype,"builtinRuleCount",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=(0,b.default)(o.prototype,"targetsMetadata",[C.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,b.default)(o.prototype,"fetchList",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchList"),o.prototype),(0,b.default)(o.prototype,"fetchCount",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchCount"),o.prototype),(0,b.default)(o.prototype,"fetchMetadata",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchMetadata"),o.prototype),(0,b.default)(o.prototype,"create",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"create"),o.prototype),(0,b.default)(o.prototype,"update",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),(0,b.default)(o.prototype,"patch",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"patch"),o.prototype),(0,b.default)(o.prototype,"batchPatch",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"batchPatch"),o.prototype),(0,b.default)(o.prototype,"delete",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"delete"),o.prototype),(0,b.default)(o.prototype,"batchDelete",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"batchDelete"),o.prototype),(0,b.default)(o.prototype,"checkName",[C.action],Object.getOwnPropertyDescriptor(o.prototype,"checkName"),o.prototype),o);t.default=N},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"kafkaAlertYaml",{enumerable:!0,get:function(){return r.kafkaAlertYaml}}),Object.defineProperty(t,"redisAlertYaml",{enumerable:!0,get:function(){return n.redisAlertYaml}}),Object.defineProperty(t,"openSearchAlertYaml",{enumerable:!0,get:function(){return l.openSearchAlertYaml}}),Object.defineProperty(t,"pgAlertYaml",{enumerable:!0,get:function(){return u.pgAlertYaml}}),Object.defineProperty(t,"MySQLAlertYaml",{enumerable:!0,get:function(){return o.MySQLAlertYaml}});var r=a(2827),n=a(2828),l=a(2829),u=a(2830),o=a(2831)},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.kafkaAlertYaml=void 0;t.kafkaAlertYaml={apiVersion:"alerting.kubesphere.io/v2beta1",kind:"RuleGroup",metadata:{annotations:{dmp_managed_field:'[{"metricType":"KafkaHeapMemTooHigh85%","comparator":"-","thresholds":""},{"metricType":"KafkaAvailableDiskLessThan15%","comparator":"-","thresholds":""},{"metricType":"ExistOfflinePartitions","comparator":"-","thresholds":""}]',"kubesphere.io/creator":"admin"},creationTimestamp:"2023-10-07T08:09:27Z",generation:3,labels:{"alerting.kubesphere.io/enable":"true",app_instance:"clusterId",openpitrix_app_id:"app-kafka"},name:"clusterId-default",namespace:"namespaceName",uid:"1f971403-b551-4ac9-ba09-15317b60d42d"},spec:{rules:[{alert:"HeapMemTooHigh",annotations:{message:"",summary:"堆内存使用率超过85%。"},expr:'round(sum(jvm_memory_bytes_used{namespace="namespaceName",strimzi_io_name="clusterId-kafka"})/sum(jvm_memory_bytes_max{namespace="namespaceName",strimzi_io_name="clusterId-kafka"})*100,0.1) > 85',for:"1m",labels:{rule_id:"e56cf89c-c323-4754-a6c4-2f4ff4e91458"},severity:"warning"},{alert:"AvailableDiskLessThan15Percent",annotations:{message:"",summary:"磁盘可用百分比小于15%。"},expr:'round(sum(kubelet_volume_stats_available_bytes{namespace="namespaceName",persistentvolumeclaim=~"data-0-clusterId-kafka.*"})/sum(kubelet_volume_stats_capacity_bytes{namespace="namespaceName",persistentvolumeclaim=~"data-0-clusterId-kafka.*"})*100,0.1) < 15',for:"1m",labels:{rule_id:"9c52bb99-4146-4ab6-8002-2bebac7f9bb2"},severity:"warning"},{alert:"ExistOfflinePartitions",annotations:{message:"",summary:"存在不可用的partitions。"},expr:'sum(kafka_controller_kafkacontroller_offlinepartitionscount{namespace="namespaceName",strimzi_io_cluster="clusterId"}) > 0',for:"1m",labels:{rule_id:"4bce37ac-fe22-42b9-854a-097a578bb52a"},severity:"error"}]}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.redisAlertYaml=void 0;t.redisAlertYaml={apiVersion:"alerting.kubesphere.io/v2beta1",kind:"RuleGroup",metadata:{annotations:{dmp_managed_field:'[{"metricType":"Memory Usage","comparator":">=","thresholds":"70"}]',"kubesphere.io/creator":"admin"},creationTimestamp:"2023-10-07T08:11:25Z",generation:1,labels:{"alerting.kubesphere.io/enable":"true",app_instance:"clusterId",openpitrix_app_id:"app-redis-sentinel"},name:"clusterId-default",namespace:"namespaceName",uid:"94e4f243-9027-4cea-a663-7b4989d2c4cc"},spec:{rules:[{alert:"MemoryUsage",annotations:{message:"RadonDB Redis: clusterId，当前内存使用率超过 %。 当前值：{{ $value }}",summary:"RadonDB Redis 【clusterId】 当前内存使用率超过 %"},expr:'redis_memory_used_bytes{namespace="namespaceName",service=~".*clusterId.*"}/redis_memory_max_bytes{namespace="namespaceName",service=~".*clusterId.*"}*100 >= 70',for:"1m",labels:{rule_id:"794e0a39-4d7c-42fc-91ae-c8c45d8110b3"},severity:"warning"}]}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.openSearchAlertYaml=void 0;t.openSearchAlertYaml={apiVersion:"alerting.kubesphere.io/v2beta1",kind:"RuleGroup",metadata:{annotations:{dmp_managed_field:'[{"metricType":"OpenSearchAvailableDiskLessThan15%","comparator":"-","thresholds":""},{"metricType":"OpenSearchAvailableDiskLessThan10%","comparator":"-","thresholds":""},{"metricType":"OpenSearchHeapMemTooHigh90%","comparator":"-","thresholds":""}]',"kubesphere.io/creator":"admin"},creationTimestamp:"2023-10-07T07:53:28Z",generation:3,labels:{"alerting.kubesphere.io/enable":"true",app_instance:"clusterId",openpitrix_app_id:"app-opensearch"},name:"clusterId-default",namespace:"namespaceName",uid:"defeed56-e6b0-4b33-a677-ef232b5c8329"},spec:{rules:[{alert:"AvailableDiskLessThan15Percent",annotations:{message:"RadonDB OpenSearch: clusterId，磁盘可用百分比小于15%。 当前值：{{ $value }}",summary:"RadonDB OpenSearch 【clusterId】 磁盘可用百分比小于15%"},expr:'min(round(opensearch_fs_total_available_bytes{service="clusterId",namespace="namespaceName"}/opensearch_fs_total_total_bytes{service="clusterId",namespace="namespaceName"}*100,0.1))<15',for:"1m",labels:{rule_id:"0d159444-bd60-4777-a327-075487d62549"},severity:"warning"},{alert:"AvailableDiskLessThan10Percent",annotations:{message:"RadonDB OpenSearch: clusterId，磁盘可用百分比小于10%。 当前值：{{ $value }}",summary:"RadonDB OpenSearch 【clusterId】 磁盘可用百分比小于10%"},expr:'min(round(opensearch_fs_total_available_bytes{service="clusterId",namespace="namespaceName"}/opensearch_fs_total_total_bytes{service="clusterId",namespace="namespaceName"}*100,0.1))<10',for:"1m",labels:{rule_id:"37ac67a4-3fca-41d6-a54d-0813d5a7ee21"},severity:"error"}]}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.pgAlertYaml=void 0;t.pgAlertYaml={apiVersion:"alerting.kubesphere.io/v2beta1",kind:"RuleGroup",metadata:{annotations:{dmp_managed_field:'[{"metricType":"PGDisk","comparator":">=","thresholds":85}]',"kubesphere.io/creator":"admin"},creationTimestamp:"2023-10-08T04:59:40Z",generation:1,labels:{"alerting.kubesphere.io/enable":"true",app_instance:"clusterId",openpitrix_app_id:"app-postgresql"},name:"clusterId-default",namespace:"namespaceName",uid:"2c3c72f8-5239-45b8-af87-9721cea217fd"},spec:{rules:[{alert:"PGDisk",annotations:{message:"RadonDB PostgreSQL: clusterId，磁盘使用率超过 %。 当前值：{{ $value }}",summary:"RadonDB PostgreSQL 【clusterId】 磁盘使用率超过 %。"},expr:'kubelet_volume_stats_used_bytes{persistentvolumeclaim=~".*clusterId-readwriteinstance.*|.*clusterId-readonlyinstance.*"} / kubelet_volume_stats_capacity_bytes{persistentvolumeclaim=~".*clusterId-readwriteinstance.*|.*clusterId-readonlyinstance.*"} * 100 >= 85',for:"1m",labels:{rule_id:"e7a5e07a-979f-4503-8fda-1c992e920d80"},severity:"warning"}]}}},function(e,t,a){"use strict";a(16),Object.defineProperty(t,"__esModule",{value:!0}),t.MySQLAlertYaml=void 0;t.MySQLAlertYaml={apiVersion:"alerting.kubesphere.io/v2beta1",kind:"RuleGroup",metadata:{annotations:{dmp_managed_field:'[{"metricType":"MySQLDisk","comparator":">=","thresholds":85}]',"kubesphere.io/creator":"admin"},creationTimestamp:"2023-10-09T03:17:04Z",generation:1,labels:{"alerting.kubesphere.io/enable":"true",app_instance:"clusterId",openpitrix_app_id:"app-mysql"},name:"clusterId-default",namespace:"namespaceName",uid:"0361ef38-ed49-477f-a473-0da2d5a90b45"},spec:{rules:[{alert:"MySQLDisk",annotations:{message:"RadonDB MySQL: clusterId，磁盘使用率超过 %。 当前值：{{ $value }}",summary:"RadonDB MySQL 【clusterId】 磁盘使用率超过 %"},expr:'(kubelet_volume_stats_used_bytes{persistentvolumeclaim=~".*clusterId.*"} / kubelet_volume_stats_capacity_bytes{persistentvolumeclaim=~".*clusterId.*"} * 100) >= 85',for:"1m",labels:{rule_id:"c0b9010a-d74c-4bf9-8b5a-b7a6105f6f93"},severity:"warning"}]}}},,function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(4),r(321),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=r(189),h=n(r(826)),v=n(r(2834));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(r,e);var a=g(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this,e)).handleClickImage=function(e){var a=e.currentTarget.dataset.idx;t.stopAnimation(),t.setState({showOverlay:!0,currentIdx:parseInt(a,10)||0})},t.closeOverlay=function(){t.setState({showOverlay:!1})},t.getPrevNextIdx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",a=t.state.currentIdx,r=t.props.images.length;return"next"===e?a+1>=r?0:a+1:a-1<0?r-1:a-1},t.showNextPic=function(){t.setState({currentIdx:t.getPrevNextIdx()})},t.handleClickPrev=function(){t.goToIdx(t.getPrevNextIdx("prev"))},t.handleClickNext=function(){t.goToIdx(t.getPrevNextIdx())},t.handleClickIndicator=function(e){t.goToIdx(e)},t.goToIdx=function(e){t.stopAnimation(),t.setState({currentIdx:e})},t.state={showOverlay:!1,currentIdx:e.defaultIdx||0},t}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.currentIdx;a!==t.currentIdx&&this.props.onChangeImage(this.props.images[a])}},{key:"componentWillUnmount",value:function(){this.stopAnimation()}},{key:"stopAnimation",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"renderOverlay",value:function(){var e=this.state,t=e.showOverlay,a=e.currentIdx,r=this.props.images[a];return t?f.default.createElement("div",{className:v.default.overlay},f.default.createElement("div",{className:v.default.closeOverlay,onClick:this.closeOverlay},f.default.createElement(m.Icon,{name:"close",size:24,type:"dark"})),f.default.createElement("div",{className:v.default.viewCont},f.default.createElement("label",{className:v.default.pre,onClick:this.handleClickPrev},f.default.createElement(m.Icon,{name:"chevron-left",size:24,type:"dark"})),f.default.createElement("label",{className:v.default.next,onClick:this.handleClickNext},f.default.createElement(m.Icon,{name:"chevron-right",size:24,type:"dark"})),f.default.createElement("div",{className:v.default.overlayPic},f.default.createElement(h.default,{src:r})))):null}},{key:"render",value:function(){var e=this,a=this.props,r=a.images,n=a.className,u=this.state.currentIdx,o=210*r.length,i=210*u;return r.length?f.default.createElement("div",{className:(0,p.default)(v.default.slider,n)},f.default.createElement("label",{className:v.default.pre,onClick:this.handleClickPrev},f.default.createElement(m.Icon,{name:"chevron-left",size:24,type:"dark"})),f.default.createElement("label",{className:v.default.next,onClick:this.handleClickNext},f.default.createElement(m.Icon,{name:"chevron-right",size:24,type:"dark"})),r.length>2&&f.default.createElement("div",{className:v.default.dotList},r.map((function(t,a){return f.default.createElement("label",{key:"".concat(t,"-").concat(a),className:v.default.dot,onClick:function(){return e.handleClickIndicator(a)}},f.default.createElement("span",{className:(0,p.default)((0,l.default)({},v.default.active,u===a))}))}))),f.default.createElement("div",{className:v.default.listOuter},f.default.createElement("ul",{className:v.default.pictureList,style:{width:"".concat(o,"px"),left:"-".concat(i,"px")}},r.map((function(t,a){return f.default.createElement("li",{className:v.default.pictureOuter,key:a},f.default.createElement("div",{className:v.default.picture,"data-idx":a,onClick:e.handleClickImage},f.default.createElement(h.default,{src:t})))})))),this.renderOverlay()):f.default.createElement("div",{className:v.default.slider},t("NONE"))}}]),r}(f.default.PureComponent);a.default=y,y.propTypes={images:d.default.array.isRequired,onChangeImage:d.default.func,defaultIdx:d.default.number},y.defaultProps={images:[],onChangeImage:function(){},defaultIdx:0}},function(e,t,a){e.exports={slider:"m_31JSg6nUGhFZ5iAQUjU",pre:"P-w7KNnKvWDxXSrhHQxtZ",next:"vOIr4lPa5nsQ56p4JEDGu",disabled:"_2_nv3-wXNbTm1BHHlvUTy4",dotList:"_1TLzD0vpvRi3GaoYbX8pdk",dot:"_1Rem-XXjxrvGjbZZyM7Dqh",active:"_37ns6MNNforGPal8rdECz7",listOuter:"csullZjO0y8IcXlc9LirY",pictureList:"LSi2b_Lkrdk8wVRxlhwhQ",pictureOuter:"_2oFhbjePYqBFsvRHbpFwgG",picture:"_1m-TiVY9Dxxxc1YDUiDhF1",overlay:"_7a8Ix3gbvxd6JTh4tz75n",viewCont:"Hj97dEjPT3P_BYypqENEP",overlayPic:"_3ssVJsi-xownM8NUxZXV5e",fadeIn:"_2uybTeXUle2_galUE-2PT8",closeOverlay:"_3BFnq_4zFEzfnOD7IqbdJN"}},function(e,t,a){e.exports={appInfo:"_3AilH8qFkHx_4avHhZDK_4",title:"_12ML492fWTSMsK4vhUQt4U",versions:"_16JKvu0z7Y-Y4tB-Qsj0Ym",name:"_1mGDyZCPCDchoHaPc_BfFV",date:"_1j85iHLJPDExOlvmRKaqYF",desc:"_1BNX8-yI6Ox7Laya_AeDlG"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19),n=a(162);a(3),a(4),a(21),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37));a(32),a(3),a(36),a(29),a(4),a(21),a(18),a(43),a(11),a(46),a(40);var s,f=n(a(0)),d=a(243),p=a(56);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=(0,f.lazy)((function(){return a.e(10).then(a.t.bind(null,4525,7))})),v=(0,d.observer)(s=function(e){(0,o.default)(a,e);var t=m(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).resizeTerminal=function(){e.terminalRef&&e.terminalRef.onResize()},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this,t=this.props.isEdgeNode;if(!this.props.url)return null;var a={theme:{background:"#181d28"}};return f.default.createElement("div",{style:{height:"100%",borderRadius:"4px",background:"#181d28",padding:"12px",color:"#fff"}},f.default.createElement(f.Suspense,{fallback:"Loading"},this.props.isLoading?"Loading":f.default.createElement(h,{websocketUrl:this.url,key:this.url,terminalOpts:a,isEdgeNode:t,ref:function(t){e.terminalRef=t}})))}},{key:"url",get:function(){return"".concat((0,p.getWebSocketProtocol)(window.location.protocol),"://").concat(window.location.host).concat((0,p.getClusterUrl)("/".concat(this.props.url)))}}]),a}(f.Component))||s;t.default=v},function(e,t,a){e.exports={container:"_3GQqbfmkOPJfSk-nI8ec5T",hiddenBtn:"_1hl9IWIFi9L2PvM3rkUMGw",wrapper:"_3ExNEjVNazOqBhmfM64FHq",helpDoc:"_1WjsFdV2t4snzM2y7EREKS",doc:"fhNZgt08U4ZJ5pmxOT8M_",openHelpButton:"_2WaMAPt-326Ie_fxDOui8y"}},function(e,t,a){e.exports={header:"t2QGyiuuedhsHl1iBfiS8",body:"_1BhlfCMF0JpKo1rRfjU1Ad",fullScreen:"_3PvjZ5IUC0jRepbE3FYg7k",container:"_1RznfsR8LTd4iCmrnQ0oZY"}},function(e,t,a){e.exports={kubectl:"_1_Ps1Uv_J3ijcdB2w4ku_3",pane:"_26qJc15vh0obrEXuenw0iT",doc:"_1lf3mmdEZrG4hkVHnnwZwW",tipWrapper:"n1C7tRa_I0p7LXxoe11Xm",terminal:"_2QXweMgvZ3aovIWBUb8Zsx"}},function(e,t,a){e.exports={kubectl:"m7dISkDTzCq5-2-lQxoBK",pane:"-V9lV41dPvRcbUc66hIVo",doc:"_3Od7RAg5EEtlhRRWof19XT",tipWrapper:"bE8idPBqDeB5OHMeIEO6Z",terminal:"_1R4t1nT7mYghLBRzNyklEq",download:"_3m-IzimMxgErpmjtiOYz5F"}},function(e,t,a){e.exports={billContainer:"_2-YL0dRU5iRGLNTSERcFGF",billContent:"_16hTa4a3M8Y-mx6q85wXqD",bill:"_2tzKKsjKcczEA1PqAgAfxB",empty:"_2X9XvE6oo68qmTDvsm9UJA",empty__Container:"_1mJEBLpfdT9otBJGFLU4Dd",billModalHeader:"_12hz7qgeMg2URyKnsvuIpq"}},function(e,a,r){"use strict";r(16);var n=r(19);r(20),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.handleSelected,r=e.cardConfigRule,n="zh"===(0,i.default)("lang"),s=function(e){var r=e.subTitle,u=e.desc,i=e.infos,s=e.type;return l.default.createElement(l.default.Fragment,null,l.default.createElement("h3",{className:c.default.subTitle},t(r)),l.default.createElement("p",{className:c.default.desc},t(u)),l.default.createElement("ul",{className:c.default.infos,style:{minHeight:n?"25%":"32%"}},i.map((function(e,a){return l.default.createElement("li",{key:a},t.html(e))}))),l.default.createElement(o.Button,{type:"control",onClick:function(){return a(s)}},t("VIEW")))};return l.default.createElement("div",{className:c.default.billHome},l.default.createElement("div",{className:c.default.billHome__container},l.default.createElement("div",{className:c.default.nav},l.default.createElement(o.Button,{icon:"chevron-left",iconType:"light"}),l.default.createElement(o.Button,{icon:"chevron-right",iconType:"light"}),l.default.createElement("span",{className:c.default.message},t("RESOURCE_CONSUMPTION_DESC"))),l.default.createElement("div",{className:c.default.container},r&&r.map((function(e){return l.default.createElement(u.default,{key:e.type,title:l.default.createElement(o.Icon,{name:e.icon,size:48})},s(e))})))))},r(20);var l=n(r(0)),u=n(r(823)),o=r(189),i=n(r(203)),c=n(r(3162))},function(e,t,a){e.exports={billHome:"_3F09NB1iD4WyLOxlg1fcnS",billHome__container:"OmwABzziZx-gqwqdIPVGH",nav:"_1WwwUAwLNenVTHCGix64ai",message:"_2Kly1WpC2XCZViU7u9NzqR",container:"XyA5oWmHV5K1bV5UgX1aV",subTitle:"_2c90eCSo5WGPn5UU26KrF2",desc:"_1cUnUQgKGxav2g1xGA5W41",infos:"_2bNZmBpaZeCXlxFdZbErOH"}},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n,l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=a(243),d=r(a(3164)),p=a(891);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=(0,f.observer)(n=function(e){(0,o.default)(a,e);var t=m(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.type,a=e.handleBack;return s.default.createElement(d.default,{level:p.LEVEL_CONFIG[t],meterType:t,handleBack:a})}}]),a}(s.default.Component))||n;t.default=h},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(192),r(10),r(44),r(6),r(70),r(88),r(36),r(20),r(14),r(24),r(193),r(8),r(13),r(9),r(4),r(190),r(21),r(18),r(30),r(11),r(46),r(71),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(192),r(10),r(44),r(6),r(70),r(88),r(36),r(20),r(27),r(247),r(29),r(14),r(24),r(193),r(33),r(16),r(8),r(13),r(9),r(4),r(190),r(440),r(21),r(18),r(43),r(30),r(11),r(46),r(71),r(7),r(40);var l=n(r(317)),u=n(r(50)),o=n(r(38)),i=n(r(31));r(35);var c,s,f,d,p,m,h,v,g,y,E,b,O,S,C,_,k,R,N,D,T,P,w,I,M,A,j,x,L,U,z,F,G=n(r(39)),V=n(r(62)),B=n(r(25)),Y=n(r(28)),q=n(r(74)),H=n(r(41)),W=n(r(42)),K=n(r(37)),Q=n(r(45)),J=(n(r(63)),n(r(3165))),Z=n(r(0)),X=r(243),$=n(r(5)),ee=n(r(26)),te=n(r(64)),ae=n(r(67)),re=n(r(449)),ne=n(r(119)),le=n(r(68)),ue=n(r(455)),oe=n(r(163)),ie=n(r(445)),ce=r(17),se=r(189),fe=n(r(1513)),de=n(r(3166)),pe=n(r(844)),me=r(1071),he=r(909),ve=r(61),ge=n(r(3167)),ye=r(56),Ee=r(891),be=n(r(3173)),Oe=n(r(3176)),Se=n(r(3178)),Ce=n(r(3182)),_e=n(r(3184)),ke=n(r(3186)),Re=n(r(3190)),Ne=n(r(3192)),De=n(r(3193)),Te=n(r(3195));function Pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,K.default)(e);if(t){var n=(0,K.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,W.default)(this,a)}}var Me=(0,X.observer)((s=function(e){(0,H.default)(r,e);var a=Ie(r);function r(){var e;(0,B.default)(this,r);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=a.call.apply(a,[this].concat(c))).clusterMeterStore=new de.default,e.store=new fe.default,(0,V.default)(e,"crumbData",f,(0,q.default)(e)),(0,V.default)(e,"cacheCrumbData",d,(0,q.default)(e)),(0,V.default)(e,"tableData",p,(0,q.default)(e)),(0,V.default)(e,"active",m,(0,q.default)(e)),(0,V.default)(e,"list",h,(0,q.default)(e)),(0,V.default)(e,"timeRange",v,(0,q.default)(e)),(0,V.default)(e,"currentMeterData",g,(0,q.default)(e)),(0,V.default)(e,"parentMeterData",y,(0,q.default)(e)),(0,V.default)(e,"sideLoading",E,(0,q.default)(e)),(0,V.default)(e,"loading",b,(0,q.default)(e)),(0,V.default)(e,"chartData",O,(0,q.default)(e)),(0,V.default)(e,"priceConfig",S,(0,q.default)(e)),(0,V.default)(e,"priceConfigList",C,(0,q.default)(e)),e.childrenResourceList=[],(0,V.default)(e,"pieChartData",_,(0,q.default)(e)),(0,V.default)(e,"resourceLoading",k,(0,q.default)(e)),e.initData=(0,G.default)(o.default.mark((function t(){var a,r,n,l,u,i,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loading=!0,e.sideLoading=!0,"workspaces"!==e.props.meterType){t.next=13;break}return t.next=5,e.clusterMeterStore.fetchList({type:"cluster"});case 5:if(e.clusterList=t.sent,globals.app.isMultiCluster?e.clusterList=e.clusterList.map((function(e){return we({disabled:!(0,ee.default)(e,"_origin.configz.metering")},e)})):e.clusterList=e.clusterList.map((function(e){return we({disabled:!globals.ksConfig.metering},e)})),!(0,ae.default)(e.clusterList)){t.next=11;break}return e.sideLoading=!1,e.loading=!1,t.abrupt("return");case 11:return t.next=13,e.getPriceConfigListByCluster(e.clusterList);case 13:return t.next=15,e.clusterMeterStore.fetchList({type:e.props.meterType});case 15:if(a=t.sent,"cluster"===e.props.meterType?globals.app.isMultiCluster?e.list=a.map((function(e){return we({disabled:!(0,ee.default)(e,"_origin.configz.metering")},e)})):e.list=a.map((function(e){return we({disabled:!globals.ksConfig.metering},e)})):e.list=e.setWSListDisabledByCluster(a),!(0,ae.default)((0,ce.toJS)(e.list))){t.next=21;break}return e.sideLoading=!1,e.loading=!1,t.abrupt("return");case 21:n=0;case 22:if(!(n<e.list.length)){t.next=29;break}if(e.list[n].disabled){t.next=26;break}return r=n,t.abrupt("break",29);case 26:n++,t.next=22;break;case 29:if(void 0!==r){t.next=34;break}return e.currentMeterData={},e.sideLoading=!1,e.loading=!1,t.abrupt("return");case 34:if(l=e.list[r],u=l.name,i=l.type,c=l.labelSelector,"cluster"!==i){t.next=39;break}return e.cluster=u,t.next=39,e.getPriceConfigListByCluster(e.list);case 39:return e.crumbData.push({type:i,name:u,list:e.list}),t.next=42,e.handleSelectResource({name:u,type:i,isCopy:!0,labelSelector:c,isTime:!0});case 42:e.sideLoading=!1,e.loading=!1;case 44:case"end":return t.stop()}}),t)}))),e.setWSListDisabledByCluster=function(t){return(0,te.default)(t)?t.map((function(t){var a=globals.app.isMultiCluster?"system-workspace"===t.name?e.clusterList:(0,ee.default)(t,"_origin.clusters",[]):e.clusterList,r=a.length,n=0;return a.forEach((function(t){var a=e.clusterList.find((function(e){return e.name===t.name}));a&&a.disabled&&n++})),t.disabled=n===r,t})):[]},(0,V.default)(e,"getPriceConfigListByCluster",R,(0,q.default)(e)),(0,V.default)(e,"getClustersList",N,(0,q.default)(e)),(0,V.default)(e,"setPriceConfig",D,(0,q.default)(e)),(0,V.default)(e,"setStartTime",T,(0,q.default)(e)),e.handleSelectResource=function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.name,n=a.type,a.isCopy,l=(0,u.default)(a,["name","type","isCopy"]),r!==e.active.name||n!==e.active.type){t.next=3;break}return t.abrupt("return");case 3:return"workspaces"===n&&(e.clusters=e.getClustersList(r),e.cluster=(0,ee.default)(e.clusters,"[0].value",""),e.setPriceConfig(e.cluster)),"cluster"===n&&e.setPriceConfig(r),t.next=7,e.getCurrentMeterData(we(we({name:r,type:n,isTime:!0},l),{},{start:e.startTime,isCopy:!0}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getSumMeterData=function(t){var a={},r={};return(0,ae.default)(t)||t.forEach((function(t){if(t.type){a[t.type]={value:(0,ee.default)(t,"sum_value",""),unit:(0,ee.default)(t,"unit","label")};var n=(0,ae.default)((0,ee.default)(t,"fee"))?0:parseFloat((0,ee.default)(t,"fee",0));r[t.type]={value:n.toFixed(2),unit:{label:e.priceConfig.currency?e.priceConfig.currency:" "}}}})),{sumData:a,feeData:r}},(0,V.default)(e,"setCluster",P,(0,q.default)(e)),(0,V.default)(e,"setActiveCrumb",w,(0,q.default)(e)),e.getMeterParamsByCrumb=function(){var t={},a=(0,ne.default)((0,ce.toJS)(e.crumbData));return"workspaces"===a[0].type&&a.length>2&&a.shift(),a.forEach((function(e){t[e.type]=e.name})),t},(0,V.default)(e,"getCurrentMeterData",I,(0,q.default)(e)),(0,V.default)(e,"setMeterData",M,(0,q.default)(e)),e.fetchMeterData=function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,i,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.module,n=a.meters,l=a.resources,i=(0,u.default)(a,["module","meters","resources"]),t.next=3,e.store.fetchMeter(we({module:r,meters:n,resources:l},i));case 3:return c=t.sent,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(0,V.default)(e,"setTimeRange",A,(0,q.default)(e)),(0,V.default)(e,"getChildrenData",j,(0,q.default)(e)),e.getChildrenList=function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,i,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.labelSelector,n=a.currentType,l=a.childParam,u=e.getChildrenTypeByLevel(n),(i=we(we({},e.getChildrenParamsByCrumb()),l)).cluster||(i.cluster=e.cluster),r&&(i.labelSelector=(0,ce.toJS)(r)),c=[],!["namespaces","services","openpitrixs"].includes(n)){t.next=14;break}if("namespaces"!==n||e.clusterMeterStore.levelMeterData[i.namespaces]){t.next=10;break}return t.next=10,e.clusterMeterStore.fetchLevelMeter(we({},i));case 10:return t.next=12,e.getTypesListData(n,i);case 12:return c=t.sent,t.abrupt("return",c);case 14:if(!u.children){t.next=19;break}return t.next=17,e.clusterMeterStore.fetchList(we({type:u.children[0]},i));case 17:return c=t.sent,t.abrupt("return",c);case 19:return t.abrupt("return",c);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getClusterMeterChartData=function(){var t=(0,G.default)(o.default.mark((function t(a,r){var n,l,u,i,c,s,f,d,p,m,h;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getMeterParamsByCrumb(),l=[],u=e.childrenResourceList.map((function(e){return{name:e.name,type:e.type,labelSelector:(0,ee.default)(e,"labelSelector")}})),Ee.RESOURCES_TYPE.forEach((function(e){var t=[];u.forEach((function(a){a.type===e&&t.push(a)})),(0,ae.default)(t)||l.push(t)})),i=[],c=!0,s=!1,t.prev=7,d=o.default.mark((function t(){var l,u,c,s,f,d,p;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=(l=h)[0].type,c=[],s=l.map((function(e){return e.name})),f=(0,ne.default)(n),r||(f[u]=l[0].name),t.next=8,e.setMeterData({module:u,meters:[a],resources:s,params:f});case 8:d=t.sent,(0,ae.default)(d)||l.forEach((function(e){var t=d.find((function(t){return(0,ee.default)(t,"metric.".concat(t.module))===e.name}));if(t){var a=(0,ee.default)(t,"sum_value"),r=(0,ee.default)(t,"metric.".concat(t.module)),n=(0,ee.default)(t,"unit.label");c.push({name:r,value:a||0,unit:n,type:u})}})),p=(0,ie.default)(c,(function(e){return e.value})).reverse(),i.push(p);case 12:case"end":return t.stop()}}),t)})),p=(0,J.default)(l);case 10:return t.next=12,p.next();case 12:return m=t.sent,c=m.done,t.next=16,m.value;case 16:if(h=t.sent,c){t.next=22;break}return t.delegateYield(d(),"t0",19);case 19:c=!0,t.next=10;break;case 22:t.next=28;break;case 24:t.prev=24,t.t1=t.catch(7),s=!0,f=t.t1;case 28:if(t.prev=28,t.prev=29,c||null==p.return){t.next=33;break}return t.next=33,p.return();case 33:if(t.prev=33,!s){t.next=36;break}throw f;case 36:return t.finish(33);case 37:return t.finish(28);case 38:e.pieChartData=(0,ue.default)(i);case 39:case"end":return t.stop()}}),t,null,[[7,24,28,38],[29,,33,37]])})));return function(e,a){return t.apply(this,arguments)}}(),e.getWorkspacesMeterChartData=function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,c,s,f,d,p,m,h,v,g,y,E,b,O,S;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("workspaces"!==(r=e.active.type)){t.next=6;break}return t.next=4,e.getClusterMeterChartData(a,!0);case 4:t.next=51;break;case 6:n=e.getMeterParamsByCrumb(),l=[],u=[],c=e.childrenResourceList.map((function(e){return{name:e.name,type:e.type,labelSelector:(0,ee.default)(e,"labelSelector")}})),Ee.RESOURCES_TYPE.forEach((function(e){var t=[];c.forEach((function(a){a.type===e&&t.push(a)})),(0,ae.default)(t)||u.push(t)})),s=we(we({},n),{},(0,i.default)({cluster:e.cluster},r,e.active.name)),f=e.clusterMeterStore.levelMeterData,d=e.getChildrenTypeByLevel(r),p=d.children,m=!0,h=!1,t.prev=17,g=(0,J.default)(p);case 19:return t.next=21,g.next();case 21:return y=t.sent,m=y.done,t.next=25,y.value;case 25:if(E=t.sent,m){t.next=34;break}b=E,O=(0,me.handleWSChartData)({levelMeterData:(0,ce.toJS)(f),meters:a,type:b,params:s}),S=(0,ie.default)(O,(function(e){return e.value})).reverse(),l.push(S);case 31:m=!0,t.next=19;break;case 34:t.next=40;break;case 36:t.prev=36,t.t0=t.catch(17),h=!0,v=t.t0;case 40:if(t.prev=40,t.prev=41,m||null==g.return){t.next=45;break}return t.next=45,g.return();case 45:if(t.prev=45,!h){t.next=48;break}throw v;case 48:return t.finish(45);case 49:return t.finish(40);case 50:e.pieChartData=(0,ue.default)(l);case 51:case"end":return t.stop()}}),t,null,[[17,36,40,50],[41,,45,49]])})));return function(e){return t.apply(this,arguments)}}(),(0,V.default)(e,"getResourceMeterData",x,(0,q.default)(e)),e.getChildrenParamsByCrumb=function(){var t={};return(0,ne.default)((0,ce.toJS)(e.crumbData)).forEach((function(e){t[e.type]=e.name})),t},e.getTypesListData=function(){var t=(0,G.default)(o.default.mark((function t(a,r){var n,l,u,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.getChildrenTypeByLevel(a),l=[],n.children.forEach((function(t){l.push(e.clusterMeterStore.fetchList(we({type:t},r)))})),t.next=5,Promise.all(l);case 5:return u=t.sent,i=(0,ue.default)(u),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.getChildrenTypeByLevel=function(t){return e.props.level.find((function(e){return(0,te.default)(e.type)?e.type.indexOf(t)>-1:e.type===t}))},e.setLineChartColor=function(e){return(0,ae.default)(e)?[]:(e.map((function(e,t){return e.key=e.type,e.color=ve.COLORS_MAP[Ee.AREA_COLORS[t]]||Ee.AREA_COLORS[t],e})),e)},e.renderParentMeterCard=function(){if(!e.active.type||"cluster"===e.active.type||"workspaces"===e.active.type||(0,ae.default)((0,ce.toJS)(e.priceConfig)))return null;var a=e.crumbData.length,r=e.crumbData[a-2],n="namespaces"===e.active.type&&2===a&&e.cluster?"".concat(r.name," (").concat(e.cluster,")"):r.name;return Z.default.createElement("div",{className:Te.default.usageCard},Z.default.createElement(Ce.default,(0,l.default)({className:Te.default.meterCard,isParent:!0,priceConfig:e.priceConfig,title:Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("span",null,t(Ee.RESOURCE_TITLE[(0,ee.default)(r,"type","-")])),Z.default.createElement("strong",null,n))},e.parentMeterData)))},(0,V.default)(e,"handleChartData",L,(0,q.default)(e)),(0,V.default)(e,"getTimeRange",U,(0,q.default)(e)),(0,V.default)(e,"getCurrentTimeMeterData",z,(0,q.default)(e)),(0,V.default)(e,"handleCrumbOperation",F,(0,q.default)(e)),e.renderSubResource=function(){var a=(0,ce.toJS)(e.pieChartData);return"pods"===e.active.type||"openpitrix"===e.props.meterType||(0,oe.default)(e.currentMeterData.sumData)||(0,ae.default)(a)?null:Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("div",{className:Te.default.subTitle},t("CURRENT_RESOURCE_CONSUMPTION"),Z.default.createElement(se.Tooltip,{content:t("METER_RESOURCE_DESC"),placement:"top"},Z.default.createElement(se.Icon,{name:"question",size:20}))),Z.default.createElement("div",{className:Te.default.childrenResourceContainer},Z.default.createElement(se.Loading,{spinning:e.resourceLoading},Z.default.createElement("div",{className:Te.default.childrenlistContainer},Z.default.createElement(Ne.default,{selectOptions:(0,ce.toJS)(e.currentMeterData.sumData),getResourceMeterData:e.getResourceMeterData,activeName:e.active.name})),Z.default.createElement("div",{className:Te.default.constomChartContainer},Z.default.createElement(De.default,{data:a})))))},e.renderEmpty=function(){return Z.default.createElement("div",{className:Te.default.empty},Z.default.createElement(pe.default,{className:Te.default.emptyCard,icon:ve.ICON_TYPES[e.active.type],title:t("NO_DATA_DESC"),desc:t("NO_METER_DATA")}))},e}return(0,Y.default)(r,[{key:"componentDidMount",value:function(){this.initData()}},{key:"render",value:function(){var e=this.active,a=e.type,r=e.name,n=e.createTime,u=(0,ye.getWebsiteUrl)().url,o=Object.values((0,ce.toJS)(this.currentMeterData)).every((function(e){return(0,ae.default)(e)}));return(0,ae.default)(this.list)?Z.default.createElement("div",{className:Te.default.empty},Z.default.createElement(se.Loading,{spinning:this.sideLoading||this.loading},Z.default.createElement(pe.default,{className:Te.default.emptyCard,icon:"cluster",title:t("NO_CLUSTER_AVAILABLE"),desc:(0,ye.learnMoreTip)(t.html("METERING_NOT_ENABLED_DESC",{docUrl:u})),actions:Z.default.createElement(ge.default,{onClick:this.props.handleBack},"返回")}))):Z.default.createElement("div",{className:Te.default.billDetail},Z.default.createElement("div",{className:(0,$.default)(Te.default.leftContent,(0,i.default)({},Te.default.paddingBottom0,this.crumbData.length<2||(0,ae.default)((0,ce.toJS)(this.priceConfig))))},Z.default.createElement(be.default,{crumbData:(0,ce.toJS)(this.crumbData),handleCrumbOperation:this.handleCrumbOperation,loading:this.loading||this.sideLoading,cluster:this.cluster}),Z.default.createElement(Se.default,{list:this.list,active:(0,ce.toJS)(this.active),handleSelectResource:this.handleSelectResource,getChildrenData:this.getChildrenData,loading:this.sideLoading||this.loading,fetchMeterData:this.fetchMeterData,crumbData:this.crumbData,timeRange:(0,ce.toJS)(this.timeRange),getMeterParamsByCrumb:this.getMeterParamsByCrumb,priceConfig:this.priceConfig,cluster:this.cluster,clusterList:this.clusterList,priceConfigList:this.priceConfigList}),this.renderParentMeterCard()),Z.default.createElement("div",{className:Te.default.rightContent},Z.default.createElement(se.Loading,{spinning:this.loading},Z.default.createElement(Z.default.Fragment,null,Z.default.createElement(Oe.default,{type:a,cluster:this.cluster,clusters:this.clusters,setCluster:this.setCluster}),o?this.renderEmpty():Z.default.createElement("div",{className:Te.default.content},Z.default.createElement(Ce.default,(0,l.default)({className:Te.default.toothbg,title:Z.default.createElement(Z.default.Fragment,null,Z.default.createElement("span",null,t(Ee.RESOURCE_TITLE[a].toUpperCase().replace(/\s+/g,"_"))),Z.default.createElement("strong",null,r)),priceConfig:this.priceConfig},this.currentMeterData)),Z.default.createElement("div",{className:Te.default.subTitle},t("CONSUMPTION_HISTORY")),Z.default.createElement("div",{className:Te.default.info},(0,ae.default)((0,ce.toJS)(this.timeRange))?null:Z.default.createElement(_e.default,{createTime:n,getTime:this.getTimeRange,timeRange:this.timeRange})),Z.default.createElement(ke.default,{chartData:(0,ce.toJS)(this.chartData),priceConfig:this.priceConfig}),Z.default.createElement(Re.default,{data:(0,ce.toJS)(this.tableData),priceConfig:this.priceConfig}),this.renderSubResource())))))}}]),r}(Z.default.Component),f=(0,Q.default)(s.prototype,"crumbData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=(0,Q.default)(s.prototype,"cacheCrumbData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=(0,Q.default)(s.prototype,"tableData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=(0,Q.default)(s.prototype,"active",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=(0,Q.default)(s.prototype,"list",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=(0,Q.default)(s.prototype,"timeRange",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),g=(0,Q.default)(s.prototype,"currentMeterData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),y=(0,Q.default)(s.prototype,"parentMeterData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),E=(0,Q.default)(s.prototype,"sideLoading",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=(0,Q.default)(s.prototype,"loading",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=(0,Q.default)(s.prototype,"chartData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),S=(0,Q.default)(s.prototype,"priceConfig",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),C=(0,Q.default)(s.prototype,"priceConfigList",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=(0,Q.default)(s.prototype,"pieChartData",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=(0,Q.default)(s.prototype,"resourceLoading",[ce.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=(0,Q.default)(s.prototype,"getPriceConfigListByCluster",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=[],a.forEach((function(t){t.disabled||r.push(e.store.fetchPrice({cluster:t.name}))})),globals.app.isMultiCluster&&r.push(e.store.fetchPrice({cluster:""})),t.next=5,Promise.all(r);case 5:n=t.sent,e.priceConfigList=n;case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),N=(0,Q.default)(s.prototype,"getClustersList",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=e.crumbData[0].list.find((function(e){return e.name===t})),r="system-workspace"===t?e.clusterList:(0,ee.default)(a,"_origin.clusters",[]);if((0,ae.default)(r))return[];var n=r.map((function(t){var a=e.clusterList.find((function(e){return e.name===t.name}));return(0,ae.default)(a)?null:{label:a.name,value:a.name,type:a._origin.isHost?"host":"member",disabled:a.disabled,sortValue:Number(a.disabled)}})).filter((function(e){return!(0,ae.default)(e)}));return n.every((function(e){return e.disabled}))?[]:(0,ie.default)(n,(function(e){return e.sortValue}))}}}),D=(0,Q.default)(s.prototype,"setPriceConfig",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t||(0,ee.default)(ve.DEFAULT_CLUSTER,"metadata.name"),r=e.priceConfigList.find((function(e){return e.cluster&&e.cluster===a})),n=(0,ne.default)(r);delete n.cluster,e.priceConfig=(0,ae.default)(n)?{}:r,e.setStartTime()}}}),T=(0,Q.default)(s.prototype,"setStartTime",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.startTime=(0,me.getRetentionDay)((0,ee.default)(e.priceConfig,"retention_day","7d"))}}}),P=(0,Q.default)(s.prototype,"setCluster",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.cluster=a,e.loading=!0,r=e.active,n=r.name,l=r.type,u=e.list.find((function(e){return e.name===n})),e.setPriceConfig(a),t.next=7,e.getCurrentMeterData({name:n,type:l,isCopy:!0,isTime:!0,start:e.startTime,labelSelector:(0,ee.default)(u,"labelSelector","")});case 7:e.loading=!1;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),w=(0,Q.default)(s.prototype,"setActiveCrumb",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.name,r=t.type,n=t.isCopy,l=t.start,u=(0,re.default)(e.crumbData);u.type=r,u.name=a,u.start=l,n&&(e.cacheCrumbData=(0,ne.default)((0,ce.toJS)(e.crumbData)))}}}),I=(0,Q.default)(s.prototype,"getCurrentMeterData",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,i,c,s,f,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.name,n=a.type,l=a.isCopy,u=a.labelSelector,i=a.isTime,c=a.start,e.active={name:r,type:n,start:c},e.tableData=[],e.pieChartData=[],e.timeRange={},e.setActiveCrumb({name:r,type:n,isCopy:!!l,start:c}),s=e.getMeterParamsByCrumb(),e.loading=!0,t.next=10,e.setMeterData({module:n,meters:"all",resources:[r],start:c,isTime:i,params:s});case 10:return f=t.sent,t.next=13,e.getCurrentTimeMeterData({valueKey:"currentMeterData",module:n,resources:[r],start:c,params:s});case 13:if(e.tableData=e.setLineChartColor(f),e.setTimeRange({isTime:i,start:c}),e.chartData=f,"pods"===n){t.next=35;break}if(!["workspaces","cluster","nodes"].includes(n)){t.next=24;break}return t.next=20,e.getChildrenList({labelSelector:u,currentType:n});case 20:d=t.sent,e.childrenResourceList=d,t.next=31;break;case 24:if(e.clusterMeterStore.levelMeterData[s.namespaces]){t.next=30;break}return s.cluster||(s.cluster=e.cluster),t.next=28,e.clusterMeterStore.fetchLevelMeter(we({},s));case 28:t.next=31;break;case 30:e.childrenResourceList=[];case 31:return t.next=33,e.getResourceMeterData((0,ee.default)(e.tableData,"[0].type","cpu"));case 33:t.next=36;break;case 35:e.childrenResourceList=[];case 36:e.loading=!1;case 37:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),M=(0,Q.default)(s.prototype,"setMeterData",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,i,c,s,f,d,p;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.params,n=a.module,l=a.meters,u=a.resources,i=a.list,c=a.start,s=a.end,f=a.isTime,r.cluster&&"cluster"===e.props.meterType&&(e.cluster=r.cluster),r.cluster=e.cluster,"applications"!==n||(0,ae.default)(u)||(d=i||e.list,u=u.map((function(e){var t=d.find((function(t){return t.name===e})),a=(0,ee.default)(t,"_origin.version.name","")||(0,ee.default)(t,"_origin.version","");return"".concat(e).concat(a?":".concat(a):"")}))),"openpitrixs"===n&&globals.app.isMultiCluster&&"host"!==(0,ee.default)(e.clusters.find((function(e){return e.value===r.cluster})),"type")&&delete r.cluster,t.next=7,e.fetchMeterData(we({module:n,meters:l,resources:u,isTime:f,start:c,end:s},r));case 7:return p=t.sent,t.abrupt("return",p);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),A=(0,Q.default)(s.prototype,"setTimeRange",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.isTime,r=(0,u.default)(t,["isTime"]),n=(0,me.getTimeParams)(we({isTime:a},r)),l=n.step,o=n.start,i=n.end;e.timeRange=o>=i?{}:{step:(0,he.getTimeStr)(l),start:1e3*o,end:1e3*i}}}}),j=(0,Q.default)(s.prototype,"getChildrenData",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,i,c,s,f;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.name,n=a.type,l=a.labelSelector,u=(0,re.default)(e.crumbData),e.loading=!0,e.sideLoading=!0,"workspaces"===n&&r!==u.name&&(e.clusters=e.getClustersList(r),e.cluster=(0,ee.default)(e.clusters,"[0].value",""),e.setPriceConfig(e.cluster)),"cluster"===n&&r!==u.name&&e.setPriceConfig(r),e.setActiveCrumb({name:r,type:n,isCopy:!0,start:e.startTime}),t.next=9,e.getChildrenList({labelSelector:l,currentType:n});case 9:if(i=t.sent,(0,ae.default)(i)||!(0,te.default)(i)){t.next=20;break}return c=i[0].type,s=(0,re.default)(e.crumbData),f=e.getMeterParamsByCrumb(),t.next=16,e.getCurrentTimeMeterData({valueKey:"parentMeterData",params:f,module:s.type,start:s.start,resources:[s.name]});case 16:return e.crumbData.push({type:c,name:i[0].name,list:i,start:e.startTime}),t.next=19,e.getCurrentMeterData({name:i[0].name,type:c,isCopy:!0,isTime:!0,start:e.startTime,labelSelector:(0,ee.default)(i,"[0].labelSelector")});case 19:e.list=i;case 20:e.loading=!1,e.sideLoading=!1;case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),x=(0,Q.default)(s.prototype,"getResourceMeterData",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.level,e.resourceLoading=!0,"workspaces"!==r[0].type){t.next=7;break}return t.next=5,e.getWorkspacesMeterChartData(a);case 5:t.next=9;break;case 7:return t.next=9,e.getClusterMeterChartData(a);case 9:e.resourceLoading=!1;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),L=(0,Q.default)(s.prototype,"handleChartData",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,i;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.meters,n=(0,u.default)(a,["meters"]),l=e.active.name,e.tableData=[],t.next=5,e.setMeterData({module:e.active.type,resources:[l],meters:r,isTime:!0,params:n});case 5:i=t.sent,e.tableData=e.setLineChartColor(i),e.chartData=i;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),U=(0,Q.default)(s.prototype,"getTimeRange",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.type,r=t.value;if("close"===t.methord){var n=e.getMeterParamsByCrumb();(0,le.default)(e.timeRange,"".concat(a),r),e.handleChartData(we(we({meters:"all"},n),(0,ce.toJS)(e.timeRange)))}(0,le.default)(e.timeRange,"".concat(a),r)}}}),z=(0,Q.default)(s.prototype,"getCurrentTimeMeterData",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,i,c,s,f,d;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.valueKey,n=a.params,l=a.module,u=a.start,i=a.resources,t.next=3,e.setMeterData({params:n,meters:"all",module:l,start:u,end:new Date,resources:i,valueKey:"parentMeterData",isTime:!0});case 3:c=t.sent,s=e.getSumMeterData(c),f=s.sumData,d=s.feeData,e[r]={sumData:f,feeData:d};case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),F=(0,Q.default)(s.prototype,"handleCrumbOperation",[ce.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,G.default)(o.default.mark((function t(a){var r,n,l,u,i,c,s;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.crumbData.length-1,e.sideLoading=!0,"back"!==a){t.next=11;break}if(!(r<=0)){t.next=7;break}return e.props.handleBack(),e.sideLoading=!1,t.abrupt("return");case 7:e.crumbData.pop(),r-=1,t.next=18;break;case 11:if(!((n=e.cacheCrumbData.length-1)<=0||n===r)){t.next=15;break}return e.sideLoading=!1,t.abrupt("return");case 15:l=e.cacheCrumbData[r+1],e.crumbData.push(l),r+=1;case 18:if(u=(0,re.default)(e.crumbData),!(r>0)){t.next=25;break}return i=e.crumbData[r-1],c=e.getMeterParamsByCrumb(),"workspaces"===i.type?(c.workspaces=i.name,e.clusters=e.getClustersList(i.name),Object.keys(c).forEach((function(e){"workspaces"!==e&&(c[e]=void 0)}))):c[u.type]=void 0,t.next=25,e.getCurrentTimeMeterData({params:c,valueKey:"parentMeterData",module:i.type,start:i.start,resources:[i.name]});case 25:return s=u.list.find((function(e){return e.name===u.name})),t.next=28,e.getCurrentMeterData({name:u.name,type:u.type,start:e.startTime,labelSelector:(0,ee.default)(s,"labelSelector",""),isTime:!0});case 28:e.list=u.list,e.sideLoading=!1;case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),c=s))||c;a.default=Me},,function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(36),a(14),a(8),a(13),a(9),a(4),a(21),a(18),a(11),a(46),a(7),a(40),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(36),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(46),a(7),a(40);var n=r(a(38)),l=r(a(31)),u=r(a(50));a(35);var o,i,c,s,f,d,p,m,h,v,g=r(a(39)),y=r(a(62)),E=r(a(25)),b=r(a(28)),O=r(a(74)),S=r(a(41)),C=r(a(42)),_=r(a(37)),k=r(a(45)),R=(r(a(63)),a(17)),N=r(a(64)),D=r(a(67)),T=r(a(163)),P=r(a(448)),w=r(a(454)),I=r(a(443)),M=r(a(441)),A=r(a(1012)),j=r(a(1072)),x=r(a(325)),L=r(a(319)),U=r(a(452)),z=a(61),F=a(1071);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,_.default)(e);if(t){var n=(0,_.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,C.default)(this,a)}}var Y=(o=function(e){(0,S.default)(a,e);var t=B(a);function a(){var e;(0,E.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n)),(0,y.default)(e,"list",i,(0,O.default)(e)),(0,y.default)(e,"clustersConfig",c,(0,O.default)(e)),(0,y.default)(e,"cacheList",s,(0,O.default)(e)),(0,y.default)(e,"levelMeterData",f,(0,O.default)(e)),(0,y.default)(e,"cacheLevelData",d,(0,O.default)(e)),(0,y.default)(e,"isLoading",p,(0,O.default)(e)),e.clusterStore=new P.default,e.nodeStore=new w.default,e.workspaceStore=new I.default,e.namespaceStore=new M.default,e.applicationCrdStore=new A.default,e.serviceStore=new x.default,e.deploymetStore=new L.default("deployments"),e.statefulsetStore=new L.default("statefulsets"),e.daemonsetStore=new L.default("daemonsets"),e.opStore=new j.default,e.podStore=new U.default,e.handleNameByType=function(e,t){return"applications"===e?"".concat(t.name,":").concat(t.selector["app.kubernetes.io/version"]):"openpitrixs"===e?t.cluster_id:t.name},e.handleIconByType=function(e,t){return"cluster"===e&&t?z.CLUSTER_PROVIDER_ICON[t]||"kubernetes":z.ICON_TYPES[e]},e.handleStatusByWorkload=function(e,t,a){return e?e("deployments"===t||"statefulsets"===t?{hasS2i:a.hasS2i,spec:a.spec,status:a.status,annotations:a.annotations}:a):void 0},e.store={cluster:e.clusterStore,nodes:e.nodeStore,workspaces:e.workspaceStore,namespaces:e.namespaceStore,applications:e.applicationCrdStore,services:e.serviceStore,deployments:e.deploymetStore,statefulsets:e.statefulsetStore,daemonsets:e.daemonsetStore,openpitrixs:e.opStore,pods:e.podStore},e.getStore=function(t){return e.store[t]},(0,y.default)(e,"fetchList",m,(0,O.default)(e)),(0,y.default)(e,"fetchLevelMeter",h,(0,O.default)(e)),(0,y.default)(e,"setLevelMeterData",v,(0,O.default)(e)),e}return(0,b.default)(a,[{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cluster,a=e.namespaces,r=e.workspaces,n=e.deployments,l=e.statefulsets,u=e.daemonsets,o=e.services,i=e.pods,c="";return t&&(c+="/klusters/".concat(t)),a&&(c+="/namespaces/".concat(a)),r&&(c+="/workspaces/".concat(r)),o&&(c+="/services/".concat(o)),n&&(c+="/deployments/".concat(n)),l&&(c+="/statefulsets/".concat(l)),u&&(c+="/daemonsets/".concat(u)),i&&(c+="/pods/".concat(i)),c}},{key:"isMultiCluster",get:function(){return!globals.app.isMultiCluster}}]),a}(r(a(1513)).default),i=(0,k.default)(o.prototype,"list",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=(0,k.default)(o.prototype,"clustersConfig",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s=(0,k.default)(o.prototype,"cacheList",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=(0,k.default)(o.prototype,"levelMeterData",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d=(0,k.default)(o.prototype,"cacheLevelData",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=(0,k.default)(o.prototype,"isLoading",[R.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=(0,k.default)(o.prototype,"fetchList",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,g.default)(n.default.mark((function t(a){var r,l,o,i,c,s,f,d,p;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.type,l=(0,u.default)(a,["type"]),o=e.getStore(r),i=(0,F.getFetchParams)(V({isMultiCluster:e.isMultiCluster,type:r},l)),c=(0,F.getListConfig)({isMultiCluster:e.isMultiCluster,type:r}),s=[],i.forEach((function(e){"[object Array]"===Object.prototype.toString.call(o)?o.forEach((function(t){s.push(t.fetchList(V({},e)))})):s.push(o.fetchList(V({},e)))})),t.next=8,Promise.all(s).catch((function(){return[]}));case 8:if(f=t.sent,d=[],!(0,D.default)(f)&&(0,N.default)(f)&&f.forEach((function(t,a){t.forEach((function(t){if(!(0,F.hasNameSpacesType)(r)||(0,F.hasNameSpacesType)(r)&&(0,F.filterListByType)(V({type:r},l))(t)){var n=c[a],u=n.status,o=n.desc,i=e.handleStatusByWorkload(u,r,t),s=e.handleNameByType(r,t),f=e.handleIconByType(r,t.provider);d.push({icon:f,name:s,status:i,desc:o,labelSelector:t.selector,type:r,_origin:V({},t)})}}))})),"pods"===r&&(d=d.filter((function(e){return"Completed"!==e.status&&"Error"!==e.status}))),!l.node){t.next=15;break}return e.list=d,t.abrupt("return",d);case 15:return t.next=17,(0,F.filterResourceLevel)(V({levelMeterData:e.levelMeterData,type:r,data:d},l));case 17:return p=t.sent,e.list=p,t.abrupt("return",p);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),h=(0,k.default)(o.prototype,"fetchLevelMeter",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=(0,g.default)(n.default.mark((function t(a){var r,u,o,i,c,s;return n.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.cluster,u=a.namespaces,o=a.workspaces,r&&(e.cluster=r),i="".concat(e.tenantUrl({cluster:r}),"/namespaces/").concat(u,"/metering/hierarchy").concat(o?"?workspace=".concat(o):""),t.next=5,request.get(i,{},{},(function(){return{}}));case 5:return c=t.sent,s=(0,T.default)(c)||(0,D.default)(c)?{}:(0,l.default)({},u,c),e.levelMeterData=s,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),v=(0,k.default)(o.prototype,"setLevelMeterData",[R.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.levelMeterData=t}}}),o);t.default=Y},,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(6),a(14),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(6),a(27),a(29),a(14),a(4),a(18),a(43),a(11),a(7);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=a(189),d=a(61),p=r(a(3174)),m=r(a(1201));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var v=function(e){(0,u.default)(a,e);var t=h(a);function a(){var e;(0,n.default)(this,a);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).renderCrumbContainer=function(){var t=[],a=e.crumbData.length;return e.crumbData.forEach((function(r,n){t.push(c.default.createElement("div",{key:"".concat(r.name,"-").concat(r.type),title:r.name},c.default.createElement(m.default,{icon:d.ICON_TYPES[r.type],type:r.type,name:r.name,crumb:!0}),c.default.createElement("span",{className:p.default.crumbTitle},0===n&&"cluster"!==r.type&&e.props.cluster?"".concat(r.name," (").concat(e.props.cluster,")"):r.name),n!==a-1?c.default.createElement(f.Icon,{name:"caret-right"}):null))})),t},e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.handleCrumbOperation,a=e.loading;return c.default.createElement("div",{className:p.default.crumbContainer},c.default.createElement(f.Button,{icon:"chevron-left",iconType:"light",disabled:a,onClick:function(){return t("back")}}),c.default.createElement(f.Button,{icon:"chevron-right",iconType:"light",disabled:a,onClick:function(){return t("front")}}),c.default.createElement("div",{className:p.default.crumb},this.renderCrumbContainer()))}},{key:"crumbData",get:function(){return this.props.crumbData}}]),a}(c.default.Component);t.default=v,v.propTypes={crumbData:s.default.array,handleCrumbOperation:s.default.func,loading:s.default.bool,cluster:s.default.string}},function(e,t,a){e.exports={crumbContainer:"_20YU2LRS6DMwNcWgKvOqsq",crumb:"_3wBkwzGvzZRet9nL3dir4a",crumbTitle:"_3khJFmAsqVqSBq0oSrn6x4"}},function(e,t,a){e.exports={img:"_37chHCv0MYcY31RW8CLNTj"}},function(e,a,r){"use strict";r(16);var n=r(19);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(0)),u=r(189),o=n(r(3177)),i=function(e){var a=e.type,r=e.cluster,n=e.clusters,i=e.setCluster;return l.default.createElement("div",{className:o.default.title},l.default.createElement("h2",null,t("RESOURCE_CONSUMPTION_STATISTICS")),"workspaces"===a&&globals.app.isMultiCluster&&n.length>0?l.default.createElement(u.Select,{className:o.default.clusterSelect,options:n,optionRenderer:function(e){var t=e.label,a=e.disabled;return l.default.createElement("span",{style:{display:"flex",alignItem:"center"}},t,l.default.createElement("span",{style:{marginLeft:"10px"}},a?l.default.createElement(u.Icon,{name:"update",color:{primary:"#ffc781",secondary:"#f5a623"}}):null))},value:r,onChange:function(e){i(e)},showTip:!0}):null)};a.default=i},function(e,t,a){e.exports={title:"_2aGXmcx7mFZbhToSS1A-OM",clusterSelect:"_5ayuJN6svE2FJ4y0dsmAQ"}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(44),r(6),r(36),r(20),r(14),r(8),r(13),r(9),r(4),r(21),r(18),r(11),r(46),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(44),r(6),r(36),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(21),r(18),r(43),r(11),r(46),r(7),r(40);var l=n(r(38)),u=n(r(31));r(35);var o,i,c,s,f,d,p=n(r(39)),m=n(r(62)),h=n(r(25)),v=n(r(28)),g=n(r(74)),y=n(r(41)),E=n(r(42)),b=n(r(37)),O=n(r(45)),S=(n(r(63)),n(r(0))),C=r(243),_=r(17),k=r(189),R=r(893),N=n(r(1514)),D=n(r(67)),T=n(r(163)),P=n(r(449)),w=n(r(26)),I=r(1071),M=n(r(3179)),A=n(r(3181));function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,b.default)(e);if(t){var n=(0,b.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,E.default)(this,a)}}var U=(0,C.observer)((i=function(e){(0,y.default)(r,e);var a=L(r);function r(){var e;(0,h.default)(this,r);for(var n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];return e=a.call.apply(a,[this].concat(u)),(0,m.default)(e,"billReportList",c,(0,g.default)(e)),(0,m.default)(e,"getBillReportList",s,(0,g.default)(e)),e.handleExportBillReport=(0,p.default)(l.default.mark((function t(){var a,r,n,u,o,i,c,s,f,d,p,m,h;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,r=a.getMeterParamsByCrumb,n=a.crumbData,u=a.fetchMeterData,o=a.cluster,i=a.timeRange,c=a.priceConfigList,!(0,D.default)(e.billReportList)){t.next=3;break}return t.abrupt("return");case 3:return s=r(),f=(0,P.default)(n),d=f.type,p=f.start,m=f.name,"cluster"!==d&&(s.cluster=o),"applications"!==d&&"openpitrixs"!==d||delete s[d],h=[],e.billReportList.forEach((function(e){var t=(0,N.default)(s);t[e.type]=e.name;var a={start:p};if("cluster"===e.type){var r=c.find((function(t){return t.cluster===e.name}));a={start:(0,I.getRetentionDay)((0,w.default)(r,"retention_day","7d"))}}e.name===m&&d===e.type&&(a=x({},i)),h.push(u(x(x({module:e.type,meters:"all",resources:[e.name],isTime:!0,operation:"export"},t),a)))})),t.next=11,Promise.all(h);case 11:t.sent.forEach((function(t,a){var r=new Blob([t],{type:"text/plain;charset=utf-8"});(0,R.saveAs)(r,"".concat(e.billReportList[a].name,".csv"))})),e.billReportList=[];case 14:case"end":return t.stop()}}),t)}))),(0,m.default)(e,"getChildrenData",f,(0,g.default)(e)),(0,m.default)(e,"cancelExportBillReport",d,(0,g.default)(e)),e.renderBillReportConform=function(){var a=e.props,r=a.active,n=a.priceConfig,l="cluster"===r.type||"workspaces"===r.type||(0,D.default)(n);return(0,D.default)((0,_.toJS)(e.billReportList))?null:S.default.createElement("div",{className:A.default.exportContainer,style:{bottom:l?"10px":"70px"}},S.default.createElement("div",{className:A.default.text},t("EXPORT_BILL")),S.default.createElement("div",{className:A.default.button,onClick:e.cancelExportBillReport,"data-test":"confirm-cancel"},S.default.createElement(k.Icon,{name:"close",type:"light"})),S.default.createElement("div",{className:A.default.button,onClick:e.handleExportBillReport,"data-test":"confirm-ok"},S.default.createElement(k.Icon,{name:"check",type:"light"})))},e.renderSideCardItem=function(){var t=e.props,a=t.list,r=t.active,n=t.handleSelectResource,l=t.loading,u=t.clusterList,o=void 0===u?[]:u;return a.map((function(t){return S.default.createElement(M.default,{key:"".concat(t.name,"-").concat(t.type),data:t,active:r,clusterList:o,getCurrentMeterData:n,getChildrenData:e.getChildrenData,getCheckData:e.getBillReportList,loading:l,isCheck:!(0,T.default)(e.billReportList.find((function(e){return e.name===t.name})))})}))},e}return(0,v.default)(r,[{key:"componentDidUpdate",value:function(e){this.props.active.name!==e.active.name&&this.cancelExportBillReport()}},{key:"render",value:function(){var e=this.props.loading;return S.default.createElement("div",{className:A.default.side},S.default.createElement(k.Loading,{spinning:e},this.renderSideCardItem()),this.renderBillReportConform())}}]),r}(S.default.Component),c=(0,O.default)(i.prototype,"billReportList",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=(0,O.default)(i.prototype,"getBillReportList",[_.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var a=t.name,r=t.type;!(0,T.default)(e.billReportList.find((function(e){return e.name===a})))?e.billReportList=e.billReportList.filter((function(e){return e.name!==a})):e.billReportList.push({name:a,type:r})}}}),f=(0,O.default)(i.prototype,"getChildrenData",[_.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.billReportList=[],e.props.getChildrenData(t)}}}),d=(0,O.default)(i.prototype,"cancelExportBillReport",[_.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.billReportList=[]}}}),o=i))||o;a.default=U},function(e,a,r){"use strict";r(16);var n=r(19);r(10),r(44),r(20),r(14),r(30),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a,r=e.data,n=e.active,g=e.getCurrentMeterData,y=e.getChildrenData,E=e.getCheckData,b=e.noIcon,O=e.style,S=e.loading,C=e.isCheck,_=e.clusterList,k=r.icon,R=r.status,N=r.desc,D=r.name,T=r.type,P=r.labelSelector,w=r.disabled,I=void 0!==w&&w,M=!(0,p.default)(n)&&(n.name===D&&n.type===T),A="pods"===T,j=(0,d.default)((0,o.toJS)(r),"_origin.clusters",[]),x=!("system-workspace"===D||0!==j.length);return u.default.createElement("div",{className:(0,c.default)(h.default.billCard,(a={},(0,l.default)(a,h.default.selected,M),(0,l.default)(a,h.default.noHover,b),(0,l.default)(a,h.default.disabled,I),a)),style:O,onClick:I?null:function(){!0!==b&&g({name:D,type:T,labelSelector:P})}},b?null:u.default.createElement("div",{className:h.default.checkContainer,onClick:function(e){return e.stopPropagation()}},u.default.createElement(i.Checkbox,{checked:C,onClick:function(){return E({name:D,type:T})}})),u.default.createElement("div",{className:h.default.info},u.default.createElement("div",{className:h.default.title},u.default.createElement(f.default,{type:R,className:h.default.indicator}),u.default.createElement(v.default,{name:D,isActive:M,icon:k,type:T})),u.default.createElement("div",{className:h.default.desc},u.default.createElement(s.default,{title:D,description:N?t("".concat(N.toUpperCase().replace(/\s+/g,"_"),"_SCAP")):"cluster"!==T||N?"":t("CLUSTER_SCAP")})),function(e){if("workspaces"!==T||_.length<1)return null;var t=(globals.app.isMultiCluster&&"system-workspace"===e?_:(0,d.default)(r,"_origin.clusters",[])).map((function(e){return _.find((function(t){return t.name===e.name}))||null})).filter((function(e){return!!e}));return t.length<1?null:u.default.createElement("div",{className:h.default.tagContainer},t.map((function(e){return u.default.createElement(i.Tag,{key:e.name,type:m.CLUSTER_GROUP_TAG_TYPE[e._origin.group]},u.default.createElement(i.Icon,{name:e.icon||"kubernetes",size:16,type:"light"}),e.name)})))}(D)),I?u.default.createElement("div",{className:h.default.unMeter},x?u.default.createElement(i.Tooltip,{content:t("ADD_CLUSTER_FOR_WORKSPACE"),placement:"topRight"},u.default.createElement(i.Icon,{name:"information",color:{primary:"#ffc781",secondary:"#f5a623"}})):u.default.createElement(i.Tooltip,{content:t("CLUSTER_UPGRADE_REQUIRED",{version:" v3.1.0"}),placement:"topRight"},u.default.createElement(i.Icon,{name:"update",color:{primary:"#ffc781",secondary:"#f5a623"}}))):A||b?null:u.default.createElement("div",{className:h.default.symbol,onClick:function(e){return function(e,t){e.stopPropagation(),(!0!==b||S)&&y(t)}(e,{name:D,type:T,labelSelector:P})}},u.default.createElement(i.Icon,{name:"chevron-right",type:M?"light":"dark",size:20})))};var l=n(r(31));r(10),r(44),r(20),r(14),r(4),r(30),r(71);var u=n(r(0)),o=r(17),i=r(189),c=n(r(5)),s=n(r(800)),f=n(r(863)),d=n(r(26)),p=n(r(67)),m=r(61),h=n(r(3180)),v=n(r(1201))},function(e,t,a){e.exports={billCard:"_3VcrQFaYwgH_zmHOK-sbmT",checkContainer:"O8O_8ztaLkDeDmGjeuNRm",info:"_2N0FctWndmhAOKoLoj3vwb",title:"J8KItdmaltY3QnVlXZaeh",indicator:"dM1d5F7L74t7QoCa0X0Kn",desc:"_1IWudqQfOh0przutQZb2uJ",tagContainer:"_3V4tFihbHhvzf1w0yjTA3D",symbol:"_3cXdTeoTyRugkhusejnJ0I",selected:"_2bYCK7kPnS-Ua1syUPbwe3",noHover:"_2-lw7hkJ6ywf9OZdLurWvo",disabled:"eINvyK_cYM50TDrWYd5EO",unMeter:"_68gw3JH4QWIXOKHZZJnm"}},function(e,t,a){e.exports={side:"IIBTFkBhQSJH0gIABxKmI",exportContainer:"_1KUDHc3loa60l9mDqg_Pyc",text:"_2kv2buhPDiUCu1PDK4rMIl",button:"_3MqOEJfiOlNg0P8qzzp1K_",usageCard:"_1qKO-KpSQ54Q5SBkHSGBHp",meterCard:"_24DtRGrN1CCayPSOoC59NE"}},function(e,a,r){"use strict";r(16);var n=r(19);r(20),r(87),r(193),r(9),r(30),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(20),r(87),r(193),r(9),r(4),r(440),r(30),r(71);var l=n(r(50)),u=n(r(0)),o=n(r(5)),i=n(r(26)),c=n(r(67)),s=n(r(163)),f=n(r(3183)),d=r(891),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.className,r=e.title,n=e.isParent,p=e.priceConfig,m=(0,l.default)(e,["className","title","isParent","priceConfig"]),h=p.currency?p.currency:" ",v=function(){var e=m.feeData,t=0;return(0,s.default)(e)||(0,c.default)(e)||(t=Object.keys(e).map((function(t){return 100*parseFloat((0,i.default)(e[t],"value",0))})).reduce((function(e,t){return e+t}))/100),t.toFixed(2)},g=function(e){var t=y(e);return"-"!==t?t.toFixed(3):t},y=function(e){return(0,s.default)(e)?"-":e<0?0:e},E=function(e,a){return(0,c.default)(e)?null:"price"===a&&(0,c.default)(p)?u.default.createElement("ul",{className:f.default.noPriceTip},u.default.createElement("li",null,t("PRICE_CONFIG_DESC"))):u.default.createElement("ul",null,Object.keys(e).map((function(r){var n=(0,i.default)(e[r],"value"),l="meter"===a?g(n):y(n);return e[r]?u.default.createElement("li",{key:r},u.default.createElement("div",null,l),u.default.createElement("p",null,u.default.createElement("span",null,t(d.METER_RESOURCE_TITLE[r].toUpperCase().replace(/\s+/g,"_"))),u.default.createElement("span",null,"(",(0,i.default)(e[r],"unit.label","-"),")"))):null})))},b=function(e){var a=v();return u.default.createElement("div",null,u.default.createElement("h3",null,e," ",t("CONSUMPTION_SINCE_CREATION")),(0,c.default)(p)?null:u.default.createElement("div",{className:f.default.totalPrice},u.default.createElement("h4",null,a),u.default.createElement("p",null,t("TOTAL_COST",{unit:h}))))},O=function(e){var a=v();return u.default.createElement("div",{className:f.default.parentCostContainer},u.default.createElement("div",null,u.default.createElement("h3",null,e),u.default.createElement("span",null," ",t("CONSUMPTION_SINCE_CREATION"))),u.default.createElement("p",null,u.default.createElement("span",null,h),a))},S=m.sumData,C=void 0===S?{}:S,_=m.feeData,k=void 0===_?{}:_;return n?u.default.createElement("div",{className:(0,o.default)(f.default.billTotal,a)},O(r)):u.default.createElement("div",{className:(0,o.default)(f.default.billTotal,a)},b(r),u.default.createElement("div",{className:f.default.consumContainer},(0,c.default)(C)&&(0,c.default)(k)?null:u.default.createElement(u.default.Fragment,null,E(C,"meter"),u.default.createElement("div",{className:f.default.line}),E(k,"price"))))};a.default=p},function(e,t,a){e.exports={billTotal:"_2yAhIbTXhLB8AgqHVlMiY",parentCostContainer:"_2Q8zNmDqt_oiHw6Gea24im",totalPrice:"_1UrXZ5SCxDX8Afu2MVimjJ",consumContainer:"_1TAVSr4ki5JW2eC-92JCkR",noPriceTip:"_17jZhcUtJrSh3-xDgz5rNX",line:"rQmHupJi6faIkggp0AD-m"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(191)),p=r(909),m=n(r(203)),h=n(r(245)),v=n(r(3185));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var y=["1h","2h","4h","8h","1d"],E="zh"===(0,m.default)("lang")?"Y年Md日 H:i":"M d, Y H:i",b=function(e){(0,o.default)(r,e);var a=g(r);function r(e){var n;(0,l.default)(this,r),(n=a.call(this,e)).getTimeRange=function(e){var t=e.type,a=e.methord;return function(e){var r=n.props,l=r.getTime,u=r.timeRange,o=u.end,i=u.start,c=new Date(e[0]).getTime();"start"===t&&c>=o||"end"===t&&c<=i||l({type:t,value:c,methord:a})}},n.handleStepChange=function(e){var a=e.type,r=e.methord;return function(e){var l=e,u=n.props,o=u.getTime,i=u.timeRange,c=i.end,s=i.start;Math.floor((c-s)/3600/24/1e3)>=30&&"1d"!==l?d.default.error({content:t("TIMERANGE_MORE_30DAY_MSG")}):o({type:a,value:l,methord:r})}},n.handleTimeRangeChange=function(e){return function(a){var r=n.props,l=r.getTime,u=r.timeRange,o=u.end,i=u.start,c=u.step,s=new Date(a[0]).getTime();if("start"===e&&s>=o||"end"===e&&s<=i)d.default.error({content:t("TIMERANGE_SELECTOR_MSG")});else{if("start"===e)Math.floor((o-s)/3600/24/1e3)>=30&&"1d"!==c&&l({type:"step",value:"1d",methord:"change"});if("end"===e)Math.floor((s-i)/3600/24/1e3)>=30&&"1d"!==c&&l({type:"step",value:"1d",methord:"change"});l({type:e,value:s,methord:"change"})}}};var u=n.props.timeRange,o=u.end||new Date;return n.endMaxDate=new Date(o),n.maxDate=new Date((0,h.default)(o).subtract(1,"minutes")),n.minDate=new Date(u.start),n}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.timeRange,a=e.step,r=e.start,n=e.end;return s.default.createElement("div",{className:v.default.datepicker},s.default.createElement("div",{className:v.default.datepickerLeft},s.default.createElement("div",null,t("BILLING_CYCLE"))),s.default.createElement("div",{className:v.default.datepickerRight},s.default.createElement("div",null,s.default.createElement(f.DatePicker,{defaultValue:r,value:r,showClearBtn:!1,dateFormat:E,minDate:this.minDate,maxDate:this.maxDate,onClose:this.getTimeRange({type:"start",methord:"close"}),onChange:this.handleTimeRangeChange("start")}),s.default.createElement("p",null,t("START_TIME"))),s.default.createElement("div",null,s.default.createElement(f.DatePicker,{defaultValue:n,value:n,showClearBtn:!1,dateFormat:E,minDate:this.minDate,maxDate:this.endMaxDate,onClose:this.getTimeRange({type:"end",methord:"close"}),onChange:this.handleTimeRangeChange("end")}),s.default.createElement("p",null,t("END_TIME"))),s.default.createElement("div",null,s.default.createElement("div",null,s.default.createElement(f.Select,{value:a,options:(0,p.getTimeOptions)(y),onChange:this.handleStepChange({type:"step",methord:"close"})})),s.default.createElement("p",null,t("SAMPLING_INTERVAL")))))}}]),r}(s.default.Component);a.default=b},function(e,t,a){e.exports={datepicker:"_27tdhObpPbURPjQ15hD9_p",datepickerLeft:"_1keZq2egvTiK6G1mB4EamV",datepickerRight:"_2JDSh06KoL1Fb1gCk0R4Qr"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(36),r(20),r(4),r(18),r(30),r(11),r(71),r(7),r(40),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(36),r(20),r(29),r(4),r(18),r(43),r(30),r(11),r(71),r(7),r(40);var l=n(r(317)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(26)),p=n(r(68)),m=n(r(67)),h=n(r(811)),v=n(r(64)),g=r(189),y=r(820),E=r(803),b=n(r(844)),O=n(r(3187)),S=r(891),C=n(r(3189));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var k=function(e){(0,i.default)(r,e);var a=_(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={chartData:e.props.chartData,loading:!1},e.setNoPriceChartData=function(t){t.forEach((function(e){e.title=S.METER_RESOURCE_TITLE[e.type]})),e.setState({chartData:t})},e.setAreaChartData=function(a){e.setState({loading:!0},(function(){if((0,m.default)(a))e.setState({loading:!1,chartData:[]});else{if((0,m.default)(e.priceConfig))e.setNoPriceChartData(a);else{a.forEach((function(t){t.values=t.values.map((function(a){var r=(0,d.default)(a,[1]),n=("-1"===r?null:(0,E.getValueByUnit)(r,t.unit.value))*e.priceConfig[t.type];return(0,p.default)(a,[1],n),a})),t.type=S.METER_RESOURCE_TITLE[t.type]}));var r=a.map((function(e){return(0,d.default)(e,"type")})),n={title:t("CONSUMER_TRENDS"),unit:e.priceConfig.currency?e.priceConfig.currency:" ",data:a,legend:r},l=(0,E.getAreaChartOps)(n);l.data.shift(),e.setState({chartData:l})}e.setState({loading:!1})}}))},e.renderNoPriceChart=function(){var a=e.state.chartData;if((0,m.default)(a)||!(0,v.default)(a))return null;var r={CPU:"cpu",Memory:"memory",Volumes:"storage","Net Received":"network","Net Transmitted":"network"},n=a.map((function(e){return{key:e.title,icon:r[e.title],unit:e.unit.value,legend:[e.title],title:t(S.METER_RESOURCE_USAGE_TITLE[e.type].toUpperCase().replace(/\s+/g,"_")),data:[e],yAxis:!0,titleValue:e.sum_value,dot:3}}));return f.default.createElement(O.default,{tabs:n})},e}return(0,o.default)(r,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.loading!==t.loading||!(0,h.default)(this.props.chartData,e.chartData)}},{key:"componentDidUpdate",value:function(e){(0,h.default)(this.props.chartData,e.chartData)||this.setAreaChartData(this.props.chartData)}},{key:"render",value:function(){return f.default.createElement("div",{className:C.default.chartContainer},f.default.createElement(g.Loading,{spinning:this.state.loading},(0,m.default)(this.state.chartData)?f.default.createElement(b.default,{className:"no-shadow",icon:"exclamation",title:t("NO_DATA"),desc:t("NO_RESOURCE_FOUND")}):(0,m.default)(this.priceConfig)?this.renderNoPriceChart():f.default.createElement(y.SimpleArea,(0,l.default)({width:"100%",height:245},this.state.chartData))))}},{key:"priceConfig",get:function(){return this.props.priceConfig}}]),r}(f.default.Component);a.default=k},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(44),a(20),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(44),a(20),a(29),a(4),a(18),a(43),a(11);var n=r(a(317)),l=r(a(31)),u=r(a(25)),o=r(a(28)),i=r(a(74)),c=r(a(41)),s=r(a(42)),f=r(a(37)),d=r(a(0)),p=r(a(1)),m=r(a(5)),h=r(a(26)),v=r(a(67)),g=r(a(163)),y=a(803),E=r(a(800)),b=a(820),O=r(a(3188));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=function(e){(0,c.default)(a,e);var t=S(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={activeTab:(0,h.default)((0,i.default)(e),"props.tabs[0].key","")},e.handleTabClick=function(t){return e.setState({activeTab:t.currentTarget.dataset.key})},e}return(0,o.default)(a,[{key:"renderTabList",value:function(){var e=this,t=this.props.tabs,a=this.state.activeTab;return(0,v.default)(t)?null:d.default.createElement("div",{className:O.default.tabHeader},t.map((function(t){return d.default.createElement("div",{key:t.key,className:(0,m.default)(O.default.tabHeaderItem,(0,l.default)({},O.default.active,t.key===a)),"data-key":t.key,onClick:e.handleTabClick},d.default.createElement(E.default,{icon:t.icon,title:!t.data||(0,g.default)(t.titleValue)?"-":"".concat(t.titleValue," ").concat(t.unit),description:t.title}))})))}},{key:"renderTabContent",value:function(){var e=this.props.tabs,t=this.state.activeTab,a=e.find((function(e){return e.key===t}));if(!a||!a.data)return null;var r=(0,y.getAreaChartOps)(a);return d.default.createElement("div",{className:O.default.tabContent},d.default.createElement(b.SimpleArea,(0,n.default)({width:"100%",height:200,yAxis:{hide:!0,domain:[0,100]}},r)))}},{key:"render",value:function(){return d.default.createElement("div",{className:O.default.wrapper},this.renderTabList(),this.renderTabContent())}}]),a}(d.default.Component);t.default=C,C.propTypes={tabs:p.default.array},C.defaultProps={tabs:[]}},function(e,t,a){e.exports={wrapper:"_3wCugVeHTEmF8n8lH7qcKp",tabHeader:"Y0Qt-5VxGU31Ln_Yc0reG",tabHeaderItem:"_3OIhu4Xw4qkiUspV-o9YBd",active:"_3kDDrYzoR79fDiisexp9PH",tabContent:"Z8rVFty_pre5Qd2vERl_j",chartWrapper:"_2Fqg-xgQI4umN7Y_UvCDiB"}},function(e,t,a){e.exports={chartContainer:"mZL0FE8AngY_voJLWMBrz"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(193),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(193),r(4),r(440),r(18),r(43),r(30),r(11),r(71);var l=n(r(58)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(913)),p=n(r(67)),m=n(r(26)),h=r(189),v=r(891),g=n(r(3191));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var E=function(e){(0,i.default)(r,e);var a=y(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=a.call.apply(a,[this].concat(o))).renderTooltipContent=function(){return f.default.createElement("div",{className:g.default.tooltipContent},f.default.createElement("h3",null,t("TOTAL_CONSUMPTION_Q")),f.default.createElement("p",null,t("TOTAL_CONSUMPTION_A")))},e.getColumns=function(){return[{title:t("RESOURCE_TYPE"),dataIndex:"type",render:function(e,a){return f.default.createElement(f.default.Fragment,null,f.default.createElement("span",{style:{background:a.color}}),t(v.METER_RESOURCE_TITLE[e].toUpperCase().replace(/\s+/g,"_")))}},{title:t("MAXIMUM_USAGE"),dataIndex:"max_value",render:function(e,t){return f.default.createElement(f.default.Fragment,null,e," ",(0,m.default)(t,"unit.label","-"))}},{title:t("MINIMUM_USAGE"),dataIndex:"min_value",render:function(e,t){return f.default.createElement(f.default.Fragment,null,e," ",(0,m.default)(t,"unit.label","-"))}},{title:t("AVERAGE_USAGE"),dataIndex:"avg_value",render:function(e,t){return f.default.createElement(f.default.Fragment,null,e," ",(0,m.default)(t,"unit.label","-"))}},{title:f.default.createElement("div",{className:g.default.question},t("TOTAL_CONSUMPTION"),f.default.createElement(h.Tooltip,{content:e.renderTooltipContent(),placement:"top"},f.default.createElement(h.Icon,{name:"question",size:16}))),dataIndex:"sum_value",render:function(e,t){return f.default.createElement(f.default.Fragment,null,e," ",(0,m.default)(t,"unit.label","-"))}}].concat((0,l.default)((0,p.default)(e.props.priceConfig)?[]:[{title:"".concat(t("PRICE")),dataIndex:"fee",render:function(t){var a=e.props.priceConfig.currency?e.props.priceConfig.currency:" ";return"".concat(a," ").concat(parseFloat(t).toFixed(2))}}]))},e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props.data;return f.default.createElement("div",{className:g.default.tableContainer},f.default.createElement(d.default,{hideHeader:!0,hideFooter:!0,rowKey:"type",data:e,loading:(0,p.default)(e),columns:this.getColumns()}))}}]),r}(f.default.Component);a.default=E},function(e,t,a){e.exports={tableContainer:"_1qt6DxeA0PoekXMLfft7Li",tooltipContent:"OaizemFg4cw-uSv0anfeC",question:"_3GZFLRZtys7rulSsltSb8K"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(20),r(9),r(4),r(18),r(30),r(11),r(71),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(9),r(4),r(18),r(43),r(30),r(11),r(71);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=r(189),p=l(r(67)),m=l(r(26)),h=l(r(811)),v=r(891);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(r,e);var a=g(r);function r(){var e;(0,u.default)(this,r);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(e=a.call.apply(a,[this].concat(l))).state={value:"cpu"},e.getOptions=function(){var a=e.props.selectOptions;return(0,p.default)(a)?[]:Object.keys(a).map((function(e){return{label:t(v.METER_RESOURCE_TITLE[e].toUpperCase().replace(/\s+/g,"_")),value:e}}))},e.handleSelect=function(t){e.setState({value:t}),e.props.getResourceMeterData(t)},e}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e){if(this.props.activeName!==e.activeName||!(0,h.default)(this.props.selectOptions,e.selectOptions)){var t=this.getOptions();this.setState({value:(0,m.default)(t,"[0].value")})}}},{key:"render",value:function(){var e=this.state.value;return f.default.createElement("div",null,f.default.createElement(d.Select,{onChange:this.handleSelect,options:this.getOptions(),width:"100%",style:{marginBottom:"20px",width:"100%"},value:e}))}}]),r}(f.Component);a.default=y},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(837),r(20),r(14),r(193),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var u=l(r(97));r(3),r(837),r(20),r(14),r(193);var o=n(r(0)),i=l(r(1032)),c=l(r(853)),s=l(r(882)),f=l(r(951)),d=l(r(990)),p=l(r(1037)),m=l(r(67)),h=l(r(800)),v=r(61),g=l(r(3194)),y=r(891),E=l(r(1201)),b=function(e){var t=Math.PI/180,a=e.cx,r=e.cy,n=e.midAngle,l=e.innerRadius,u=e.outerRadius,c=e.startAngle,s=e.endAngle,f=e.fill,d=e.payload,p=e.percent,m=e.value,h=Math.sin(-t*n),v=Math.cos(-t*n),g=a+(u+10)*v,y=r+(u+10)*h,E=a+(u+30)*v,b=r+(u+30)*h,O=E+22*(v>=0?1:-1),S=b,C=v>=0?"start":"end";return o.default.createElement("g",null,o.default.createElement("text",{x:a,y:r,dy:8,textAnchor:"middle",fill:f,className:"chart__center__text"},d.name),o.default.createElement(i.default,{cx:a,cy:r,innerRadius:l,outerRadius:u,startAngle:c,endAngle:s,fill:f}),o.default.createElement(i.default,{cx:a,cy:r,startAngle:c,endAngle:s,innerRadius:u+6,outerRadius:u+10,fill:f}),o.default.createElement("path",{d:"M".concat(g,",").concat(y,"L").concat(E,",").concat(b,"L").concat(O,",").concat(S),stroke:f,fill:"none"}),o.default.createElement("circle",{cx:O,cy:S,r:2,fill:f,stroke:"none"}),o.default.createElement("text",{x:O+12*(v>=0?1:-1),y:S,textAnchor:C,fill:"#333"},"".concat(m," ").concat(d.unit)),o.default.createElement("text",{x:O+12*(v>=0?1:-1),y:S,dy:18,textAnchor:C,fill:"#999"},"(".concat((100*p).toFixed(2),"%)")))},O=function(e){var a=e.data,r=e.dataKey,n=void 0===r?"value":r,l=(0,o.useState)(0),i=(0,u.default)(l,2),O=i[0],S=i[1];return(0,m.default)(a)?null:o.default.createElement(c.default,{width:"100%",height:"100%"},o.default.createElement(p.default,{width:250,height:250},o.default.createElement(s.default,{vertical:!0,content:function(e){var a=e.payload;return o.default.createElement("div",{className:g.default.resourceList},o.default.createElement("ul",null,a.map((function(e,a){var r=e.payload,n=r.name,l=r.value,u=r.type,i=r.unit;return o.default.createElement("li",{key:"item-".concat(a)},o.default.createElement("i",{style:{background:e.color}}),o.default.createElement(E.default,{icon:v.ICON_TYPES[u],type:u,name:n}),o.default.createElement(h.default,{className:g.default.info,title:"".concat(n),description:t(y.RESOURCE_TITLE[u])}),o.default.createElement("span",null," ".concat(l," ").concat(i)))}))))},verticalAlign:"top"}),o.default.createElement(d.default,{cx:"70%",data:a,dataKey:n,innerRadius:"60%",outerRadius:"75%",activeShape:b,activeIndex:O,onMouseEnter:function(e,t){S(t)}},a.map((function(e,t){return o.default.createElement(f.default,{key:"cell-".concat(e.name),fill:y.PIE_COLORS[t%y.PIE_COLORS.length],strokeWidth:1})})))))};a.default=O},function(e,t,a){e.exports={resourceList:"_31MsHfl5iWHdowDFRcP_c_",info:"_1x0CTr7Gdd16AxoTqHsNYT"}},function(e,t,a){e.exports={empty:"_17Mqxb1Mgn-uRdDZOJ1Qry",emptyCard:"_3Je_SSJ5BVw3PS1lYiaF4a",billDetail:"_34UPSURIT6CqbdKJPw0R7F",paddingBottom0:"Pwj-ykGPltZo5v5_plDlH",leftContent:"_3s_-nS9c5xnUUgNEPJ8KBe",usageCard:"_21O2m-U6tWGv0Y9s4Y4Ajh",meterCard:"_2gAbgzqWqzvuq_xZzCJQ1f",rightContent:"_3Aa1yND_BGYLN9nw7XneCp",content:"_3g0_NpYdRmw2VOPc2T6ywW",toothbg:"_1Rh1CvWKS3lQeuSjvWt3Y0",subTitle:"_3jfzvzWfyayS9TsDXqD6lC",info:"_2oNPFCeABRFS8ryVIKhich",childrenResourceContainer:"_1OGurl1hQb7F7WnATfB1QY",childrenlistContainer:"_2pzMlSUqyzZuZDlITePlsG",constomChartContainer:"_1yVmPte_v552Dq8WqeShqg"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={table:"_1i60_Zk2GuZ0BSBW7unRbV",table_rank:"_2Mr7mDygEQ35XwS2BpvdbG",table_no_border:"_35xeFOcthetSVxVd7jbhy8",rankCol:"K5KlP-RunT4IdakA3VSci",table_transparent:"_1kEZxv3qugETuqEDftrkMQ"}},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={background:"_1OASQA4PfdJS_KhH_yCm-S",percent:"_1t1MfmrTC862QBXYV5D0xT",tooltip:"_1OIWC_rqd8Odp6dvqoZtet"}},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(12),a(109),a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(3),a(29),a(4),a(18),a(43),a(11);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(1)),d=a(189),p=r(a(5)),m=r(a(1073));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(a,e);var t=h(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).handleClose=function(){var t=e.props;(0,t.onClose)(t.title)},e.handleToggle=function(){var t=e.props;(0,t.onToggle)(t.title)},e.stopPropagation=function(e){e.stopPropagation()},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.title,r=e.description,l=e.operation,u=e.closable,o=e.open;return s.default.createElement("div",{className:(0,p.default)(m.default.tip,(0,n.default)({},m.default.open,o),t),onClick:this.handleToggle},s.default.createElement("div",{className:m.default.tipIcon},s.default.createElement(d.Icon,{name:o?"chevron-down":"chevron-right",size:20})),s.default.createElement("div",{className:m.default.tipContent},s.default.createElement("div",null,a),o&&s.default.createElement("p",{className:"text-second"},r)),s.default.createElement("div",{className:m.default.operations,onClick:this.stopPropagation},l,u&&s.default.createElement(d.Icon,{name:"close",size:20,clickable:!0,onClick:this.handleClose})))}}]),a}(s.default.Component);t.default=v,v.propTypes={className:f.default.string,title:f.default.string,description:f.default.oneOfType([f.default.string,f.default.element]),closable:f.default.bool,operation:f.default.node,onClose:f.default.func},v.defaultProps={closable:!0,onClose:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(10),r(44),r(20),r(14),r(4),r(18),r(30),r(11),r(69),r(71),r(79),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(10),r(44),r(20),r(27),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69),r(71),r(79);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(55),p=n(r(1193)),m=n(r(1073));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=(0,d.withRouter)(l=function(e){(0,i.default)(r,e);var a=h(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.routes,r=e.match,n=e.history,l=a.filter((function(e){return!!e.name})).map((function(e){return{label:t(e.title),value:e.name,count:e.count}})),u=location.pathname.replace("/consolev3",""),o=l.find((function(e){return u.startsWith("".concat(r.url,"/").concat(e.value))}))||{};return f.default.createElement("div",{className:m.default.tabsWrapper},f.default.createElement(p.default,{value:o.value,onChange:function(e){return n.push("".concat(r.url,"/").concat(e))},options:l}))}}]),r}(f.default.Component))||l;a.default=v},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.tabs,a=e.tabsActions;return n.default.createElement("div",{className:u.default.tabsWrapper},n.default.createElement(l.default,t),a)};var n=r(a(0)),l=r(a(1193)),u=r(a(1073))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={manage:"_8-pJZ-X-Am3wrKf0_vsf7",button:"_247XpOiP7kljdn3SIa-SyA"}},,,,,,,function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);r(20),r(14),r(4),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=e.breadcrumbs,r=e.icon,n=e.name,l=e.desc,m=e.labels,h=e.attrs,v=e.extra,g=e.metaDataGroup,y=void 0===g?[]:g,E=e.operations,b=void 0===E?[]:E,O=e.children,S=function(){return Array.isArray(y)&&y.length||!(0,o.default)(m)||!(0,o.default)(v)?u.createElement(f.CollapseContainer,{className:p.default.collapseWrapper,title:t("METADATA"),defaultOpen:!0},Array.isArray(y)&&y.length?u.createElement(Tabs,null,y.map((function(e){return u.createElement(Tab,{label:e.label,key:e.value.toString()})}))):null,!(0,o.default)(m)&&u.createElement(u.Fragment,null,u.createElement(f.CollapseContent.Title,null,t("TAG_PL")),u.createElement(f.CollapseContent,{type:"tags",data:null!=m?m:{}})),!(0,o.default)(m)&&!(0,o.default)(v)&&u.createElement(Divider,{margins:12}),!(0,o.default)(v)&&u.createElement(u.Fragment,null,u.createElement(f.CollapseContent.Title,null,t("ANNOTATION_PL")),u.createElement(f.CollapseContent,{type:"annotations",data:null!=v?v:{}}))):null};return u.createElement(c.default,{style:{padding:0},className:p.default.wrapper},function(){if((0,o.default)(a))return null;var e,t=a[0];t&&(e={url:t.url,name:t.label});var c=(0,i.default)(r)?u.createElement(s.Icon,{name:r,size:28}):r;return u.createElement(d.PageHeader,{icon:c,back:e,title:n,desc:l,operations:b})}(),u.createElement("div",{className:p.default.contentWrapper},u.createElement(f.CollapseContainer,{className:p.default.collapseWrapper,defaultOpen:!0,title:t("ATTRIBUTES")},u.createElement(f.CollapseContent,{type:"attributes",data:(null!=h?h:[]).map((function(e){return{label:e.name,value:e.value}}))})),S()),O)},r(32),r(121),r(20),r(29),r(14),r(4),r(11);var u=l(r(0)),o=n(r(67)),i=n(r(142)),c=n(r(823)),s=r(189),f=r(3410),d=r(3413),p=n(r(3417))},function(e,t,a){"use strict";a(6),a(16),a(9),a(4),a(7),Object.defineProperty(t,"__esModule",{value:!0});var r=a(3411);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}));var n=a(3412);Object.keys(n).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===n[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}}))}))},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseContainer=void 0;var l=n(a(31)),u=n(a(97)),o=r(a(0)),i=a(189),c=n(a(5)),s=n(a(839)),f=n(a(1538));t.CollapseContainer=function(e){var t=e.icon,a=e.title,r=e.isOpen,n=e.onChange,d=e.children,p=e.className,m=e.defaultOpen,h=void 0!==m&&m,v=o.useState(null!=r?r:h),g=(0,u.default)(v,2),y=g[0],E=g[1];o.useEffect((function(){r===y||(0,s.default)(r)||E(r)}),[r]);var b,O=function(){E(!y),n&&n(!y)};return o.createElement("div",{className:(0,c.default)(f.default.wrapper,p)},(b=o.createElement("div",{className:(0,c.default)(f.default.headerIcon,(0,l.default)({},f.default.up,y))},o.createElement(i.Icon,{name:"chevron-down",size:"20",clickable:!0})),t?o.createElement("div",{className:(0,c.default)(f.default.header,f.default.hasIcon,(0,l.default)({},f.default.isOpen,y)),onClick:O},t,o.createElement("div",{className:f.default.headerTitle},a),b):o.createElement("div",{className:(0,c.default)(f.default.header,(0,l.default)({},f.default.isOpen,y)),onClick:O},b,o.createElement("div",{className:f.default.headerTitle},a))),o.createElement("div",{className:(0,c.default)(f.default.content,(0,l.default)({},f.default.isOpen,null!=r?r:y))},o.createElement("div",null,o.createElement("div",null,d))))}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(20),a(99),Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseContent=void 0;var l=n(a(97));a(121),a(20),a(99);var u=r(a(0)),o=n(a(1538)),i={tags:[o.default.contentTags,o.default.contentTag],annotations:["",o.default.contentAnnotation],attributes:[o.default.contentAttributes,o.default.contentAttributeItem]},c=function(e){var t=e.type,a=e.data,r=u.useMemo((function(){return Array.isArray(a)?a:Object.entries(a).map((function(e){var t=(0,l.default)(e,2),a=t[0];return{key:a,label:a,value:t[1]}}))}),[a]),n=u.useMemo((function(){return i[t]}),[t]),o=(0,l.default)(n,2),c=o[0],s=o[1];return u.createElement("div",{className:c},r.map((function(e,t){var a=e.key,r=e.label,n=e.value;return u.createElement("div",{className:s,key:"".concat(null!=a?a:t)},u.createElement("span",null,r),u.createElement("span",null,n))})))};t.CollapseContent=c,c.Title=o.default.contentTitle},function(e,t,a){"use strict";a(16);var r=a(19),n=a(162);a(14),Object.defineProperty(t,"__esModule",{value:!0}),t.PageHeader=void 0,a(14);var l=n(a(0)),u=r(a(67)),o=a(437),i=a(189),c=r(a(3414)),s=r(a(3416));t.PageHeader=function(e){var t=e.back,a=e.back,r=(a=void 0===a?{}:a).url,n=a.name,f=e.operations,d=e.icon,p=e.title,m=e.desc;return l.createElement("div",{className:s.default.wrapper},function(){if(!(t||f&&f.length))return null;var e=t?l.createElement(o.Link,{to:r,className:s.default.breadcrumbs},l.createElement(i.Icon,{name:"chevron-left",size:20}),n):l.createElement("span",null);return l.createElement("div",{className:s.default.header},e,(0,u.default)(f)?null:l.createElement(c.default,{options:f,limit:1}))}(),d?l.createElement("div",{className:s.default.avatar},l.createElement("div",{className:s.default.icon},d),l.createElement("div",{className:s.default.title},p),l.createElement("div",{className:s.default.desc},m||"-")):l.createElement("div",null,l.createElement("div",{className:s.default.title},p),l.createElement("div",{className:s.default.desc},m)))}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(3),r(192),r(44),r(20),r(51),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(192),r(44),r(20),r(51),r(29),r(4),r(18),r(43),r(11);var u=l(r(317)),o=l(r(50)),i=l(r(25)),c=l(r(28)),s=l(r(41)),f=l(r(42)),d=l(r(37)),p=n(r(0)),m=l(r(1)),h=l(r(5)),v=l(r(67)),g=l(r(198)),y=r(189),E=l(r(3415));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var O=function(e){(0,s.default)(r,e);var a=b(r);function r(){var e;(0,i.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleMoreClick=function(t,a){var r=e.props.options.find((function(e){return e.key===a})).onClick;r&&r()},e.renderBtn=function(e){var t=e.text,a=e.show,r=void 0===a||a,n=(e.icon,(0,o.default)(e,["text","show","icon"]));return r?p.default.createElement(y.Button,(0,u.default)({className:E.default.button},n,{"data-test":"detail-".concat(n.key)}),t):null},e}return(0,c.default)(r,[{key:"renderBtns",value:function(){var e=this.props,a=e.options,r=e.limit;if((0,v.default)(a))return null;if(a.length<=r)return a.map(this.renderBtn);var n=this.renderMoreOptions();return p.default.createElement("div",null,n&&p.default.createElement(y.Dropdown,{theme:"dark",content:n,placement:"bottomRight"},p.default.createElement(y.Button,{className:E.default.more,"data-test":"detail-more"},t("MORE")," ",p.default.createElement(y.Icon,{name:"caret-down"})," ")))}},{key:"renderMoreOptions",value:function(){var e=this.props,t=e.options,a=e.limit,r=t.slice(a-1).map((function(e){var t=e.icon,a=e.text,r=e.show,n=void 0===r||r,l=(0,o.default)(e,["icon","text","show"]);return n?p.default.createElement(y.Menu.MenuItem,l,t&&((0,g.default)(t)?t():p.default.createElement(y.Icon,{name:t,type:"light"}))," ",p.default.createElement("span",{"data-test":"detail-".concat(l.key)},a)):null}));return r.every((function(e){return null===e}))?null:p.default.createElement(y.Menu,{onClick:this.handleMoreClick},r)}},{key:"render",value:function(){var e=this.props,t=e.className,a=(e.limit,e.options,(0,o.default)(e,["className","limit","options"]));return p.default.createElement("div",(0,u.default)({className:(0,h.default)(E.default.group,t)},a),this.renderBtns())}}]),r}(p.Component);a.default=O,O.propTypes={className:m.default.string,options:m.default.array,limit:m.default.number},O.defaultProps={options:[],limit:2}},function(e,t,a){e.exports={group:"_3iNcZ7ryDpxDRRDQDAtv5w",more:"_24K89IgyZ-3G4CqWSdcp86"}},function(e,t,a){e.exports={wrapper:"_322AE5-QkRvda8iyCQHBX4",header:"XYeFE3xb0qZlJpgcJsM8v",avatar:"_2LXZwVeXAmFU7xCfAIpSjQ",icon:"_20fpEVMnwh7hTsLB1QREk4","kubed-icon":"_3dCg3g2bID46Wn_3gflN18",title:"_2cxm8kf6zua-tcRPFCSUO6",desc:"_1iIHHvq-d5j99FtS2ANIwa",backLink:"_3fIw-ogIGm02Q7JyAFU_ry",breadcrumbs:"_3d1BXUqOFgWTHlsxeJPeIT"}},function(e,t,a){e.exports={wrapper:"_3UteWcouiacFTLifrlVbF0",contentWrapper:"_1ZuX77CC9KRcdh9MsWbHzy",collapseWrapper:"_1a3rQRXvVqz0gr8Ysadeuo"}},function(e,t,a){e.exports={wrapper:"_3TXWgut7IKGjI_QA5OAWFR",nav:"_2odKMxXdzwIeYT7ZwaPwW4",light:"_1IpXjf406mntUF9Cnf7IQT",navItem:"_2SWDZqkY4ZzdzKpcjSkJio",active:"_2wmp-lQI4i6jOfSemwExp2"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(973)),o=r(a(868)),i=r(a(1018)),c=r(a(1215)),s=r(a(1216));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:i.default,exact:!0},{path:"".concat(e,"/revision-control"),title:"REVISION_RECORDS",component:c.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(e,"/monitors"),title:"MONITORING",component:s.default,exact:!0,clusterModule:"whizard-monitoring"},{path:"".concat(e,"/env"),title:"ENVIRONMENT_VARIABLE_PL",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,t,a){e.exports={table:"r5nMO6HKdxJH3nQm89So4"}},function(e,t,a){e.exports={main:"_1_HBA1zezSrtOSNSKGveb5",content:"dQEya2WnRQnmgJm2EjWM",expanded:"_1uirIjdcLa0OfeUJULOBQA",arrow:"_35J1WNXmHLjfTCHjihFPgW",title:"rDH2F0h1bZKVtuR8hbJih",variables:"_1FEVckMj_O1JOeKEaw5ll",name:"_1HhGTblfQUtMPyPwPKBrDa"}},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(20),r(99),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(99),r(4),r(18),r(43),r(11);var u=l(r(97)),o=l(r(25)),i=l(r(28)),c=l(r(41)),s=l(r(42)),f=l(r(37)),d=n(r(0)),p=l(r(801)),m=l(r(1e3)),h=l(r(67));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var g=function(e){(0,c.default)(r,e);var a=v(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.labels;return(0,h.default)(r)?null:d.default.createElement(p.default,{title:t("LABEL_PL"),className:a},d.default.createElement("div",null,Object.entries(r).map((function(e){var t=(0,u.default)(e,2),a=t[0],r=t[1];return d.default.createElement(m.default,{key:a,name:a,value:r})}))))}}]),r}(d.Component);a.default=g},function(e,t,a){e.exports={values:"lfsILErONxAoalZHtWYT-",title:"_3cnUpyspiN-9rx40Bpk6vm"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(88),r(20),r(87),r(14),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(6),r(88),r(20),r(87),r(29),r(14),r(4),r(18),r(43),r(11),r(7);var l=n(r(58)),u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(437),m=n(r(1)),h=n(r(5)),v=n(r(26)),g=n(r(67)),y=r(56),E=r(189),b=n(r(863)),O=n(r(1544)),S=n(r(833)),C=n(r(1546));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var k=function(e){(0,c.default)(r,e);var a=_(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,l=new Array(n),u=0;u<n;u++)l[u]=arguments[u];return(e=a.call.apply(a,[this].concat(l))).getContainerStatus=function(){var t=(0,v.default)(e.props.detail,"status.containerStatuses")||[],a=0;return t.forEach((function(e){e.ready&&(a+=1)})),{readyCount:a,total:t.length}},e.getUpdateStatus=function(){var a=e.props,r=a.onShowEvents,n=a.detail;if(!e.isRunning){var l=e.status,u=l.name,o=l.type;return d.default.createElement(S.default,{status:o,reason:u,data:e.props.detail,type:"pod",onShowEvents:r?function(){return r(n)}:void 0})}return d.default.createElement("p",null,t("CREATED_TIME",{diff:(0,y.getLocalTime)(e.props.detail.createTime).format("YYYY-MM-DD HH:mm:ss")}))},e.getLink=function(){var t=e.props.detail;return"".concat(e.props.prefix,"/projects/").concat(t.namespace,"/pods/").concat(t.name)},e.getNodeContent=function(){var a=e.props.detail,r=a.cluster,n=a.node,l=a.nodeIp,u=globals.app.hasPermission({cluster:r,module:"nodes",action:"view"});if(!n)return"-";var o=t("NODE_IP",{node:n,ip:l});return u?d.default.createElement(p.Link,{to:"/clusters/".concat(r,"/nodes/").concat(n)},o):o},e.handleExpandExtra=function(){var t=e.props,a=t.detail;(0,t.onExpand)(a.uid)},e.handleLinkClick=function(){localStorage.setItem("pod-detail-referrer",location.pathname)},e.renderPodIPContent=function(e){return d.default.createElement("div",{className:C.default.ipTip},d.default.createElement("div",null,t("POD_IP_ADDRESS")),d.default.createElement("ul",null,e.map((function(e){return d.default.createElement("li",{key:e},d.default.createElement(E.Icon,{name:"ip",size:20,type:"light"}),d.default.createElement("span",null,e))}))))},e}return(0,i.default)(r,[{key:"renderStatusTip",value:function(){var e=this.props.detail.name,a=this.status,r=a.type,n=a.name,l=this.getContainerStatus(),u=l.readyCount,o=l.total;return d.default.createElement(E.Tooltip,{content:d.default.createElement("div",{className:C.default.statusTip},d.default.createElement("strong",null,e),d.default.createElement("p",null,t("READY_VALUE",{readyCount:u,total:o})),d.default.createElement("p",null,t("STATUS_VALUE",{value:t(n)})))},d.default.createElement(b.default,{className:C.default.indicator,type:r,flicker:!0}))}},{key:"renderContent",value:function(){var e=this.props,a=e.prefix,r=e.detail,n=r.name,l=r.podIp,u=e.isExpand;return d.default.createElement("div",{className:C.default.content},d.default.createElement("div",{className:C.default.text},d.default.createElement("div",null,a?d.default.createElement(p.Link,{to:this.getLink()},d.default.createElement("span",{onClick:this.handleLinkClick},n)):n),this.getUpdateStatus()),!(-1!==location.pathname.indexOf("/nodes"))&&d.default.createElement("div",{className:C.default.text},d.default.createElement("div",null,this.getNodeContent()),d.default.createElement("p",null,t("NODE"))),d.default.createElement("div",{className:C.default.text},d.default.createElement("div",null,d.default.createElement("span",null,l||"-"),!(0,g.default)(this.networkIPs)&&this.networkIPs.length>1&&d.default.createElement(E.Tooltip,{content:this.renderPodIPContent(this.networkIPs)},d.default.createElement("div",{className:C.default.podip},this.networkIPs.length))),d.default.createElement("p",null,t("POD_IP_ADDRESS_SCAP"))),d.default.createElement("div",{className:C.default.arrow},d.default.createElement(E.Icon,{name:"chevron-down",type:u?"light":"",size:20})))}},{key:"renderExtraContent",value:function(){var e=this,a=this.props.prefix,r=this.props.detail,n=r.cluster,l=r.containers,u=void 0===l?[]:l,o=r.initContainers,i=void 0===o?[]:o,c=r.name;return(0,g.default)(u)?null:d.default.createElement("div",{className:C.default.itemExtra},d.default.createElement("div",{className:"margin-b8"},d.default.createElement("strong",null,t("CONTAINER_PL"))),d.default.createElement("div",{className:C.default.containers},u.map((function(t){return d.default.createElement(O.default,{key:t.name,prefix:a&&e.getLink(),podName:c,detail:t,cluster:n,onContainerClick:e.handleLinkClick,isCreating:e.isCreating})})),i.map((function(t){return d.default.createElement(O.default,{key:t.name,prefix:a&&e.getLink(),podName:c,detail:t,cluster:n,onContainerClick:e.handleLinkClick,isCreating:e.isCreating,isInit:!0})}))))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.isExpand;return d.default.createElement("div",{className:(0,h.default)(C.default.item,t,(0,u.default)({},C.default.expanded,a))},d.default.createElement("div",{className:C.default.itemMain,onClick:this.handleExpandExtra},d.default.createElement("div",{className:C.default.icon},d.default.createElement(E.Icon,{name:"pod",size:40,type:a?"light":"dark"}),this.renderStatusTip()),this.renderContent()),this.renderExtraContent())}},{key:"status",get:function(){var e=this.props.detail.podStatus,t=e.status;return{type:e.type.toLowerCase(),name:t}}},{key:"isCreating",get:function(){return"warning"===this.status.type&&"ContainerCreating"===this.status.name}},{key:"isRunning",get:function(){return"running"===this.status.type||"completed"===this.status.type}},{key:"networkIPs",get:function(){return this.props.detail.networksStatus.reduce((function(e,t){return t.ips?[].concat((0,l.default)(e),(0,l.default)(t.ips)):(0,l.default)(e)}),[])}}]),r}(d.default.PureComponent);a.default=k,k.propTypes={className:m.default.string,prefix:m.default.string,detail:m.default.object,loading:m.default.bool,isExpand:m.default.bool,onExpand:m.default.func,onShowEvents:m.default.func},k.defaultProps={prefix:"",detail:{},isExpand:!1,onExpand:function(){}}},function(e,a,r){"use strict";r(16);var n=r(19);r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(26)),d=n(r(823)),p=n(r(854)),m=n(r(798)),h=n(r(1179)),v=r(1),g=n(r(3426));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var E=function(e){(0,o.default)(r,e);var a=y(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"renderContent",value:function(){var e=this.props.container,t=e.namespace,a=e.name,r=this.props.podName,n=this.context,l=n.gatewayName,u=n.gatewayNs,o=n.cluster||this.props.cluster;return(0,f.default)(this.props,"container.containerID")?s.default.createElement(h.default,{className:g.default.containerLog,contentClassName:g.default.containerLogContent,namespace:t,podName:r,cluster:o,containerName:a,gatewayName:l,gatewayNamespace:u}):s.default.createElement(d.default,null,s.default.createElement(p.default,{desc:"CONTAINER_LOGS_NOT_SUPPORTED"}))}},{key:"render",value:function(){var e=this.props,a=e.visible,r=e.onCancel;return s.default.createElement(m.default,{bodyClassName:g.default.body,title:t("CONTAINER_LOGS"),visible:a,onCancel:r,fullScreen:!0,hideFooter:!0},this.renderContent())}}]),r}(s.default.Component);a.default=E,E.contextTypes={gatewayName:v.PropTypes.string,gatewayNs:v.PropTypes.string,cluster:v.PropTypes.string}},function(e,t,a){e.exports={body:"_2xIpWv0eUy2KqNf-tYtdAs",containerLog:"-vLGgh65xBp9j5muKQxTD",containerLogContent:"dnH0_IiFyYfpYfmg1hgpq"}},function(e,a,r){"use strict";r(16);var n=r(19);r(20),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(317)),u=n(r(50)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(5)),p=n(r(801)),m=n(r(67)),h=n(r(1)),v=n(r(0)),g=r(56),y=r(61),E=n(r(3428));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var O=function(e){(0,c.default)(r,e);var a=b(r);function r(){return(0,o.default)(this,r),a.apply(this,arguments)}return(0,i.default)(r,[{key:"renderContent",value:function(){var e=this.props,a=e.ports,r=e.isFederated;return(0,m.default)(a)?null:v.default.createElement("div",{className:E.default.content},v.default.createElement("table",{className:E.default.table},v.default.createElement("thead",null,v.default.createElement("tr",null,r&&v.default.createElement("th",null,t("CLUSTER")),v.default.createElement("th",null,t("NAME")),v.default.createElement("th",null,t("PROTOCOL")),v.default.createElement("th",null,t("PORT")))),v.default.createElement("tbody",null,a.map((function(e,t){return v.default.createElement("tr",{key:t},r&&v.default.createElement("td",null,(0,g.showNameAndAlias)(e.cluster,"cluster")),v.default.createElement("td",null,e.name),v.default.createElement("td",null,e.protocol),v.default.createElement("td",null,e.containerPort))})))))}},{key:"render",value:function(){var e=this.props,a=e.className,r=(e.loading,(0,u.default)(e,["className","loading"])),n=this.props.title||t("PORT_PL");return v.default.createElement(p.default,(0,l.default)({className:(0,d.default)(E.default.card,a),title:n},r),this.renderContent())}},{key:"protocols",get:function(){return y.PROTOCOLS.map((function(e){return e.value}))}}]),r}(v.default.Component);a.default=O,O.propTypes={className:h.default.string,ports:h.default.array},O.defaultProps={ports:[]}},function(e,t,a){e.exports={content:"_39OJSr_1I0ySWE5IDXTgPS",table:"_2siFIGV4OlLNAn6cC6ip6o"}},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(121),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=r(a(26)),p=r(a(801)),m=r(a(1547)),h=r(a(3431));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var g=function(e){(0,u.default)(a,e);var t=v(a);function a(){var e;(0,n.default)(this,a);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return(e=t.call.apply(t,[this].concat(l))).handleReplicaChange=function(t){t>=0&&e.props.onScale(t)},e}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props.className;return c.default.createElement(p.default,{className:(0,f.default)(h.default.replica,e)},c.default.createElement("div",{className:h.default.replicaCount},c.default.createElement(m.default,this.replicaStatus)))}},{key:"replicaStatus",get:function(){var e=this.props,t=e.module,a=e.detail,r=e.enableScale,n={};switch(t){default:case"deployments":n={current:a.availablePodNums||0,desire:a.podNums||0};break;case"statefulsets":n={current:(0,d.default)(a,"status.currentReplicas",a.readyPodNums),desire:a.podNums||0};break;case"daemonsets":n={current:(0,d.default)(a,"status.numberReady",0),desire:(0,d.default)(a,"status.desiredNumberScheduled",0)};break;case"gateways":n={current:Array.isArray(a.pods)?a.pods.length:1,desire:(0,d.default)(a,"replicas",0)}}return n.onScale=r?this.handleReplicaChange:null,n}}]),a}(c.default.Component);t.default=g,g.propTypes={module:s.default.string,detail:s.default.object,enableScale:s.default.bool,onScale:s.default.func},g.defaultProps={module:"deployments",enableScale:!0,onScale:function(){}}},function(e,t,a){"use strict";a(16);var r=a(162),n=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(18),a(43),a(11);var l=n(a(25)),u=n(a(28)),o=n(a(41)),i=n(a(42)),c=n(a(37)),s=r(a(0)),f=n(a(1)),d=n(a(5)),p=a(61),m=a(189),h=n(a(1548));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=function(e){(0,o.default)(a,e);var t=v(a);function a(){var e;(0,l.default)(this,a);for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return(e=t.call.apply(t,[this].concat(n))).handlePlusOne=function(){var t=e.props,a=t.value,r=t.onChange;r&&r(a+1)},e.handleMinusOne=function(){var t=e.props,a=t.value,r=t.onChange;r&&r(a-1)},e}return(0,u.default)(a,[{key:"render",value:function(){var e=this.props.className,t={primary:p.COLORS_MAP.white,secondary:p.COLORS_MAP.white};return s.default.createElement("div",{className:(0,d.default)(h.default.control,e)},s.default.createElement(m.Icon,{className:h.default.add,name:"add",size:24,color:t,onClick:this.handlePlusOne,clickable:!0}),s.default.createElement(m.Icon,{className:h.default.substract,name:"substract",size:24,color:t,onClick:this.handleMinusOne,clickable:!0}))}}]),a}(s.PureComponent);g.propTypes={className:f.default.string,value:f.default.number,onChange:f.default.func};var y=g;t.default=y},function(e,t,a){e.exports={replica:"_3G_IICHXPaEZnKviLHJ0yb",replicaCount:"_9_JUYIFMisim9_h_gSVcF"}},function(e,a,r){"use strict";r(16);var n=r(19);r(20),r(4),r(18),r(11),r(110),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(4),r(21),r(18),r(43),r(11),r(110);var l=n(r(38));r(35);var u=n(r(39)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(26)),m=r(189),h=n(r(801)),v=n(r(459)),g=n(r(482)),y=n(r(92)),E=n(r(3433)),b=n(r(3435)),O=n(r(3437)),S=n(r(1549));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var _=function(e){(0,c.default)(r,e);var a=C(r);function r(e){var n;(0,o.default)(this,r),(n=a.call(this,e)).showRerun=function(){n.setState({showRerun:!0})},n.hideRerun=function(){n.setState({showRerun:!1})},n.handleCurrentBuilderChange=function(e){n.setState({currentBuilderName:e,builderDetail:{},runDetail:{}}),n.fetchData(e)},n.fetchData=function(){var e=(0,u.default)(l.default.mark((function e(t){var a,r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getBuilderDetail(t);case 2:a=e.sent,(r=(0,p.default)(a,"status.lastRunName"))&&n.getRunDetail(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getBuilderDetail=function(){var e=(0,u.default)(l.default.mark((function e(t){var a,r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.namespace,e.next=3,n.builderStore.fetchDetail({cluster:n.cluster,name:t,namespace:a});case 3:if(r=e.sent,"NotFound"!==(0,p.default)(r,"_originData.reason","")){e.next=7;break}return n.setState({notFound:!0}),e.abrupt("return");case 7:return n.setState({builderDetail:r}),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.getRunDetail=function(){var e=(0,u.default)(l.default.mark((function e(t){var a,r,u;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.props.namespace,n.setState({getRunDetailLoading:!0}),clearTimeout(n.refreshTimer),r=(0,p.default)(n.state.builderDetail,"status.lastRunName"),e.next=6,n.runStore.fetchRunDetail({namespace:a,runName:t||r});case 6:u=e.sent,"running"===(0,p.default)(u,"status","")&&(n.refreshTimer=setTimeout(n.getRunDetail,4e3)),n.setState({runDetail:u,getRunDetailLoading:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleRerun=function(){var e=(0,u.default)(l.default.mark((function e(t){var a,r,u,o,i;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.newTag,r=t.isUpdateWorkload,u=n.props.namespace,o=n.state.currentBuilderName,clearTimeout(n.refreshTimer),e.next=6,n.builderStore.rerun({cluster:n.cluster,newTag:a,name:o,namespace:u,isUpdateWorkload:r});case 6:i=e.sent,n.setState({runDetail:y.default.s2iruns(i),getRunDetailLoading:!1,showRerun:!1}),setTimeout((function(){n.fetchData(o)}),1e3);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.renderBuilderSelect=function(){var e=n.props.builderNames;if(1===e.length)return null;var t=e.map((function(e){return{label:e,value:e}}));return d.default.createElement(m.Select,{className:S.default.builderSelector,onChange:n.handleCurrentBuilderChange,options:t,defaultValue:t[0]})},n.renderLog=function(){var e=n.state.runDetail,a=e.logURL,r=e.status;return!a&&"Running"===r?d.default.createElement("div",{className:S.default.title},d.default.createElement(m.Loading,{size:"16"}),d.default.createElement("p",null,t("TASK"),d.default.createElement("span",{className:S.default.taskName},n.state.currentBuilderName),t("IN_PROGRESS"))):a?d.default.createElement(O.default,{onRerun:n.showRerun,runDetail:n.state.runDetail,builderName:n.state.currentBuilderName}):null};var i=e.builderNames;return n.state={builderDetail:{},runDetail:{},getRunDetailLoading:!0,currentBuilderName:i[0],showRerun:!1,notFound:!1},n.refreshTimer=null,n.builderStore=new v.default,n.runStore=new g.default,n}return(0,i.default)(r,[{key:"componentDidMount",value:function(){var e=this.props.builderNames;this.fetchData(e[0])}},{key:"componentWillUnmount",value:function(){clearTimeout(this.refreshTimer)}},{key:"render",value:function(){var e=this.props.className,a=(0,p.default)(this.state.builderDetail,"spec.config");return this.state.notFound?null:d.default.createElement(h.default,{title:t("IMAGE_BUILDING"),operations:this.renderBuilderSelect()},d.default.createElement(E.default,{config:a,className:e}),this.renderLog(),d.default.createElement(b.default,{detail:this.state.builderDetail,visible:this.state.showRerun,onOk:this.handleRerun,onCancel:this.hideRerun}))}},{key:"cluster",get:function(){return this.props.cluster}}]),r}(d.default.Component);a.default=_,_.defaultProps={builderNames:[]}},function(e,a,r){"use strict";r(16);var n=r(19);r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(5)),d=r(189),p=r(56),m=n(r(3434));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props.className,a=this.props.config,r=a.sourceUrl,n=a.builderImage;return s.default.createElement("ul",{className:(0,f.default)(m.default.builderContent,e)},s.default.createElement("li",null,s.default.createElement("span",{className:m.default.icon},s.default.createElement(d.Icon,{name:"resource",size:24})),s.default.createElement("div",{className:m.default.info},s.default.createElement("p",{className:m.default.value},r),s.default.createElement("p",{className:m.default.name},t("SOURCE_URL")))),s.default.createElement("li",null,s.default.createElement("span",{className:m.default.icon,style:{backgroundImage:"url('/extensions-static/ks-console-embed/dist/v3dist/assets/".concat((0,p.getLanguageName)(n),".png')")}}),s.default.createElement("div",{className:m.default.info},s.default.createElement("p",{className:m.default.value},n),s.default.createElement("p",{className:m.default.name},t("BUILDER_IMAGE")))))}}]),r}(s.default.Component);a.default=v,v.defaultProps={config:{sourceUrl:"-",builderImage:"-"}}},function(e,t,a){e.exports={builderContent:"_3DpW67GJGs2Gb6D-93UKPo",icon:"_3LFug2tzzY1kHA_1173DAt",info:"_2jSdddSOMXZckY3OS8O85m",value:"_2x4ZpbzfKuDD9aaVb2Wotd",name:"_20yCefRh6x4aKwgFIRqr-i"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=n(r(1)),d=r(189),p=n(r(798)),m=n(r(3436));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(e){var n;return(0,l.default)(this,r),(n=a.call(this,e)).handleOk=function(){var e=n.props.onOk;n.form&&e((n.form.current||{}).getData())},n.renderEnableUpdate=function(){return s.default.createElement("div",{className:m.default.checkboxCard},s.default.createElement("label",null,s.default.createElement(d.Form.Item,null,s.default.createElement(d.Checkbox,{name:"isUpdateWorkload",defaultValue:!0},s.default.createElement("span",{name:!0,className:m.default.title},t("S2I_UPDATE_WORKLOAD"))))),s.default.createElement("p",{className:m.default.desc},t("S2I_UPDATA_WORKLOAD_DESC")))},n.form=s.default.createRef(),n}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.visible,r=e.isSubmitting,n=e.onCancel,l=e.detail;return s.default.createElement(p.default.Form,{formRef:this.form,width:691,title:t("RERUN"),icon:"cdn",onOk:this.handleOk,okText:t("RERUN"),onCancel:n,visible:a,isSubmitting:r},s.default.createElement(d.Form.Item,{label:t("CODE_REPOSITORY_URL")},s.default.createElement(d.Input,{name:"url",defaultValue:l.sourceUrl,readOnly:!0})),s.default.createElement(d.Form.Item,{label:t("NEW_TAG")},s.default.createElement(d.Input,{name:"newTag",placeholder:t("NEW_TAG_DESC")})),this.renderEnableUpdate())}}]),r}(s.default.Component);a.default=v,v.propTypes={visible:f.default.bool,onOk:f.default.func,onCancel:f.default.func,isSubmitting:f.default.bool},v.defaultProps={visible:!1,onOk:function(){},onCancel:function(){},isSubmitting:!1,url:""}},function(e,t,a){e.exports={checkboxCard:"_3wxm3DEIOEe4v6xdFReBye",title:"_26pG1CikYNMzdp9U94PFLW",desc:"_2Sc0rL4k31BwYdF62NJ-VX"}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(11),r(110),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(21),r(18),r(43),r(11),r(110);var l=n(r(38));r(35);var u,o,i,c=n(r(39)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=n(r(0)),v=r(243),g=n(r(198)),y=n(r(5)),E=r(189),b=n(r(854)),O=n(r(482)),S=n(r(1549));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var _=(0,v.observer)((i=o=function(e){(0,d.default)(r,e);var a=C(r);function r(){var e;return(0,s.default)(this,r),(e=a.call(this)).toggleLog=function(){e.state.showLog?e.setState({showLog:!1}):e.setState({showLog:!0})},e.getLog=(0,c.default)(l.default.mark((function t(){var a,r,n,u,o,i;return l.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.runDetail,r=a.logURL,n=a.status,u=a.cluster,o=e.store.logData,i="Building"===n||"Unknown"===n,clearTimeout(e.refreshTimer),r){t.next=7;break}return e.refreshTimer=setTimeout(e.getLog,4e3),t.abrupt("return");case 7:return t.next=9,e.store.getLog(r,u);case 9:if(e.handleScrollToBottom(),!o.hasMore){t.next=13;break}return e.getLog(),t.abrupt("return");case 13:i&&(e.refreshTimer=setTimeout(e.getLog,4e3));case 14:case"end":return t.stop()}}),t)}))),e.handleScrollToBottom=function(){var t=e.LogContent.current;t&&(t.scrollTop=t.scrollHeight)},e.handleRerun=function(){(0,e.props.onRerun)()},e.renderTitle=function(){var a=e.props.runDetail.status,r=e.props,n=r.builderName,l=r.onRerun;return"Successful"===a?h.default.createElement(h.default.Fragment,null,h.default.createElement("span",{className:(0,y.default)(S.default.icon,S.default.successful)}),h.default.createElement("p",null,h.default.createElement("span",{className:S.default.taskName},n),t("BUILD_LOG"))):"Building"===a?h.default.createElement(h.default.Fragment,null,h.default.createElement("span",{className:(0,y.default)(S.default.icon,S.default.running)}),h.default.createElement("p",null,t("TASK"),h.default.createElement("span",{className:S.default.taskName},n),t("IN_PROGRESS"))):"Failed"===a?h.default.createElement(h.default.Fragment,null,h.default.createElement("span",{className:(0,y.default)(S.default.icon,S.default.failed)}),h.default.createElement("p",null,t("TASK"),h.default.createElement("span",{className:S.default.taskName},n),t("HAS_FAILED"),(0,g.default)(l)?h.default.createElement(E.Tooltip,{content:t("RERUN")},h.default.createElement(E.Icon,{name:"refresh",onClick:e.handleRerun})):null)):h.default.createElement(h.default.Fragment,null,h.default.createElement("span",{className:(0,y.default)(S.default.icon,S.default.unknow)}),h.default.createElement("p",null,h.default.createElement("span",{className:S.default.taskName},n),t("BUILD_LOG")))},e.state={showLog:!0,isContainerPending:!1,noModuleMsg:null},e.store=new O.default,e.refreshTimer=null,e.LogContent=h.default.createRef(),e}return(0,f.default)(r,[{key:"componentDidMount",value:function(){globals.app.hasKSModule("whizard-logging")?this.getLog():(this.store.logData.isLoading=!1,this.setState({noModuleMsg:t("CONTAINER_LOG_NOT_ENABLED")}))}},{key:"componentWillUnmount",value:function(){this.setState({noModuleMsg:null}),clearTimeout(this.refreshTimer)}},{key:"renderLog",value:function(){var e=this.store.logData.log,a=this.props.runState,r=this.state.noModuleMsg;return e?h.default.createElement("pre",{ref:this.LogContent},r||e||t("LOADING_DOTS")):"Running"===a||"Unknown"===a?h.default.createElement(E.Loading,null,h.default.createElement("p",{className:S.default.noneLogDesc})):h.default.createElement("p",{className:S.default.noneLogDesc},t("NO_DATA"))}},{key:"render",value:function(){return this.state.isContainerPending?h.default.createElement("div",{className:S.default.logContainer},h.default.createElement(b.default,{desc:"CONTAINER_LOGS_NOT_SUPPORTED"})):h.default.createElement("div",{className:S.default.logContainer},h.default.createElement("div",{className:S.default.title,onClick:this.toggleLog},this.renderTitle(),h.default.createElement(E.Icon,{name:this.state.showLog?"chevron-up":"chevron-down",size:20})),this.state.showLog?this.renderLog():null)}}]),r}(h.default.Component),o.defaultProps={logURL:"",runState:""},u=i))||u;a.default=_},function(e,t,a){e.exports={clusters:"xF_24T-co1tk69vfD8NlA",cluster:"OOBjMvCwafQ2eHDRLYHJR"}},function(e,t,a){e.exports={deployment_codeResource:"W_sDs3V-kZQxe0O-hub-Z"}},function(e,t,a){"use strict";var r=a(162),n=a(19);a(12),a(109),a(3),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(109),a(32),a(3),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var l=n(a(31)),u=n(a(97)),o=n(a(25)),i=n(a(28)),c=n(a(41)),s=n(a(42)),f=n(a(37)),d=r(a(0)),p=n(a(1)),m=n(a(830)),h=a(189),v=a(1550),g=a(4569);a(3443);var y=n(a(3444));function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var S=function(e){(0,c.default)(a,e);var t=O(a);function a(){var e;(0,o.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={mode:"line-by-line",diffHtml:e.getDiffHtml(e.props.datas)},e.handleModeChange=function(t){return function(){return e.setState({mode:t,diffHtml:e.getDiffHtml(e.props.datas,{outputFormat:t})})}},e}return(0,i.default)(a,[{key:"getDiffHtml",value:function(e){var t=(0,u.default)(e,2),a=t[0],r=t[1],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=(0,v.createPatch)("yaml",a,r,"","",{context:-1}),o=(0,g.parse)(l);return(0,g.html)(o,b({drawFileList:!1},n))}},{key:"componentDidUpdate",value:function(e){(0,m.default)(e.datas,this.props.datas)||this.setState({diffHtml:this.getDiffHtml(this.props.datas,{outputFormat:this.state.mode})})}},{key:"render",value:function(){var e=this.props,t=e.title,a=e.description;return d.default.createElement("div",null,d.default.createElement("div",{className:y.default.header},d.default.createElement(h.Icon,{name:"terminal",size:20}),d.default.createElement("span",null,t),d.default.createElement(h.Icon,{name:"chevron-down",clickable:!0,size:20,onClick:this.handleModeChange("line-by-line")}),d.default.createElement(h.Icon,{name:"chevron-right",clickable:!0,size:20,onClick:this.handleModeChange("side-by-side")}),d.default.createElement("span",{className:"float-right"},a)),d.default.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.diffHtml}}))}}]),a}(d.Component);t.default=S,S.propTypes={title:p.default.string,datas:p.default.arrayOf(p.default.string)},S.defaultProps={datas:["",""]}},,,function(e,t,a){},function(e,t,a){e.exports={header:"_21by05Ap1WqFl6ETG7MnQY"}},function(e,t,a){e.exports={header:"_1O9lrtOWxJdpIuBxJLt2lX",diffWrapper:"rJcIkfzIkKyVB8RM7xFBo"}},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(11),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(20),r(27),r(442),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(11),r(7);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(74)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=r(189),p=n(r(5)),m=n(r(823)),h=n(r(455)),v=n(r(26)),g=n(r(64)),y=n(r(67)),E=n(r(1)),b=n(r(0)),O=r(56),S=r(803),C=n(r(3447)),_=n(r(954));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var D=function(e){(0,c.default)(r,e);var a=N(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this,e)).initParams=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e||{},r=a.times,n=a.step,l=a.createTime,u={times:r,step:n};if(l){var o=new Date(l).valueOf()/1e3,i=Date.now()/1e3,c=i-o;switch(!0){case c<=1800:u.times=30,u.step="1m";break;case c<=3600:u.times=60,u.step="1m";break;case c<=18e3:u.times=60,u.step="5m"}}t.params=u},t.fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.state.cluster,r=R(R({},t.params),e);a&&(r.cluster=a),t.props.onFetch(r)},t.handleChange=function(e){t.params=e;var a=!e.start&&!e.end&&t.props.enableAutoRefresh;t.setState({enableAutoRefresh:a,autoRefresh:!1},(function(){(0,S.stopAutoRefresh)((0,i.default)(t)),t.fetchData()}))},t.handleClusterChange=function(e){t.setState({cluster:e},(function(){t.fetchData()}))},t.handleRefresh=function(){t.fetchData()},t.handleAutoRefresh=function(){t.setState({autoRefresh:!t.state.autoRefresh},(function(){t.state.autoRefresh?(0,S.startAutoRefresh)((0,i.default)(t)):(0,S.stopAutoRefresh)((0,i.default)(t))}))},t.handleToggle=function(e){t.setState({active:e})},t.state={active:!1,enableAutoRefresh:e.enableAutoRefresh,autoRefresh:!1,cluster:(0,v.default)(e,"clusters[0].name","")},t.init(),t}return(0,o.default)(r,[{key:"componentDidUpdate",value:function(e){e.step===this.props.step&&e.times===this.props.times&&e.createTime===this.props.createTime||(this.initParams(this.props),this.fetchData())}},{key:"componentWillUnmount",value:function(){(0,S.stopAutoRefresh)(this)}},{key:"init",value:function(){this.initParams(this.props),this.fetchData()}},{key:"renderAutoRefresh",value:function(){var e=this.state,t=e.enableAutoRefresh,a=e.autoRefresh;return t?b.default.createElement(d.Button,{className:C.default.button,type:"control",icon:a?"pause":"start",iconType:"light",onClick:this.handleAutoRefresh}):null}},{key:"renderCustomActions",value:function(){return this.props.customAction||null}},{key:"renderOperations",value:function(){var e=this.state.active,t=this.params,a=t.step,r=t.times,n=this.props.closeBtn;return b.default.createElement("div",{className:(0,p.default)(C.default.operations,(0,l.default)({},C.default.active,e))},this.props.isFederated&&b.default.createElement(d.Select,{key:this.state.cluster,prefixIcon:b.default.createElement(d.Icon,{name:"cluster"}),className:C.default.clusters,value:this.state.cluster,options:this.clusters,onChange:this.handleClusterChange,showTip:!0}),b.default.createElement(_.default,{step:a,times:r,onChange:this.handleChange,onToggle:this.handleToggle}),this.renderAutoRefresh(),b.default.createElement(d.Button,{className:C.default.button,type:"control",icon:"refresh",iconType:"light",onClick:this.handleRefresh}),this.renderCustomActions(),n)}},{key:"renderTitle",value:function(){var e=this.props.title||t("MONITORING");return b.default.createElement("div",{className:C.default.title},b.default.createElement("span",null,e),this.renderOperations())}},{key:"renderContent",value:function(){var e=this.props.children;return(0,y.default)(e)||(0,g.default)(e)&&(0,y.default)((0,h.default)(e).filter((function(e){return e})))?null:e}},{key:"render",value:function(){var e=this.props.loading,a=this.state.active;return b.default.createElement(d.Loading,{spinning:e},b.default.createElement(m.default,{className:(0,p.default)(C.default.card,(0,l.default)({},C.default.showDropDown,a)),title:this.renderTitle(),empty:t("NO_MONITORING_DATA"),isEmpty:this.props.isEmpty},b.default.createElement("div",{className:C.default.content},this.renderContent())))}},{key:"clusters",get:function(){return this.props.clusters.map((function(e){return{label:(0,O.showNameAndAlias)(e.name||e,"cluster"),value:e.name||e}}))}}]),r}(b.default.Component);a.default=D,D.propTypes={title:E.default.string,step:E.default.string,times:E.default.number,createTime:E.default.string,onFetch:E.default.func,loading:E.default.bool,refreshing:E.default.bool,isEmpty:E.default.bool,enableAutoRefresh:E.default.bool,customAction:E.default.oneOfType([E.default.node,E.default.element])},D.defaultProps={step:"10m",times:50,createTime:"",onFetch:function(){},loading:!1,refreshing:!1,isEmpty:!1,enableAutoRefresh:!0,customAction:""}},function(e,t,a){e.exports={card:"HkMSwByVKb_DH9GlZNpYS",title:"_1oinAKfdPYwC75teupWmDr",operations:"D3Ewo-uPBdaiIlaz7nbG1",button:"_2lV2YHNnzVWYZbgRLPezn6",content:"_39DKIQh7O8MogkRM7IB5wu",showDropDown:"_3wdK0lJ1xKmVaSH1oQH9iA",clusters:"_2NdSlr3w6Oy3jYXDPydnMT"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(14),r(4),r(440),r(321),r(18),r(43),r(11);var l=n(r(31)),u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=n(r(1)),p=n(r(5)),m=n(r(26)),h=r(820),v=n(r(3449));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=function(e){(0,i.default)(r,e);var a=g(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).handleClick=function(){var t=e.props.onClick;t&&t()},e}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props,a=e.theme,r=e.className,n=e.name,u=e.legend,o=e.used,i=e.total,c=e.unit,s=e.showRate,d=e.onClick,g=t(n),y=t((0,m.default)(u,"[0]","")),E=t((0,m.default)(u,"[1]",""));return f.default.createElement("div",{className:(0,p.default)(v.default.card,r,v.default[a],(0,l.default)({},v.default.cursor,!!d)),onClick:this.handleClick},f.default.createElement("img",{className:v.default.cardImg,src:"/extensions-static/ks-console-embed/dist/v3dist/assets/banner-icon-1.svg"}),f.default.createElement("div",{className:v.default.chart},f.default.createElement(h.SimpleCircle,{theme:a,width:"100%",height:"100%",title:g,legend:u,value:parseFloat(o),total:parseFloat(i),unit:c,showRate:s})),f.default.createElement("div",{className:v.default.status},f.default.createElement("div",{className:v.default.title},g),f.default.createElement("div",{className:v.default.detail},f.default.createElement("p",null,f.default.createElement("label",null,y,":")," ",o," ",c),f.default.createElement("p",null,f.default.createElement("label",null,E,":")," ",i," ",c))))}},{key:"usageRate",get:function(){var e=this.props,t=e.used,a=e.total;return a?parseInt(parseFloat(t)/parseFloat(a)*100,10):0}}]),r}(f.default.Component);a.default=y,y.propTypes={theme:d.default.string,className:d.default.string,name:d.default.string,legend:d.default.array,used:d.default.oneOfType([d.default.string,d.default.number]),total:d.default.oneOfType([d.default.string,d.default.number]),unit:d.default.string,showRate:d.default.bool,onClick:d.default.func},y.defaultProps={theme:"dark",name:"Status",legend:["USED","TOTAL"],used:0,total:0,unit:"",showRate:!1}},function(e,t,a){e.exports={card:"ys1gr8DrCKFsc9EamK-Jw",cursor:"_3usZJpuk62n-HuMxSsHVZx",cardImg:"_2CRnyRZyAdh5kqk8n-fGCn",dark:"_2Xvbxm7MPLqVJY1nf5sCEB",status:"_3UJij7OY_rzeAeIIvjEEjW",title:"_1hjbImhuSjYDO3dQJyFLur",detail:"_34HFhvKBamjXf9djSGRJ2a",scale:"_3siV0Zg05idS6hJqGYBJ-i",control:"hZhz1_vK5xIjbq88ZdEnq",chart:"T-RcaS4YifEwfwXUwPUo7"}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(20),a(24),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(20),a(27),a(29),a(24),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(74)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(1)),p=r(a(5)),m=r(a(67)),h=r(a(198)),v=a(56),g=a(803),y=a(189),E=r(a(823)),b=r(a(854)),O=r(a(3451));function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var k=function(e){(0,i.default)(a,e);var t=_(a);function a(e){var r;return(0,l.default)(this,a),(r=t.call(this,e)).fetchData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.props.onFetch(e)},r.handleTabClick=function(e){return(0,v.cacheFunc)("_tab_".concat(e),(function(){r.setState({activeIndex:Number(e)})}),(0,o.default)(r))},r.state={activeIndex:0},r.fetchData(),r}return(0,u.default)(a,[{key:"componentDidMount",value:function(){(0,g.startAutoRefresh)(this,{interval:1e4,leading:!1})}},{key:"componentWillUnmount",value:function(){(0,g.stopAutoRefresh)(this)}},{key:"renderTabList",value:function(){var e=this,t=this.props.tabOptions,a=this.state.activeIndex;return(0,m.default)(t)?null:f.default.createElement("div",{className:O.default.tabList},t.map((function(t,r){var l=r===a,u=t.component,o=t.render,i=C(C({},t.props),{},{active:l});return f.default.createElement("div",{key:r,className:(0,p.default)(O.default.tab,(0,n.default)({},O.default.active,l)),onClick:e.handleTabClick(r)},f.default.createElement("i",{className:O.default.img}),f.default.createElement("div",{className:O.default.inner},(0,h.default)(o)?o(i):f.default.createElement(u,i)))})))}},{key:"renderTabContent",value:function(){var e=this.props.contentOptions,t=e[this.state.activeIndex]||{},a=t.component,r=t.render,n=C({},t.props);return f.default.createElement("div",{className:O.default.tabContent},f.default.createElement("div",{className:O.default.inner},(0,m.default)(e)?f.default.createElement(b.default,null):(0,h.default)(r)?r(n):f.default.createElement(a,n)))}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.title,r=e.loading;return f.default.createElement(E.default,{className:(0,p.default)(O.default.card,t),title:a},f.default.createElement(y.Loading,{spinning:r},f.default.createElement("div",{className:O.default.content},this.renderTabList(),this.renderTabContent())))}}]),a}(f.default.Component);t.default=k,k.propTypes={title:d.default.string,tabOptions:d.default.array,contentOptions:d.default.array,loading:d.default.bool,refreshing:d.default.bool,onFetch:d.default.func},k.defaultProps={title:"",tabOptions:[],contentOptions:[],loading:!0,refreshing:!1,onFetch:function(){}}},function(e,t,a){e.exports={content:"_2Xa5otudrXKkSBP4ZXj_25",tabList:"aUXLJpvLU0FB8AeOm_82I",tab:"_3ZiPd90tJiVMCa-tFKc6nM",active:"_1tGP7Q2XasoaNQb4W3sxtn",img:"_1C8h77HY1Vvimz27VInPzs",inner:"DjQwqZQmUhjM9VR9YmkZ",tabContent:"_2yiUNLbPZ7wkxc_wDsSjcI"}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(44),a(6),a(70),a(20),a(51),a(98),a(14),a(8),a(13),a(9),a(4),a(18),a(11),a(73),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(44),a(6),a(70),a(20),a(27),a(51),a(98),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(21),a(18),a(43),a(11),a(73),a(7);var n=r(a(317)),l=r(a(38)),u=r(a(31));a(35);var o,i,c,s=r(a(39)),f=r(a(25)),d=r(a(28)),p=r(a(41)),m=r(a(42)),h=r(a(37)),v=r(a(0)),g=a(17),y=a(243),E=r(a(1)),b=r(a(67)),O=r(a(26)),S=r(a(1019)),C=r(a(1552)),_=r(a(3454)),k=r(a(3455)),R=r(a(1217));function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,h.default)(e);if(t){var n=(0,h.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,m.default)(this,a)}}var P=(0,y.observer)((c=i=function(e){(0,p.default)(a,e);var t=T(a);function a(e){var r;return(0,f.default)(this,a),(r=t.call(this,e)).getItemName=function(e){return(0,O.default)(e,"metric.pod","-")},r.fetchResources=function(){var e=(0,s.default)(l.default.mark((function e(t){return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.resourceStore.fetchSortedMetrics(D(D({metrics:[r.metricType],limit:20},r.resourceParams),t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.fetchMonitorings=function(){var e=(0,s.default)(l.default.mark((function e(t){var a;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.state.checked,e.next=3,r.monitorStore.fetchMetrics(D(D({resources:a,metrics:[r.metricType]},r.resourceParams),t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.fetchData=(0,s.default)(l.default.mark((function e(){var t,a=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r.params=t,e.next=4,r.fetchResources();case 4:return e.next=6,r.fetchMonitorings(t);case 6:case"end":return e.stop()}}),e)}))),r.handleChangeChecked=function(e){r.setState({checked:e},(function(){var e=r.state.checked,t=r.monitorsData.map(r.getItemName);e.some((function(e){return!t.includes(e)&&(r.fetchMonitorings(D({pods:[e],more:!0},r.params)),!0)}))}))},r.state={checked:[]},r.init(),r}return(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this;(0,g.when)((function(){return!(0,b.default)(e.resourcesData)&&(0,b.default)(e.state.checked)}),(function(){var t=e.props.defaultChecked,a=e.resourcesData.map((function(t){return e.getItemName(t)})).slice(0,t);e.setState({checked:a})}))}},{key:"init",value:function(){var e=new S.default;this.resourceStore=e,this.monitorStore=e}},{key:"renderCharts",value:function(){var e=this,t=this.props.config,a=this.state.checked,r=[];return a.forEach((function(t){var a=e.monitorsData.find((function(a){return e.getItemName(a)===t}));a&&r.push(a)})),v.default.createElement(k.default,{loading:this.monitorStore.isLoading,config:t,data:r})}},{key:"renderResroucesList",value:function(){var e=this.props.config,t=this.state.checked,a=this.resources,r=a.page,n=a.total,l=a.isLoading;return v.default.createElement(_.default,{loading:l,config:e,name:this.name,page:r,total:n,checked:t,data:this.resourcesData,onFetch:this.fetchResources,onChange:this.handleChangeChecked})}},{key:"render",value:function(){var e=this.monitorStore,t=e.isLoading,a=e.isRefreshing,r=this.props,l=r.visible,u=r.onCancel;return v.default.createElement(C.default,(0,n.default)({visible:l,onFetch:this.fetchData,onCancel:u,loading:t,refreshing:a},this.monitorOptions),v.default.createElement("div",{className:R.default.content},this.renderResroucesList(),this.renderCharts()))}},{key:"monitorOptions",get:function(){return{times:50,step:"5m"}}},{key:"name",get:function(){return"POD_PL"}},{key:"metrics",get:function(){return this.monitorStore.data}},{key:"metricType",get:function(){return this.props.config.metricType}},{key:"resourceParams",get:function(){var e=this.props,t=e.module;return{cluster:e.cluster,namespace:e.namespace,workload_kind:t,workload_name:e.name}}},{key:"resources",get:function(){return(0,g.toJS)((0,O.default)(this.resourceStore,"sort",{}))}},{key:"resourcesData",get:function(){return(0,O.default)(this.resources,"data[".concat(this.metricType,"].data.result"),[])}},{key:"monitorsData",get:function(){return(0,O.default)(this.monitorStore,"data[".concat(this.metricType,"].data.result"),[])}}]),a}(v.default.Component),i.propTypes={visible:E.default.bool,defaultChecked:E.default.number,limit:E.default.number,config:E.default.object,onCancel:E.default.func,module:E.default.string,name:E.default.string,namespace:E.default.string,cluster:E.default.string},i.defaultProps={visible:!1,defaultChecked:5,limit:10,config:{},module:"deployments",name:"",namespace:"",cluster:"",onCancel:function(){}},o=c))||o;t.default=P},function(e,t,a){e.exports={body:"_2nw82TdZqbyjr0bm40Sih4",header:"_1M41jikM7ePDXhFT1WDbIS",title:"_3ywwov218ZZPCFgHYl7T5E",button:"_6fNsilTYZ0OIAuj8bKcuM",content:"_26InltOTHFXzw6qW-no6YV"}},function(e,a,r){"use strict";r(16);var n=r(19);r(10),r(70),r(20),r(14),r(4),r(18),r(11),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(10),r(70),r(20),r(27),r(29),r(14),r(4),r(18),r(43),r(11),r(73);var l=n(r(31)),u=n(r(58)),o=n(r(25)),i=n(r(28)),c=n(r(74)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(0)),m=n(r(1)),h=n(r(5)),v=n(r(67)),g=n(r(26)),y=n(r(884)),E=n(r(859)),b=r(56),O=r(61),S=r(803),C=r(189),_=n(r(191)),k=n(r(854)),R=n(r(1217));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var D=function(e){(0,s.default)(r,e);var a=N(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).getItemName=function(e){return(0,g.default)(e,"metric.pod","-")},n.getCurrentValue=function(e){var t=n.props.config,a=t.type,r=t.unitType;return(0,S.getSuitableValue)((0,g.default)(e,"value[1]"),r||a)},n.handleScroll=function(e){var t=e.target,a=t.clientHeight,r=t.scrollHeight,l=a+t.scrollTop===r,u=n.props,o=u.data,i=u.page,c=u.total,s=u.onFetch;!n.scrolling&&c!==o.length&&l&&(n.scrolling=!0,s({more:!0,page:i+1}).then((function(){n.scrolling=!1})))},n.toggleChecked=function(e){n.setState({showChecked:e})},n.handleCheck=function(e){var a=n.getItemName(e);return(0,b.cacheFunc)("_resource_".concat(a),(function(){var e=n.props.maxChecked,r=(0,u.default)(n.props.checked);r.includes(a)?(0,y.default)(r,(function(e){return e===a})):r.length>=e?_.default.info({content:t("MONITORING_SELECT_LIMIT_MSG")}):r.push(a),n.props.onChange(r)}),(0,c.default)(n))},n.renderResourceItem=function(e){var a=n.props.checked,r=n.getItemName(e),l=n.getCurrentValue(e);return p.default.createElement("div",{key:r,className:R.default.item,onClick:n.handleCheck(e)},p.default.createElement(C.Checkbox,{className:R.default.itemCheck,checked:a.includes(r)}),p.default.createElement(C.Icon,{name:n.icon,size:16}),p.default.createElement("div",{className:R.default.itemInfo},p.default.createElement("strong",{title:r},r),p.default.createElement("p",null,t("CURRENT_VALUE",{value:l}))))},n.renderResourceList=function(e){return(0,v.default)(e)?p.default.createElement(k.default,null):e.map(n.renderResourceItem)},n.state={showChecked:!1},n.listRef=p.default.createRef(),n.throttleScroll=(0,E.default)(n.handleScroll,100),n}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.listNode=this.listRef.current,this.listNode&&this.listNode.addEventListener("scroll",this.throttleScroll)}},{key:"componentWillUnmount",value:function(){this.listNode&&this.listNode.removeEventListener("scroll",this.throttleScroll)}},{key:"render",value:function(){var e=this.props,a=e.loading,r=e.name,n=this.state.showChecked,u=n?this.checkedData:this.props.data;return p.default.createElement("div",{className:R.default.resources},p.default.createElement("div",{className:R.default.title},p.default.createElement("strong",null,t(r.toUpperCase())),p.default.createElement(C.Checkbox,{checked:n,onChange:this.toggleChecked},t("SHOW_SELECTED_ONLY"))),p.default.createElement("div",{className:R.default.content},p.default.createElement(C.Loading,{spinning:a},p.default.createElement("div",{className:R.default.list},p.default.createElement("div",{className:(0,h.default)((0,l.default)({},R.default.hide,!n))},this.renderResourceList(u)),p.default.createElement("div",{className:(0,h.default)((0,l.default)({},R.default.hide,n)),ref:this.listRef},this.renderResourceList(u))))))}},{key:"icon",get:function(){return O.ICON_TYPES[this.props.name.toLowerCase()]||"appcenter"}},{key:"checkedData",get:function(){var e=this,t=this.props,a=t.checked;return t.data.filter((function(t){return a.includes(e.getItemName(t))}))}}]),r}(p.default.Component);a.default=D,D.propTypes={loading:m.default.bool,config:m.default.object,name:m.default.string,maxChecked:m.default.number,page:m.default.number,total:m.default.number,checked:m.default.array,data:m.default.array,onFetch:m.default.func,onChange:m.default.func},D.defaultProps={loading:!1,config:{},name:"Resources",maxChecked:10,page:1,total:0,checked:[],data:[],onFetch:function(){},onChange:function(){}}},function(e,t,a){"use strict";var r=a(19);a(12),a(3),a(10),a(6),a(20),a(8),a(13),a(9),a(4),a(18),a(11),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(3),a(10),a(6),a(20),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7);var n=r(a(317)),l=r(a(31)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=r(a(1)),p=r(a(26)),m=r(a(67)),h=a(803),v=a(189),g=r(a(854)),y=a(820),E=r(a(1217));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var C=function(e){(0,i.default)(a,e);var t=S(a);function a(){var e;(0,u.default)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).getItemName=function(e){return(0,p.default)(e,"metric.pod","-")},e}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.loading,r=t.config,l=t.data;return f.default.createElement("div",{className:E.default.charts},f.default.createElement(v.Loading,{spinning:a},f.default.createElement("div",{className:E.default.list},(0,m.default)(l)?f.default.createElement(g.default,null):l.map((function(t){var a=e.getItemName(t),l=(0,h.getAreaChartOps)(O(O({},r),{},{legend:[r.legend||"-"],data:[t]}));return(0,m.default)(l.data)?null:f.default.createElement("div",{key:a,className:E.default.item},f.default.createElement("div",{className:E.default.title},a),f.default.createElement(y.SimpleArea,(0,n.default)({width:"100%"},l)))})))))}}]),a}(f.default.Component);t.default=C,C.propTypes={loading:d.default.bool,config:d.default.object,data:d.default.array},C.defaultTypes={loading:!1,config:{},data:[]}},function(e,t,a){e.exports={item:"_3ZoGRWv7aLT1samH8rijDQ",more:"_2fsnc5eZsgjIapsZmS6S2F"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(973)),o=r(a(868)),i=r(a(1215)),c=r(a(1216)),s=r(a(1018));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:s.default,exact:!0},{path:"".concat(e,"/revision-control"),title:"REVISION_RECORDS",component:i.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(e,"/monitors"),title:"MONITORING",component:c.default,exact:!0,clusterModule:"whizard-monitoring"},{path:"".concat(e,"/env"),title:"ENVIRONMENT_VARIABLE_PL",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(973)),o=r(a(868)),i=r(a(1216)),c=r(a(1215)),s=r(a(3459));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:s.default,exact:!0},{path:"".concat(e,"/revision-control"),title:"REVISION_RECORDS",component:c.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(e,"/monitors"),title:"MONITORING",component:i.default,exact:!0,clusterModule:"whizard-monitoring"},{path:"".concat(e,"/env"),title:"ENVIRONMENT_VARIABLE_PL",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n,l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=a(243),f=a(1018);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var p=(0,s.inject)("detailStore")(n=(0,s.observer)(n=function(e){(0,o.default)(a,e);var t=d(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"enableScaleReplica",get:function(){return null}}]),a}(f.Component))||n)||n;t.default=p},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(973)),o=r(a(868)),i=r(a(3461)),c=r(a(3462));t.default=function(e){return[{path:"".concat(e,"/records"),title:"RUN_RECORDS",component:c.default,exact:!0},{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:i.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(e,"/env"),title:"ENVIRONMENT_VARIABLE_PL",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/records"),exact:!0})]}},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n,l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=a(243),d=a(1018);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var m=(0,f.inject)("detailStore")(n=(0,f.observer)(n=function(e){(0,o.default)(a,e);var t=p(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"renderContent",value:function(){return s.default.createElement("div",null,this.renderContainerPorts(),this.renderPods())}}]),a}(d.Component))||n)||n;t.default=m},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(195),r(11),r(69),r(7);var l,u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=r(243),h=r(56),v=r(189),g=n(r(823)),y=n(r(807)),E=n(r(3463));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var C=(0,m.inject)("rootStore","detailStore","recordStore")(l=(0,m.observer)(l=function(e){(0,c.default)(r,e);var a=S(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).fetchData=function(e){n.recordStore&&n.recordStore.fetchExcuteRecords(O(O({},e),n.props.match.params))},n.getColumns=function(){return[{title:t("SN_NO"),dataIndex:"id",width:"7%"},{title:t("STATUS"),dataIndex:"status",width:"19%",render:function(e,a){return d.default.createElement(y.default,{type:e,name:t("JOB_".concat(e.toUpperCase())),ready:a.succeed,total:a.desire})}},{title:t("MESSAGE"),dataIndex:"messages[0]",render:function(e){return e||"-"}},{title:t("START_TIME"),dataIndex:"start-time",render:function(e){return(0,h.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}},{title:t("END_TIME"),dataIndex:"completion-time",render:function(e){return!e||/^0001-01-01/.test(e)?"-":(0,h.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}}]},n.handleSearch=function(e){n.fetchData(e)},n.handlePagination=function(e){n.fetchData({page:e})},n.handleRefresh=function(){n.fetchData()},n.renderTableTitle=function(){return d.default.createElement("div",{className:E.default.nav},d.default.createElement(v.Columns,null,d.default.createElement(v.Column,null,d.default.createElement(v.InputSearch,{name:"search",placeholder:t("SEARCH"),onSearch:n.handleSearch}))))},n.renderTableFooter=function(){var e=n.excute,a=e.total,r=e.page,l=e.limit;return d.default.createElement(v.Level,null,d.default.createElement(v.LevelLeft,null,t("TOTAL_ITEMS",{num:a})),d.default.createElement(v.LevelRight,null,d.default.createElement(v.Pagination,{page:r,total:a,limit:l,onChange:n.handlePagination})))},n.fetchData(),n.disposer=(0,p.reaction)((function(){return n.store.detail}),(function(){return n.fetchData()})),n}return(0,i.default)(r,[{key:"store",get:function(){return this.props.detailStore}},{key:"recordStore",get:function(){return this.props.recordStore}},{key:"excute",get:function(){return(0,p.toJS)(this.recordStore.excute)}}]),(0,i.default)(r,[{key:"componentWillUnmount",value:function(){this.disposer&&this.disposer()}},{key:"renderTable",value:function(){var e=this.excute,t=e.data,a=e.isLoading;return d.default.createElement(v.Table,{rowKey:"uid",className:E.default.table,dataSource:t,columns:this.getColumns(),loading:a})}},{key:"render",value:function(){return d.default.createElement(g.default,{className:E.default.main,title:t("RUN_RECORDS"),operations:d.default.createElement(v.Button,{icon:"refresh",type:"flat",onClick:this.handleRefresh})},d.default.createElement("div",{className:E.default.content},this.renderTable()))}}]),r}(d.default.Component))||l)||l;a.default=C},function(e,t,a){e.exports={table:"_10PRl4Sm2Wh5lsfpvZW5mF",content:"_1EReFhCHZwd2laCX8SNkzJ"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(868)),o=r(a(3465));t.default=function(e){return[{path:"".concat(e,"/records"),title:"RUN_RECORDS",component:o.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0,clusterModule:"whizard-monitoring"},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/records"),exact:!0})]}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.Component=a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(27),r(29),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(7);var l,u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(17),m=n(r(26)),h=r(437),v=r(243),g=r(189),y=n(r(823)),E=n(r(807)),b=r(439),O=r(56),S=n(r(319)),C=n(r(1556)),_=n(r(3466));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var D=(0,v.inject)("rootStore","detailStore")(l=(0,v.observer)(l=function(e){(0,c.default)(r,e);var a=N(r);function r(e){var n;return(0,o.default)(this,r),(n=a.call(this,e)).fetchData=function(e){var t=(0,p.toJS)(n.store.detail),a=t.cluster,r=t.namespace,l=(0,m.default)(t,"spec.jobTemplate.metadata.labels",{});n.recordStore.fetchListByK8s(R(R({},e),{},{cluster:a,namespace:r,selector:l}))},n.getColumns=function(){return[{title:t("JOB"),dataIndex:"name",width:"19%",render:function(e){return d.default.createElement(h.Link,{className:"item-name",to:"".concat(n.prefix,"/jobs/").concat(e)},e)}},{title:t("STATUS"),dataIndex:"status",width:"19%",render:function(e,a){var r=(0,b.getJobStatus)(a);return d.default.createElement(E.default,{type:r,name:t(r)})}},{title:t("START_TIME"),dataIndex:"status.startTime",render:function(e){return(0,O.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss")}},{title:t("END_TIME"),dataIndex:"status.completionTime",render:function(e,t){var a=(0,m.default)(t,"status.conditions[0].lastProbeTime");return e?(0,O.getLocalTime)(e).format("YYYY-MM-DD HH:mm:ss"):a?(0,O.getLocalTime)(a).format("YYYY-MM-DD HH:mm:ss"):"-"}},{render:function(e){return d.default.createElement(g.Button,{icon:"refresh",type:"flat",onClick:n.handleRerun(e)})}}]},n.handleRerun=function(e){return function(){n.imitateJobsStore.rerun(e).then((function(){n.fetchData()}))}},n.recordStore=new C.default,n.imitateJobsStore=new S.default("jobs"),n}return(0,i.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"renderTable",value:function(){var e=this.recordStore.list,t=e.data,a=e.isLoading;return d.default.createElement(g.Table,{className:_.default.table,dataSource:(0,p.toJS)(t),columns:this.getColumns(),loading:a})}},{key:"render",value:function(){return d.default.createElement(y.default,{className:_.default.main,title:t("RUN_RECORDS")},d.default.createElement("div",{className:_.default.content},this.renderTable()))}},{key:"store",get:function(){return this.props.detailStore}},{key:"params",get:function(){return this.props.match.params}},{key:"prefix",get:function(){var e=this.props.match.params,t=e.cluster,a=e.workspace,r=e.namespace;return"".concat(a?"/".concat(a):"","/clusters/").concat(t,"/projects/").concat(r)}}]),r}(d.default.Component))||l)||l,T=D;a.default=T;var P=D;a.Component=P},function(e,t,a){e.exports={content:"_2mJmtwYaCtphVvYo8z-SzP",table:"_2sJ-1skolGuF8fcoosL8X3"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(868)),o=r(a(3468));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:o.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(17),p=n(r(67)),m=r(243),h=n(r(801)),v=n(r(800)),g=n(r(920)),y=n(r(974)),E=n(r(1074)),b=n(r(3470)),O=n(r(3472));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var C=(0,m.inject)("detailStore","serviceMonitorStore")(l=(0,m.observer)(l=function(e){(0,i.default)(r,e);var a=S(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(e=a.call.apply(a,[this].concat(n))).store=e.props.detailStore,e}return(0,o.default)(r,[{key:"componentWillUnmount",value:function(){this.disposer&&this.disposer()}},{key:"renderPods",value:function(){var e=this.store.detail.selector;return(0,p.default)(e)?null:f.default.createElement(g.default,{prefix:this.prefix,detail:this.store.detail})}},{key:"renderExternal",value:function(){var e=(0,d.toJS)(this.store.detail);return f.default.createElement(h.default,{title:t("EXTERNAL_SERVICE")},f.default.createElement(v.default,{title:e.externalName,description:t("EXTERNALNAME")}))}},{key:"renderPlacement",value:function(){var e=this.props.match.params,t=e.name,a=e.namespace;return this.store.detail.isFedManaged?f.default.createElement(y.default,{module:this.store.module,name:t,namespace:a}):null}},{key:"renderPorts",value:function(){var e=(0,d.toJS)(this.store.detail);return f.default.createElement(h.default,{title:t("PORT_PL")},f.default.createElement(b.default,{detail:e}))}},{key:"renderWorkloads",value:function(){var e=this.store.detail,t=e.cluster,a=e.namespace,r=e.selector,n=e.workloadType;return(0,p.default)(r)?null:f.default.createElement(E.default,{selector:r,cluster:t,namespace:a,prefix:"".concat(this.prefix,"/projects/").concat(a),module:"".concat(n.toLowerCase(),"s")})}},{key:"renderContent",value:function(){return"ExternalName"===this.store.detail.specType?this.renderExternal():f.default.createElement("div",null,this.renderPlacement(),this.renderPorts(),this.renderWorkloads(),this.renderPods())}},{key:"render",value:function(){return f.default.createElement("div",{className:O.default.main},this.renderContent())}},{key:"prefix",get:function(){var e=this.props.match.params,t=e.workspace,a=e.cluster;return"".concat(t?"/".concat(t):"","/clusters/").concat(a)}}]),r}(f.default.Component))||l)||l;a.default=C},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(29),r(14),r(4),r(18),r(43),r(11);var l,u,o,i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(26)),m=n(r(0)),h=r(437),v=n(r(1)),g=r(243),y=n(r(800)),E=n(r(833)),b=n(r(901)),O=r(56),S=r(61),C=r(439),_=n(r(1202)),k=n(r(1560));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var N=(0,g.observer)((o=u=function(e){(0,s.default)(r,e);var a=R(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).fetchData=function(e){t.revisionStore.fetchCurrentRevision(e)},t.revisionStore=new _.default(e.detail.module),t}return(0,c.default)(r,[{key:"componentDidMount",value:function(){this.fetchData(this.props.detail)}},{key:"getDescription",value:function(e){var a=(0,C.getWorkloadStatus)(e,e.module),r=a.status,n=a.reason;if(n)return m.default.createElement(E.default,{status:r,reason:t(n),data:e});var l=e.updateTime,u=e.createTime;return l?t("UPDATED_TIME",{value:(0,O.getLocalTime)(l).format("YYYY-MM-DD HH:mm:ss")}):t("CREATED_TIME",{diff:(0,O.getLocalTime)(u).format("YYYY-MM-DD HH:mm:ss")})}},{key:"render",value:function(){var e=this.props,a=e.detail,r=e.prefix;if(!a)return null;var n=(0,p.default)(a,"module");return m.default.createElement("div",{className:k.default.item},m.default.createElement(y.default,{icon:S.ICON_TYPES[a.module],title:m.default.createElement(h.Link,{to:"".concat(r,"/").concat(a.module,"/").concat(a.name)},(0,O.getDisplayName)(a)),description:this.getDescription(a)}),m.default.createElement(y.default,{title:n?t("WORKLOAD_TYPE_".concat(n.toUpperCase())):"-",description:t("TYPE")}),m.default.createElement(y.default,{title:m.default.createElement(b.default,{data:a,module:a.module}),description:t("STATUS")}),m.default.createElement(y.default,{title:this.curRevision,description:t("REVISION_RECORD")}))}},{key:"curRevision",get:function(){var e=this.revisionStore.currentRevision;return"#".concat(e)}}]),r}(m.default.Component),u.propTypes={className:v.default.string,prefix:v.default.string,detail:v.default.object},u.defaultProps={prefix:"",detail:{}},l=o))||l;a.default=N},function(e,a,r){"use strict";r(16);var n=r(162),l=r(19);r(20),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(4),r(18),r(43),r(11);var u=l(r(25)),o=l(r(28)),i=l(r(41)),c=l(r(42)),s=l(r(37)),f=n(r(0)),d=r(189),p=l(r(67)),m=l(r(3471));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var v=function(e){(0,i.default)(r,e);var a=h(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var e=this.props.detail;return(0,p.default)(e.ports)?null:f.default.createElement("div",{className:m.default.portsWrapper},e.ports.map((function(e,a){return f.default.createElement("div",{key:a,className:m.default.ports},f.default.createElement(d.Icon,{name:"pod",size:40}),f.default.createElement("div",{className:m.default.port},f.default.createElement("p",null,f.default.createElement("strong",null,e.targetPort)),f.default.createElement("p",null,t("CONTAINER_PORT_SCAP"))),f.default.createElement("div",{className:m.default.protocol},"→ ",e.protocol," → "),f.default.createElement(d.Icon,{name:"network-router",size:40}),f.default.createElement("div",{className:m.default.port},f.default.createElement("p",null,f.default.createElement("strong",null,e.port)),f.default.createElement("p",null,t("SERVICE_PORT_SCAP"))),e.nodePort&&f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:m.default.protocol},"→ ",e.protocol," → "),f.default.createElement(d.Icon,{name:"nodes",size:40}),f.default.createElement("div",{className:m.default.port},f.default.createElement("p",null,f.default.createElement("strong",null,e.nodePort)),f.default.createElement("div",null,t("NODE_PORT_SCAP"),f.default.createElement(d.Tooltip,{content:t("SERVICE_NODE_PORT_DESC"),trigger:"hover"},f.default.createElement(d.Icon,{name:"information"}))))))})))}}]),r}(f.Component);a.default=v},function(e,t,a){e.exports={portsWrapper:"_2We24b3_VgRd3MJKCkjq3X",ports:"_1wbVrnHLkSuMYsCbT53qFJ",port:"Knp1RLKjkSKasue9XKw-c",protocol:"_3DlE7XnkUnJCBWry_MTszr",access:"_1AD1Y5Wwpod9JC13akkKmR"}},function(e,t,a){e.exports={access:"_2N2s5v42S6JXCkBfuCNf0r"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(868)),o=r(a(3474));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:o.default,exact:!0},{path:"".concat(e,"/metadata"),title:"METADATA",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(14),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(3),r(20),r(29),r(14),r(4),r(21),r(18),r(43),r(30),r(11),r(69);var l=n(r(38));r(35);var u,o=n(r(39)),i=n(r(25)),c=n(r(28)),s=n(r(41)),f=n(r(42)),d=n(r(37)),p=n(r(67)),m=n(r(456)),h=n(r(0)),v=r(17),g=r(243),y=n(r(801)),E=n(r(974)),b=n(r(912)),O=n(r(3475)),S=n(r(3477)),C=n(r(1562));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,d.default)(e);if(t){var n=(0,d.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,f.default)(this,a)}}var k=(0,g.inject)("detailStore")(u=(0,g.observer)(u=function(e){(0,s.default)(r,e);var a=_(r);function r(e){var t;return(0,i.default)(this,r),(t=a.call(this,e)).getProjectGateway=function(e){return t.gatewayStore.getNewGatewayByProject({namespace:e.namespace,cluster:e.cluster})},t.getInitGateway=function(){var e=(0,o.default)(l.default.mark((function e(a){var r,n;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProjectGateway(a);case 2:r=e.sent,n=(0,m.default)(r,(function(e){return e.ingressClass===a.ingressClassName})),t.setState({gateway:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.state={gateway:{}},t.store=e.detailStore,t.gatewayStore=new b.default,t.module=t.store.module,t}return(0,c.default)(r,[{key:"componentDidMount",value:function(){var e=(0,v.toJS)(this.store.detail);this.getInitGateway(e)}},{key:"renderPlacement",value:function(){var e=this.props.match.params,t=e.name,a=e.namespace;return this.store.detail.isFedManaged?h.default.createElement(E.default,{module:this.module,name:t,namespace:a}):null}},{key:"renderRules",value:function(){var e=this,a=(0,v.toJS)(this.store.detail),r=a.tls||[];if((0,p.default)(a.rules))return h.default.createElement(O.default,{desc:t("NO_DATA")});var n=this.props.match.params,l=n.workspace,u=n.cluster,o=n.namespace;return h.default.createElement(y.default,{title:t("RULES")},a.rules.map((function(t,a){return h.default.createElement(S.default,{key:"".concat(t.host,"-").concat(a),tls:r,rule:t,gateway:e.state.gateway,prefix:"".concat(l?"/".concat(l):"","/clusters/").concat(u,"/projects/").concat(o)})})))}},{key:"renderContent",value:function(){return h.default.createElement("div",null,this.renderPlacement(),this.renderRules())}},{key:"render",value:function(){return h.default.createElement("div",{className:C.default.main},this.renderContent())}}]),r}(h.default.Component))||u)||u;a.default=k},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=r(a(3476));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var m=function(e){(0,u.default)(a,e);var t=p(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.desc;return c.default.createElement("div",{className:(0,f.default)(d.default.wrapper,t)},c.default.createElement("div",null,c.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/empty-card.svg",alt:""})),c.default.createElement("div",null,c.default.createElement("p",{className:d.default.desc,dangerouslySetInnerHTML:{__html:a}}),this.props.children))}}]),a}(c.default.Component);t.default=m,m.propTypes={className:s.default.string,title:s.default.string,desc:s.default.string,onCreate:s.default.func}},function(e,t,a){e.exports={wrapper:"_2vhNiBbAdrhhXpqgv1RN5G",desc:"MS4yiZzOJzi4SfeMrAyZ2"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(44),r(70),r(20),r(14),r(73),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(3),r(44),r(70),r(20),r(14),r(4),r(73);var l=n(r(0)),u=n(r(1)),o=r(437),i=r(189),c=n(r(26)),s=n(r(456)),f=n(r(67)),d=n(r(1562)),p=function(e){var a=e.gateway,r=e.rule,n=e.tls,u=void 0===n?[]:n,p=e.prefix,m=u.find((function(e){return e.hosts&&e.hosts.includes(r.host)})),h=m?"https":"http",v=r.host,g=(0,c.default)(a,"service",[]);if(!(0,f.default)(g)){var y=(0,s.default)(g,(function(e){return e.name===h}));y&&("http"===h&&80!==y.nodePort||"https"===h&&443!==y.nodePort)&&(v="".concat(v,":").concat(y.nodePort))}return l.default.createElement("div",{className:d.default.card},l.default.createElement("div",{className:d.default.content},l.default.createElement(i.Icon,{name:"earth",size:40}),l.default.createElement("div",{className:d.default.title},v,l.default.createElement("div",null,l.default.createElement("span",null,t("PROTOCOL_VALUE",{value:h.toUpperCase()})),"https"===h&&l.default.createElement("span",null,t("CERTIFICATE_VALUE",{value:m.secretName})),l.default.createElement("span",{className:d.default.tip},t("UNABLE_TO_ACCESS"),"  ",l.default.createElement(i.Tooltip,{content:t.html("UNABLE_TO_ACCESS_TIP")},l.default.createElement(i.Icon,{name:"question"})))))),r.http.paths.map((function(e,a){return l.default.createElement("div",{key:"".concat(e.path,"-").concat(a),className:d.default.path},l.default.createElement(i.Columns,null,l.default.createElement(i.Column,null,l.default.createElement("span",null,t.html("ROUTE_PATH_VALUE",{value:e.path}))),l.default.createElement(i.Column,null,l.default.createElement("span",null,t("SERVICE_COLON"),l.default.createElement("strong",null,l.default.createElement(o.Link,{to:"".concat(p,"/services/").concat(e.backend.service.name)},e.backend.service.name)))),l.default.createElement(i.Column,null,l.default.createElement("span",null,t.html("ROUTE_PORT_VALUE",{value:e.backend.service.port.number}))),l.default.createElement(i.Column,null,l.default.createElement("a",{href:"".concat(h,"://").concat(v).concat(e.path),target:"_blank",rel:"noreferrer noopener"},l.default.createElement(i.Button,{className:d.default.access},t("ACCESS_SERVICE"))))))})))};p.propTypes={rule:u.default.object};var m=p;a.default=m},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(3479));t.default=function(e){return[{path:"".concat(e,"/detail"),title:"DATA",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/detail"),exact:!0})]}},function(e,a,r){"use strict";r(16);var n=r(19);r(66),r(20),r(14),r(99),r(4),r(18),r(30),r(11),r(69),r(71),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(66),r(20),r(141),r(29),r(14),r(120),r(99),r(4),r(18),r(43),r(30),r(11),r(69),r(71);var l,u=n(r(97)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(26)),m=r(243),h=r(189),v=n(r(823)),g=n(r(974)),y=n(r(3480));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var b=(0,m.inject)("detailStore")(l=(0,m.observer)(l=function(e){(0,c.default)(r,e);var a=E(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).convert=function(e,a){var r=t.state.showSecret,n=t.store.detail;return r?e:"kubernetes.io/dockerconfigjson"===n.type&&e?e.split("").map((function(e){return e.replace(/[\s\S]/g,"*")})).join(""):(0,p.default)(t.originData,a,"")},t.changeSecretState=function(){t.setState((function(e){return{showSecret:!e.showSecret}}))},t.store=e.detailStore,t.module=e.module,t.state={showSecret:!1},t}return(0,i.default)(r,[{key:"renderTLS",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.createElement("div",{className:y.default.tlsWrapper},d.default.createElement("div",{className:y.default.tlsItem},d.default.createElement("div",{className:"h6"},t("CREDENTIAL_SI")),d.default.createElement("pre",null,this.convert(e["tls.crt"],"tls.crt"))),d.default.createElement("div",{className:y.default.tlsItem},d.default.createElement("div",{className:"h6"},t("PRIVATE_KEY_TCAP")),d.default.createElement("pre",null,this.convert(e["tls.key"],"tls.key"))))}},{key:"renderImageRepositorySecret",value:function(e){var a=this,r=e[".dockerconfigjson"];return r&&r.auths?d.default.createElement("div",{className:y.default.imageWrapper},d.default.createElement("ul",null,Object.entries(r.auths).map((function(e){var n=(0,u.default)(e,1)[0];return d.default.createElement("li",{key:n},d.default.createElement("div",{className:"h6"},d.default.createElement(h.Icon,{name:"earth"}),n),d.default.createElement("ul",null,d.default.createElement("li",null,d.default.createElement("span",null,t(".dockerconfigjson"),":"),d.default.createElement("span",null,a.convert(JSON.stringify(r),".dockerconfigjson")))))})))):null}},{key:"renderDefault",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.createElement("div",{className:y.default.defaultWrapper},d.default.createElement("ul",null,Object.entries(t).map((function(t){var a=(0,u.default)(t,2),r=a[0],n=a[1];return d.default.createElement("li",{key:r},d.default.createElement("span",null,r,":"),d.default.createElement("span",null,d.default.createElement("pre",null,e.convert(n,r))))}))))}},{key:"renderBasicAuth",value:function(){var e=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.createElement("div",{className:y.default.defaultWrapper},d.default.createElement("ul",null,Object.entries(a).map((function(a){var r=(0,u.default)(a,2),n=r[0],l=r[1];return d.default.createElement("li",{key:n},d.default.createElement("span",null,t(n.toUpperCase()),":"),d.default.createElement("span",null,d.default.createElement("pre",null,e.convert(l,n))))}))))}},{key:"renderContent",value:function(e){if(!e.type)return null;var t=null;switch(e.type){case"kubernetes.io/tls":t=this.renderTLS(e.data);break;case"kubernetes.io/dockerconfigjson":t=this.renderImageRepositorySecret(e.data);break;case"kubernetes.io/basic-auth":t=this.renderBasicAuth(e.data);break;default:t=this.renderDefault(e.data)}return t}},{key:"renderOperations",value:function(){var e=this.state.showSecret;return d.default.createElement(h.Button,{type:"flat",icon:e?"eye":"eye-closed",onClick:this.changeSecretState})}},{key:"renderPlacement",value:function(){var e=this.props.match.params,t=e.name,a=e.namespace;return this.store.detail.isFedManaged?d.default.createElement(g.default,{module:this.store.module,name:t,namespace:a}):null}},{key:"render",value:function(){var e=this.store.detail;return d.default.createElement("div",null,this.renderPlacement(),d.default.createElement(v.default,{title:t("DATA"),operations:this.renderOperations()},this.renderContent(e)))}},{key:"originData",get:function(){var e,t;return null!==(e=null===(t=this.store.detail._originData)||void 0===t?void 0:t.data)&&void 0!==e?e:{}}}]),r}(d.default.Component))||l)||l;a.default=b},function(e,t,a){e.exports={defaultWrapper:"_2peh6PErdPDCJ6M9zNnRHF",tlsWrapper:"_2tLwXnfNxiZk4X_bSM9kmR",tlsItem:"_2r-rapgWLiquMqgE3_cZwf",imageWrapper:"_2zQdawm6yFVe8N0JA-zICj"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(3482));t.default=function(e){return[{path:"".concat(e,"/detail"),title:"DATA",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/detail"),exact:!0})]}},function(e,a,r){"use strict";r(16);var n=r(19);r(20),r(14),r(99),r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(20),r(29),r(14),r(99),r(4),r(18),r(43),r(30),r(11),r(69);var l,u=n(r(97)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=r(243),m=n(r(823)),h=n(r(974)),v=n(r(3483));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var y=(0,p.inject)("detailStore")(l=(0,p.observer)(l=function(e){(0,c.default)(r,e);var a=g(r);function r(e){var t;return(0,o.default)(this,r),(t=a.call(this,e)).store=e.detailStore,t.module=e.module,t}return(0,i.default)(r,[{key:"renderContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d.default.createElement("div",{className:v.default.wrapper},d.default.createElement("ul",null,Object.entries(e).map((function(e){var t=(0,u.default)(e,2),a=t[0],r=t[1];return d.default.createElement("li",{key:a},d.default.createElement("div",{className:"h6"},a),d.default.createElement("pre",{className:v.default.value},r))}))))}},{key:"renderPlacement",value:function(){var e=this.props.match.params,t=e.name,a=e.namespace;return this.store.detail.isFedManaged?d.default.createElement(h.default,{module:this.store.module,name:t,namespace:a}):null}},{key:"render",value:function(){var e=this.store,a=e.detail,r=e.isLoading;return d.default.createElement("div",null,this.renderPlacement(),d.default.createElement(m.default,{title:t("DATA"),loading:r},this.renderContent(a.data)))}}]),r}(d.default.Component))||l)||l;a.default=y},function(e,t,a){e.exports={wrapper:"objLg3fuCuqy66XEKBptC",value:"SkXJa0qm0W5rZn0Q51xi5"}},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(3485));t.default=function(e){return[{path:"".concat(e,"/detail"),title:"DATA",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/detail"),exact:!0})]}},function(e,t,a){"use strict";a(16);var r=a(19);a(20),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(20),a(29),a(14),a(4),a(18),a(43),a(11);var n,l=r(a(317)),u=r(a(25)),o=r(a(28)),i=r(a(41)),c=r(a(42)),s=r(a(37)),f=r(a(0)),d=a(243),p=r(a(26)),m=r(a(3486)),h=r(a(1566));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var g=(0,d.inject)("detailStore")(n=(0,d.observer)(n=function(e){(0,i.default)(a,e);var t=v(a);function a(e){var r;return(0,u.default)(this,a),(r=t.call(this,e)).store=e.detailStore,r.module=e.module,r}return(0,o.default)(a,[{key:"render",value:function(){var e=this,t=this.store.detail,a=(0,p.default)(t,"secrets"),r=(0,p.default)(t,"name");return f.default.createElement("div",null,f.default.createElement("div",{className:h.default.secretWrapper},a.map((function(t){var a=t.name;return f.default.createElement(m.default,(0,l.default)({secret:a,serviceAccountName:r,key:a},e.props))}))))}}]),a}(f.default.Component))||n)||n;t.default=g},function(e,a,r){"use strict";var n=r(19);r(12),r(10),r(6),r(20),r(99),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(139),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(10),r(6),r(20),r(27),r(29),r(33),r(16),r(99),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(139),r(7);var l,u,o=n(r(97)),i=n(r(31)),c=n(r(25)),s=n(r(28)),f=n(r(41)),d=n(r(42)),p=n(r(37)),m=n(r(45)),h=n(r(0)),v=r(243),g=r(17),y=r(189),E=n(r(191)),b=r(893),O=n(r(801)),S=n(r(838)),C=r(56),_=r(463),k=r(461),R=r(324),N=n(r(447)),D=n(r(1566));function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,p.default)(e);if(t){var n=(0,p.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,d.default)(this,a)}}var I=(0,v.observer)((u=function(e){(0,f.default)(r,e);var a=w(r);function r(e){var n;return(0,c.default)(this,r),(n=a.call(this,e)).fetchData=function(){n.store.fetchDetail(P(P({},n.props.match.params),{},{name:n.secret}))},n.convert=function(e){return n.state.showSecret?e:(0,R.safeBtoa)(e)},n.changeSecretState=function(e){e.preventDefault(),e.stopPropagation(),n.setState((function(e){return{showSecret:!e.showSecret}}))},n.handleCopy=function(){(0,k.copyToClipboard)((0,_.getValue)(n.kubeconfig)),E.default.success({content:t("COPY_SUCCESSFUL")})},n.handleDownload=function(){var e=new Blob([(0,_.getValue)(n.kubeconfig)],{type:"text/plain;charset=utf-8"});(0,b.saveAs)(e,"kubeconfig.yaml")},n.secret=e.secret,n.serviceAccountName=e.serviceAccountName,n.store=new N.default,n.state={showSecret:!1},n}return(0,s.default)(r,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"renderSecretContent",value:function(){var e=this,a=(0,g.toJS)(this.store).detail.data,r=void 0===a?{}:a;return h.default.createElement("div",{className:D.default.secretWrapper},h.default.createElement("div",{className:D.default.title},h.default.createElement("div",{className:"h6"},t("DATA_SETTINGS")),this.renderOperations()),h.default.createElement("div",{className:D.default.defaultWrapper},h.default.createElement("ul",null,Object.entries(r).map((function(t){var a=(0,o.default)(t,2),r=a[0],n=a[1];return h.default.createElement("li",{key:r},h.default.createElement("span",null,r,":"),h.default.createElement("span",null,h.default.createElement("pre",null,e.convert(n))))})))))}},{key:"renderOperations",value:function(){var e=this.state.showSecret;return h.default.createElement(y.Button,{type:"flat",icon:e?"eye-closed":"eye",onClick:this.changeSecretState})}},{key:"renderConfigContent",value:function(){var e=t.html("SERVICEACCOUNT_KUBECONFIG_DESC");return h.default.createElement("div",{className:D.default.configWrapper},h.default.createElement("div",{className:D.default.title},h.default.createElement("div",{className:"h6"},t("KUBECONFIG_SETTINGS")),h.default.createElement("p",{className:"text-desc"},(0,C.learnMoreTip)(e))),h.default.createElement("div",{className:D.default.codeEditor},h.default.createElement("div",{className:D.default.ops},h.default.createElement(y.Icon,{name:"copy",size:20,clickable:!0,color:{primary:"#fff",secondary:"#fff"},onClick:this.handleCopy}),h.default.createElement("span",{className:D.default.split},"|"),h.default.createElement(y.Icon,{name:"download",size:20,clickable:!0,color:{primary:"#fff",secondary:"#fff"},onClick:this.handleDownload})),h.default.createElement(S.default,{value:(0,_.getValue)(this.kubeconfig),options:{readOnly:!0}})))}},{key:"render",value:function(){return h.default.createElement(O.default,{title:t("SECRET_VALUE",{value:this.secret})},this.renderSecretContent(),this.renderConfigContent())}},{key:"kubeconfig",get:function(){var e=(0,g.toJS)(this.store).detail,t=e.data,a=void 0===t?{}:t,r=e.namespace;return{apiVersion:"v1",kind:"Config",clusters:[{name:"".concat(this.serviceAccountName,"@local"),cluster:{server:"https://kubernetes.default.svc:443","certificate-authority-data":(0,R.safeBtoa)(a["ca.crt"])}}],users:[{name:this.serviceAccountName,user:{token:a.token}}],contexts:[{name:"".concat(this.serviceAccountName,"@local"),context:{user:this.serviceAccountName,cluster:"".concat(this.serviceAccountName,"@local"),namespace:r}}],"current-context":"".concat(this.serviceAccountName,"@local")}}}]),r}(h.default.Component),(0,m.default)(u.prototype,"kubeconfig",[g.computed],Object.getOwnPropertyDescriptor(u.prototype,"kubeconfig"),u.prototype),l=u))||l;a.default=I},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(973)),o=r(a(868)),i=r(a(3488)),c=r(a(3491)),s=r(a(1571));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:i.default,exact:!0},{path:"".concat(e,"/schedule"),title:"SCHEDULING_INFORMATION",component:c.default},{path:"".concat(e,"/metadata"),title:"METADATA",component:o.default,exact:!0},{path:"".concat(e,"/monitors"),title:"MONITORING",component:s.default,exact:!0,clusterModule:"whizard-monitoring"},{path:"".concat(e,"/env"),title:"ENVIRONMENT_VARIABLE_PL",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",component:l.default,exact:!0},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,a,r){"use strict";r(16);var n=r(19);r(66),r(51),r(14),r(4),r(18),r(30),r(11),r(69),r(139),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(66),r(51),r(29),r(14),r(4),r(18),r(43),r(30),r(11),r(69);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(17),p=n(r(67)),m=r(243),h=n(r(3489)),v=n(r(1568));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=(0,m.inject)("detailStore")(l=(0,m.observer)(l=function(e){(0,i.default)(r,e);var a=g(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"renderContainers",value:function(){var e=(0,d.toJS)(this.store.detail),a=e.name,r=e.cluster,n=e.containers,l=e.initContainers;return f.default.createElement(h.default,{prefix:this.prefix,cluster:r,title:t("CONTAINER_PL"),containers:n,initContainers:l,podName:a})}},{key:"renderVolumes",value:function(){var e=(0,d.toJS)(this.store.detail),t=e.volumes,a=e.containers;return(0,p.default)(t)?null:f.default.createElement(v.default,{volumes:t,containers:a,loading:this.store.isLoading,match:this.props.match})}},{key:"renderContent",value:function(){return f.default.createElement("div",null,this.renderContainers(),this.renderVolumes())}},{key:"render",value:function(){return f.default.createElement("div",null,this.renderContent())}},{key:"module",get:function(){return this.props.detailStore.module}},{key:"store",get:function(){return this.props.detailStore}},{key:"prefix",get:function(){return this.props.match.url.split("/").slice(0,-1).join("/")}}]),r}(f.default.Component))||l)||l;a.default=y},function(e,t,a){"use strict";a(16);var r=a(19);a(20),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(20),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(801)),d=r(a(1544)),p=r(a(1545));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,u.default)(a,e);var t=m(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.prefix,r=e.cluster,n=e.containers,l=e.initContainers,u=e.title,o=e.podName;return c.default.createElement(f.default,{className:t,title:u},c.default.createElement("div",{className:p.default.wrapper},n.map((function(e,t){return c.default.createElement(d.default,{key:t,prefix:a,cluster:r,detail:e,podName:o})})),l.map((function(e,t){return c.default.createElement(d.default,{key:t,prefix:a,cluster:r,detail:e,podName:o,isInit:!0})}))))}}]),a}(c.default.Component);t.default=h,h.propTypes={className:s.default.string,prefix:s.default.string,title:s.default.string,containers:s.default.array,initContainers:s.default.array},h.defaultProps={prefix:"",containers:[],initContainers:[]}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(20),r(14),r(30),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(3),r(20),r(14),r(30),r(69);var l=n(r(26)),u=n(r(67)),o=n(r(0)),i=n(r(1)),c=r(437),s=r(189),f=n(r(828)),d=n(r(1569)),p=function(e){var a,r,n=e.volume,i=e.match,p=e.isMultiProject,m=i.params,h=m.workspace,v=m.cluster,g=m.namespace,y="".concat(h?"/".concat(h):"","/clusters/").concat(v,"/projects/").concat(g),E="storage";if(n.hostPath)a=t("TYPE_HOSTPATH"),r=[{title:(0,l.default)(n,"hostPath.path","-"),description:"HostPath"}];else if(n.emptyDir)a=t("TYPE_EMPTYDIR"),r=[];else if(n.configMap){E="hammer",a=t("TYPE_CONFIGMAP");var b=(0,l.default)(n,"configMap.name","-");r=[{title:p?b:o.default.createElement(c.Link,{to:"".concat(y,"/configmaps/").concat(b)},b),description:t("CONFIGMAP")}]}else if(n.secret){E="key",a=t("TYPE_SECRET");var O=(0,l.default)(n,"secret.secretName","-");r=[{title:p?O:o.default.createElement(c.Link,{to:"".concat(y,"/secrets/").concat(O)},O),description:t("SECRET")}]}else{a=t("STORAGE_CLASS_VALUE",{value:(0,l.default)(n,"storageClassName","-")});var S=(0,l.default)(n,"persistentVolumeClaim.claimName","-");r=[{title:p?S:o.default.createElement(c.Link,{to:"".concat(y,"/volumes/").concat(S)},S),description:t("PERSISTENT_VOLUME_CLAIM")},{title:(0,l.default)(n,"capacity","-"),description:t("CAPACITY")},{title:(0,l.default)(n,"accessMode","-"),description:t("ACCESS_MODE_SCAP")}]}var C=!(0,u.default)(n.volumeMounts)&&o.default.createElement("div",{className:d.default.mount},o.default.createElement("ul",null,n.volumeMounts.map((function(e){var a=e.containerName,r=e.mountPath,n=e.subPath,l=e.logPath,u=e.readOnly;return o.default.createElement("li",{key:"".concat(a,"-").concat(r)},o.default.createElement("div",null,o.default.createElement(s.Icon,{name:"docker",size:20}),o.default.createElement("span",null,a)),o.default.createElement("div",null,o.default.createElement(s.Icon,{name:"mgmt-node",size:20}),o.default.createElement("span",null,r),o.default.createElement("span",{className:"text-secondary"}," (",u?t("READ_ONLY_LOW"):t("READ_AND_WRITE_LOW"),")")),n&&o.default.createElement("div",null,o.default.createElement(s.Icon,{name:"textfield",size:20})," ",o.default.createElement("span",null,n)),l&&o.default.createElement("div",null,o.default.createElement(s.Icon,{name:"log",size:20})," ",o.default.createElement("span",null,l)))})))),_=(0,l.default)(n,"mountName",n.name);return o.default.createElement(f.default.Item,{icon:E,title:_,titleClass:d.default.title,description:a,extras:C,details:r})};p.propTypes={container:i.default.object};var m=p;a.default=m},function(e,a,r){"use strict";r(16);var n=r(19);r(44),r(20),r(87),r(24),r(193),r(9),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(44),r(20),r(87),r(29),r(24),r(193),r(9),r(4),r(18),r(43),r(11);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(17),p=n(r(26)),m=r(243),h=r(189),v=n(r(801)),g=n(r(800)),y=r(56),E=n(r(454)),b=n(r(3492)),O=n(r(1570));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var C={PodScheduled:"stretch",Initialized:"container",ContainersReady:"docker",Ready:"success"},_=function(e){var t=e.status,a=e.tip,r=f.default.createElement(h.Icon,{className:O.default.status,name:"success"===t?"success":"error",color:{primary:"#fff",secondary:"success"===t?"#55bc8a":"#ca2621"}});return a?f.default.createElement(h.Tooltip,{content:a},r):r},k=(0,m.inject)("detailStore")(l=(0,m.observer)(l=function(e){(0,i.default)(r,e);var a=S(r);function r(e){var t;return(0,u.default)(this,r),(t=a.call(this,e)).nodeStore=new E.default,t.fetchNodeDetail=function(){var e=t.props.detailStore.detail;e.requests=e.containers.reduce((function(e,t){var a=(0,p.default)(t,"resources.requests",{cpu:"0",memory:"0"}),r=a.cpu,n=a.memory;return r=Number((0,y.cpuFormat)(r)),n=Number((0,y.memoryFormat)(n)),{cpu:e.cpu+r,memory:e.memory+n}}),{cpu:0,memory:0})},t.getSeriesData=function(e){var a=t.nodeStore.detail,r=t.store.detail.requests[e],n="cpu"===e?y.cpuFormat:y.memoryFormat,l=Number(n((0,p.default)(a,"status.allocatable[".concat(e,"]")))),u=Number(n((0,p.default)(a,"status.capacity[".concat(e,"]"))));return[{name:"podRequests",itemStyle:{fill:"#f5a623"},value:r},{name:"used",itemStyle:{fill:"#404e68"},value:Number((u-l-r).toFixed(3))},{name:"allocatable",itemStyle:{fill:"#eff4f9"},value:l}]},t.disposer=(0,d.when)((function(){return t.store.detail.node}),t.fetchNodeDetail),t}return(0,o.default)(r,[{key:"renderNodeScheduleTip",value:function(){return f.default.createElement("div",null,f.default.createElement("div",{className:"tooltip-title"},t("POD_SCHEDULING_METHOD")),f.default.createElement("p",{className:"tooltip-desc"},t("POD_ASSIGNED_DESC")))}},{key:"renderNode",value:function(){return f.default.createElement("div",{className:O.default.nodes},f.default.createElement(b.default,{metrics:this.getSeriesData("cpu"),icon:"cpu",unit:"Core"}),f.default.createElement(b.default,{metrics:this.getSeriesData("memory"),icon:"memory",unit:"Mi"}))}},{key:"renderNodeSchedule",value:function(){var e=this.store.detail,a=(0,p.default)(e,"status.conditions",[]).find((function(e){return"PodScheduled"===e.type}))||{};return f.default.createElement(v.default,{title:t("SCHEDULING_RESULT")},f.default.createElement("div",{className:O.default.wrapper},f.default.createElement("div",null,f.default.createElement(g.default,{className:O.default.info,icon:"nodes",title:f.default.createElement("div",null,e.node?t("SCHEDULED_TO_NODE",{value:e.node}):t("SCHEDULING_NOT_SUCCESSFUL"),f.default.createElement(h.Tooltip,{content:this.renderNodeScheduleTip()},f.default.createElement(h.Icon,{className:"margin-l8",name:"question",size:20}))),description:(0,y.getLocalTime)(a.lastTransitionTime).format("YYYY-MM-DD HH:mm:ss"),extra:f.default.createElement(_,{status:"True"===a.status?"success":"warning"})}))))}},{key:"renderConditionTip",value:function(e){return f.default.createElement("div",null,f.default.createElement("div",{className:"tooltip-title"},t("POD_CONDITION_".concat(e.type.toUpperCase()))),f.default.createElement("div",{className:"tooltip-desc"},f.default.createElement("p",null,t("STATUS_VALUE",{value:"True"===e.status?t("SUCCESSFUL"):t("NOT_SUCCESSFUL")})),e.reason&&f.default.createElement("p",null,t("REASON_VALUE",{value:t(e.reason)})),e.message&&f.default.createElement("p",null,t("MESSAGE_VALUE",{value:e.message})),f.default.createElement("p",null,t("UPDATED_AT_VALUE",{value:(0,y.getLocalTime)(e.lastTransitionTime).format("YYYY-MM-DD HH:mm:ss")}))))}},{key:"renderPodStatus",value:function(){var e=this,a=this.store.detail,r=(0,p.default)(a,"status.conditions",[]),n=(0,p.default)(a,"status.phase","");return f.default.createElement(v.default,{title:t("STATUS_INFORMATION")},f.default.createElement("div",{className:O.default.header},f.default.createElement(g.default,{className:O.default.info,icon:"pod",title:t(n),description:t("CURRENT_STATUS"),extra:f.default.createElement(_,{status:"Running"===n?"success":"warning"})})),f.default.createElement("div",{className:O.default.content},Object.keys(C).map((function(a){var n=r.find((function(e){return e.type===a}));return n?f.default.createElement(g.default,{key:n.type,className:O.default.condition,icon:C[n.type],title:t("POD_CONDITION_".concat(n.type.toUpperCase())),description:t("POD_CONDITION_".concat(n.type.toUpperCase(),"_DESC")),extra:f.default.createElement(_,{status:"True"===n.status?"success":"warning",tip:e.renderConditionTip(n)})}):null}))))}},{key:"render",value:function(){return f.default.createElement("div",null,this.renderNodeSchedule(),this.renderPodStatus())}},{key:"module",get:function(){return this.props.detailStore.module}},{key:"store",get:function(){return this.props.detailStore}}]),r}(f.default.Component))||l)||l;a.default=k},function(e,a,r){"use strict";r(16);var n=r(19);r(44),r(14),r(4),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(44),r(29),r(14),r(4),r(18),r(43),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(1311)),p=n(r(1570));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var h=function(e){(0,o.default)(r,e);var a=m(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"render",value:function(){var e=this.props,a=e.metrics,r=void 0===a?[]:a,n=e.icon,l=e.unit,u=r.find((function(e){return"podRequests"===e.name}))||{},o=r.find((function(e){return"used"===e.name}))||{};return s.default.createElement("div",{className:p.default.chart},s.default.createElement(f.Icon,{name:n,size:32}),s.default.createElement("div",{className:p.default.chartWrapper},s.default.createElement(d.default,{width:92,height:92,data:r})),s.default.createElement("div",{className:p.default.text},s.default.createElement("div",null,s.default.createElement("span",null,o.value," ",l),s.default.createElement("span",{className:p.default.podRequests},"+ ",u.value)),s.default.createElement("p",null,t("节点已用请求"))))}}]),r}(s.default.Component);a.default=h},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(973)),u=r(a(3494)),o=r(a(3499)),i=r(a(3500));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",component:u.default,exact:!0},{path:"".concat(e,"/monitors"),title:"MONITORING",component:o.default,exact:!0,clusterModule:"whizard-monitoring"},{path:"".concat(e,"/env"),title:"ENVIRONMENT_VARIABLE_PL",component:l.default,exact:!0},{path:"".concat(e,"/logs"),title:"CONTAINER_LOGS",component:i.default,exact:!0,ksModule:"whizard-logging"},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,a,r){"use strict";r(16);var n=r(19);r(4),r(18),r(30),r(11),r(69),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(29),r(4),r(18),r(43),r(30),r(11),r(69);var l,u=n(r(25)),o=n(r(28)),i=n(r(41)),c=n(r(42)),s=n(r(37)),f=n(r(0)),d=r(17),p=r(243),m=n(r(1568)),h=n(r(3495)),v=n(r(3497));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var y=(0,p.inject)("detailStore")(l=(0,p.observer)(l=function(e){(0,i.default)(r,e);var a=g(r);function r(){return(0,u.default)(this,r),a.apply(this,arguments)}return(0,o.default)(r,[{key:"renderVolumes",value:function(){var e=[(0,d.toJS)(this.store.detail)],a=(0,d.toJS)(this.store.volumes);return f.default.createElement(m.default,{title:t("VOLUME_PL"),volumes:a,containers:e,loading:this.store.isLoading,match:this.props.match})}},{key:"renderProb",value:function(){var e=(0,d.toJS)(this.store.detail),t=e.livenessProbe,a=e.readinessProbe;return t||a?f.default.createElement(h.default,{detail:this.store.detail}):null}},{key:"renderLife",value:function(){return(0,d.toJS)(this.store.detail).lifecycle?f.default.createElement(v.default,{detail:this.store.detail}):null}},{key:"render",value:function(){return f.default.createElement("div",null,this.renderProb(),this.renderLife(),this.renderVolumes())}},{key:"store",get:function(){return this.props.detailStore}}]),r}(f.default.Component))||l)||l;a.default=y},function(e,a,r){"use strict";r(16);var n=r(19);r(66),r(4),r(18),r(30),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(66),r(29),r(4),r(18),r(43),r(30),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(828)),p=n(r(801)),m=n(r(3496));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"renderProbe",value:function(){var e=this.props.detail,a=e.livenessProbe,r=e.readinessProbe,n=e.startupProbe;return a||r||n?s.default.createElement("div",{className:m.default.probe},this.renderProbeRecord({probe:r,title:t("READINESS_PROBE"),tagType:"primary"}),this.renderProbeRecord({probe:a,title:t("LIVENESS_PROBE"),tagType:"warning"}),this.renderProbeRecord({probe:n,title:t("STARTUP_PROBE"),tagType:"info"})):null}},{key:"renderProbeRecord",value:function(e){var a=e.probe,r=e.title,n=e.tagType;if(!a)return null;var l,u=a.initialDelaySeconds||0,o=a.timeoutSeconds||0,i=[];if("httpGet"in a){var c=a.httpGet,p=c.path,h=c.port;l="HTTP_REQUEST",i=[{title:c.scheme,description:t("REQUEST_TYPE")},{title:p,description:t("PATH")},{title:h,description:t("PORT")}]}else if("tcpSocket"in a)l="TCP_PORT",i=[{title:a.tcpSocket.port,description:t("PORT")}];else{var v=a.exec.command;l="COMMAND",i=[{title:(void 0===v?[]:v).join(" "),description:t("COMMANDS")}]}var g=s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Tag,{type:n},r),s.default.createElement("span",{className:m.default.probeType},t(l))),y=s.default.createElement("span",null,t("INITIAL_DELAY_TIMEOUT_VALUE",{delay:u,timeout:o}));return s.default.createElement(d.default.Item,{icon:"monitor",title:g,description:y,details:i})}},{key:"render",value:function(){return s.default.createElement(p.default,{title:t("HEALTH_CHECK")},s.default.createElement("div",{className:m.default.wrapper},this.renderProbe()))}}]),r}(s.default.Component);a.default=v},function(e,t,a){e.exports={wrapper:"_2I7-qCIdee2EjdeQ33QJaM",probeItem:"_2_CyXFUSO6FXDtGHiFrRto",probeType:"_15cg_VQqrvTsdzKilwYM54"}},function(e,a,r){"use strict";r(16);var n=r(19);r(66),r(4),r(18),r(30),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(32),r(66),r(29),r(4),r(18),r(43),r(30),r(11);var l=n(r(25)),u=n(r(28)),o=n(r(41)),i=n(r(42)),c=n(r(37)),s=n(r(0)),f=r(189),d=n(r(828)),p=n(r(801)),m=n(r(3498));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var v=function(e){(0,o.default)(r,e);var a=h(r);function r(){return(0,l.default)(this,r),a.apply(this,arguments)}return(0,u.default)(r,[{key:"renderProbe",value:function(){var e=this.props.detail.lifecycle;if(!e)return null;var a=e.postStart,r=e.preStop;return s.default.createElement("div",{className:m.default.probe},this.renderProbeRecord({probe:a,title:t("POSTSTART_ACTION"),tagType:"primary"}),this.renderProbeRecord({probe:r,title:t("PRESTOP_ACTION"),tagType:"warning"}))}},{key:"renderProbeRecord",value:function(e){var a=e.probe,r=e.title,n=e.tagType;if(!a)return null;var l,u=[];if("httpGet"in a){var o=a.httpGet,i=o.path,c=o.port;l="HTTP_REQUEST",u=[{title:o.scheme,description:t("REQUEST_TYPE")},{title:i,description:t("PATH")},{title:c,description:t("PORT")}]}else if("tcpSocket"in a)l="TCP_PORT",u=[{title:a.tcpSocket.port,description:t("PORT")}];else{var p=a.exec.command;l="COMMAND",u=[{title:(void 0===p?[]:p).join(" "),description:t("COMMANDS")}]}var h=s.default.createElement(s.default.Fragment,null,s.default.createElement(f.Tag,{type:n},r),s.default.createElement("span",{className:m.default.probeType},t(l)));return s.default.createElement(d.default.Item,{titleClass:m.default.title,icon:"monitor",title:h,details:u})}},{key:"render",value:function(){return s.default.createElement(p.default,{title:t("LIFECYCLE_MANAGEMENT")},s.default.createElement("div",{className:m.default.wrapper},this.renderProbe()))}}]),r}(s.default.Component);a.default=v},function(e,t,a){e.exports={wrapper:"_3rXQbX2TudAlSlv1mlZBYd",probeItem:"_3YyTzHVbBkWTY3bJh_vpI-",title:"big7Hepxd6aOlKJIGnmvP",probeType:"_3fuPVq7RHnB-o15ElGKMKT"}},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(14),a(8),a(13),a(9),a(4),a(190),a(18),a(30),a(11),a(69),a(7),Object.defineProperty(t,"__esModule",{value:!0}),t.Component=t.default=void 0,a(12),a(32),a(10),a(6),a(27),a(29),a(14),a(33),a(16),a(8),a(13),a(9),a(4),a(190),a(18),a(43),a(30),a(11),a(69),a(7);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(26)),f=a(243),d=a(56),p=r(a(1573)),m=a(1571);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g={cpu_usage:"container_cpu_usage",memory_usage:"container_memory_usage_wo_cache",gpu_usage:"container_gpu_usage",gpu_memory_usage:"container_gpu_memory_usage"},y=function(e){(0,o.default)(a,e);var t=v(a);function a(e){var r;return(0,l.default)(this,a),(r=t.call(this,e)).fetchData=function(e){var t=r.store.detail,a=t.cluster,l=t.namespace,u=t.name;r.monitorStore.fetchMetrics(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({cluster:a,namespace:l,container:u,pod:r.podName,metrics:Object.values((0,d.hideGPUByLicense)(g,a))},e))},r.getMonitoringCfgs=function(){return[{type:"cpu",title:"CPU_USAGE",unitType:"cpu",legend:["USAGE"],data:(0,s.default)(r.metrics,"".concat(g.cpu_usage,".data.result"))},{type:"memory",title:"MEMORY_USAGE",unitType:"memory",legend:["USAGE"],data:(0,s.default)(r.metrics,"".concat(g.memory_usage,".data.result"))},{type:"gpu",title:"GPU_USAGE",unitType:"gpu",legend:["USAGE"],data:(0,s.default)(r.metrics,"".concat(g.gpu_usage,".data.result"))},{type:"gpu_memory",title:"GPU_MEMORY_USAGE",unitType:"memory",legend:["USAGE"],data:(0,s.default)(r.metrics,"".concat(g.gpu_memory_usage,".data.result"))}]},r.monitorStore=new p.default,r}return(0,u.default)(a,[{key:"podName",get:function(){return(0,s.default)(this.props.match,"params.podName","")}}]),a}(m.Component),E=(0,f.inject)("rootStore","detailStore")((0,f.observer)(y));t.default=E;var b=y;t.Component=b},function(e,t,a){"use strict";a(16);var r=a(19);a(4),a(18),a(30),a(11),a(69),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(29),a(4),a(18),a(43),a(30),a(11),a(69);var n,l=r(a(25)),u=r(a(28)),o=r(a(41)),i=r(a(42)),c=r(a(37)),s=r(a(0)),f=r(a(26)),d=a(243),p=r(a(823)),m=r(a(854)),h=r(a(1179));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,c.default)(e);if(t){var n=(0,c.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,i.default)(this,a)}}var g=(0,d.inject)("detailStore")(n=(0,d.observer)(n=function(e){(0,o.default)(a,e);var t=v(a);function a(){return(0,l.default)(this,a),t.apply(this,arguments)}return(0,u.default)(a,[{key:"render",value:function(){return(0,f.default)(this.store,"detail.containerID")?s.default.createElement(h.default,this.props.match.params):s.default.createElement(p.default,null,s.default.createElement(m.default,{desc:"CONTAINER_LOGS_NOT_SUPPORTED"}))}},{key:"store",get:function(){return this.props.detailStore}}]),a}(s.default.Component))||n)||n;t.default=g},function(e,t,a){"use strict";a(16);var r=a(19);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(318),l=r(a(867)),u=r(a(868)),o=r(a(3502));t.default=function(e){return[{path:"".concat(e,"/resource-status"),title:"RESOURCE_STATUS",exact:!0,component:o.default},{path:"".concat(e,"/metadata"),title:"METADATA",component:u.default,exact:!0},{path:"".concat(e,"/events"),title:"EVENT_PL",exact:!0,component:l.default},(0,n.getIndexRoute)({path:e,to:"".concat(e,"/resource-status"),exact:!0})]}},function(e,a,r){"use strict";var n=r(19);r(12),r(3),r(10),r(6),r(20),r(14),r(8),r(13),r(9),r(4),r(18),r(30),r(11),r(69),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(32),r(3),r(10),r(6),r(20),r(27),r(29),r(14),r(33),r(16),r(8),r(13),r(9),r(4),r(18),r(43),r(30),r(11),r(69),r(7);var l,u=n(r(31)),o=n(r(25)),i=n(r(28)),c=n(r(41)),s=n(r(42)),f=n(r(37)),d=n(r(0)),p=n(r(26)),m=r(243),h=n(r(5)),v=n(r(801)),g=r(189),y=n(r(920)),E=n(r(974)),b=n(r(3503)),O=n(r(3504)),S=n(r(3508));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,u.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,f.default)(e);if(t){var n=(0,f.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}var R=(0,m.inject)("detailStore")(l=(0,m.observer)(l=function(e){(0,c.default)(r,e);var a=k(r);function r(e){var n;(0,o.default)(this,r),(n=a.call(this,e)).renderResizeItem=function(e){var t=e.src,a=e.title,r=e.des,n=e.iconName,l=e.key;return d.default.createElement("div",{key:l,className:(0,h.default)(S.default.item,S.default.item_bg)},n?d.default.createElement(g.Icon,{name:n,size:40}):d.default.createElement("img",{src:t,className:S.default.icon}),d.default.createElement("div",null,d.default.createElement("span",{className:S.default.resize_title},a),d.default.createElement("span",{className:S.default.des},r)))},n.renderResize=function(){var e=n.props.detailStore.detail.annotations,a=JSON.parse((0,p.default)(e,"resize.kubesphere.io/enabled","false")),r=JSON.parse((0,p.default)(e,"restart.kubesphere.io/enabled","false")),l=(0,p.default)(e,"resize.kubesphere.io/storage-limit","10000Gi"),u=(0,p.default)(e,"resize.kubesphere.io/threshold","10%"),o=(0,p.default)(e,"resize.kubesphere.io/increase","10%"),i=(0,p.default)(e,"restart.kubesphere.io/max-time","300"),c={title:t("VALUE_TIMEOUT",{value:i}),src:"/extensions-static/ks-console-embed/dist/v3dist/assets/history_duotone.svg",des:t("RESTART_WORKLOAD_AUTOMATICALLY")},s=[{iconName:"storage",title:l,des:t("MAXIMUM_SIZE_SCAP")},{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/chart.svg",title:u,des:t("THRESHOLD")},{iconName:"stretch",title:o,des:t("INCREMENT")}];return r&&s.push(c),a&&d.default.createElement(v.default,null,d.default.createElement("div",{className:(0,h.default)(S.default.item,S.default.top)},d.default.createElement("img",{src:"/extensions-static/ks-console-embed/dist/v3dist/assets/storageclass_autoresizer.svg",className:S.default.icon}),d.default.createElement("div",null,d.default.createElement("span",{className:S.default.resize_title},t("AUTO_EXPANSION")),d.default.createElement("span",{className:S.default.des},t("AUTO_EXPANSION_DESC")))),d.default.createElement("div",{className:S.default.bottom},s.map((function(e,t){return n.renderResizeItem(_(_({},e),{},{key:t}))}))))};var l=n.props.match.params,u=l.cluster,i=l.namespace,c=l.name;return n.monitor=new b.default({cluster:u,namespace:i,pvc:c}),n}return(0,i.default)(r,[{key:"store",get:function(){return this.props.detailStore}},{key:"module",get:function(){return this.props.module}},{key:"canViewPods",get:function(){return globals.app.hasPermission(_(_({skipAuth:!1},this.props.match.params),{},{module:"pods",action:"view"}))}},{key:"prefix",get:function(){if(!this.canViewPods)return null;var e=this.props.match.params,t=e.workspace,a=e.cluster;return"".concat(t?"/".concat(t):"","/clusters/").concat(a)}}]),(0,i.default)(r,[{key:"renderPlacement",value:function(){var e=this.props.match.params,t=e.name,a=e.namespace;return this.store.detail.isFedManaged?d.default.createElement(E.default,{module:this.store.module,name:t,namespace:a}):null}},{key:"render",value:function(){var e=_({kind:"PVC"},(0,p.default)(this.props.match,"params")),a=this.props.match.params.cluster;return d.default.createElement("div",{className:S.default.main},this.renderResize(),globals.app.hasClusterModule(a,"whizard-monitoring")&&d.default.createElement(O.default,{title:t("PERSISTENT_VOLUME"),store:this.monitor}),d.default.createElement(y.default,{title:t("MOUNTED_PODS"),detail:e,prefix:this.prefix}))}}]),r}(d.default.Component))||l)||l;a.default=R},function(e,t,a){"use strict";var r=a(19);a(12),a(10),a(6),a(8),a(13),a(9),a(4),a(18),a(11),a(7),a(110),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(12),a(32),a(10),a(6),a(27),a(29),a(33),a(16),a(8),a(13),a(9),a(4),a(18),a(43),a(11),a(7),a(110);var n=r(a(31)),l=r(a(25)),u=r(a(28)),o=r(a(215)),i=r(a(41)),c=r(a(42)),s=r(a(37));function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,n.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,s.default)(e);if(t){var n=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,c.default)(this,a)}}var m=function(e){(0,i.default)(a,e);var t=p(a);function a(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.default)(this,a),(e=t.call(this,"volumes")).getApi=function(){return"".concat(e.apiVersion,"/persistentvolumeclaim_metrics")},e.handleParams=function(e){return e},e.filters=r,e}return(0,u.default)(a,[{key:"fetchMetrics",value:function(e){(0,o.default)((0,s.default)(a.prototype),"fetchMetrics",this).call(this,d(d({},this.filters),e))}},{key:"monitoringMetrics",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interval:5e3};return this.fetchMetrics(t),setInterval((function(){e.fetchMetrics(d(d({},t),{},{autoRefresh:!0}))}),a.interval)}}]),a}(r(a(847)).default);t.default=m},function(e,a,r){"use strict";r(16);var n=r(19),l=r(162);r(12),r(109),r(24),r(4),r(190),r(18),r(11),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,r(12),r(109),r(32),r(29),r(24),r(4),r(190),r(18),r(43),r(11);var u,o,i,c=n(r(317)),s=n(r(25)),f=n(r(28)),d=n(r(41)),p=n(r(42)),m=n(r(37)),h=l(r(0)),v=n(r(1)),g=r(243),y=n(r(26)),E=r(803),b=r(56),O=n(r(3505)),S=n(r(871)),C=r(189),_=n(r(801)),k=r(820),R=n(r(3507));function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,m.default)(e);if(t){var n=(0,m.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,p.default)(this,a)}}var D={inodeUsage:"pvc_inodes_used",inodeTotal:"pvc_inodes_total",inodeUtilisation:"pvc_inodes_utilisation",capacityAvailable:"pvc_bytes_available",capacityTotal:"pvc_bytes_total",capacityUtilisation:"pvc_bytes_utilisation"},T=(0,g.observer)((i=o=function(e){(0,d.default)(r,e);var a=N(r);function r(){return(0,s.default)(this,r),a.apply(this,arguments)}return(0,f.default)(r,[{key:"componentDidMount",value:function(){if(!globals.app.hasKSModule("whizard-monitoring"))return null;this.timer=this.props.store.monitoringMetrics({step:"1m",times:60,metrics:Object.values(D)},{interval:6e4})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"parseMetrics",value:function(e,t){var a=(0,E.getSuitableUnit)(e,t);return{unit:a,count:(0,E.getValueByUnit)(e,a)}}},{key:"render",value:function(){var e=this.props,a=e.title,r=e.store,n=r.isLoading,l=r.isRefreshing,u=t.html("VOLUME_MONITORING_TIP");return h.default.createElement(_.default,{title:a},h.default.createElement(C.Loading,{spinning:n},h.default.createElement("div",{"data-refreshing":l},h.default.createElement(C.Alert,{type:"warning",className:"margin-b12",message:(0,b.learnMoreTip)(u)}),this.renderStatus(),this.renderMonitor())))}},{key:"renderStatus",value:function(){var e=this.props.store.data,a=(0,E.getLastMonitoringData)(e),r=(0,y.default)(a,"".concat(D.capacityAvailable,".value[1]"),0),n=(0,y.default)(a,"".concat(D.capacityTotal,".value[1]"),0),l=this.parseMetrics(r,"memory"),u=this.parseMetrics(n,"memory"),o=(0,y.default)(a,"".concat(D.capacityUtilisation,".value[1]"),0);return h.default.createElement("header",{className:R.default.header},h.default.createElement("div",{className:R.default.card},h.default.createElement(O.default,{rate:Number(o)})),h.default.createElement("div",{className:R.default.description},h.default.createElement("h3",null,l.count,h.default.createElement("small",null,l.unit)),h.default.createElement("p",null,t("AVAILABLE_CAPACITY"))),h.default.createElement("div",{className:R.default.description},h.default.createElement("h3",null,u.count,h.default.createElement("small",null,u.unit)),h.default.createElement("p",null,t("TOTAL_CAPACITY"))))}},{key:"renderMonitor",value:function(){if(!globals.app.hasKSModule("whizard-monitoring"))return null;var e=this.props.store.data,a=(0,y.default)(e,"".concat(D.inodeUtilisation,".data.result")),r=(0,y.default)(e,"".concat(D.inodeUsage,".data.result[0].values"),[]),n=(0,y.default)(e,"".concat(D.inodeTotal,".data.result[0].values"),[]),l=(0,E.getAreaChartOps)({title:t("INODE_USAGE"),unit:"%",legend:["USAGE"],data:a,renderTooltip:function(){var e=(0,E.getChartData)({unit:"",legend:["USAGE"],valuesData:[r]}),t=(0,E.getChartData)({unit:"",legend:["USAGE"],valuesData:[n]});return h.default.createElement(S.default,{usageData:e,totalData:t})}});return h.default.createElement(k.SimpleArea,(0,c.default)({width:"100%",theme:"dark"},l))}}]),r}(h.Component),o.propTypes={store:v.default.object,title:v.default.string},u=i))||u;a.default=T},function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(29),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=r(a(5)),d=a(803),p=r(a(3506));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,u.default)(a,e);var t=m(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"getWavePath",value:function(){var e=this.props.rate,t=100*(1-e),a=20*(.5-Math.abs(.5-e));return"\n      M0 ".concat(t,"\n      \n      Q ").concat(12.5," ").concat(t+a,", ").concat(25," ").concat(t,"\n      T ").concat(50," ").concat(t,"\n\n      T ").concat(75," ").concat(t,"\n      T ").concat(100," ").concat(t,"\n\n      T ").concat(125," ").concat(t,"\n      T ").concat(150," ").concat(t,"\n\n      T ").concat(175," ").concat(t,"\n      T ").concat(200," ").concat(t,"\n\n      V 100\n      H 0\n\n      Z\n    ")}},{key:"render",value:function(){var e=this.props.className;return c.default.createElement("div",{className:(0,f.default)(p.default.container,e)},this.renderForeground(),this.renderCapacity())}},{key:"renderForeground",value:function(){var e=this.props.rate,t=(0,d.getSuitableValue)(e,"%");return c.default.createElement("div",{className:p.default.foreground},c.default.createElement("h3",null,t,"%"))}},{key:"renderCapacity",value:function(){var e="0 0 ".concat(100," ").concat(100),t=this.getWavePath();return c.default.createElement("svg",{width:"100%",height:"100%",viewBox:e,preserveAspectRatio:"none"},c.default.createElement("path",{className:p.default.wave,d:t}),c.default.createElement("path",{className:p.default.wave2,d:t}))}}]),a}(c.default.Component);t.default=h,h.propTypes={rate:s.default.number,className:s.default.string},h.defaultProps={rate:0}},function(e,t,a){e.exports={container:"_13Z7b3cjvhmpLe0KUbzqAt",foreground:"_3TfL5X9Mc8g67rVdS6xtnn",wave:"_1OUAyYJMCh_EFT7YqHPLcf",waveSvgAnim:"_2vCms5c2ENi0UHNXsn-Nq4",wave2:"tYraC1HrZ_ID_VK0NlShQ"}},function(e,t,a){e.exports={header:"_3Pl_R0wcwQevRKY7P8oG54",description:"_1PYL2e7XhkOXbMcByemY9u",card:"aKD2-VusiajGBBaV1KzL1"}},function(e,t,a){e.exports={ports:"_1dOJrC7ekQ1gXKM6_33D4S",card:"_1MzbqX43XhSd1UqAid__GI",content:"_jOZLR3Pnu_csBUoP3OxW",title:"_1iycdliRJ-zJtukw4fUxny",path:"_2Zmt7QXSDillM8wluwUbRt",access:"_3-ibjkTF_atqUgmGz49-fq",top:"cqKDlCOUbuNVFFGXsnml1",item:"_2SNJ8iIxZUi4AbCukGnwpH",icon:"_16ryFX2P20WNZe0SaJbcHt",item_bg:"_1vtwNqiOvz4twbxL_61FXc",bottom:"_2QusTWhJMLisBw6-U4gseh",resize_title:"_2qIG_j3m34Rn8gpF1QSkct",des:"_2G9Qe6PkeCw6dof3BOYZ0s"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(3),a(837),a(10),a(20),a(9),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(3),a(837),a(10),a(20),a(29),a(9),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=r(a(1)),f=a(61),d=r(a(879)),p=r(a(851)),m=r(a(883)),h=r(a(852)),v=r(a(925)),g=r(a(907)),y=r(a(853)),E=r(a(871));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var O=function(e){(0,u.default)(a,e);var t=b(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,r=e.payload;return c.default.createElement("g",{transform:"translate(".concat(t,",").concat(a,")")},c.default.createElement("text",{x:0,y:0,dy:12,fill:"#79879c",textAnchor:"middle"},r.value))}}]),a}(c.default.PureComponent),S=function(e){(0,u.default)(a,e);var t=b(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"getHorizontalPoints",value:function(){var e=this.props.height,t=(e-30-6)/4;return Array(4).fill("").map((function(e,a){return 30+t*a}))}},{key:"renderArea",value:function(){var e=this.props,t=e.unit,a=e.areaColors;return this.series.map((function(e,r){var n=f.COLORS_MAP[a[r]];return c.default.createElement(d.default,{key:e,dataKey:e,stroke:n,fillOpacity:"1",fill:"url(#colorPv)",unit:t})}))}},{key:"render",value:function(){var e=this.props,t=e.width,a=e.height,r=e.xKey,n=e.data;return c.default.createElement(y.default,{width:t,height:a,debounce:1},c.default.createElement(v.default,{data:n,margin:{top:32,left:16,right:16,bottom:0}},c.default.createElement("defs",null,c.default.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},c.default.createElement("stop",{offset:"5%",stopColor:"#55bc8a",stopOpacity:.2}),c.default.createElement("stop",{offset:"95%",stopColor:"#55bc8a",stopOpacity:0}))),c.default.createElement(g.default,{vertical:!1,stroke:"#36435c",strokeDasharray:"2 2",horizontalPoints:this.getHorizontalPoints()}),c.default.createElement(h.default,{dataKey:r,axisLine:!1,tickLine:!1,height:30,interval:"preserveStart",tick:c.default.createElement(O,null),minTickGap:20}),c.default.createElement(m.default,{hide:!0,type:"number",domain:[function(e){return 0-Math.abs(e)},function(e){return 1.6*e}]}),c.default.createElement(p.default,{wrapperStyle:{zIndex:1e3},content:c.default.createElement(E.default,null)}),this.renderArea()))}},{key:"series",get:function(){var e=this.props,t=e.xKey,a=e.data;return Object.keys(a[0]||{}).filter((function(e){return e!==t}))}}]),a}(c.default.Component);t.default=S,S.propTypes={width:s.default.oneOfType([s.default.string,s.default.number]),height:s.default.oneOfType([s.default.string,s.default.number]),xKey:s.default.string,unit:s.default.string,data:s.default.array,bgColor:s.default.string,areaColors:s.default.array},S.defaultProps={width:180,height:56,xKey:"time",unit:"",bgColor:f.COLORS_MAP.lightest,areaColors:["green","blue","yellow","red"],data:[]}},function(e,t,a){e.exports={wrapper:"_235Ydzrxtn47mC5KVnUqMN",chartWrapper:"_1Ih0Px-Zxe5AwW8uJkqt8N",chart:"_3awmU2UAJvmujW7qMl0RAz",title:"_2jhkSzEfNoOh15_4kzbLaw"}},,,,,,,,,,,,function(e,t,a){e.exports={item:"_3AKgHrYF7Fu8kENV1qw1Xg",content:"_7hMYwDpNDo4VWwNVsinXF",contentItem:"_8Zz1AYqtLjXcwA84SIji2"}},function(e,t,a){e.exports={card:"_2UbaCzyTEGsejSpXNrF6dW",Head:"pkiC1T3lJghgtls15h59r",item:"_29oHjjQCCBQ_HO52Qhu14a",title:"_34EuAy0Td-ux7hF71uGkGI",default:"_1k0Fd-vBuAggthS2MUTYbg",desc:"Mbk9BMGODO4puVhQfoED2",icon:"_1dVn11WYgSYrEHXe9FM6AK",open:"_3fvnh8ID_KJuzAwff1Rjj",List:"_1QnLnHp8eD8OFWcXcm6UUI",inline:"_18Mhfb5La8Pz1dnD8xW0t0",barItem:"_2OZot2XVNFPRHhkODRz2ag",bar:"_3PjP81XZ-f-DuKNK9b9qOS"}},function(e,t,a){e.exports={quota:"j_jIuTBmQIJCHq9iJUPCU",item:"_19YZe4YP-4n3v2b_sZUbmz",bar:"_2a14fJwRKjewBNftJGp2R-"}},function(e,a,r){"use strict";r(16);var n=r(19);r(3),r(6),r(88),r(14),r(24),r(193),r(9),r(30),r(69),r(71),r(7),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(r(97));r(3),r(6),r(88),r(14),r(24),r(193),r(9),r(4),r(440),r(30),r(69),r(71),r(7);var u=n(r(0)),o=n(r(26)),i=n(r(163)),c=r(189),s=n(r(999)),f=r(56),d=r(61),p=n(r(3556)),m=["limits.cpu","limits.memory","pods"],h={Ti:Math.pow(1024,4),Gi:Math.pow(1024,3),Mi:Math.pow(1024,2),Ki:1024,TB:Math.pow(1e3,4),GB:Math.pow(1e3,3),MB:Math.pow(1e3,2),KB:1e3,T:Math.pow(1e3,4),G:Math.pow(1e3,3),M:Math.pow(1e3,2),K:1e3,Bytes:1,B:1},v=function(e){var a=e.name,r=e.total,n=e.used;if(!r&&!Number(n)&&-1===m.indexOf(a))return null;var v=0,g="",y="",E=function(e){return function(e,t){return e?[e,parseFloat(t)*(d.ICON_TYPES[a]||!h[e]?1:h[e])]:["",parseFloat(t)]}(function(e){var t=Object.keys(h),a=(0,o.default)(e.match(/[0-9]+([a-zA-Z]+)/),"1","");return t.forEach((function(e){if(a.indexOf(e)>-1)return a=e,!1})),a}(e),e)};if("limits.cpu"===a||"requests.cpu"===a)r&&(v=Number((0,f.cpuFormat)(n))/Number((0,f.cpuFormat)(r)),n="".concat((0,f.cpuFormat)(n)," Core"),r="".concat((0,f.cpuFormat)(r)," Core"));else if("limits.memory"===a||"requests.memory"===a)r&&(v=Number((0,f.memoryFormat)(n))/Number((0,f.memoryFormat)(r)),n="".concat((0,f.memoryFormat)(n,"Gi")," Gi"),r="".concat((0,f.memoryFormat)(r,"Gi")," Gi"));else if(r){var b=E(n),O=(0,l.default)(b,2),S=O[0],C=O[1],_=E(r),k=(0,l.default)(_,2),R=k[0],N=k[1];g=S,y=R,v=C/N}v=Math.min(Math.max(v,0),1);var D=a.indexOf("gpu")>-1?"gpu":a,T="gpu"===D?"".concat(D,".limit"):D;return u.default.createElement("div",{className:p.default.quota},u.default.createElement(c.Icon,{name:d.ICON_TYPES[D]||"resource",size:40}),u.default.createElement("div",{className:p.default.item},u.default.createElement("div",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return d.ICON_TYPES[D]?t(e.replace(/[. ]/g,"_").toUpperCase()):e}(T)),u.default.createElement("p",null,t("RESOURCE_TYPE_SCAP"))),u.default.createElement("div",{className:p.default.item},u.default.createElement("div",null,function(e){if(y&&!g){var t=d.ICON_TYPES[a]||!h[y]?1:h[y];return"".concat(e/t).concat(e>0?y:"")}return e}(n)),u.default.createElement("p",null,t("USED"))),u.default.createElement("div",{className:p.default.item},u.default.createElement("div",null,(0,i.default)(r)?t("NO_LIMIT_TCAP"):r),u.default.createElement("p",null,t("QUOTA"))),u.default.createElement("div",{className:p.default.item,style:{flex:3}},u.default.createElement("div",null,t("USAGE")),u.default.createElement(s.default,{value:Math.min(v,1),className:p.default.bar,rightText:r?"":t("NO_LIMIT"),text:t("USED_PERCENT",{percent:Number((100*v).toFixed(2))})})))};a.default=v},function(e,t,a){e.exports={quota:"_3_ChjGbxbGEOsl-bn45v6",item:"_39hSvb0gytLzXkJepmuZYY",bar:"_3C2DyYLkZ1uZmTpxOaCjMD"}},function(e,t,a){e.exports={wrapper:"_2SomAa9Qr3FAZCUu_vfPVg",header:"_3IWXKjfTi9VrsxbWViUQan",item:"tXNdZn2Wks84tQIm0_DB",content:"_1slhrCDV-prgABOLHi36ms",contentItem:"nMyfCUkpNIE-XvgWGaFJd"}},,,,,,,,,,,,,,,function(e,t,a){"use strict";a(16);var r=a(19);a(66),a(20),a(14),a(4),a(18),a(11),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(32),a(66),a(20),a(29),a(14),a(4),a(18),a(43),a(11);var n=r(a(25)),l=r(a(28)),u=r(a(41)),o=r(a(42)),i=r(a(37)),c=r(a(0)),s=a(56),f=r(a(26)),d=r(a(203)),p=r(a(3573));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=(0,i.default)(e);if(t){var n=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return(0,o.default)(this,a)}}var h=function(e){(0,u.default)(a,e);var t=m(a);function a(){return(0,n.default)(this,a),t.apply(this,arguments)}return(0,l.default)(a,[{key:"render",value:function(){var e=this.props,t=e.templates,a=e.roleCategory,r=void 0===a?[]:a,n=(0,d.default)("lang")||(0,s.getBrowserLang)();return c.default.createElement("ul",{className:p.default.wrapper,"data-test":"rule-list"},r.map((function(e){var a,r,l=t[e.name]||[],u=(null==e||null===(a=e.displayName)||void 0===a?void 0:a[n])||(null==e||null===(r=e.displayName)||void 0===r?void 0:r.en);return l.length<1?null:c.default.createElement("li",{key:e.name},c.default.createElement("div",{className:p.default.name},u),c.default.createElement("div",null,l.map((function(e){return(0,f.default)(e,"_originData.spec.displayName[".concat(n,"]"))||(0,f.default)(e,"_originData.spec.displayName.en")})).join("  |  ")))})))}}]),a}(c.default.Component);t.default=h},function(e,t,a){e.exports={wrapper:"z2WyR5A5wRu0YtfOojEJ8",name:"_2Qe_QRdB_yNsSo5jz4l2m"}},function(e,t,a){e.exports={table:"_2rTR6NVDPyorYXDf3Og1lV"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports={wrapper:"_3ZtD5eAqH6AUKiDsz0pcAL",image:"Z7KWsw8fF2407V0aEX6SL",title:"_1KAJCl-kZirxlIa0q1yvdz",icon:"nGJu81QzoLuEo79G9vRpL",desc:"_1cgFUO3Bn5CsfWNgdOnzXf",canClick:"_34eEiZ0jC_waLj3cMn-bvD",isIcon:"_1yS8-xmglVH3M6Rb93PRbY",avatarIcon:"-giQOuJDvs9ioohUF1exA",letter:"_1X9WSgZJV4No7YWrHu0-6F"}}])]);